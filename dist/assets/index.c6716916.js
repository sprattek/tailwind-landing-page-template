const QH=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerpolicy&&(u.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?u.credentials="include":i.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=r(i);fetch(i.href,u)}};QH();var Ne=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function eZ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function R0(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}var Jo={exports:{}},pa={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE=Symbol.for("react.element"),tZ=Symbol.for("react.portal"),rZ=Symbol.for("react.fragment"),nZ=Symbol.for("react.strict_mode"),iZ=Symbol.for("react.profiler"),oZ=Symbol.for("react.provider"),aZ=Symbol.for("react.context"),sZ=Symbol.for("react.forward_ref"),uZ=Symbol.for("react.suspense"),lZ=Symbol.for("react.memo"),cZ=Symbol.for("react.lazy"),f6=Symbol.iterator;function fZ(e){return e===null||typeof e!="object"?null:(e=f6&&e[f6]||e["@@iterator"],typeof e=="function"?e:null)}var O$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k$=Object.assign,T$={};function dx(e,t,r){this.props=e,this.context=t,this.refs=T$,this.updater=r||O$}dx.prototype.isReactComponent={};dx.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dx.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L$(){}L$.prototype=dx.prototype;function X3(e,t,r){this.props=e,this.context=t,this.refs=T$,this.updater=r||O$}var Y3=X3.prototype=new L$;Y3.constructor=X3;k$(Y3,dx.prototype);Y3.isPureReactComponent=!0;var p6=Array.isArray,N$=Object.prototype.hasOwnProperty,H3={current:null},M$={key:!0,ref:!0,__self:!0,__source:!0};function R$(e,t,r){var n,i={},u=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(u=""+t.key),t)N$.call(t,n)&&!M$.hasOwnProperty(n)&&(i[n]=t[n]);var m=arguments.length-2;if(m===1)i.children=r;else if(1<m){for(var v=Array(m),_=0;_<m;_++)v[_]=arguments[_+2];i.children=v}if(e&&e.defaultProps)for(n in m=e.defaultProps,m)i[n]===void 0&&(i[n]=m[n]);return{$$typeof:pE,type:e,key:u,ref:s,props:i,_owner:H3.current}}function pZ(e,t){return{$$typeof:pE,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Z3(e){return typeof e=="object"&&e!==null&&e.$$typeof===pE}function hZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var h6=/\/+/g;function wL(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hZ(""+e.key):t.toString(36)}function yI(e,t,r,n,i){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case pE:case tZ:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+wL(s,0):n,p6(i)?(r="",e!=null&&(r=e.replace(h6,"$&/")+"/"),yI(i,t,r,"",function(_){return _})):i!=null&&(Z3(i)&&(i=pZ(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(h6,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",p6(e))for(var m=0;m<e.length;m++){u=e[m];var v=n+wL(u,m);s+=yI(u,t,r,v,i)}else if(v=fZ(e),typeof v=="function")for(e=v.call(e),m=0;!(u=e.next()).done;)u=u.value,v=n+wL(u,m++),s+=yI(u,t,r,v,i);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function bP(e,t,r){if(e==null)return e;var n=[],i=0;return yI(e,n,"","",function(u){return t.call(r,u,i++)}),n}function dZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mp={current:null},vI={transition:null},_Z={ReactCurrentDispatcher:mp,ReactCurrentBatchConfig:vI,ReactCurrentOwner:H3};pa.Children={map:bP,forEach:function(e,t,r){bP(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bP(e,function(){t++}),t},toArray:function(e){return bP(e,function(t){return t})||[]},only:function(e){if(!Z3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pa.Component=dx;pa.Fragment=rZ;pa.Profiler=iZ;pa.PureComponent=X3;pa.StrictMode=nZ;pa.Suspense=uZ;pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_Z;pa.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=k$({},e.props),i=e.key,u=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,s=H3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(v in t)N$.call(t,v)&&!M$.hasOwnProperty(v)&&(n[v]=t[v]===void 0&&m!==void 0?m[v]:t[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){m=Array(v);for(var _=0;_<v;_++)m[_]=arguments[_+2];n.children=m}return{$$typeof:pE,type:e.type,key:i,ref:u,props:n,_owner:s}};pa.createContext=function(e){return e={$$typeof:aZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oZ,_context:e},e.Consumer=e};pa.createElement=R$;pa.createFactory=function(e){var t=R$.bind(null,e);return t.type=e,t};pa.createRef=function(){return{current:null}};pa.forwardRef=function(e){return{$$typeof:sZ,render:e}};pa.isValidElement=Z3;pa.lazy=function(e){return{$$typeof:cZ,_payload:{_status:-1,_result:e},_init:dZ}};pa.memo=function(e,t){return{$$typeof:lZ,type:e,compare:t===void 0?null:t}};pa.startTransition=function(e){var t=vI.transition;vI.transition={};try{e()}finally{vI.transition=t}};pa.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pa.useCallback=function(e,t){return mp.current.useCallback(e,t)};pa.useContext=function(e){return mp.current.useContext(e)};pa.useDebugValue=function(){};pa.useDeferredValue=function(e){return mp.current.useDeferredValue(e)};pa.useEffect=function(e,t){return mp.current.useEffect(e,t)};pa.useId=function(){return mp.current.useId()};pa.useImperativeHandle=function(e,t,r){return mp.current.useImperativeHandle(e,t,r)};pa.useInsertionEffect=function(e,t){return mp.current.useInsertionEffect(e,t)};pa.useLayoutEffect=function(e,t){return mp.current.useLayoutEffect(e,t)};pa.useMemo=function(e,t){return mp.current.useMemo(e,t)};pa.useReducer=function(e,t,r){return mp.current.useReducer(e,t,r)};pa.useRef=function(e){return mp.current.useRef(e)};pa.useState=function(e){return mp.current.useState(e)};pa.useSyncExternalStore=function(e,t,r){return mp.current.useSyncExternalStore(e,t,r)};pa.useTransition=function(){return mp.current.useTransition()};pa.version="18.1.0";Jo.exports=pa;var mZ=Jo.exports,D$={exports:{}},kh={},z$={exports:{}},F$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,ve){var de=oe.length;oe.push(ve);e:for(;0<de;){var ze=de-1>>>1,ye=oe[ze];if(0<i(ye,ve))oe[ze]=ve,oe[de]=ye,de=ze;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var ve=oe[0],de=oe.pop();if(de!==ve){oe[0]=de;e:for(var ze=0,ye=oe.length,Je=ye>>>1;ze<Je;){var Qe=2*(ze+1)-1,yt=oe[Qe],_t=Qe+1,Tt=oe[_t];if(0>i(yt,de))_t<ye&&0>i(Tt,yt)?(oe[ze]=Tt,oe[_t]=de,ze=_t):(oe[ze]=yt,oe[Qe]=de,ze=Qe);else if(_t<ye&&0>i(Tt,de))oe[ze]=Tt,oe[_t]=de,ze=_t;else break e}}return ve}function i(oe,ve){var de=oe.sortIndex-ve.sortIndex;return de!==0?de:oe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var s=Date,m=s.now();e.unstable_now=function(){return s.now()-m}}var v=[],_=[],P=1,C=null,I=3,k=!1,F=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(oe){for(var ve=r(_);ve!==null;){if(ve.callback===null)n(_);else if(ve.startTime<=oe)n(_),ve.sortIndex=ve.expirationTime,t(v,ve);else break;ve=r(_)}}function G(oe){if(V=!1,j(oe),!F)if(r(v)!==null)F=!0,Q(J);else{var ve=r(_);ve!==null&&te(G,ve.startTime-oe)}}function J(oe,ve){F=!1,V&&(V=!1,q(ne),ne=-1),k=!0;var de=I;try{for(j(ve),C=r(v);C!==null&&(!(C.expirationTime>ve)||oe&&!we());){var ze=C.callback;if(typeof ze=="function"){C.callback=null,I=C.priorityLevel;var ye=ze(C.expirationTime<=ve);ve=e.unstable_now(),typeof ye=="function"?C.callback=ye:C===r(v)&&n(v),j(ve)}else n(v);C=r(v)}if(C!==null)var Je=!0;else{var Qe=r(_);Qe!==null&&te(G,Qe.startTime-ve),Je=!1}return Je}finally{C=null,I=de,k=!1}}var he=!1,pe=null,ne=-1,ee=5,ie=-1;function we(){return!(e.unstable_now()-ie<ee)}function Se(){if(pe!==null){var oe=e.unstable_now();ie=oe;var ve=!0;try{ve=pe(!0,oe)}finally{ve?Pe():(he=!1,pe=null)}}else he=!1}var Pe;if(typeof M=="function")Pe=function(){M(Se)};else if(typeof MessageChannel!="undefined"){var ae=new MessageChannel,Be=ae.port2;ae.port1.onmessage=Se,Pe=function(){Be.postMessage(null)}}else Pe=function(){Y(Se,0)};function Q(oe){pe=oe,he||(he=!0,Pe())}function te(oe,ve){ne=Y(function(){oe(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){F||k||(F=!0,Q(J))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var ve=3;break;default:ve=I}var de=I;I=ve;try{return oe()}finally{I=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var de=I;I=oe;try{return ve()}finally{I=de}},e.unstable_scheduleCallback=function(oe,ve,de){var ze=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,oe){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=de+ye,oe={id:P++,callback:ve,priorityLevel:oe,startTime:de,expirationTime:ye,sortIndex:-1},de>ze?(oe.sortIndex=de,t(_,oe),r(v)===null&&oe===r(_)&&(V?(q(ne),ne=-1):V=!0,te(G,de-ze))):(oe.sortIndex=ye,t(v,oe),F||k||(F=!0,Q(J))),oe},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(oe){var ve=I;return function(){var de=I;I=ve;try{return oe.apply(this,arguments)}finally{I=de}}}})(F$);z$.exports=F$;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j$=Jo.exports,Ah=z$.exports;function vr(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B$=new Set,MS={};function D0(e,t){rx(e,t),rx(e+"Capture",t)}function rx(e,t){for(MS[e]=t,e=0;e<t.length;e++)B$.add(t[e])}var ag=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),HN=Object.prototype.hasOwnProperty,gZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d6={},_6={};function yZ(e){return HN.call(_6,e)?!0:HN.call(d6,e)?!1:gZ.test(e)?_6[e]=!0:(d6[e]=!0,!1)}function vZ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bZ(e,t,r,n){if(t===null||typeof t=="undefined"||vZ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gp(e,t,r,n,i,u,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=s}var Ef={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ef[e]=new gp(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ef[t]=new gp(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ef[e]=new gp(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ef[e]=new gp(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ef[e]=new gp(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ef[e]=new gp(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ef[e]=new gp(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ef[e]=new gp(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ef[e]=new gp(e,5,!1,e.toLowerCase(),null,!1,!1)});var K3=/[\-:]([a-z])/g;function J3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K3,J3);Ef[t]=new gp(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K3,J3);Ef[t]=new gp(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K3,J3);Ef[t]=new gp(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ef[e]=new gp(e,1,!1,e.toLowerCase(),null,!1,!1)});Ef.xlinkHref=new gp("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ef[e]=new gp(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q3(e,t,r,n){var i=Ef.hasOwnProperty(t)?Ef[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bZ(t,r,i,n)&&(r=null),n||i===null?yZ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fg=j$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xP=Symbol.for("react.element"),Eb=Symbol.for("react.portal"),Pb=Symbol.for("react.fragment"),e4=Symbol.for("react.strict_mode"),ZN=Symbol.for("react.profiler"),$$=Symbol.for("react.provider"),U$=Symbol.for("react.context"),t4=Symbol.for("react.forward_ref"),KN=Symbol.for("react.suspense"),JN=Symbol.for("react.suspense_list"),r4=Symbol.for("react.memo"),Py=Symbol.for("react.lazy"),q$=Symbol.for("react.offscreen"),m6=Symbol.iterator;function Ow(e){return e===null||typeof e!="object"?null:(e=m6&&e[m6]||e["@@iterator"],typeof e=="function"?e:null)}var tl=Object.assign,SL;function Zw(e){if(SL===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);SL=t&&t[1]||""}return`
`+SL+e}var EL=!1;function PL(e,t){if(!e||EL)return"";EL=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var n=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){n=_}e.call(t.prototype)}else{try{throw Error()}catch(_){n=_}e()}}catch(_){if(_&&n&&typeof _.stack=="string"){for(var i=_.stack.split(`
`),u=n.stack.split(`
`),s=i.length-1,m=u.length-1;1<=s&&0<=m&&i[s]!==u[m];)m--;for(;1<=s&&0<=m;s--,m--)if(i[s]!==u[m]){if(s!==1||m!==1)do if(s--,m--,0>m||i[s]!==u[m]){var v=`
`+i[s].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=s&&0<=m);break}}}finally{EL=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zw(e):""}function xZ(e){switch(e.tag){case 5:return Zw(e.type);case 16:return Zw("Lazy");case 13:return Zw("Suspense");case 19:return Zw("SuspenseList");case 0:case 2:case 15:return e=PL(e.type,!1),e;case 11:return e=PL(e.type.render,!1),e;case 1:return e=PL(e.type,!0),e;default:return""}}function QN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pb:return"Fragment";case Eb:return"Portal";case ZN:return"Profiler";case e4:return"StrictMode";case KN:return"Suspense";case JN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U$:return(e.displayName||"Context")+".Consumer";case $$:return(e._context.displayName||"Context")+".Provider";case t4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case r4:return t=e.displayName||null,t!==null?t:QN(e.type)||"Memo";case Py:t=e._payload,e=e._init;try{return QN(e(t))}catch{}}return null}function wZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QN(t);case 8:return t===e4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vy(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SZ(e){var t=V$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,u.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wP(e){e._valueTracker||(e._valueTracker=SZ(e))}function G$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qI(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function eM(e,t){var r=t.checked;return tl({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function g6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vy(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W$(e,t){t=t.checked,t!=null&&Q3(e,"checked",t,!1)}function tM(e,t){W$(e,t);var r=Vy(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rM(e,t.type,r):t.hasOwnProperty("defaultValue")&&rM(e,t.type,Vy(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function y6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rM(e,t,r){(t!=="number"||qI(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kw=Array.isArray;function Vb(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vy(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nM(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(vr(91));return tl({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function v6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(vr(92));if(Kw(r)){if(1<r.length)throw Error(vr(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vy(r)}}function X$(e,t){var r=Vy(t.value),n=Vy(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function b6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iM(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var SP,H$=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(SP=SP||document.createElement("div"),SP.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=SP.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function RS(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EZ=["Webkit","ms","Moz","O"];Object.keys(mS).forEach(function(e){EZ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mS[t]=mS[e]})});function Z$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mS.hasOwnProperty(e)&&mS[e]?(""+t).trim():t+"px"}function K$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Z$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var PZ=tl({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oM(e,t){if(t){if(PZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(vr(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(vr(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(vr(61))}if(t.style!=null&&typeof t.style!="object")throw Error(vr(62))}}function aM(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sM=null;function n4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uM=null,Gb=null,Wb=null;function x6(e){if(e=_E(e)){if(typeof uM!="function")throw Error(vr(280));var t=e.stateNode;t&&(t=tA(t),uM(e.stateNode,e.type,t))}}function J$(e){Gb?Wb?Wb.push(e):Wb=[e]:Gb=e}function Q$(){if(Gb){var e=Gb,t=Wb;if(Wb=Gb=null,x6(e),t)for(e=0;e<t.length;e++)x6(t[e])}}function e7(e,t){return e(t)}function t7(){}var IL=!1;function r7(e,t,r){if(IL)return e(t,r);IL=!0;try{return e7(e,t,r)}finally{IL=!1,(Gb!==null||Wb!==null)&&(t7(),Q$())}}function DS(e,t){var r=e.stateNode;if(r===null)return null;var n=tA(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(vr(231,t,typeof r));return r}var lM=!1;if(ag)try{var kw={};Object.defineProperty(kw,"passive",{get:function(){lM=!0}}),window.addEventListener("test",kw,kw),window.removeEventListener("test",kw,kw)}catch{lM=!1}function IZ(e,t,r,n,i,u,s,m,v){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(P){this.onError(P)}}var gS=!1,VI=null,GI=!1,cM=null,CZ={onError:function(e){gS=!0,VI=e}};function AZ(e,t,r,n,i,u,s,m,v){gS=!1,VI=null,IZ.apply(CZ,arguments)}function OZ(e,t,r,n,i,u,s,m,v){if(AZ.apply(this,arguments),gS){if(gS){var _=VI;gS=!1,VI=null}else throw Error(vr(198));GI||(GI=!0,cM=_)}}function z0(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function n7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w6(e){if(z0(e)!==e)throw Error(vr(188))}function kZ(e){var t=e.alternate;if(!t){if(t=z0(e),t===null)throw Error(vr(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var u=i.alternate;if(u===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===r)return w6(i),e;if(u===n)return w6(i),t;u=u.sibling}throw Error(vr(188))}if(r.return!==n.return)r=i,n=u;else{for(var s=!1,m=i.child;m;){if(m===r){s=!0,r=i,n=u;break}if(m===n){s=!0,n=i,r=u;break}m=m.sibling}if(!s){for(m=u.child;m;){if(m===r){s=!0,r=u,n=i;break}if(m===n){s=!0,n=u,r=i;break}m=m.sibling}if(!s)throw Error(vr(189))}}if(r.alternate!==n)throw Error(vr(190))}if(r.tag!==3)throw Error(vr(188));return r.stateNode.current===r?e:t}function i7(e){return e=kZ(e),e!==null?o7(e):null}function o7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o7(e);if(t!==null)return t;e=e.sibling}return null}var a7=Ah.unstable_scheduleCallback,S6=Ah.unstable_cancelCallback,TZ=Ah.unstable_shouldYield,LZ=Ah.unstable_requestPaint,zl=Ah.unstable_now,NZ=Ah.unstable_getCurrentPriorityLevel,i4=Ah.unstable_ImmediatePriority,s7=Ah.unstable_UserBlockingPriority,WI=Ah.unstable_NormalPriority,MZ=Ah.unstable_LowPriority,u7=Ah.unstable_IdlePriority,KC=null,Q_=null;function RZ(e){if(Q_&&typeof Q_.onCommitFiberRoot=="function")try{Q_.onCommitFiberRoot(KC,e,void 0,(e.current.flags&128)===128)}catch{}}var n_=Math.clz32?Math.clz32:FZ,DZ=Math.log,zZ=Math.LN2;function FZ(e){return e>>>=0,e===0?32:31-(DZ(e)/zZ|0)|0}var EP=64,PP=4194304;function Jw(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function XI(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,u=e.pingedLanes,s=r&268435455;if(s!==0){var m=s&~i;m!==0?n=Jw(m):(u&=s,u!==0&&(n=Jw(u)))}else s=r&~i,s!==0?n=Jw(s):u!==0&&(n=Jw(u));if(n===0)return 0;if(t!==0&&t!==n&&(t&i)===0&&(i=n&-n,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-n_(t),i=1<<r,n|=e[r],t&=~i;return n}function jZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-n_(u),m=1<<s,v=i[s];v===-1?((m&r)===0||(m&n)!==0)&&(i[s]=jZ(m,t)):v<=t&&(e.expiredLanes|=m),u&=~m}}function fM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l7(){var e=EP;return EP<<=1,(EP&4194240)===0&&(EP=64),e}function CL(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hE(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-n_(t),e[t]=r}function $Z(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-n_(r),u=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~u}}function o4(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-n_(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Os=0;function c7(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var f7,a4,p7,h7,d7,pM=!1,IP=[],Ry=null,Dy=null,zy=null,zS=new Map,FS=new Map,ky=[],UZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E6(e,t){switch(e){case"focusin":case"focusout":Ry=null;break;case"dragenter":case"dragleave":Dy=null;break;case"mouseover":case"mouseout":zy=null;break;case"pointerover":case"pointerout":zS.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":FS.delete(t.pointerId)}}function Tw(e,t,r,n,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:u,targetContainers:[i]},t!==null&&(t=_E(t),t!==null&&a4(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qZ(e,t,r,n,i){switch(t){case"focusin":return Ry=Tw(Ry,e,t,r,n,i),!0;case"dragenter":return Dy=Tw(Dy,e,t,r,n,i),!0;case"mouseover":return zy=Tw(zy,e,t,r,n,i),!0;case"pointerover":var u=i.pointerId;return zS.set(u,Tw(zS.get(u)||null,e,t,r,n,i)),!0;case"gotpointercapture":return u=i.pointerId,FS.set(u,Tw(FS.get(u)||null,e,t,r,n,i)),!0}return!1}function _7(e){var t=s0(e.target);if(t!==null){var r=z0(t);if(r!==null){if(t=r.tag,t===13){if(t=n7(r),t!==null){e.blockedOn=t,d7(e.priority,function(){p7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bI(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hM(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sM=n,r.target.dispatchEvent(n),sM=null}else return t=_E(r),t!==null&&a4(t),e.blockedOn=r,!1;t.shift()}return!0}function P6(e,t,r){bI(e)&&r.delete(t)}function VZ(){pM=!1,Ry!==null&&bI(Ry)&&(Ry=null),Dy!==null&&bI(Dy)&&(Dy=null),zy!==null&&bI(zy)&&(zy=null),zS.forEach(P6),FS.forEach(P6)}function Lw(e,t){e.blockedOn===t&&(e.blockedOn=null,pM||(pM=!0,Ah.unstable_scheduleCallback(Ah.unstable_NormalPriority,VZ)))}function jS(e){function t(i){return Lw(i,e)}if(0<IP.length){Lw(IP[0],e);for(var r=1;r<IP.length;r++){var n=IP[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ry!==null&&Lw(Ry,e),Dy!==null&&Lw(Dy,e),zy!==null&&Lw(zy,e),zS.forEach(t),FS.forEach(t),r=0;r<ky.length;r++)n=ky[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ky.length&&(r=ky[0],r.blockedOn===null);)_7(r),r.blockedOn===null&&ky.shift()}var Xb=fg.ReactCurrentBatchConfig,YI=!0;function GZ(e,t,r,n){var i=Os,u=Xb.transition;Xb.transition=null;try{Os=1,s4(e,t,r,n)}finally{Os=i,Xb.transition=u}}function WZ(e,t,r,n){var i=Os,u=Xb.transition;Xb.transition=null;try{Os=4,s4(e,t,r,n)}finally{Os=i,Xb.transition=u}}function s4(e,t,r,n){if(YI){var i=hM(e,t,r,n);if(i===null)zL(e,t,n,HI,r),E6(e,n);else if(qZ(i,e,t,r,n))n.stopPropagation();else if(E6(e,n),t&4&&-1<UZ.indexOf(e)){for(;i!==null;){var u=_E(i);if(u!==null&&f7(u),u=hM(e,t,r,n),u===null&&zL(e,t,n,HI,r),u===i)break;i=u}i!==null&&n.stopPropagation()}else zL(e,t,n,null,r)}}var HI=null;function hM(e,t,r,n){if(HI=null,e=n4(n),e=s0(e),e!==null)if(t=z0(e),t===null)e=null;else if(r=t.tag,r===13){if(e=n7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return HI=e,null}function m7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NZ()){case i4:return 1;case s7:return 4;case WI:case MZ:return 16;case u7:return 536870912;default:return 16}default:return 16}}var Ly=null,u4=null,xI=null;function g7(){if(xI)return xI;var e,t=u4,r=t.length,n,i="value"in Ly?Ly.value:Ly.textContent,u=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[u-n];n++);return xI=i.slice(e,1<n?1-n:void 0)}function wI(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function CP(){return!0}function I6(){return!1}function Th(e){function t(r,n,i,u,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=u,this.target=s,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(u):u[m]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?CP:I6,this.isPropagationStopped=I6,this}return tl(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=CP)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=CP)},persist:function(){},isPersistent:CP}),t}var _x={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l4=Th(_x),dE=tl({},_x,{view:0,detail:0}),XZ=Th(dE),AL,OL,Nw,JC=tl({},dE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nw&&(Nw&&e.type==="mousemove"?(AL=e.screenX-Nw.screenX,OL=e.screenY-Nw.screenY):OL=AL=0,Nw=e),AL)},movementY:function(e){return"movementY"in e?e.movementY:OL}}),C6=Th(JC),YZ=tl({},JC,{dataTransfer:0}),HZ=Th(YZ),ZZ=tl({},dE,{relatedTarget:0}),kL=Th(ZZ),KZ=tl({},_x,{animationName:0,elapsedTime:0,pseudoElement:0}),JZ=Th(KZ),QZ=tl({},_x,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eK=Th(QZ),tK=tl({},_x,{data:0}),A6=Th(tK),rK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oK(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iK[e])?!!t[e]:!1}function c4(){return oK}var aK=tl({},dE,{key:function(e){if(e.key){var t=rK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wI(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c4,charCode:function(e){return e.type==="keypress"?wI(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wI(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sK=Th(aK),uK=tl({},JC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O6=Th(uK),lK=tl({},dE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c4}),cK=Th(lK),fK=tl({},_x,{propertyName:0,elapsedTime:0,pseudoElement:0}),pK=Th(fK),hK=tl({},JC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dK=Th(hK),_K=[9,13,27,32],f4=ag&&"CompositionEvent"in window,yS=null;ag&&"documentMode"in document&&(yS=document.documentMode);var mK=ag&&"TextEvent"in window&&!yS,y7=ag&&(!f4||yS&&8<yS&&11>=yS),k6=String.fromCharCode(32),T6=!1;function v7(e,t){switch(e){case"keyup":return _K.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ib=!1;function gK(e,t){switch(e){case"compositionend":return b7(t);case"keypress":return t.which!==32?null:(T6=!0,k6);case"textInput":return e=t.data,e===k6&&T6?null:e;default:return null}}function yK(e,t){if(Ib)return e==="compositionend"||!f4&&v7(e,t)?(e=g7(),xI=u4=Ly=null,Ib=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y7&&t.locale!=="ko"?null:t.data;default:return null}}var vK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vK[e.type]:t==="textarea"}function x7(e,t,r,n){J$(n),t=ZI(t,"onChange"),0<t.length&&(r=new l4("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vS=null,BS=null;function bK(e){L7(e,0)}function QC(e){var t=Ob(e);if(G$(t))return e}function xK(e,t){if(e==="change")return t}var w7=!1;if(ag){var TL;if(ag){var LL="oninput"in document;if(!LL){var N6=document.createElement("div");N6.setAttribute("oninput","return;"),LL=typeof N6.oninput=="function"}TL=LL}else TL=!1;w7=TL&&(!document.documentMode||9<document.documentMode)}function M6(){vS&&(vS.detachEvent("onpropertychange",S7),BS=vS=null)}function S7(e){if(e.propertyName==="value"&&QC(BS)){var t=[];x7(t,BS,e,n4(e)),r7(bK,t)}}function wK(e,t,r){e==="focusin"?(M6(),vS=t,BS=r,vS.attachEvent("onpropertychange",S7)):e==="focusout"&&M6()}function SK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return QC(BS)}function EK(e,t){if(e==="click")return QC(t)}function PK(e,t){if(e==="input"||e==="change")return QC(t)}function IK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i_=typeof Object.is=="function"?Object.is:IK;function $S(e,t){if(i_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!HN.call(t,i)||!i_(e[i],t[i]))return!1}return!0}function R6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D6(e,t){var r=R6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=R6(r)}}function E7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P7(){for(var e=window,t=qI();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qI(e.document)}return t}function p4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CK(e){var t=P7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&E7(r.ownerDocument.documentElement,r)){if(n!==null&&p4(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,u=Math.min(n.start,i);n=n.end===void 0?u:Math.min(n.end,i),!e.extend&&u>n&&(i=n,n=u,u=i),i=D6(r,u);var s=D6(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AK=ag&&"documentMode"in document&&11>=document.documentMode,Cb=null,dM=null,bS=null,_M=!1;function z6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_M||Cb==null||Cb!==qI(n)||(n=Cb,"selectionStart"in n&&p4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bS&&$S(bS,n)||(bS=n,n=ZI(dM,"onSelect"),0<n.length&&(t=new l4("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Cb)))}function AP(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ab={animationend:AP("Animation","AnimationEnd"),animationiteration:AP("Animation","AnimationIteration"),animationstart:AP("Animation","AnimationStart"),transitionend:AP("Transition","TransitionEnd")},NL={},I7={};ag&&(I7=document.createElement("div").style,"AnimationEvent"in window||(delete Ab.animationend.animation,delete Ab.animationiteration.animation,delete Ab.animationstart.animation),"TransitionEvent"in window||delete Ab.transitionend.transition);function eA(e){if(NL[e])return NL[e];if(!Ab[e])return e;var t=Ab[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in I7)return NL[e]=t[r];return e}var C7=eA("animationend"),A7=eA("animationiteration"),O7=eA("animationstart"),k7=eA("transitionend"),T7=new Map,F6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qy(e,t){T7.set(e,t),D0(t,[e])}for(var ML=0;ML<F6.length;ML++){var RL=F6[ML],OK=RL.toLowerCase(),kK=RL[0].toUpperCase()+RL.slice(1);Qy(OK,"on"+kK)}Qy(C7,"onAnimationEnd");Qy(A7,"onAnimationIteration");Qy(O7,"onAnimationStart");Qy("dblclick","onDoubleClick");Qy("focusin","onFocus");Qy("focusout","onBlur");Qy(k7,"onTransitionEnd");rx("onMouseEnter",["mouseout","mouseover"]);rx("onMouseLeave",["mouseout","mouseover"]);rx("onPointerEnter",["pointerout","pointerover"]);rx("onPointerLeave",["pointerout","pointerover"]);D0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));D0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));D0("onBeforeInput",["compositionend","keypress","textInput","paste"]);D0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));D0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));D0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qw));function j6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OZ(n,t,void 0,e),e.currentTarget=null}function L7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var s=n.length-1;0<=s;s--){var m=n[s],v=m.instance,_=m.currentTarget;if(m=m.listener,v!==u&&i.isPropagationStopped())break e;j6(i,m,_),u=v}else for(s=0;s<n.length;s++){if(m=n[s],v=m.instance,_=m.currentTarget,m=m.listener,v!==u&&i.isPropagationStopped())break e;j6(i,m,_),u=v}}}if(GI)throw e=cM,GI=!1,cM=null,e}function ku(e,t){var r=t[bM];r===void 0&&(r=t[bM]=new Set);var n=e+"__bubble";r.has(n)||(N7(t,e,2,!1),r.add(n))}function DL(e,t,r){var n=0;t&&(n|=4),N7(r,e,n,t)}var OP="_reactListening"+Math.random().toString(36).slice(2);function US(e){if(!e[OP]){e[OP]=!0,B$.forEach(function(r){r!=="selectionchange"&&(TK.has(r)||DL(r,!1,e),DL(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[OP]||(t[OP]=!0,DL("selectionchange",!1,t))}}function N7(e,t,r,n){switch(m7(t)){case 1:var i=GZ;break;case 4:i=WZ;break;default:i=s4}r=i.bind(null,t,r,e),i=void 0,!lM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function zL(e,t,r,n,i){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var m=n.stateNode.containerInfo;if(m===i||m.nodeType===8&&m.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var v=s.tag;if((v===3||v===4)&&(v=s.stateNode.containerInfo,v===i||v.nodeType===8&&v.parentNode===i))return;s=s.return}for(;m!==null;){if(s=s0(m),s===null)return;if(v=s.tag,v===5||v===6){n=u=s;continue e}m=m.parentNode}}n=n.return}r7(function(){var _=u,P=n4(r),C=[];e:{var I=T7.get(e);if(I!==void 0){var k=l4,F=e;switch(e){case"keypress":if(wI(r)===0)break e;case"keydown":case"keyup":k=sK;break;case"focusin":F="focus",k=kL;break;case"focusout":F="blur",k=kL;break;case"beforeblur":case"afterblur":k=kL;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=C6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=HZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=cK;break;case C7:case A7:case O7:k=JZ;break;case k7:k=pK;break;case"scroll":k=XZ;break;case"wheel":k=dK;break;case"copy":case"cut":case"paste":k=eK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=O6}var V=(t&4)!==0,Y=!V&&e==="scroll",q=V?I!==null?I+"Capture":null:I;V=[];for(var M=_,j;M!==null;){j=M;var G=j.stateNode;if(j.tag===5&&G!==null&&(j=G,q!==null&&(G=DS(M,q),G!=null&&V.push(qS(M,G,j)))),Y)break;M=M.return}0<V.length&&(I=new k(I,F,null,r,P),C.push({event:I,listeners:V}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",I&&r!==sM&&(F=r.relatedTarget||r.fromElement)&&(s0(F)||F[sg]))break e;if((k||I)&&(I=P.window===P?P:(I=P.ownerDocument)?I.defaultView||I.parentWindow:window,k?(F=r.relatedTarget||r.toElement,k=_,F=F?s0(F):null,F!==null&&(Y=z0(F),F!==Y||F.tag!==5&&F.tag!==6)&&(F=null)):(k=null,F=_),k!==F)){if(V=C6,G="onMouseLeave",q="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(V=O6,G="onPointerLeave",q="onPointerEnter",M="pointer"),Y=k==null?I:Ob(k),j=F==null?I:Ob(F),I=new V(G,M+"leave",k,r,P),I.target=Y,I.relatedTarget=j,G=null,s0(P)===_&&(V=new V(q,M+"enter",F,r,P),V.target=j,V.relatedTarget=Y,G=V),Y=G,k&&F)t:{for(V=k,q=F,M=0,j=V;j;j=fb(j))M++;for(j=0,G=q;G;G=fb(G))j++;for(;0<M-j;)V=fb(V),M--;for(;0<j-M;)q=fb(q),j--;for(;M--;){if(V===q||q!==null&&V===q.alternate)break t;V=fb(V),q=fb(q)}V=null}else V=null;k!==null&&B6(C,I,k,V,!1),F!==null&&Y!==null&&B6(C,Y,F,V,!0)}}e:{if(I=_?Ob(_):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var J=xK;else if(L6(I))if(w7)J=PK;else{J=SK;var he=wK}else(k=I.nodeName)&&k.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(J=EK);if(J&&(J=J(e,_))){x7(C,J,r,P);break e}he&&he(e,I,_),e==="focusout"&&(he=I._wrapperState)&&he.controlled&&I.type==="number"&&rM(I,"number",I.value)}switch(he=_?Ob(_):window,e){case"focusin":(L6(he)||he.contentEditable==="true")&&(Cb=he,dM=_,bS=null);break;case"focusout":bS=dM=Cb=null;break;case"mousedown":_M=!0;break;case"contextmenu":case"mouseup":case"dragend":_M=!1,z6(C,r,P);break;case"selectionchange":if(AK)break;case"keydown":case"keyup":z6(C,r,P)}var pe;if(f4)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Ib?v7(e,r)&&(ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ne="onCompositionStart");ne&&(y7&&r.locale!=="ko"&&(Ib||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Ib&&(pe=g7()):(Ly=P,u4="value"in Ly?Ly.value:Ly.textContent,Ib=!0)),he=ZI(_,ne),0<he.length&&(ne=new A6(ne,e,null,r,P),C.push({event:ne,listeners:he}),pe?ne.data=pe:(pe=b7(r),pe!==null&&(ne.data=pe)))),(pe=mK?gK(e,r):yK(e,r))&&(_=ZI(_,"onBeforeInput"),0<_.length&&(P=new A6("onBeforeInput","beforeinput",null,r,P),C.push({event:P,listeners:_}),P.data=pe))}L7(C,t)})}function qS(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ZI(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=DS(e,r),u!=null&&n.unshift(qS(e,u,i)),u=DS(e,t),u!=null&&n.push(qS(e,u,i))),e=e.return}return n}function fb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B6(e,t,r,n,i){for(var u=t._reactName,s=[];r!==null&&r!==n;){var m=r,v=m.alternate,_=m.stateNode;if(v!==null&&v===n)break;m.tag===5&&_!==null&&(m=_,i?(v=DS(r,u),v!=null&&s.unshift(qS(r,v,m))):i||(v=DS(r,u),v!=null&&s.push(qS(r,v,m)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var LK=/\r\n?/g,NK=/\u0000|\uFFFD/g;function $6(e){return(typeof e=="string"?e:""+e).replace(LK,`
`).replace(NK,"")}function kP(e,t,r){if(t=$6(t),$6(e)!==t&&r)throw Error(vr(425))}function KI(){}var mM=null,gM=null;function yM(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vM=typeof setTimeout=="function"?setTimeout:void 0,MK=typeof clearTimeout=="function"?clearTimeout:void 0,U6=typeof Promise=="function"?Promise:void 0,RK=typeof queueMicrotask=="function"?queueMicrotask:typeof U6!="undefined"?function(e){return U6.resolve(null).then(e).catch(DK)}:vM;function DK(e){setTimeout(function(){throw e})}function FL(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),jS(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);jS(t)}function rg(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function q6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mx=Math.random().toString(36).slice(2),H_="__reactFiber$"+mx,VS="__reactProps$"+mx,sg="__reactContainer$"+mx,bM="__reactEvents$"+mx,zK="__reactListeners$"+mx,FK="__reactHandles$"+mx;function s0(e){var t=e[H_];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sg]||r[H_]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=q6(e);e!==null;){if(r=e[H_])return r;e=q6(e)}return t}e=r,r=e.parentNode}return null}function _E(e){return e=e[H_]||e[sg],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ob(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(vr(33))}function tA(e){return e[VS]||null}var xM=[],kb=-1;function ev(e){return{current:e}}function Lu(e){0>kb||(e.current=xM[kb],xM[kb]=null,kb--)}function _u(e,t){kb++,xM[kb]=e.current,e.current=t}var Gy={},Gf=ev(Gy),Hp=ev(!1),g0=Gy;function nx(e,t){var r=e.type.contextTypes;if(!r)return Gy;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in r)i[u]=t[u];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zp(e){return e=e.childContextTypes,e!=null}function JI(){Lu(Hp),Lu(Gf)}function V6(e,t,r){if(Gf.current!==Gy)throw Error(vr(168));_u(Gf,t),_u(Hp,r)}function M7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(vr(108,wZ(e)||"Unknown",i));return tl({},r,n)}function QI(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gy,g0=Gf.current,_u(Gf,e),_u(Hp,Hp.current),!0}function G6(e,t,r){var n=e.stateNode;if(!n)throw Error(vr(169));r?(e=M7(e,t,g0),n.__reactInternalMemoizedMergedChildContext=e,Lu(Hp),Lu(Gf),_u(Gf,e)):Lu(Hp),_u(Hp,r)}var Jm=null,rA=!1,jL=!1;function R7(e){Jm===null?Jm=[e]:Jm.push(e)}function jK(e){rA=!0,R7(e)}function tv(){if(!jL&&Jm!==null){jL=!0;var e=0,t=Os;try{var r=Jm;for(Os=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jm=null,rA=!1}catch(i){throw Jm!==null&&(Jm=Jm.slice(e+1)),a7(i4,tv),i}finally{Os=t,jL=!1}}return null}var BK=fg.ReactCurrentBatchConfig;function Kd(e,t){if(e&&e.defaultProps){t=tl({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var eC=ev(null),tC=null,Tb=null,h4=null;function d4(){h4=Tb=tC=null}function _4(e){var t=eC.current;Lu(eC),e._currentValue=t}function wM(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yb(e,t){tC=e,h4=Tb=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Yp=!0),e.firstContext=null)}function xd(e){var t=e._currentValue;if(h4!==e)if(e={context:e,memoizedValue:t,next:null},Tb===null){if(tC===null)throw Error(vr(308));Tb=e,tC.dependencies={lanes:0,firstContext:e}}else Tb=Tb.next=e;return t}var t_=null,Iy=!1;function m4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function og(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fy(e,t){var r=e.updateQueue;r!==null&&(r=r.shared,PU(e)?(e=r.interleaved,e===null?(t.next=t,t_===null?t_=[r]:t_.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(e=r.pending,e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function SI(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o4(e,r)}}function W6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?i=u=s:u=u.next=s,r=r.next}while(r!==null);u===null?i=u=t:u=u.next=t}else i=u=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rC(e,t,r,n){var i=e.updateQueue;Iy=!1;var u=i.firstBaseUpdate,s=i.lastBaseUpdate,m=i.shared.pending;if(m!==null){i.shared.pending=null;var v=m,_=v.next;v.next=null,s===null?u=_:s.next=_,s=v;var P=e.alternate;P!==null&&(P=P.updateQueue,m=P.lastBaseUpdate,m!==s&&(m===null?P.firstBaseUpdate=_:m.next=_,P.lastBaseUpdate=v))}if(u!==null){var C=i.baseState;s=0,P=_=v=null,m=u;do{var I=m.lane,k=m.eventTime;if((n&I)===I){P!==null&&(P=P.next={eventTime:k,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var F=e,V=m;switch(I=t,k=r,V.tag){case 1:if(F=V.payload,typeof F=="function"){C=F.call(k,C,I);break e}C=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=V.payload,I=typeof F=="function"?F.call(k,C,I):F,I==null)break e;C=tl({},C,I);break e;case 2:Iy=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,I=i.effects,I===null?i.effects=[m]:I.push(m))}else k={eventTime:k,lane:I,tag:m.tag,payload:m.payload,callback:m.callback,next:null},P===null?(_=P=k,v=C):P=P.next=k,s|=I;if(m=m.next,m===null){if(m=i.shared.pending,m===null)break;I=m,m=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(1);if(P===null&&(v=C),i.baseState=v,i.firstBaseUpdate=_,i.lastBaseUpdate=P,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);b0|=s,e.lanes=s,e.memoizedState=C}}function X6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(vr(191,i));i.call(n)}}}var z7=new j$.Component().refs;function SM(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tl({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nA={isMounted:function(e){return(e=e._reactInternals)?z0(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dp(),i=By(e),u=og(n,i);u.payload=t,r!=null&&(u.callback=r),Fy(e,u),t=bd(e,i,n),t!==null&&SI(t,e,i)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dp(),i=By(e),u=og(n,i);u.tag=1,u.payload=t,r!=null&&(u.callback=r),Fy(e,u),t=bd(e,i,n),t!==null&&SI(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dp(),n=By(e),i=og(r,n);i.tag=2,t!=null&&(i.callback=t),Fy(e,i),t=bd(e,n,r),t!==null&&SI(t,e,n)}};function Y6(e,t,r,n,i,u,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,s):t.prototype&&t.prototype.isPureReactComponent?!$S(r,n)||!$S(i,u):!0}function F7(e,t,r){var n=!1,i=Gy,u=t.contextType;return typeof u=="object"&&u!==null?u=xd(u):(i=Zp(t)?g0:Gf.current,n=t.contextTypes,u=(n=n!=null)?nx(e,i):Gy),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nA,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function H6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nA.enqueueReplaceState(t,t.state,null)}function EM(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=z7,m4(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=xd(u):(u=Zp(t)?g0:Gf.current,i.context=nx(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(SM(e,t,u,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&nA.enqueueReplaceState(i,i.state,null),rC(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}var Lb=[],Nb=0,nC=null,iC=0,pd=[],hd=0,y0=null,ng=1,ig="";function r0(e,t){Lb[Nb++]=iC,Lb[Nb++]=nC,nC=e,iC=t}function j7(e,t,r){pd[hd++]=ng,pd[hd++]=ig,pd[hd++]=y0,y0=e;var n=ng;e=ig;var i=32-n_(n)-1;n&=~(1<<i),r+=1;var u=32-n_(t)+i;if(30<u){var s=i-i%5;u=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ng=1<<32-n_(t)+i|r<<i|n,ig=u+e}else ng=1<<u|r<<i|n,ig=e}function g4(e){e.return!==null&&(r0(e,1),j7(e,1,0))}function y4(e){for(;e===nC;)nC=Lb[--Nb],Lb[Nb]=null,iC=Lb[--Nb],Lb[Nb]=null;for(;e===y0;)y0=pd[--hd],pd[hd]=null,ig=pd[--hd],pd[hd]=null,ng=pd[--hd],pd[hd]=null}var Ch=null,Xp=null,$u=!1,Qd=null;function B7(e,t){var r=gd(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Z6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ch=e,Xp=rg(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ch=e,Xp=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=y0!==null?{id:ng,overflow:ig}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gd(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ch=e,Xp=null,!0):!1;default:return!1}}function PM(e){return(e.mode&1)!==0&&(e.flags&128)===0}function IM(e){if($u){var t=Xp;if(t){var r=t;if(!Z6(e,t)){if(PM(e))throw Error(vr(418));t=rg(r.nextSibling);var n=Ch;t&&Z6(e,t)?B7(n,r):(e.flags=e.flags&-4097|2,$u=!1,Ch=e)}}else{if(PM(e))throw Error(vr(418));e.flags=e.flags&-4097|2,$u=!1,Ch=e}}}function K6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ch=e}function Mw(e){if(e!==Ch)return!1;if(!$u)return K6(e),$u=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yM(e.type,e.memoizedProps)),t&&(t=Xp)){if(PM(e)){for(e=Xp;e;)e=rg(e.nextSibling);throw Error(vr(418))}for(;t;)B7(e,t),t=rg(t.nextSibling)}if(K6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(vr(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xp=rg(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xp=null}}else Xp=Ch?rg(e.stateNode.nextSibling):null;return!0}function ix(){Xp=Ch=null,$u=!1}function v4(e){Qd===null?Qd=[e]:Qd.push(e)}function Rw(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(vr(309));var n=r.stateNode}if(!n)throw Error(vr(147,e));var i=n,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(s){var m=i.refs;m===z7&&(m=i.refs={}),s===null?delete m[u]:m[u]=s},t._stringRef=u,t)}if(typeof e!="string")throw Error(vr(284));if(!r._owner)throw Error(vr(290,e))}return e}function TP(e,t){throw e=Object.prototype.toString.call(t),Error(vr(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function J6(e){var t=e._init;return t(e._payload)}function $7(e){function t(q,M){if(e){var j=q.deletions;j===null?(q.deletions=[M],q.flags|=16):j.push(M)}}function r(q,M){if(!e)return null;for(;M!==null;)t(q,M),M=M.sibling;return null}function n(q,M){for(q=new Map;M!==null;)M.key!==null?q.set(M.key,M):q.set(M.index,M),M=M.sibling;return q}function i(q,M){return q=Wy(q,M),q.index=0,q.sibling=null,q}function u(q,M,j){return q.index=j,e?(j=q.alternate,j!==null?(j=j.index,j<M?(q.flags|=2,M):j):(q.flags|=2,M)):(q.flags|=1048576,M)}function s(q){return e&&q.alternate===null&&(q.flags|=2),q}function m(q,M,j,G){return M===null||M.tag!==6?(M=GL(j,q.mode,G),M.return=q,M):(M=i(M,j),M.return=q,M)}function v(q,M,j,G){var J=j.type;return J===Pb?P(q,M,j.props.children,G,j.key):M!==null&&(M.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Py&&J6(J)===M.type)?(G=i(M,j.props),G.ref=Rw(q,M,j),G.return=q,G):(G=AI(j.type,j.key,j.props,null,q.mode,G),G.ref=Rw(q,M,j),G.return=q,G)}function _(q,M,j,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=WL(j,q.mode,G),M.return=q,M):(M=i(M,j.children||[]),M.return=q,M)}function P(q,M,j,G,J){return M===null||M.tag!==7?(M=h0(j,q.mode,G,J),M.return=q,M):(M=i(M,j),M.return=q,M)}function C(q,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return M=GL(""+M,q.mode,j),M.return=q,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case xP:return j=AI(M.type,M.key,M.props,null,q.mode,j),j.ref=Rw(q,null,M),j.return=q,j;case Eb:return M=WL(M,q.mode,j),M.return=q,M;case Py:var G=M._init;return C(q,G(M._payload),j)}if(Kw(M)||Ow(M))return M=h0(M,q.mode,j,null),M.return=q,M;TP(q,M)}return null}function I(q,M,j,G){var J=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return J!==null?null:m(q,M,""+j,G);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case xP:return j.key===J?v(q,M,j,G):null;case Eb:return j.key===J?_(q,M,j,G):null;case Py:return J=j._init,I(q,M,J(j._payload),G)}if(Kw(j)||Ow(j))return J!==null?null:P(q,M,j,G,null);TP(q,j)}return null}function k(q,M,j,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return q=q.get(j)||null,m(M,q,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case xP:return q=q.get(G.key===null?j:G.key)||null,v(M,q,G,J);case Eb:return q=q.get(G.key===null?j:G.key)||null,_(M,q,G,J);case Py:var he=G._init;return k(q,M,j,he(G._payload),J)}if(Kw(G)||Ow(G))return q=q.get(j)||null,P(M,q,G,J,null);TP(M,G)}return null}function F(q,M,j,G){for(var J=null,he=null,pe=M,ne=M=0,ee=null;pe!==null&&ne<j.length;ne++){pe.index>ne?(ee=pe,pe=null):ee=pe.sibling;var ie=I(q,pe,j[ne],G);if(ie===null){pe===null&&(pe=ee);break}e&&pe&&ie.alternate===null&&t(q,pe),M=u(ie,M,ne),he===null?J=ie:he.sibling=ie,he=ie,pe=ee}if(ne===j.length)return r(q,pe),$u&&r0(q,ne),J;if(pe===null){for(;ne<j.length;ne++)pe=C(q,j[ne],G),pe!==null&&(M=u(pe,M,ne),he===null?J=pe:he.sibling=pe,he=pe);return $u&&r0(q,ne),J}for(pe=n(q,pe);ne<j.length;ne++)ee=k(pe,q,ne,j[ne],G),ee!==null&&(e&&ee.alternate!==null&&pe.delete(ee.key===null?ne:ee.key),M=u(ee,M,ne),he===null?J=ee:he.sibling=ee,he=ee);return e&&pe.forEach(function(we){return t(q,we)}),$u&&r0(q,ne),J}function V(q,M,j,G){var J=Ow(j);if(typeof J!="function")throw Error(vr(150));if(j=J.call(j),j==null)throw Error(vr(151));for(var he=J=null,pe=M,ne=M=0,ee=null,ie=j.next();pe!==null&&!ie.done;ne++,ie=j.next()){pe.index>ne?(ee=pe,pe=null):ee=pe.sibling;var we=I(q,pe,ie.value,G);if(we===null){pe===null&&(pe=ee);break}e&&pe&&we.alternate===null&&t(q,pe),M=u(we,M,ne),he===null?J=we:he.sibling=we,he=we,pe=ee}if(ie.done)return r(q,pe),$u&&r0(q,ne),J;if(pe===null){for(;!ie.done;ne++,ie=j.next())ie=C(q,ie.value,G),ie!==null&&(M=u(ie,M,ne),he===null?J=ie:he.sibling=ie,he=ie);return $u&&r0(q,ne),J}for(pe=n(q,pe);!ie.done;ne++,ie=j.next())ie=k(pe,q,ne,ie.value,G),ie!==null&&(e&&ie.alternate!==null&&pe.delete(ie.key===null?ne:ie.key),M=u(ie,M,ne),he===null?J=ie:he.sibling=ie,he=ie);return e&&pe.forEach(function(Se){return t(q,Se)}),$u&&r0(q,ne),J}function Y(q,M,j,G){if(typeof j=="object"&&j!==null&&j.type===Pb&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case xP:e:{for(var J=j.key,he=M;he!==null;){if(he.key===J){if(J=j.type,J===Pb){if(he.tag===7){r(q,he.sibling),M=i(he,j.props.children),M.return=q,q=M;break e}}else if(he.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Py&&J6(J)===he.type){r(q,he.sibling),M=i(he,j.props),M.ref=Rw(q,he,j),M.return=q,q=M;break e}r(q,he);break}else t(q,he);he=he.sibling}j.type===Pb?(M=h0(j.props.children,q.mode,G,j.key),M.return=q,q=M):(G=AI(j.type,j.key,j.props,null,q.mode,G),G.ref=Rw(q,M,j),G.return=q,q=G)}return s(q);case Eb:e:{for(he=j.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){r(q,M.sibling),M=i(M,j.children||[]),M.return=q,q=M;break e}else{r(q,M);break}else t(q,M);M=M.sibling}M=WL(j,q.mode,G),M.return=q,q=M}return s(q);case Py:return he=j._init,Y(q,M,he(j._payload),G)}if(Kw(j))return F(q,M,j,G);if(Ow(j))return V(q,M,j,G);TP(q,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,M!==null&&M.tag===6?(r(q,M.sibling),M=i(M,j),M.return=q,q=M):(r(q,M),M=GL(j,q.mode,G),M.return=q,q=M),s(q)):r(q,M)}return Y}var ox=$7(!0),U7=$7(!1),mE={},em=ev(mE),GS=ev(mE),WS=ev(mE);function u0(e){if(e===mE)throw Error(vr(174));return e}function b4(e,t){switch(_u(WS,t),_u(GS,e),_u(em,mE),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iM(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iM(t,e)}Lu(em),_u(em,t)}function ax(){Lu(em),Lu(GS),Lu(WS)}function q7(e){u0(WS.current);var t=u0(em.current),r=iM(t,e.type);t!==r&&(_u(GS,e),_u(em,r))}function x4(e){GS.current===e&&(Lu(em),Lu(GS))}var Ku=ev(0);function oC(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var BL=[];function w4(){for(var e=0;e<BL.length;e++)BL[e]._workInProgressVersionPrimary=null;BL.length=0}var EI=fg.ReactCurrentDispatcher,$L=fg.ReactCurrentBatchConfig,v0=0,el=null,Ec=null,Hc=null,aC=!1,xS=!1,XS=0,$K=0;function Rf(){throw Error(vr(321))}function S4(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!i_(e[r],t[r]))return!1;return!0}function E4(e,t,r,n,i,u){if(v0=u,el=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,EI.current=e===null||e.memoizedState===null?GK:WK,e=r(n,i),xS){u=0;do{if(xS=!1,XS=0,25<=u)throw Error(vr(301));u+=1,Hc=Ec=null,t.updateQueue=null,EI.current=XK,e=r(n,i)}while(xS)}if(EI.current=sC,t=Ec!==null&&Ec.next!==null,v0=0,Hc=Ec=el=null,aC=!1,t)throw Error(vr(300));return e}function P4(){var e=XS!==0;return XS=0,e}function Y_(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hc===null?el.memoizedState=Hc=e:Hc=Hc.next=e,Hc}function wd(){if(Ec===null){var e=el.alternate;e=e!==null?e.memoizedState:null}else e=Ec.next;var t=Hc===null?el.memoizedState:Hc.next;if(t!==null)Hc=t,Ec=e;else{if(e===null)throw Error(vr(310));Ec=e,e={memoizedState:Ec.memoizedState,baseState:Ec.baseState,baseQueue:Ec.baseQueue,queue:Ec.queue,next:null},Hc===null?el.memoizedState=Hc=e:Hc=Hc.next=e}return Hc}function YS(e,t){return typeof t=="function"?t(e):t}function UL(e){var t=wd(),r=t.queue;if(r===null)throw Error(vr(311));r.lastRenderedReducer=e;var n=Ec,i=n.baseQueue,u=r.pending;if(u!==null){if(i!==null){var s=i.next;i.next=u.next,u.next=s}n.baseQueue=i=u,r.pending=null}if(i!==null){u=i.next,n=n.baseState;var m=s=null,v=null,_=u;do{var P=_.lane;if((v0&P)===P)v!==null&&(v=v.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),n=_.hasEagerState?_.eagerState:e(n,_.action);else{var C={lane:P,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};v===null?(m=v=C,s=n):v=v.next=C,el.lanes|=P,b0|=P}_=_.next}while(_!==null&&_!==u);v===null?s=n:v.next=m,i_(n,t.memoizedState)||(Yp=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=v,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do u=i.lane,el.lanes|=u,b0|=u,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qL(e){var t=wd(),r=t.queue;if(r===null)throw Error(vr(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,u=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do u=e(u,s.action),s=s.next;while(s!==i);i_(u,t.memoizedState)||(Yp=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,n]}function V7(){}function G7(e,t){var r=el,n=wd(),i=t(),u=!i_(n.memoizedState,i);if(u&&(n.memoizedState=i,Yp=!0),n=n.queue,I4(Y7.bind(null,r,n,e),[e]),n.getSnapshot!==t||u||Hc!==null&&Hc.memoizedState.tag&1){if(r.flags|=2048,HS(9,X7.bind(null,r,n,i,t),void 0,null),Cc===null)throw Error(vr(349));(v0&30)!==0||W7(r,t,i)}return i}function W7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=el.updateQueue,t===null?(t={lastEffect:null,stores:null},el.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function X7(e,t,r,n){t.value=r,t.getSnapshot=n,H7(t)&&bd(e,1,-1)}function Y7(e,t,r){return r(function(){H7(t)&&bd(e,1,-1)})}function H7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i_(e,r)}catch{return!0}}function Q6(e){var t=Y_();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:YS,lastRenderedState:e},t.queue=e,e=e.dispatch=VK.bind(null,el,e),[t.memoizedState,e]}function HS(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=el.updateQueue,t===null?(t={lastEffect:null,stores:null},el.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Z7(){return wd().memoizedState}function PI(e,t,r,n){var i=Y_();el.flags|=e,i.memoizedState=HS(1|t,r,void 0,n===void 0?null:n)}function iA(e,t,r,n){var i=wd();n=n===void 0?null:n;var u=void 0;if(Ec!==null){var s=Ec.memoizedState;if(u=s.destroy,n!==null&&S4(n,s.deps)){i.memoizedState=HS(t,r,u,n);return}}el.flags|=e,i.memoizedState=HS(1|t,r,u,n)}function eF(e,t){return PI(8390656,8,e,t)}function I4(e,t){return iA(2048,8,e,t)}function K7(e,t){return iA(4,2,e,t)}function J7(e,t){return iA(4,4,e,t)}function Q7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eU(e,t,r){return r=r!=null?r.concat([e]):null,iA(4,4,Q7.bind(null,t,e),r)}function C4(){}function tU(e,t){var r=wd();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&S4(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rU(e,t){var r=wd();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&S4(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nU(e,t,r){return(v0&21)===0?(e.baseState&&(e.baseState=!1,Yp=!0),e.memoizedState=r):(i_(r,t)||(r=l7(),el.lanes|=r,b0|=r,e.baseState=!0),t)}function UK(e,t){var r=Os;Os=r!==0&&4>r?r:4,e(!0);var n=$L.transition;$L.transition={};try{e(!1),t()}finally{Os=r,$L.transition=n}}function iU(){return wd().memoizedState}function qK(e,t,r){var n=By(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oU(e)?aU(t,r):(sU(e,t,r),r=dp(),e=bd(e,n,r),e!==null&&uU(e,t,n))}function VK(e,t,r){var n=By(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oU(e))aU(t,i);else{sU(e,t,i);var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var s=t.lastRenderedState,m=u(s,r);if(i.hasEagerState=!0,i.eagerState=m,i_(m,s))return}catch{}finally{}r=dp(),e=bd(e,n,r),e!==null&&uU(e,t,n)}}function oU(e){var t=e.alternate;return e===el||t!==null&&t===el}function aU(e,t){xS=aC=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sU(e,t,r){PU(e)?(e=t.interleaved,e===null?(r.next=r,t_===null?t_=[t]:t_.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(e=t.pending,e===null?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function uU(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o4(e,r)}}var sC={readContext:xd,useCallback:Rf,useContext:Rf,useEffect:Rf,useImperativeHandle:Rf,useInsertionEffect:Rf,useLayoutEffect:Rf,useMemo:Rf,useReducer:Rf,useRef:Rf,useState:Rf,useDebugValue:Rf,useDeferredValue:Rf,useTransition:Rf,useMutableSource:Rf,useSyncExternalStore:Rf,useId:Rf,unstable_isNewReconciler:!1},GK={readContext:xd,useCallback:function(e,t){return Y_().memoizedState=[e,t===void 0?null:t],e},useContext:xd,useEffect:eF,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,PI(4194308,4,Q7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return PI(4194308,4,e,t)},useInsertionEffect:function(e,t){return PI(4,2,e,t)},useMemo:function(e,t){var r=Y_();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Y_();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qK.bind(null,el,e),[n.memoizedState,e]},useRef:function(e){var t=Y_();return e={current:e},t.memoizedState=e},useState:Q6,useDebugValue:C4,useDeferredValue:function(e){return Y_().memoizedState=e},useTransition:function(){var e=Q6(!1),t=e[0];return e=UK.bind(null,e[1]),Y_().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=el,i=Y_();if($u){if(r===void 0)throw Error(vr(407));r=r()}else{if(r=t(),Cc===null)throw Error(vr(349));(v0&30)!==0||W7(n,t,r)}i.memoizedState=r;var u={value:r,getSnapshot:t};return i.queue=u,eF(Y7.bind(null,n,u,e),[e]),n.flags|=2048,HS(9,X7.bind(null,n,u,r,t),void 0,null),r},useId:function(){var e=Y_(),t=Cc.identifierPrefix;if($u){var r=ig,n=ng;r=(n&~(1<<32-n_(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=XS++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$K++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WK={readContext:xd,useCallback:tU,useContext:xd,useEffect:I4,useImperativeHandle:eU,useInsertionEffect:K7,useLayoutEffect:J7,useMemo:rU,useReducer:UL,useRef:Z7,useState:function(){return UL(YS)},useDebugValue:C4,useDeferredValue:function(e){var t=wd();return nU(t,Ec.memoizedState,e)},useTransition:function(){var e=UL(YS)[0],t=wd().memoizedState;return[e,t]},useMutableSource:V7,useSyncExternalStore:G7,useId:iU,unstable_isNewReconciler:!1},XK={readContext:xd,useCallback:tU,useContext:xd,useEffect:I4,useImperativeHandle:eU,useInsertionEffect:K7,useLayoutEffect:J7,useMemo:rU,useReducer:qL,useRef:Z7,useState:function(){return qL(YS)},useDebugValue:C4,useDeferredValue:function(e){var t=wd();return Ec===null?t.memoizedState=e:nU(t,Ec.memoizedState,e)},useTransition:function(){var e=qL(YS)[0],t=wd().memoizedState;return[e,t]},useMutableSource:V7,useSyncExternalStore:G7,useId:iU,unstable_isNewReconciler:!1};function A4(e,t){try{var r="",n=t;do r+=xZ(n),n=n.return;while(n);var i=r}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i}}function CM(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var YK=typeof WeakMap=="function"?WeakMap:Map;function lU(e,t,r){r=og(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){lC||(lC=!0,DM=n),CM(e,t)},r}function cU(e,t,r){r=og(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){CM(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){CM(e,t),typeof n!="function"&&(jy===null?jy=new Set([this]):jy.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function tF(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new YK;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=sJ.bind(null,e,t,r),t.then(e,e))}function rF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nF(e,t,r,n,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=og(-1,1),t.tag=2,Fy(r,t))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var fU,AM,pU,hU;fU=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};AM=function(){};pU=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,u0(em.current);var u=null;switch(r){case"input":i=eM(e,i),n=eM(e,n),u=[];break;case"select":i=tl({},i,{value:void 0}),n=tl({},n,{value:void 0}),u=[];break;case"textarea":i=nM(e,i),n=nM(e,n),u=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=KI)}oM(r,n);var s;r=null;for(_ in i)if(!n.hasOwnProperty(_)&&i.hasOwnProperty(_)&&i[_]!=null)if(_==="style"){var m=i[_];for(s in m)m.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(MS.hasOwnProperty(_)?u||(u=[]):(u=u||[]).push(_,null));for(_ in n){var v=n[_];if(m=i!=null?i[_]:void 0,n.hasOwnProperty(_)&&v!==m&&(v!=null||m!=null))if(_==="style")if(m){for(s in m)!m.hasOwnProperty(s)||v&&v.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in v)v.hasOwnProperty(s)&&m[s]!==v[s]&&(r||(r={}),r[s]=v[s])}else r||(u||(u=[]),u.push(_,r)),r=v;else _==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,m=m?m.__html:void 0,v!=null&&m!==v&&(u=u||[]).push(_,v)):_==="children"?typeof v!="string"&&typeof v!="number"||(u=u||[]).push(_,""+v):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(MS.hasOwnProperty(_)?(v!=null&&_==="onScroll"&&ku("scroll",e),u||m===v||(u=[])):(u=u||[]).push(_,v))}r&&(u=u||[]).push("style",r);var _=u;(t.updateQueue=_)&&(t.flags|=4)}};hU=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dw(e,t){if(!$u)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Df(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function HK(e,t,r){var n=t.pendingProps;switch(y4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Df(t),null;case 1:return Zp(t.type)&&JI(),Df(t),null;case 3:return n=t.stateNode,ax(),Lu(Hp),Lu(Gf),w4(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qd!==null&&(jM(Qd),Qd=null))),AM(e,t),Df(t),null;case 5:x4(t);var i=u0(WS.current);if(r=t.type,e!==null&&t.stateNode!=null)pU(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(vr(166));return Df(t),null}if(e=u0(em.current),Mw(t)){n=t.stateNode,r=t.type;var u=t.memoizedProps;switch(n[H_]=t,n[VS]=u,e=(t.mode&1)!==0,r){case"dialog":ku("cancel",n),ku("close",n);break;case"iframe":case"object":case"embed":ku("load",n);break;case"video":case"audio":for(i=0;i<Qw.length;i++)ku(Qw[i],n);break;case"source":ku("error",n);break;case"img":case"image":case"link":ku("error",n),ku("load",n);break;case"details":ku("toggle",n);break;case"input":g6(n,u),ku("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!u.multiple},ku("invalid",n);break;case"textarea":v6(n,u),ku("invalid",n)}oM(r,u),i=null;for(var s in u)if(u.hasOwnProperty(s)){var m=u[s];s==="children"?typeof m=="string"?n.textContent!==m&&(u.suppressHydrationWarning!==!0&&kP(n.textContent,m,e),i=["children",m]):typeof m=="number"&&n.textContent!==""+m&&(u.suppressHydrationWarning!==!0&&kP(n.textContent,m,e),i=["children",""+m]):MS.hasOwnProperty(s)&&m!=null&&s==="onScroll"&&ku("scroll",n)}switch(r){case"input":wP(n),y6(n,u,!0);break;case"textarea":wP(n),b6(n);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(n.onclick=KI)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[H_]=t,e[VS]=n,fU(e,t,!1,!1),t.stateNode=e;e:{switch(s=aM(r,n),r){case"dialog":ku("cancel",e),ku("close",e),i=n;break;case"iframe":case"object":case"embed":ku("load",e),i=n;break;case"video":case"audio":for(i=0;i<Qw.length;i++)ku(Qw[i],e);i=n;break;case"source":ku("error",e),i=n;break;case"img":case"image":case"link":ku("error",e),ku("load",e),i=n;break;case"details":ku("toggle",e),i=n;break;case"input":g6(e,n),i=eM(e,n),ku("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tl({},n,{value:void 0}),ku("invalid",e);break;case"textarea":v6(e,n),i=nM(e,n),ku("invalid",e);break;default:i=n}oM(r,i),m=i;for(u in m)if(m.hasOwnProperty(u)){var v=m[u];u==="style"?K$(e,v):u==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&H$(e,v)):u==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&RS(e,v):typeof v=="number"&&RS(e,""+v):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(MS.hasOwnProperty(u)?v!=null&&u==="onScroll"&&ku("scroll",e):v!=null&&Q3(e,u,v,s))}switch(r){case"input":wP(e),y6(e,n,!1);break;case"textarea":wP(e),b6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vy(n.value));break;case"select":e.multiple=!!n.multiple,u=n.value,u!=null?Vb(e,!!n.multiple,u,!1):n.defaultValue!=null&&Vb(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=KI)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Df(t),null;case 6:if(e&&t.stateNode!=null)hU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(vr(166));if(r=u0(WS.current),u0(em.current),Mw(t)){if(n=t.stateNode,r=t.memoizedProps,n[H_]=t,(u=n.nodeValue!==r)&&(e=Ch,e!==null))switch(e.tag){case 3:kP(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kP(n.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[H_]=t,t.stateNode=n}return Df(t),null;case 13:if(Lu(Ku),n=t.memoizedState,$u&&Xp!==null&&(t.mode&1)!==0&&(t.flags&128)===0){for(n=Xp;n;)n=rg(n.nextSibling);return ix(),t.flags|=98560,t}if(n!==null&&n.dehydrated!==null){if(n=Mw(t),e===null){if(!n)throw Error(vr(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(vr(317));n[H_]=t}else ix(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;return Df(t),null}return Qd!==null&&(jM(Qd),Qd=null),(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?Mw(t):r=e.memoizedState!==null,n!==r&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ku.current&1)!==0?Ic===0&&(Ic=3):M4())),t.updateQueue!==null&&(t.flags|=4),Df(t),null);case 4:return ax(),AM(e,t),e===null&&US(t.stateNode.containerInfo),Df(t),null;case 10:return _4(t.type._context),Df(t),null;case 17:return Zp(t.type)&&JI(),Df(t),null;case 19:if(Lu(Ku),u=t.memoizedState,u===null)return Df(t),null;if(n=(t.flags&128)!==0,s=u.rendering,s===null)if(n)Dw(u,!1);else{if(Ic!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=oC(e),s!==null){for(t.flags|=128,Dw(u,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)u=r,e=n,u.flags&=14680066,s=u.alternate,s===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,u.type=s.type,e=s.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _u(Ku,Ku.current&1|2),t.child}e=e.sibling}u.tail!==null&&zl()>sx&&(t.flags|=128,n=!0,Dw(u,!1),t.lanes=4194304)}else{if(!n)if(e=oC(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dw(u,!0),u.tail===null&&u.tailMode==="hidden"&&!s.alternate&&!$u)return Df(t),null}else 2*zl()-u.renderingStartTime>sx&&r!==1073741824&&(t.flags|=128,n=!0,Dw(u,!1),t.lanes=4194304);u.isBackwards?(s.sibling=t.child,t.child=s):(r=u.last,r!==null?r.sibling=s:t.child=s,u.last=s)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=zl(),t.sibling=null,r=Ku.current,_u(Ku,n?r&1|2:r&1),t):(Df(t),null);case 22:case 23:return N4(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(wh&1073741824)!==0&&(Df(t),t.subtreeFlags&6&&(t.flags|=8192)):Df(t),null;case 24:return null;case 25:return null}throw Error(vr(156,t.tag))}var ZK=fg.ReactCurrentOwner,Yp=!1;function cp(e,t,r,n){t.child=e===null?U7(t,null,r,n):ox(t,e.child,r,n)}function iF(e,t,r,n,i){r=r.render;var u=t.ref;return Yb(t,i),n=E4(e,t,r,n,u,i),r=P4(),e!==null&&!Yp?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ug(e,t,i)):($u&&r&&g4(t),t.flags|=1,cp(e,t,n,i),t.child)}function oF(e,t,r,n,i){if(e===null){var u=r.type;return typeof u=="function"&&!R4(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,dU(e,t,u,n,i)):(e=AI(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&i)===0){var s=u.memoizedProps;if(r=r.compare,r=r!==null?r:$S,r(s,n)&&e.ref===t.ref)return ug(e,t,i)}return t.flags|=1,e=Wy(u,n),e.ref=t.ref,e.return=t,t.child=e}function dU(e,t,r,n,i){if(e!==null){var u=e.memoizedProps;if($S(u,n)&&e.ref===t.ref)if(Yp=!1,t.pendingProps=n=u,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Yp=!0);else return t.lanes=e.lanes,ug(e,t,i)}return OM(e,t,r,n,i)}function _U(e,t,r){var n=t.pendingProps,i=n.children,u=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_u(Rb,wh),wh|=r;else if((r&1073741824)!==0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=u!==null?u.baseLanes:r,_u(Rb,wh),wh|=n;else return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_u(Rb,wh),wh|=e,null;else u!==null?(n=u.baseLanes|r,t.memoizedState=null):n=r,_u(Rb,wh),wh|=n;return cp(e,t,i,r),t.child}function mU(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function OM(e,t,r,n,i){var u=Zp(r)?g0:Gf.current;return u=nx(t,u),Yb(t,i),r=E4(e,t,r,n,u,i),n=P4(),e!==null&&!Yp?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ug(e,t,i)):($u&&n&&g4(t),t.flags|=1,cp(e,t,r,i),t.child)}function aF(e,t,r,n,i){if(Zp(r)){var u=!0;QI(t)}else u=!1;if(Yb(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),F7(t,r,n),EM(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,m=t.memoizedProps;s.props=m;var v=s.context,_=r.contextType;typeof _=="object"&&_!==null?_=xd(_):(_=Zp(r)?g0:Gf.current,_=nx(t,_));var P=r.getDerivedStateFromProps,C=typeof P=="function"||typeof s.getSnapshotBeforeUpdate=="function";C||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(m!==n||v!==_)&&H6(t,s,n,_),Iy=!1;var I=t.memoizedState;s.state=I,rC(t,n,s,i),v=t.memoizedState,m!==n||I!==v||Hp.current||Iy?(typeof P=="function"&&(SM(t,r,P,n),v=t.memoizedState),(m=Iy||Y6(t,r,m,n,I,v,_))?(C||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=_,n=m):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,D7(e,t),m=t.memoizedProps,_=t.type===t.elementType?m:Kd(t.type,m),s.props=_,C=t.pendingProps,I=s.context,v=r.contextType,typeof v=="object"&&v!==null?v=xd(v):(v=Zp(r)?g0:Gf.current,v=nx(t,v));var k=r.getDerivedStateFromProps;(P=typeof k=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(m!==C||I!==v)&&H6(t,s,n,v),Iy=!1,I=t.memoizedState,s.state=I,rC(t,n,s,i);var F=t.memoizedState;m!==C||I!==F||Hp.current||Iy?(typeof k=="function"&&(SM(t,r,k,n),F=t.memoizedState),(_=Iy||Y6(t,r,_,n,I,F,v)||!1)?(P||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,F,v),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,F,v)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=F),s.props=n,s.state=F,s.context=v,n=_):(typeof s.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),n=!1)}return kM(e,t,r,n,u,i)}function kM(e,t,r,n,i,u){mU(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&G6(t,r,!1),ug(e,t,u);n=t.stateNode,ZK.current=t;var m=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ox(t,e.child,null,u),t.child=ox(t,null,m,u)):cp(e,t,m,u),t.memoizedState=n.state,i&&G6(t,r,!0),t.child}function gU(e){var t=e.stateNode;t.pendingContext?V6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&V6(e,t.context,!1),b4(e,t.containerInfo)}function sF(e,t,r,n,i){return ix(),v4(i),t.flags|=256,cp(e,t,r,n),t.child}var LP={dehydrated:null,treeContext:null,retryLane:0};function NP(e){return{baseLanes:e,cachePool:null,transitions:null}}function uF(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function yU(e,t,r){var n=t.pendingProps,i=Ku.current,u=!1,s=(t.flags&128)!==0,m;if((m=s)||(m=e!==null&&e.memoizedState===null?!1:(i&2)!==0),m?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_u(Ku,i&1),e===null)return IM(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=n.children,e=n.fallback,u?(n=t.mode,u=t.child,i={mode:"hidden",children:i},(n&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=i):u=pC(i,n,0,null),e=h0(e,n,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=NP(r),t.memoizedState=LP,e):TM(t,i));if(i=e.memoizedState,i!==null){if(m=i.dehydrated,m!==null){if(s)return t.flags&256?(t.flags&=-257,MP(e,t,r,Error(vr(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=n.fallback,i=t.mode,n=pC({mode:"visible",children:n.children},i,0,null),u=h0(u,i,r,null),u.flags|=2,n.return=t,u.return=t,n.sibling=u,t.child=n,(t.mode&1)!==0&&ox(t,e.child,null,r),t.child.memoizedState=NP(r),t.memoizedState=LP,u);if((t.mode&1)===0)t=MP(e,t,r,null);else if(m.data==="$!")t=MP(e,t,r,Error(vr(419)));else if(n=(r&e.childLanes)!==0,Yp||n){if(n=Cc,n!==null){switch(r&-r){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}n=(u&(n.suspendedLanes|r))!==0?0:u,n!==0&&n!==i.retryLane&&(i.retryLane=n,bd(e,n,-1))}M4(),t=MP(e,t,r,Error(vr(421)))}else m.data==="$?"?(t.flags|=128,t.child=e.child,t=uJ.bind(null,e),m._reactRetry=t,t=null):(r=i.treeContext,Xp=rg(m.nextSibling),Ch=t,$u=!0,Qd=null,r!==null&&(pd[hd++]=ng,pd[hd++]=ig,pd[hd++]=y0,ng=r.id,ig=r.overflow,y0=t),t=TM(t,t.pendingProps.children),t.flags|=4096);return t}return u?(n=cF(e,t,n.children,n.fallback,r),u=t.child,i=e.child.memoizedState,u.memoizedState=i===null?NP(r):uF(i,r),u.childLanes=e.childLanes&~r,t.memoizedState=LP,n):(r=lF(e,t,n.children,r),t.memoizedState=null,r)}return u?(n=cF(e,t,n.children,n.fallback,r),u=t.child,i=e.child.memoizedState,u.memoizedState=i===null?NP(r):uF(i,r),u.childLanes=e.childLanes&~r,t.memoizedState=LP,n):(r=lF(e,t,n.children,r),t.memoizedState=null,r)}function TM(e,t){return t=pC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lF(e,t,r,n){var i=e.child;return e=i.sibling,r=Wy(i,{mode:"visible",children:r}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r}function cF(e,t,r,n,i){var u=t.mode;e=e.child;var s=e.sibling,m={mode:"hidden",children:r};return(u&1)===0&&t.child!==e?(r=t.child,r.childLanes=0,r.pendingProps=m,t.deletions=null):(r=Wy(e,m),r.subtreeFlags=e.subtreeFlags&14680064),s!==null?n=Wy(s,n):(n=h0(n,u,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function MP(e,t,r,n){return n!==null&&v4(n),ox(t,e.child,null,r),e=TM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fF(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wM(e.return,t,r)}function VL(e,t,r,n,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=r,u.tailMode=i)}function vU(e,t,r){var n=t.pendingProps,i=n.revealOrder,u=n.tail;if(cp(e,t,n.children,r),n=Ku.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fF(e,r,t);else if(e.tag===19)fF(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_u(Ku,n),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&oC(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),VL(t,!1,i,r,u);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oC(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}VL(t,!0,r,null,u);break;case"together":VL(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ug(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),b0|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(vr(153));if(t.child!==null){for(e=t.child,r=Wy(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wy(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KK(e,t,r){switch(t.tag){case 3:gU(t),ix();break;case 5:q7(t);break;case 1:Zp(t.type)&&QI(t);break;case 4:b4(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;_u(eC,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_u(Ku,Ku.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?yU(e,t,r):(_u(Ku,Ku.current&1),e=ug(e,t,r),e!==null?e.sibling:null);_u(Ku,Ku.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return vU(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_u(Ku,Ku.current),n)break;return null;case 22:case 23:return t.lanes=0,_U(e,t,r)}return ug(e,t,r)}function JK(e,t){switch(y4(t),t.tag){case 1:return Zp(t.type)&&JI(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ax(),Lu(Hp),Lu(Gf),w4(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return x4(t),null;case 13:if(Lu(Ku),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(vr(340));ix()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lu(Ku),null;case 4:return ax(),null;case 10:return _4(t.type._context),null;case 22:case 23:return N4(),null;case 24:return null;default:return null}}var RP=!1,Vf=!1,QK=typeof WeakSet=="function"?WeakSet:Set,mn=null;function Mb(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vl(e,t,n)}else r.current=null}function LM(e,t,r){try{r()}catch(n){vl(e,t,n)}}var pF=!1;function eJ(e,t){if(mM=YI,e=P7(),p4(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var s=0,m=-1,v=-1,_=0,P=0,C=e,I=null;t:for(;;){for(var k;C!==r||i!==0&&C.nodeType!==3||(m=s+i),C!==u||n!==0&&C.nodeType!==3||(v=s+n),C.nodeType===3&&(s+=C.nodeValue.length),(k=C.firstChild)!==null;)I=C,C=k;for(;;){if(C===e)break t;if(I===r&&++_===i&&(m=s),I===u&&++P===n&&(v=s),(k=C.nextSibling)!==null)break;C=I,I=C.parentNode}C=k}r=m===-1||v===-1?null:{start:m,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(gM={focusedElem:e,selectionRange:r},YI=!1,mn=t;mn!==null;)if(t=mn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mn=e;else for(;mn!==null;){t=mn;try{var F=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var V=F.memoizedProps,Y=F.memoizedState,q=t.stateNode,M=q.getSnapshotBeforeUpdate(t.elementType===t.type?V:Kd(t.type,V),Y);q.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var j=t.stateNode.containerInfo;if(j.nodeType===1)j.textContent="";else if(j.nodeType===9){var G=j.body;G!=null&&(G.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(vr(163))}}catch(J){vl(t,t.return,J)}if(e=t.sibling,e!==null){e.return=t.return,mn=e;break}mn=t.return}return F=pF,pF=!1,F}function wS(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&LM(t,r,u)}i=i.next}while(i!==n)}}function oA(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function NM(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bU(e){var t=e.alternate;t!==null&&(e.alternate=null,bU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[H_],delete t[VS],delete t[bM],delete t[zK],delete t[FK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xU(e){return e.tag===5||e.tag===3||e.tag===4}function hF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function MM(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=KI));else if(n!==4&&(e=e.child,e!==null))for(MM(e,t,r),e=e.sibling;e!==null;)MM(e,t,r),e=e.sibling}function RM(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(RM(e,t,r),e=e.sibling;e!==null;)RM(e,t,r),e=e.sibling}var bf=null,Jd=!1;function Sy(e,t,r){for(r=r.child;r!==null;)wU(e,t,r),r=r.sibling}function wU(e,t,r){if(Q_&&typeof Q_.onCommitFiberUnmount=="function")try{Q_.onCommitFiberUnmount(KC,r)}catch{}switch(r.tag){case 5:Vf||Mb(r,t);case 6:var n=bf,i=Jd;bf=null,Sy(e,t,r),bf=n,Jd=i,bf!==null&&(Jd?(e=bf,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bf.removeChild(r.stateNode));break;case 18:bf!==null&&(Jd?(e=bf,r=r.stateNode,e.nodeType===8?FL(e.parentNode,r):e.nodeType===1&&FL(e,r),jS(e)):FL(bf,r.stateNode));break;case 4:n=bf,i=Jd,bf=r.stateNode.containerInfo,Jd=!0,Sy(e,t,r),bf=n,Jd=i;break;case 0:case 11:case 14:case 15:if(!Vf&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var u=i,s=u.destroy;u=u.tag,s!==void 0&&((u&2)!==0||(u&4)!==0)&&LM(r,t,s),i=i.next}while(i!==n)}Sy(e,t,r);break;case 1:if(!Vf&&(Mb(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(m){vl(r,t,m)}Sy(e,t,r);break;case 21:Sy(e,t,r);break;case 22:r.mode&1?(Vf=(n=Vf)||r.memoizedState!==null,Sy(e,t,r),Vf=n):Sy(e,t,r);break;default:Sy(e,t,r)}}function dF(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new QK),t.forEach(function(n){var i=lJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zd(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var u=e,s=t,m=s;e:for(;m!==null;){switch(m.tag){case 5:bf=m.stateNode,Jd=!1;break e;case 3:bf=m.stateNode.containerInfo,Jd=!0;break e;case 4:bf=m.stateNode.containerInfo,Jd=!0;break e}m=m.return}if(bf===null)throw Error(vr(160));wU(u,s,i),bf=null,Jd=!1;var v=i.alternate;v!==null&&(v.return=null),i.return=null}catch(_){vl(i,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SU(t,e),t=t.sibling}function SU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zd(t,e),G_(e),n&4){try{wS(3,e,e.return),oA(3,e)}catch(F){vl(e,e.return,F)}try{wS(5,e,e.return)}catch(F){vl(e,e.return,F)}}break;case 1:Zd(t,e),G_(e),n&512&&r!==null&&Mb(r,r.return);break;case 5:if(Zd(t,e),G_(e),n&512&&r!==null&&Mb(r,r.return),e.flags&32){var i=e.stateNode;try{RS(i,"")}catch(F){vl(e,e.return,F)}}if(n&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,s=r!==null?r.memoizedProps:u,m=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{m==="input"&&u.type==="radio"&&u.name!=null&&W$(i,u),aM(m,s);var _=aM(m,u);for(s=0;s<v.length;s+=2){var P=v[s],C=v[s+1];P==="style"?K$(i,C):P==="dangerouslySetInnerHTML"?H$(i,C):P==="children"?RS(i,C):Q3(i,P,C,_)}switch(m){case"input":tM(i,u);break;case"textarea":X$(i,u);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var k=u.value;k!=null?Vb(i,!!u.multiple,k,!1):I!==!!u.multiple&&(u.defaultValue!=null?Vb(i,!!u.multiple,u.defaultValue,!0):Vb(i,!!u.multiple,u.multiple?[]:"",!1))}i[VS]=u}catch(F){vl(e,e.return,F)}}break;case 6:if(Zd(t,e),G_(e),n&4){if(e.stateNode===null)throw Error(vr(162));_=e.stateNode,P=e.memoizedProps;try{_.nodeValue=P}catch(F){vl(e,e.return,F)}}break;case 3:if(Zd(t,e),G_(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jS(t.containerInfo)}catch(F){vl(e,e.return,F)}break;case 4:Zd(t,e),G_(e);break;case 13:Zd(t,e),G_(e),_=e.child,_.flags&8192&&_.memoizedState!==null&&(_.alternate===null||_.alternate.memoizedState===null)&&(T4=zl()),n&4&&dF(e);break;case 22:if(_=r!==null&&r.memoizedState!==null,e.mode&1?(Vf=(P=Vf)||_,Zd(t,e),Vf=P):Zd(t,e),G_(e),n&8192){P=e.memoizedState!==null;e:for(C=null,I=e;;){if(I.tag===5){if(C===null){C=I;try{i=I.stateNode,P?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(m=I.stateNode,v=I.memoizedProps.style,s=v!=null&&v.hasOwnProperty("display")?v.display:null,m.style.display=Z$("display",s))}catch(F){vl(e,e.return,F)}}}else if(I.tag===6){if(C===null)try{I.stateNode.nodeValue=P?"":I.memoizedProps}catch(F){vl(e,e.return,F)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;C===I&&(C=null),I=I.return}C===I&&(C=null),I.sibling.return=I.return,I=I.sibling}if(P&&!_&&(e.mode&1)!==0)for(mn=e,e=e.child;e!==null;){for(_=mn=e;mn!==null;){switch(P=mn,C=P.child,P.tag){case 0:case 11:case 14:case 15:wS(4,P,P.return);break;case 1:if(Mb(P,P.return),u=P.stateNode,typeof u.componentWillUnmount=="function"){I=P,k=P.return;try{i=I,u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(F){vl(I,k,F)}}break;case 5:Mb(P,P.return);break;case 22:if(P.memoizedState!==null){mF(_);continue}}C!==null?(C.return=P,mn=C):mF(_)}e=e.sibling}}break;case 19:Zd(t,e),G_(e),n&4&&dF(e);break;case 21:break;default:Zd(t,e),G_(e)}}function G_(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xU(r)){var n=r;break e}r=r.return}throw Error(vr(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(RS(i,""),n.flags&=-33);var u=hF(e);RM(e,u,i);break;case 3:case 4:var s=n.stateNode.containerInfo,m=hF(e);MM(e,m,s);break;default:throw Error(vr(161))}}catch(v){vl(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tJ(e,t,r){mn=e,EU(e)}function EU(e,t,r){for(var n=(e.mode&1)!==0;mn!==null;){var i=mn,u=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||RP;if(!s){var m=i.alternate,v=m!==null&&m.memoizedState!==null||Vf;m=RP;var _=Vf;if(RP=s,(Vf=v)&&!_)for(mn=i;mn!==null;)s=mn,v=s.child,s.tag===22&&s.memoizedState!==null?gF(i):v!==null?(v.return=s,mn=v):gF(i);for(;u!==null;)mn=u,EU(u),u=u.sibling;mn=i,RP=m,Vf=_}_F(e)}else(i.subtreeFlags&8772)!==0&&u!==null?(u.return=i,mn=u):_F(e)}}function _F(e){for(;mn!==null;){var t=mn;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Vf||oA(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vf)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Kd(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&X6(t,u,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}X6(t,s,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var P=_.memoizedState;if(P!==null){var C=P.dehydrated;C!==null&&jS(C)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(vr(163))}Vf||t.flags&512&&NM(t)}catch(I){vl(t,t.return,I)}}if(t===e){mn=null;break}if(r=t.sibling,r!==null){r.return=t.return,mn=r;break}mn=t.return}}function mF(e){for(;mn!==null;){var t=mn;if(t===e){mn=null;break}var r=t.sibling;if(r!==null){r.return=t.return,mn=r;break}mn=t.return}}function gF(e){for(;mn!==null;){var t=mn;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oA(4,t)}catch(v){vl(t,r,v)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(v){vl(t,i,v)}}var u=t.return;try{NM(t)}catch(v){vl(t,u,v)}break;case 5:var s=t.return;try{NM(t)}catch(v){vl(t,s,v)}}}catch(v){vl(t,t.return,v)}if(t===e){mn=null;break}var m=t.sibling;if(m!==null){m.return=t.return,mn=m;break}mn=t.return}}var rJ=Math.ceil,uC=fg.ReactCurrentDispatcher,O4=fg.ReactCurrentOwner,vd=fg.ReactCurrentBatchConfig,za=0,Cc=null,sc=null,Sf=0,wh=0,Rb=ev(0),Ic=0,ZS=null,b0=0,aA=0,k4=0,SS=null,Wp=null,T4=0,sx=1/0,Hm=null,lC=!1,DM=null,jy=null,DP=!1,Ny=null,cC=0,ES=0,zM=null,II=-1,CI=0;function dp(){return(za&6)!==0?zl():II!==-1?II:II=zl()}function By(e){return(e.mode&1)===0?1:(za&2)!==0&&Sf!==0?Sf&-Sf:BK.transition!==null?(CI===0&&(CI=l7()),CI):(e=Os,e!==0||(e=window.event,e=e===void 0?16:m7(e.type)),e)}function bd(e,t,r){if(50<ES)throw ES=0,zM=null,Error(vr(185));var n=sA(e,t);return n===null?null:(hE(n,t,r),((za&2)===0||n!==Cc)&&(n===Cc&&((za&2)===0&&(aA|=t),Ic===4&&Ty(n,Sf)),Kp(n,r),t===1&&za===0&&(e.mode&1)===0&&(sx=zl()+500,rA&&tv())),n)}function sA(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function PU(e){return(Cc!==null||t_!==null)&&(e.mode&1)!==0&&(za&2)===0}function Kp(e,t){var r=e.callbackNode;BZ(e,t);var n=XI(e,e===Cc?Sf:0);if(n===0)r!==null&&S6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&S6(r),t===1)e.tag===0?jK(yF.bind(null,e)):R7(yF.bind(null,e)),RK(function(){za===0&&tv()}),r=null;else{switch(c7(n)){case 1:r=i4;break;case 4:r=s7;break;case 16:r=WI;break;case 536870912:r=u7;break;default:r=WI}r=NU(r,IU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function IU(e,t){if(II=-1,CI=0,(za&6)!==0)throw Error(vr(327));var r=e.callbackNode;if(Hb()&&e.callbackNode!==r)return null;var n=XI(e,e===Cc?Sf:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=fC(e,n);else{t=n;var i=za;za|=2;var u=AU();(Cc!==e||Sf!==t)&&(Hm=null,sx=zl()+500,p0(e,t));do try{oJ();break}catch(m){CU(e,m)}while(1);d4(),uC.current=u,za=i,sc!==null?t=0:(Cc=null,Sf=0,t=Ic)}if(t!==0){if(t===2&&(i=fM(e),i!==0&&(n=i,t=FM(e,i))),t===1)throw r=ZS,p0(e,0),Ty(e,n),Kp(e,zl()),r;if(t===6)Ty(e,n);else{if(i=e.current.alternate,(n&30)===0&&!nJ(i)&&(t=fC(e,n),t===2&&(u=fM(e),u!==0&&(n=u,t=FM(e,u))),t===1))throw r=ZS,p0(e,0),Ty(e,n),Kp(e,zl()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(vr(345));case 2:n0(e,Wp,Hm);break;case 3:if(Ty(e,n),(n&130023424)===n&&(t=T4+500-zl(),10<t)){if(XI(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){dp(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vM(n0.bind(null,e,Wp,Hm),t);break}n0(e,Wp,Hm);break;case 4:if(Ty(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-n_(n);u=1<<s,s=t[s],s>i&&(i=s),n&=~u}if(n=i,n=zl()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rJ(n/1960))-n,10<n){e.timeoutHandle=vM(n0.bind(null,e,Wp,Hm),n);break}n0(e,Wp,Hm);break;case 5:n0(e,Wp,Hm);break;default:throw Error(vr(329))}}}return Kp(e,zl()),e.callbackNode===r?IU.bind(null,e):null}function FM(e,t){var r=SS;return e.current.memoizedState.isDehydrated&&(p0(e,t).flags|=256),e=fC(e,t),e!==2&&(t=Wp,Wp=r,t!==null&&jM(t)),e}function jM(e){Wp===null?Wp=e:Wp.push.apply(Wp,e)}function nJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],u=i.getSnapshot;i=i.value;try{if(!i_(u(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ty(e,t){for(t&=~k4,t&=~aA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-n_(t),n=1<<r;e[r]=-1,t&=~n}}function yF(e){if((za&6)!==0)throw Error(vr(327));Hb();var t=XI(e,0);if((t&1)===0)return Kp(e,zl()),null;var r=fC(e,t);if(e.tag!==0&&r===2){var n=fM(e);n!==0&&(t=n,r=FM(e,n))}if(r===1)throw r=ZS,p0(e,0),Ty(e,t),Kp(e,zl()),r;if(r===6)throw Error(vr(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,n0(e,Wp,Hm),Kp(e,zl()),null}function L4(e,t){var r=za;za|=1;try{return e(t)}finally{za=r,za===0&&(sx=zl()+500,rA&&tv())}}function x0(e){Ny!==null&&Ny.tag===0&&(za&6)===0&&Hb();var t=za;za|=1;var r=vd.transition,n=Os;try{if(vd.transition=null,Os=1,e)return e()}finally{Os=n,vd.transition=r,za=t,(za&6)===0&&tv()}}function N4(){wh=Rb.current,Lu(Rb)}function p0(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MK(r)),sc!==null)for(r=sc.return;r!==null;){var n=r;switch(y4(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&JI();break;case 3:ax(),Lu(Hp),Lu(Gf),w4();break;case 5:x4(n);break;case 4:ax();break;case 13:Lu(Ku);break;case 19:Lu(Ku);break;case 10:_4(n.type._context);break;case 22:case 23:N4()}r=r.return}if(Cc=e,sc=e=Wy(e.current,null),Sf=wh=t,Ic=0,ZS=null,k4=aA=b0=0,Wp=SS=null,t_!==null){for(t=0;t<t_.length;t++)if(r=t_[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,u=r.pending;if(u!==null){var s=u.next;u.next=i,n.next=s}r.pending=n}t_=null}return e}function CU(e,t){do{var r=sc;try{if(d4(),EI.current=sC,aC){for(var n=el.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}aC=!1}if(v0=0,Hc=Ec=el=null,xS=!1,XS=0,O4.current=null,r===null||r.return===null){Ic=1,ZS=t,sc=null;break}e:{var u=e,s=r.return,m=r,v=t;if(t=Sf,m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var _=v,P=m,C=P.tag;if((P.mode&1)===0&&(C===0||C===11||C===15)){var I=P.alternate;I?(P.updateQueue=I.updateQueue,P.memoizedState=I.memoizedState,P.lanes=I.lanes):(P.updateQueue=null,P.memoizedState=null)}var k=rF(s);if(k!==null){k.flags&=-257,nF(k,s,m,u,t),k.mode&1&&tF(u,_,t),t=k,v=_;var F=t.updateQueue;if(F===null){var V=new Set;V.add(v),t.updateQueue=V}else F.add(v);break e}else{if((t&1)===0){tF(u,_,t),M4();break e}v=Error(vr(426))}}else if($u&&m.mode&1){var Y=rF(s);if(Y!==null){(Y.flags&65536)===0&&(Y.flags|=256),nF(Y,s,m,u,t),v4(v);break e}}u=v,Ic!==4&&(Ic=2),SS===null?SS=[u]:SS.push(u),v=A4(v,m),m=s;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var q=lU(m,v,t);W6(m,q);break e;case 1:u=v;var M=m.type,j=m.stateNode;if((m.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(jy===null||!jy.has(j)))){m.flags|=65536,t&=-t,m.lanes|=t;var G=cU(m,u,t);W6(m,G);break e}}m=m.return}while(m!==null)}kU(r)}catch(J){t=J,sc===r&&r!==null&&(sc=r=r.return);continue}break}while(1)}function AU(){var e=uC.current;return uC.current=sC,e===null?sC:e}function M4(){(Ic===0||Ic===3||Ic===2)&&(Ic=4),Cc===null||(b0&268435455)===0&&(aA&268435455)===0||Ty(Cc,Sf)}function fC(e,t){var r=za;za|=2;var n=AU();(Cc!==e||Sf!==t)&&(Hm=null,p0(e,t));do try{iJ();break}catch(i){CU(e,i)}while(1);if(d4(),za=r,uC.current=n,sc!==null)throw Error(vr(261));return Cc=null,Sf=0,Ic}function iJ(){for(;sc!==null;)OU(sc)}function oJ(){for(;sc!==null&&!TZ();)OU(sc)}function OU(e){var t=LU(e.alternate,e,wh);e.memoizedProps=e.pendingProps,t===null?kU(e):sc=t,O4.current=null}function kU(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=HK(r,t,wh),r!==null){sc=r;return}}else{if(r=JK(r,t),r!==null){r.flags&=32767,sc=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ic=6,sc=null;return}}if(t=t.sibling,t!==null){sc=t;return}sc=t=e}while(t!==null);Ic===0&&(Ic=5)}function n0(e,t,r){var n=Os,i=vd.transition;try{vd.transition=null,Os=1,aJ(e,t,r,n)}finally{vd.transition=i,Os=n}return null}function aJ(e,t,r,n){do Hb();while(Ny!==null);if((za&6)!==0)throw Error(vr(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(vr(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if($Z(e,u),e===Cc&&(sc=Cc=null,Sf=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||DP||(DP=!0,NU(WI,function(){return Hb(),null})),u=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||u){u=vd.transition,vd.transition=null;var s=Os;Os=1;var m=za;za|=4,O4.current=null,eJ(e,r),SU(r,e),CK(gM),YI=!!mM,gM=mM=null,e.current=r,tJ(r),LZ(),za=m,Os=s,vd.transition=u}else e.current=r;if(DP&&(DP=!1,Ny=e,cC=i),u=e.pendingLanes,u===0&&(jy=null),RZ(r.stateNode),Kp(e,zl()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(lC)throw lC=!1,e=DM,DM=null,e;return(cC&1)!==0&&e.tag!==0&&Hb(),u=e.pendingLanes,(u&1)!==0?e===zM?ES++:(ES=0,zM=e):ES=0,tv(),null}function Hb(){if(Ny!==null){var e=c7(cC),t=vd.transition,r=Os;try{if(vd.transition=null,Os=16>e?16:e,Ny===null)var n=!1;else{if(e=Ny,Ny=null,cC=0,(za&6)!==0)throw Error(vr(331));var i=za;for(za|=4,mn=e.current;mn!==null;){var u=mn,s=u.child;if((mn.flags&16)!==0){var m=u.deletions;if(m!==null){for(var v=0;v<m.length;v++){var _=m[v];for(mn=_;mn!==null;){var P=mn;switch(P.tag){case 0:case 11:case 15:wS(8,P,u)}var C=P.child;if(C!==null)C.return=P,mn=C;else for(;mn!==null;){P=mn;var I=P.sibling,k=P.return;if(bU(P),P===_){mn=null;break}if(I!==null){I.return=k,mn=I;break}mn=k}}}var F=u.alternate;if(F!==null){var V=F.child;if(V!==null){F.child=null;do{var Y=V.sibling;V.sibling=null,V=Y}while(V!==null)}}mn=u}}if((u.subtreeFlags&2064)!==0&&s!==null)s.return=u,mn=s;else e:for(;mn!==null;){if(u=mn,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:wS(9,u,u.return)}var q=u.sibling;if(q!==null){q.return=u.return,mn=q;break e}mn=u.return}}var M=e.current;for(mn=M;mn!==null;){s=mn;var j=s.child;if((s.subtreeFlags&2064)!==0&&j!==null)j.return=s,mn=j;else e:for(s=M;mn!==null;){if(m=mn,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:oA(9,m)}}catch(J){vl(m,m.return,J)}if(m===s){mn=null;break e}var G=m.sibling;if(G!==null){G.return=m.return,mn=G;break e}mn=m.return}}if(za=i,tv(),Q_&&typeof Q_.onPostCommitFiberRoot=="function")try{Q_.onPostCommitFiberRoot(KC,e)}catch{}n=!0}return n}finally{Os=r,vd.transition=t}}return!1}function vF(e,t,r){t=A4(r,t),t=lU(e,t,1),Fy(e,t),t=dp(),e=sA(e,1),e!==null&&(hE(e,1,t),Kp(e,t))}function vl(e,t,r){if(e.tag===3)vF(e,e,r);else for(;t!==null;){if(t.tag===3){vF(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jy===null||!jy.has(n))){e=A4(r,e),e=cU(t,e,1),Fy(t,e),e=dp(),t=sA(t,1),t!==null&&(hE(t,1,e),Kp(t,e));break}}t=t.return}}function sJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dp(),e.pingedLanes|=e.suspendedLanes&r,Cc===e&&(Sf&r)===r&&(Ic===4||Ic===3&&(Sf&130023424)===Sf&&500>zl()-T4?p0(e,0):k4|=r),Kp(e,t)}function TU(e,t){t===0&&((e.mode&1)===0?t=1:(t=PP,PP<<=1,(PP&130023424)===0&&(PP=4194304)));var r=dp();e=sA(e,t),e!==null&&(hE(e,t,r),Kp(e,r))}function uJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),TU(e,r)}function lJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(vr(314))}n!==null&&n.delete(t),TU(e,r)}var LU;LU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Hp.current)Yp=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Yp=!1,KK(e,t,r);Yp=(e.flags&131072)!==0}else Yp=!1,$u&&(t.flags&1048576)!==0&&j7(t,iC,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=nx(t,Gf.current);Yb(t,r),i=E4(null,t,n,e,i,r);var u=P4();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zp(n)?(u=!0,QI(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,m4(t),i.updater=nA,t.stateNode=i,i._reactInternals=t,EM(t,n,e,r),t=kM(null,t,n,!0,u,r)):(t.tag=0,$u&&u&&g4(t),cp(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=fJ(n),e=Kd(n,e),i){case 0:t=OM(null,t,n,e,r);break e;case 1:t=aF(null,t,n,e,r);break e;case 11:t=iF(null,t,n,e,r);break e;case 14:t=oF(null,t,n,Kd(n.type,e),r);break e}throw Error(vr(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Kd(n,i),OM(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Kd(n,i),aF(e,t,n,i,r);case 3:e:{if(gU(t),e===null)throw Error(vr(387));n=t.pendingProps,u=t.memoizedState,i=u.element,D7(e,t),rC(t,n,null,r);var s=t.memoizedState;if(n=s.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=Error(vr(423)),t=sF(e,t,n,r,i);break e}else if(n!==i){i=Error(vr(424)),t=sF(e,t,n,r,i);break e}else for(Xp=rg(t.stateNode.containerInfo.firstChild),Ch=t,$u=!0,Qd=null,r=U7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ix(),n===i){t=ug(e,t,r);break e}cp(e,t,n,r)}t=t.child}return t;case 5:return q7(t),e===null&&IM(t),n=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,s=i.children,yM(n,i)?s=null:u!==null&&yM(n,u)&&(t.flags|=32),mU(e,t),cp(e,t,s,r),t.child;case 6:return e===null&&IM(t),null;case 13:return yU(e,t,r);case 4:return b4(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ox(t,null,n,r):cp(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Kd(n,i),iF(e,t,n,i,r);case 7:return cp(e,t,t.pendingProps,r),t.child;case 8:return cp(e,t,t.pendingProps.children,r),t.child;case 12:return cp(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,u=t.memoizedProps,s=i.value,_u(eC,n._currentValue),n._currentValue=s,u!==null)if(i_(u.value,s)){if(u.children===i.children&&!Hp.current){t=ug(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var m=u.dependencies;if(m!==null){s=u.child;for(var v=m.firstContext;v!==null;){if(v.context===n){if(u.tag===1){v=og(-1,r&-r),v.tag=2;var _=u.updateQueue;if(_!==null){_=_.shared;var P=_.pending;P===null?v.next=v:(v.next=P.next,P.next=v),_.pending=v}}u.lanes|=r,v=u.alternate,v!==null&&(v.lanes|=r),wM(u.return,r,t),m.lanes|=r;break}v=v.next}}else if(u.tag===10)s=u.type===t.type?null:u.child;else if(u.tag===18){if(s=u.return,s===null)throw Error(vr(341));s.lanes|=r,m=s.alternate,m!==null&&(m.lanes|=r),wM(s,r,t),s=u.sibling}else s=u.child;if(s!==null)s.return=u;else for(s=u;s!==null;){if(s===t){s=null;break}if(u=s.sibling,u!==null){u.return=s.return,s=u;break}s=s.return}u=s}cp(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Yb(t,r),i=xd(i),n=n(i),t.flags|=1,cp(e,t,n,r),t.child;case 14:return n=t.type,i=Kd(n,t.pendingProps),i=Kd(n.type,i),oF(e,t,n,i,r);case 15:return dU(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Kd(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zp(n)?(e=!0,QI(t)):e=!1,Yb(t,r),F7(t,n,i),EM(t,n,i,r),kM(null,t,n,!0,e,r);case 19:return vU(e,t,r);case 22:return _U(e,t,r)}throw Error(vr(156,t.tag))};function NU(e,t){return a7(e,t)}function cJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gd(e,t,r,n){return new cJ(e,t,r,n)}function R4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fJ(e){if(typeof e=="function")return R4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===t4)return 11;if(e===r4)return 14}return 2}function Wy(e,t){var r=e.alternate;return r===null?(r=gd(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function AI(e,t,r,n,i,u){var s=2;if(n=e,typeof e=="function")R4(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Pb:return h0(r.children,i,u,t);case e4:s=8,i|=8;break;case ZN:return e=gd(12,r,t,i|2),e.elementType=ZN,e.lanes=u,e;case KN:return e=gd(13,r,t,i),e.elementType=KN,e.lanes=u,e;case JN:return e=gd(19,r,t,i),e.elementType=JN,e.lanes=u,e;case q$:return pC(r,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $$:s=10;break e;case U$:s=9;break e;case t4:s=11;break e;case r4:s=14;break e;case Py:s=16,n=null;break e}throw Error(vr(130,e==null?e:typeof e,""))}return t=gd(s,r,t,i),t.elementType=e,t.type=n,t.lanes=u,t}function h0(e,t,r,n){return e=gd(7,e,n,t),e.lanes=r,e}function pC(e,t,r,n){return e=gd(22,e,n,t),e.elementType=q$,e.lanes=r,e.stateNode={},e}function GL(e,t,r){return e=gd(6,e,null,t),e.lanes=r,e}function WL(e,t,r){return t=gd(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pJ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=CL(0),this.expirationTimes=CL(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CL(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function D4(e,t,r,n,i,u,s,m,v){return e=new pJ(e,t,r,m,v),t===1?(t=1,u===!0&&(t|=8)):t=0,u=gd(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},m4(u),e}function hJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eb,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MU(e){if(!e)return Gy;e=e._reactInternals;e:{if(z0(e)!==e||e.tag!==1)throw Error(vr(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zp(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(vr(171))}if(e.tag===1){var r=e.type;if(Zp(r))return M7(e,r,t)}return t}function RU(e,t,r,n,i,u,s,m,v){return e=D4(r,n,!0,e,i,u,s,m,v),e.context=MU(null),r=e.current,n=dp(),i=By(r),u=og(n,i),u.callback=t!=null?t:null,Fy(r,u),e.current.lanes=i,hE(e,i,n),Kp(e,n),e}function uA(e,t,r,n){var i=t.current,u=dp(),s=By(i);return r=MU(r),t.context===null?t.context=r:t.pendingContext=r,t=og(u,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),Fy(i,t),e=bd(i,s,u),e!==null&&SI(e,i,s),s}function hC(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function z4(e,t){bF(e,t),(e=e.alternate)&&bF(e,t)}function dJ(){return null}var DU=typeof reportError=="function"?reportError:function(e){console.error(e)};function F4(e){this._internalRoot=e}lA.prototype.render=F4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(vr(409));uA(e,t,null,null)};lA.prototype.unmount=F4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;x0(function(){uA(null,e,null,null)}),t[sg]=null}};function lA(e){this._internalRoot=e}lA.prototype.unstable_scheduleHydration=function(e){if(e){var t=h7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ky.length&&t!==0&&t<ky[r].priority;r++);ky.splice(r,0,e),r===0&&_7(e)}};function j4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xF(){}function _J(e,t,r,n,i){if(i){if(typeof n=="function"){var u=n;n=function(){var _=hC(s);u.call(_)}}var s=RU(t,n,e,0,null,!1,!1,"",xF);return e._reactRootContainer=s,e[sg]=s.current,US(e.nodeType===8?e.parentNode:e),x0(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var m=n;n=function(){var _=hC(v);m.call(_)}}var v=D4(e,0,!1,null,null,!1,!1,"",xF);return e._reactRootContainer=v,e[sg]=v.current,US(e.nodeType===8?e.parentNode:e),x0(function(){uA(t,v,r,n)}),v}function fA(e,t,r,n,i){var u=r._reactRootContainer;if(u){var s=u;if(typeof i=="function"){var m=i;i=function(){var v=hC(s);m.call(v)}}uA(t,s,e,i)}else s=_J(r,t,e,i,n);return hC(s)}f7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jw(t.pendingLanes);r!==0&&(o4(t,r|1),Kp(t,zl()),(za&6)===0&&(sx=zl()+500,tv()))}break;case 13:var n=dp();x0(function(){return bd(e,1,n)}),z4(e,1)}};a4=function(e){if(e.tag===13){var t=dp();bd(e,134217728,t),z4(e,134217728)}};p7=function(e){if(e.tag===13){var t=dp(),r=By(e);bd(e,r,t),z4(e,r)}};h7=function(){return Os};d7=function(e,t){var r=Os;try{return Os=e,t()}finally{Os=r}};uM=function(e,t,r){switch(t){case"input":if(tM(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=tA(n);if(!i)throw Error(vr(90));G$(n),tM(n,i)}}}break;case"textarea":X$(e,r);break;case"select":t=r.value,t!=null&&Vb(e,!!r.multiple,t,!1)}};e7=L4;t7=x0;var mJ={usingClientEntryPoint:!1,Events:[_E,Ob,tA,J$,Q$,L4]},zw={findFiberByHostInstance:s0,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},gJ={bundleType:zw.bundleType,version:zw.version,rendererPackageName:zw.rendererPackageName,rendererConfig:zw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fg.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i7(e),e===null?null:e.stateNode},findFiberByHostInstance:zw.findFiberByHostInstance||dJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var zP=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zP.isDisabled&&zP.supportsFiber)try{KC=zP.inject(gJ),Q_=zP}catch{}}kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mJ;kh.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j4(t))throw Error(vr(200));return hJ(e,t,null,r)};kh.createRoot=function(e,t){if(!j4(e))throw Error(vr(299));var r=!1,n="",i=DU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=D4(e,1,!1,null,null,r,!1,n,i),e[sg]=t.current,US(e.nodeType===8?e.parentNode:e),new F4(t)};kh.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(vr(188)):(e=Object.keys(e).join(","),Error(vr(268,e)));return e=i7(t),e=e===null?null:e.stateNode,e};kh.flushSync=function(e){return x0(e)};kh.hydrate=function(e,t,r){if(!cA(t))throw Error(vr(200));return fA(null,e,t,!0,r)};kh.hydrateRoot=function(e,t,r){if(!j4(e))throw Error(vr(405));var n=r!=null&&r.hydratedSources||null,i=!1,u="",s=DU;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=RU(t,null,e,1,r!=null?r:null,i,!1,u,s),e[sg]=t.current,US(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new lA(t)};kh.render=function(e,t,r){if(!cA(t))throw Error(vr(200));return fA(null,e,t,!1,r)};kh.unmountComponentAtNode=function(e){if(!cA(e))throw Error(vr(40));return e._reactRootContainer?(x0(function(){fA(null,null,e,!1,function(){e._reactRootContainer=null,e[sg]=null})}),!0):!1};kh.unstable_batchedUpdates=L4;kh.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cA(r))throw Error(vr(200));if(e==null||e._reactInternals===void 0)throw Error(vr(38));return fA(e,t,r,!1,n)};kh.version="18.1.0-next-22edb9f77-20220426";function zU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zU)}catch(e){console.error(e)}}zU(),D$.exports=kh;var FU,yJ=D$.exports;FU=yJ.createRoot;function dC(){return dC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dC.apply(this,arguments)}var l0;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(l0||(l0={}));var wF=function(e){return e},SF="beforeunload",vJ="popstate";function bJ(e){e===void 0&&(e={});var t=e,r=t.window,n=r===void 0?document.defaultView:r,i=n.history;function u(){var pe=n.location,ne=pe.pathname,ee=pe.search,ie=pe.hash,we=i.state||{};return[we.idx,wF({pathname:ne,search:ee,hash:ie,state:we.usr||null,key:we.key||"default"})]}var s=null;function m(){if(s)k.call(s),s=null;else{var pe=l0.Pop,ne=u(),ee=ne[0],ie=ne[1];if(k.length){if(ee!=null){var we=P-ee;we&&(s={action:pe,location:ie,retry:function(){J(we*-1)}},J(we))}}else M(pe)}}n.addEventListener(vJ,m);var v=l0.Pop,_=u(),P=_[0],C=_[1],I=PF(),k=PF();P==null&&(P=0,i.replaceState(dC({},i.state,{idx:P}),""));function F(pe){return typeof pe=="string"?pe:BM(pe)}function V(pe,ne){return ne===void 0&&(ne=null),wF(dC({pathname:C.pathname,hash:"",search:""},typeof pe=="string"?F0(pe):pe,{state:ne,key:xJ()}))}function Y(pe,ne){return[{usr:pe.state,key:pe.key,idx:ne},F(pe)]}function q(pe,ne,ee){return!k.length||(k.call({action:pe,location:ne,retry:ee}),!1)}function M(pe){v=pe;var ne=u();P=ne[0],C=ne[1],I.call({action:v,location:C})}function j(pe,ne){var ee=l0.Push,ie=V(pe,ne);function we(){j(pe,ne)}if(q(ee,ie,we)){var Se=Y(ie,P+1),Pe=Se[0],ae=Se[1];try{i.pushState(Pe,"",ae)}catch{n.location.assign(ae)}M(ee)}}function G(pe,ne){var ee=l0.Replace,ie=V(pe,ne);function we(){G(pe,ne)}if(q(ee,ie,we)){var Se=Y(ie,P),Pe=Se[0],ae=Se[1];i.replaceState(Pe,"",ae),M(ee)}}function J(pe){i.go(pe)}var he={get action(){return v},get location(){return C},createHref:F,push:j,replace:G,go:J,back:function(){J(-1)},forward:function(){J(1)},listen:function(ne){return I.push(ne)},block:function(ne){var ee=k.push(ne);return k.length===1&&n.addEventListener(SF,EF),function(){ee(),k.length||n.removeEventListener(SF,EF)}}};return he}function EF(e){e.preventDefault(),e.returnValue=""}function PF(){var e=[];return{get length(){return e.length},push:function(r){return e.push(r),function(){e=e.filter(function(n){return n!==r})}},call:function(r){e.forEach(function(n){return n&&n(r)})}}}function xJ(){return Math.random().toString(36).substr(2,8)}function BM(e){var t=e.pathname,r=t===void 0?"/":t,n=e.search,i=n===void 0?"":n,u=e.hash,s=u===void 0?"":u;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function F0(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const B4=Jo.exports.createContext(null),$4=Jo.exports.createContext(null),pA=Jo.exports.createContext({outlet:null,matches:[]});function tm(e,t){if(!e)throw new Error(t)}function wJ(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?F0(t):t,i=$U(n.pathname||"/",r);if(i==null)return null;let u=jU(e);SJ(u);let s=null;for(let m=0;s==null&&m<u.length;++m)s=LJ(u[m],i);return s}function jU(e,t,r,n){return t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n=""),e.forEach((i,u)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:u,route:i};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(n)||tm(!1),s.relativePath=s.relativePath.slice(n.length));let m=$y([n,s.relativePath]),v=r.concat(s);i.children&&i.children.length>0&&(i.index===!0&&tm(!1),jU(i.children,t,v,m)),!(i.path==null&&!i.index)&&t.push({path:m,score:kJ(m,i.index),routesMeta:v})}),t}function SJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const EJ=/^:\w+$/,PJ=3,IJ=2,CJ=1,AJ=10,OJ=-2,IF=e=>e==="*";function kJ(e,t){let r=e.split("/"),n=r.length;return r.some(IF)&&(n+=OJ),t&&(n+=IJ),r.filter(i=>!IF(i)).reduce((i,u)=>i+(EJ.test(u)?PJ:u===""?CJ:AJ),n)}function TJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function LJ(e,t){let{routesMeta:r}=e,n={},i="/",u=[];for(let s=0;s<r.length;++s){let m=r[s],v=s===r.length-1,_=i==="/"?t:t.slice(i.length)||"/",P=NJ({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},_);if(!P)return null;Object.assign(n,P.params);let C=m.route;u.push({params:n,pathname:$y([i,P.pathname]),pathnameBase:UU($y([i,P.pathnameBase])),route:C}),P.pathnameBase!=="/"&&(i=$y([i,P.pathnameBase]))}return u}function NJ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=MJ(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let u=i[0],s=u.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:n.reduce((_,P,C)=>{if(P==="*"){let I=m[C]||"";s=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}return _[P]=RJ(m[C]||""),_},{}),pathname:u,pathnameBase:s,pattern:e}}function MJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,m)=>(n.push(m),"([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),n]}function RJ(e,t){try{return decodeURIComponent(e)}catch{return e}}function DJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?F0(e):e;return{pathname:r?r.startsWith("/")?r:zJ(r,t):t,search:jJ(n),hash:BJ(i)}}function zJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function BU(e,t,r){let n=typeof e=="string"?F0(e):e,i=e===""||n.pathname===""?"/":n.pathname,u;if(i==null)u=r;else{let m=t.length-1;if(i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),m-=1;n.pathname=v.join("/")}u=m>=0?t[m]:"/"}let s=DJ(n,u);return i&&i!=="/"&&i.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function FJ(e){return e===""||e.pathname===""?"/":typeof e=="string"?F0(e).pathname:e.pathname}function $U(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=e.charAt(t.length);return r&&r!=="/"?null:e.slice(t.length)||"/"}const $y=e=>e.join("/").replace(/\/\/+/g,"/"),UU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $J(e){gE()||tm(!1);let{basename:t,navigator:r}=Jo.exports.useContext(B4),{hash:n,pathname:i,search:u}=qU(e),s=i;if(t!=="/"){let m=FJ(e),v=m!=null&&m.endsWith("/");s=i==="/"?t+(v?"/":""):$y([t,i])}return r.createHref({pathname:s,search:u,hash:n})}function gE(){return Jo.exports.useContext($4)!=null}function yE(){return gE()||tm(!1),Jo.exports.useContext($4).location}function UJ(){gE()||tm(!1);let{basename:e,navigator:t}=Jo.exports.useContext(B4),{matches:r}=Jo.exports.useContext(pA),{pathname:n}=yE(),i=JSON.stringify(r.map(m=>m.pathnameBase)),u=Jo.exports.useRef(!1);return Jo.exports.useEffect(()=>{u.current=!0}),Jo.exports.useCallback(function(m,v){if(v===void 0&&(v={}),!u.current)return;if(typeof m=="number"){t.go(m);return}let _=BU(m,JSON.parse(i),n);e!=="/"&&(_.pathname=$y([e,_.pathname])),(v.replace?t.replace:t.push)(_,v.state)},[e,t,i,n])}function qU(e){let{matches:t}=Jo.exports.useContext(pA),{pathname:r}=yE(),n=JSON.stringify(t.map(i=>i.pathnameBase));return Jo.exports.useMemo(()=>BU(e,JSON.parse(n),r),[e,n,r])}function qJ(e,t){gE()||tm(!1);let{matches:r}=Jo.exports.useContext(pA),n=r[r.length-1],i=n?n.params:{};n&&n.pathname;let u=n?n.pathnameBase:"/";n&&n.route;let s=yE(),m;if(t){var v;let I=typeof t=="string"?F0(t):t;u==="/"||((v=I.pathname)==null?void 0:v.startsWith(u))||tm(!1),m=I}else m=s;let _=m.pathname||"/",P=u==="/"?_:_.slice(u.length)||"/",C=wJ(e,{pathname:P});return VJ(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},i,I.params),pathname:$y([u,I.pathname]),pathnameBase:I.pathnameBase==="/"?u:$y([u,I.pathnameBase])})),r)}function VJ(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((r,n,i)=>Jo.exports.createElement(pA.Provider,{children:n.route.element!==void 0?n.route.element:r,value:{outlet:r,matches:t.concat(e.slice(0,i+1))}}),null)}function eS(e){tm(!1)}function GJ(e){let{basename:t="/",children:r=null,location:n,navigationType:i=l0.Pop,navigator:u,static:s=!1}=e;gE()&&tm(!1);let m=UU(t),v=Jo.exports.useMemo(()=>({basename:m,navigator:u,static:s}),[m,u,s]);typeof n=="string"&&(n=F0(n));let{pathname:_="/",search:P="",hash:C="",state:I=null,key:k="default"}=n,F=Jo.exports.useMemo(()=>{let V=$U(_,m);return V==null?null:{pathname:V,search:P,hash:C,state:I,key:k}},[m,_,P,C,I,k]);return F==null?null:Jo.exports.createElement(B4.Provider,{value:v},Jo.exports.createElement($4.Provider,{children:r,value:{location:F,navigationType:i}}))}function WJ(e){let{children:t,location:r}=e;return qJ($M(t),r)}function $M(e){let t=[];return Jo.exports.Children.forEach(e,r=>{if(!Jo.exports.isValidElement(r))return;if(r.type===Jo.exports.Fragment){t.push.apply(t,$M(r.props.children));return}r.type!==eS&&tm(!1);let n={caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path};r.props.children&&(n.children=$M(r.props.children)),t.push(n)}),t}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function UM(){return UM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UM.apply(this,arguments)}function XJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,u;for(u=0;u<n.length;u++)i=n[u],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const YJ=["onClick","reloadDocument","replace","state","target","to"];function HJ(e){let{basename:t,children:r,window:n}=e,i=Jo.exports.useRef();i.current==null&&(i.current=bJ({window:n}));let u=i.current,[s,m]=Jo.exports.useState({action:u.action,location:u.location});return Jo.exports.useLayoutEffect(()=>u.listen(m),[u]),Jo.exports.createElement(GJ,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:u})}function ZJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const au=Jo.exports.forwardRef(function(t,r){let{onClick:n,reloadDocument:i,replace:u=!1,state:s,target:m,to:v}=t,_=XJ(t,YJ),P=$J(v),C=KJ(v,{replace:u,state:s,target:m});function I(k){n&&n(k),!k.defaultPrevented&&!i&&C(k)}return Jo.exports.createElement("a",UM({},_,{href:P,onClick:I,ref:r,target:m}))});function KJ(e,t){let{target:r,replace:n,state:i}=t===void 0?{}:t,u=UJ(),s=yE(),m=qU(e);return Jo.exports.useCallback(v=>{if(v.button===0&&(!r||r==="_self")&&!ZJ(v)){v.preventDefault();let _=!!n||BM(s)===BM(m);u(e,{replace:_,state:i})}},[s,u,m,n,i,r,e])}var VU={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){return function(r){function n(u){if(i[u])return i[u].exports;var s=i[u]={exports:{},id:u,loaded:!1};return r[u].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=r,n.c=i,n.p="dist/",n(0)}([function(r,n,i){function u(ae){return ae&&ae.__esModule?ae:{default:ae}}var s=Object.assign||function(ae){for(var Be=1;Be<arguments.length;Be++){var Q=arguments[Be];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(ae[te]=Q[te])}return ae},m=i(1),v=(u(m),i(6)),_=u(v),P=i(7),C=u(P),I=i(8),k=u(I),F=i(9),V=u(F),Y=i(10),q=u(Y),M=i(11),j=u(M),G=i(14),J=u(G),he=[],pe=!1,ne={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ee=function(){var ae=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ae&&(pe=!0),pe)return he=(0,j.default)(he,ne),(0,q.default)(he,ne.once),he},ie=function(){he=(0,J.default)(),ee()},we=function(){he.forEach(function(ae,Be){ae.node.removeAttribute("data-aos"),ae.node.removeAttribute("data-aos-easing"),ae.node.removeAttribute("data-aos-duration"),ae.node.removeAttribute("data-aos-delay")})},Se=function(ae){return ae===!0||ae==="mobile"&&V.default.mobile()||ae==="phone"&&V.default.phone()||ae==="tablet"&&V.default.tablet()||typeof ae=="function"&&ae()===!0},Pe=function(ae){ne=s(ne,ae),he=(0,J.default)();var Be=document.all&&!window.atob;return Se(ne.disable)||Be?we():(ne.disableMutationObserver||k.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),ne.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",ne.easing),document.querySelector("body").setAttribute("data-aos-duration",ne.duration),document.querySelector("body").setAttribute("data-aos-delay",ne.delay),ne.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?ee(!0):ne.startEvent==="load"?window.addEventListener(ne.startEvent,function(){ee(!0)}):document.addEventListener(ne.startEvent,function(){ee(!0)}),window.addEventListener("resize",(0,C.default)(ee,ne.debounceDelay,!0)),window.addEventListener("orientationchange",(0,C.default)(ee,ne.debounceDelay,!0)),window.addEventListener("scroll",(0,_.default)(function(){(0,q.default)(he,ne.once)},ne.throttleDelay)),ne.disableMutationObserver||k.default.ready("[data-aos]",ie),he)};r.exports={init:Pe,refresh:ee,refreshHard:ie}},function(r,n){},,,,,function(r,n){(function(i){function u(Se,Pe,ae){function Be(xr){var Lr=Qe,Xr=yt;return Qe=yt=void 0,Ut=xr,Tt=Se.apply(Xr,Lr)}function Q(xr){return Ut=xr,Yt=setTimeout(ve,Pe),Or?Be(xr):Tt}function te(xr){var Lr=xr-It,Xr=xr-Ut,ea=Pe-Lr;return Xt?ie(ea,_t-Xr):ea}function oe(xr){var Lr=xr-It,Xr=xr-Ut;return It===void 0||Lr>=Pe||Lr<0||Xt&&Xr>=_t}function ve(){var xr=we();return oe(xr)?de(xr):void(Yt=setTimeout(ve,te(xr)))}function de(xr){return Yt=void 0,Ht&&Qe?Be(xr):(Qe=yt=void 0,Tt)}function ze(){Yt!==void 0&&clearTimeout(Yt),Ut=0,Qe=It=yt=Yt=void 0}function ye(){return Yt===void 0?Tt:de(we())}function Je(){var xr=we(),Lr=oe(xr);if(Qe=arguments,yt=this,It=xr,Lr){if(Yt===void 0)return Q(It);if(Xt)return Yt=setTimeout(ve,Pe),Be(It)}return Yt===void 0&&(Yt=setTimeout(ve,Pe)),Tt}var Qe,yt,_t,Tt,Yt,It,Ut=0,Or=!1,Xt=!1,Ht=!0;if(typeof Se!="function")throw new TypeError(I);return Pe=P(Pe)||0,m(ae)&&(Or=!!ae.leading,Xt="maxWait"in ae,_t=Xt?ee(P(ae.maxWait)||0,Pe):_t,Ht="trailing"in ae?!!ae.trailing:Ht),Je.cancel=ze,Je.flush=ye,Je}function s(Se,Pe,ae){var Be=!0,Q=!0;if(typeof Se!="function")throw new TypeError(I);return m(ae)&&(Be="leading"in ae?!!ae.leading:Be,Q="trailing"in ae?!!ae.trailing:Q),u(Se,Pe,{leading:Be,maxWait:Pe,trailing:Q})}function m(Se){var Pe=typeof Se=="undefined"?"undefined":C(Se);return!!Se&&(Pe=="object"||Pe=="function")}function v(Se){return!!Se&&(typeof Se=="undefined"?"undefined":C(Se))=="object"}function _(Se){return(typeof Se=="undefined"?"undefined":C(Se))=="symbol"||v(Se)&&ne.call(Se)==F}function P(Se){if(typeof Se=="number")return Se;if(_(Se))return k;if(m(Se)){var Pe=typeof Se.valueOf=="function"?Se.valueOf():Se;Se=m(Pe)?Pe+"":Pe}if(typeof Se!="string")return Se===0?Se:+Se;Se=Se.replace(V,"");var ae=q.test(Se);return ae||M.test(Se)?j(Se.slice(2),ae?2:8):Y.test(Se)?k:+Se}var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},I="Expected a function",k=NaN,F="[object Symbol]",V=/^\s+|\s+$/g,Y=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,M=/^0o[0-7]+$/i,j=parseInt,G=(typeof i=="undefined"?"undefined":C(i))=="object"&&i&&i.Object===Object&&i,J=(typeof self=="undefined"?"undefined":C(self))=="object"&&self&&self.Object===Object&&self,he=G||J||Function("return this")(),pe=Object.prototype,ne=pe.toString,ee=Math.max,ie=Math.min,we=function(){return he.Date.now()};r.exports=s}).call(n,function(){return this}())},function(r,n){(function(i){function u(we,Se,Pe){function ae(Ht){var xr=Je,Lr=Qe;return Je=Qe=void 0,It=Ht,_t=we.apply(Lr,xr)}function Be(Ht){return It=Ht,Tt=setTimeout(oe,Se),Ut?ae(Ht):_t}function Q(Ht){var xr=Ht-Yt,Lr=Ht-It,Xr=Se-xr;return Or?ee(Xr,yt-Lr):Xr}function te(Ht){var xr=Ht-Yt,Lr=Ht-It;return Yt===void 0||xr>=Se||xr<0||Or&&Lr>=yt}function oe(){var Ht=ie();return te(Ht)?ve(Ht):void(Tt=setTimeout(oe,Q(Ht)))}function ve(Ht){return Tt=void 0,Xt&&Je?ae(Ht):(Je=Qe=void 0,_t)}function de(){Tt!==void 0&&clearTimeout(Tt),It=0,Je=Yt=Qe=Tt=void 0}function ze(){return Tt===void 0?_t:ve(ie())}function ye(){var Ht=ie(),xr=te(Ht);if(Je=arguments,Qe=this,Yt=Ht,xr){if(Tt===void 0)return Be(Yt);if(Or)return Tt=setTimeout(oe,Se),ae(Yt)}return Tt===void 0&&(Tt=setTimeout(oe,Se)),_t}var Je,Qe,yt,_t,Tt,Yt,It=0,Ut=!1,Or=!1,Xt=!0;if(typeof we!="function")throw new TypeError(C);return Se=_(Se)||0,s(Pe)&&(Ut=!!Pe.leading,Or="maxWait"in Pe,yt=Or?ne(_(Pe.maxWait)||0,Se):yt,Xt="trailing"in Pe?!!Pe.trailing:Xt),ye.cancel=de,ye.flush=ze,ye}function s(we){var Se=typeof we=="undefined"?"undefined":P(we);return!!we&&(Se=="object"||Se=="function")}function m(we){return!!we&&(typeof we=="undefined"?"undefined":P(we))=="object"}function v(we){return(typeof we=="undefined"?"undefined":P(we))=="symbol"||m(we)&&pe.call(we)==k}function _(we){if(typeof we=="number")return we;if(v(we))return I;if(s(we)){var Se=typeof we.valueOf=="function"?we.valueOf():we;we=s(Se)?Se+"":Se}if(typeof we!="string")return we===0?we:+we;we=we.replace(F,"");var Pe=Y.test(we);return Pe||q.test(we)?M(we.slice(2),Pe?2:8):V.test(we)?I:+we}var P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},C="Expected a function",I=NaN,k="[object Symbol]",F=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,q=/^0o[0-7]+$/i,M=parseInt,j=(typeof i=="undefined"?"undefined":P(i))=="object"&&i&&i.Object===Object&&i,G=(typeof self=="undefined"?"undefined":P(self))=="object"&&self&&self.Object===Object&&self,J=j||G||Function("return this")(),he=Object.prototype,pe=he.toString,ne=Math.max,ee=Math.min,ie=function(){return J.Date.now()};r.exports=u}).call(n,function(){return this}())},function(r,n){function i(P){var C=void 0,I=void 0;for(C=0;C<P.length;C+=1)if(I=P[C],I.dataset&&I.dataset.aos||I.children&&i(I.children))return!0;return!1}function u(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function s(){return!!u()}function m(P,C){var I=window.document,k=u(),F=new k(v);_=C,F.observe(I.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function v(P){P&&P.forEach(function(C){var I=Array.prototype.slice.call(C.addedNodes),k=Array.prototype.slice.call(C.removedNodes),F=I.concat(k);if(i(F))return _()})}Object.defineProperty(n,"__esModule",{value:!0});var _=function(){};n.default={isSupported:s,ready:m}},function(r,n){function i(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function u(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function I(k,F){for(var V=0;V<F.length;V++){var Y=F[V];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(k,Y.key,Y)}}return function(k,F,V){return F&&I(k.prototype,F),V&&I(k,V),k}}(),m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,v=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,_=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,P=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,C=function(){function I(){i(this,I)}return s(I,[{key:"phone",value:function(){var k=u();return!(!m.test(k)&&!v.test(k.substr(0,4)))}},{key:"mobile",value:function(){var k=u();return!(!_.test(k)&&!P.test(k.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),I}();n.default=new C},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(s,m,v){var _=s.node.getAttribute("data-aos-once");m>s.position?s.node.classList.add("aos-animate"):typeof _!="undefined"&&(_==="false"||!v&&_!=="true")&&s.node.classList.remove("aos-animate")},u=function(s,m){var v=window.pageYOffset,_=window.innerHeight;s.forEach(function(P,C){i(P,_+v,m)})};n.default=u},function(r,n,i){function u(_){return _&&_.__esModule?_:{default:_}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),m=u(s),v=function(_,P){return _.forEach(function(C,I){C.node.classList.add("aos-init"),C.position=(0,m.default)(C.node,P.offset)}),_};n.default=v},function(r,n,i){function u(_){return _&&_.__esModule?_:{default:_}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(13),m=u(s),v=function(_,P){var C=0,I=0,k=window.innerHeight,F={offset:_.getAttribute("data-aos-offset"),anchor:_.getAttribute("data-aos-anchor"),anchorPlacement:_.getAttribute("data-aos-anchor-placement")};switch(F.offset&&!isNaN(F.offset)&&(I=parseInt(F.offset)),F.anchor&&document.querySelectorAll(F.anchor)&&(_=document.querySelectorAll(F.anchor)[0]),C=(0,m.default)(_).top,F.anchorPlacement){case"top-bottom":break;case"center-bottom":C+=_.offsetHeight/2;break;case"bottom-bottom":C+=_.offsetHeight;break;case"top-center":C+=k/2;break;case"bottom-center":C+=k/2+_.offsetHeight;break;case"center-center":C+=k/2+_.offsetHeight/2;break;case"top-top":C+=k;break;case"bottom-top":C+=_.offsetHeight+k;break;case"center-top":C+=_.offsetHeight/2+k}return F.anchorPlacement||F.offset||isNaN(P)||(I=P),C+I};n.default=v},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(u){for(var s=0,m=0;u&&!isNaN(u.offsetLeft)&&!isNaN(u.offsetTop);)s+=u.offsetLeft-(u.tagName!="BODY"?u.scrollLeft:0),m+=u.offsetTop-(u.tagName!="BODY"?u.scrollTop:0),u=u.offsetParent;return{top:m,left:s}};n.default=i},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(u){return u=u||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(u,function(s){return{node:s}})};n.default=i}])})})(VU);var JJ=eZ(VU.exports),hA={exports:{}},dA={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QJ=Jo.exports,eQ=Symbol.for("react.element"),tQ=Symbol.for("react.fragment"),rQ=Object.prototype.hasOwnProperty,nQ=QJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iQ={key:!0,ref:!0,__self:!0,__source:!0};function GU(e,t,r){var n,i={},u=null,s=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)rQ.call(t,n)&&!iQ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:eQ,type:e,key:u,ref:s,props:i,_owner:nQ.current}}dA.Fragment=tQ;dA.jsx=GU;dA.jsxs=GU;hA.exports=dA;const ft=hA.exports.jsx,Kr=hA.exports.jsxs,oQ=hA.exports.Fragment;function _A(){const[e,t]=Jo.exports.useState(!0);return Jo.exports.useEffect(()=>{const r=()=>{window.pageYOffset>10?t(!1):t(!0)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[e]),ft("header",{className:`fixed w-full z-30 md:bg-opacity-90 transition duration-300 ease-in-out ${!e&&"bg-white backdrop-blur-sm shadow-lg"}`,children:ft("div",{className:"max-w-6xl mx-auto px-5 sm:px-6",children:Kr("div",{className:"flex items-center justify-between h-16 md:h-20",children:[ft("div",{className:"flex-shrink-0 mr-4",children:ft(au,{to:"/",className:"block","aria-label":"Cruip",children:Kr("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[ft("defs",{children:Kr("radialGradient",{cx:"21.152%",cy:"86.063%",fx:"21.152%",fy:"86.063%",r:"79.941%",id:"header-logo",children:[ft("stop",{stopColor:"#4FD1C5",offset:"0%"}),ft("stop",{stopColor:"#81E6D9",offset:"25.871%"}),ft("stop",{stopColor:"#338CF5",offset:"100%"})]})}),ft("rect",{width:"32",height:"32",rx:"16",fill:"url(#header-logo)",fillRule:"nonzero"})]})})}),ft("nav",{className:"flex flex-grow",children:Kr("ul",{className:"flex flex-grow justify-end flex-wrap items-center",children:[ft("li",{children:ft(au,{to:"/signin",className:"font-medium text-gray-600 hover:text-gray-900 px-5 py-3 flex items-center transition duration-150 ease-in-out",children:"Sign in"})}),ft("li",{children:Kr(au,{to:"/signup",className:"btn-sm text-gray-200 bg-gray-900 hover:bg-gray-800 ml-3",children:[ft("span",{children:"Sign up"}),ft("svg",{className:"w-3 h-3 fill-current text-gray-400 flex-shrink-0 ml-2 -mr-1",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z",fillRule:"nonzero"})})]})})]})})]})})})}var WU={exports:{}},aQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sQ=aQ,uQ=sQ;function XU(){}function YU(){}YU.resetWarningCache=XU;var lQ=function(){function e(n,i,u,s,m,v){if(v!==uQ){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:YU,resetWarningCache:XU};return r.PropTypes=r,r};WU.exports=lQ();var Ey=WU.exports;mZ.createContext({parent:{}});Ey.oneOfType([Ey.arrayOf(Ey.element),Ey.element.isRequired]),Ey.string,Ey.string,Ey.bool.isRequired,Ey.func.isRequired;function cQ(){return Jo.exports.useState(!1),Kr("section",{className:"relative",children:[ft("div",{className:"absolute left-1/2 transform -translate-x-1/2 bottom-0 pointer-events-none","aria-hidden":"true",children:Kr("svg",{width:"1360",height:"578",viewBox:"0 0 1360 578",xmlns:"http://www.w3.org/2000/svg",children:[ft("defs",{children:Kr("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"illustration-01",children:[ft("stop",{stopColor:"#FFF",offset:"0%"}),ft("stop",{stopColor:"#EAEAEA",offset:"77.402%"}),ft("stop",{stopColor:"#DFDFDF",offset:"100%"})]})}),Kr("g",{fill:"url(#illustration-01)",fillRule:"evenodd",children:[ft("circle",{cx:"1232",cy:"128",r:"128"}),ft("circle",{cx:"155",cy:"443",r:"64"})]})]})}),ft("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:ft("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:Kr("div",{className:"text-center pb-12 md:pb-16",children:[Kr("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tighter tracking-tighter mb-4","data-aos":"zoom-y-out",children:["Just some dummy ",ft("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400",children:"content"})]}),Kr("div",{className:"max-w-3xl mx-auto",children:[ft("p",{className:"text-xl text-gray-600 mb-8","data-aos":"zoom-y-out","data-aos-delay":"150",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Kr("div",{className:"max-w-xs mx-auto sm:max-w-none sm:flex sm:justify-center","data-aos":"zoom-y-out","data-aos-delay":"300",children:[ft("div",{children:ft("a",{className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full mb-4 sm:w-auto sm:mb-0",href:"#0",children:"Start free trial"})}),ft("div",{children:ft("a",{className:"btn text-white bg-gray-900 hover:bg-gray-800 w-full sm:w-auto sm:ml-4",href:"#0",children:"Learn more"})})]})]})]})})})]})}var HU={},U4={},a_={},q4={exports:{}},ZU=function(t,r){return function(){for(var i=new Array(arguments.length),u=0;u<i.length;u++)i[u]=arguments[u];return t.apply(r,i)}},fQ=ZU,j0=Object.prototype.toString;function V4(e){return j0.call(e)==="[object Array]"}function qM(e){return typeof e=="undefined"}function pQ(e){return e!==null&&!qM(e)&&e.constructor!==null&&!qM(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function hQ(e){return j0.call(e)==="[object ArrayBuffer]"}function dQ(e){return typeof FormData!="undefined"&&e instanceof FormData}function _Q(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function mQ(e){return typeof e=="string"}function gQ(e){return typeof e=="number"}function KU(e){return e!==null&&typeof e=="object"}function OI(e){if(j0.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function yQ(e){return j0.call(e)==="[object Date]"}function vQ(e){return j0.call(e)==="[object File]"}function bQ(e){return j0.call(e)==="[object Blob]"}function JU(e){return j0.call(e)==="[object Function]"}function xQ(e){return KU(e)&&JU(e.pipe)}function wQ(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function SQ(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function EQ(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function G4(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),V4(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function VM(){var e={};function t(i,u){OI(e[u])&&OI(i)?e[u]=VM(e[u],i):OI(i)?e[u]=VM({},i):V4(i)?e[u]=i.slice():e[u]=i}for(var r=0,n=arguments.length;r<n;r++)G4(arguments[r],t);return e}function PQ(e,t,r){return G4(t,function(i,u){r&&typeof i=="function"?e[u]=fQ(i,r):e[u]=i}),e}function IQ(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Lh={isArray:V4,isArrayBuffer:hQ,isBuffer:pQ,isFormData:dQ,isArrayBufferView:_Q,isString:mQ,isNumber:gQ,isObject:KU,isPlainObject:OI,isUndefined:qM,isDate:yQ,isFile:vQ,isBlob:bQ,isFunction:JU,isStream:xQ,isURLSearchParams:wQ,isStandardBrowserEnv:EQ,forEach:G4,merge:VM,extend:PQ,trim:SQ,stripBOM:IQ},pb=Lh;function CF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var QU=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(pb.isURLSearchParams(r))i=r.toString();else{var u=[];pb.forEach(r,function(v,_){v===null||typeof v=="undefined"||(pb.isArray(v)?_=_+"[]":v=[v],pb.forEach(v,function(C){pb.isDate(C)?C=C.toISOString():pb.isObject(C)&&(C=JSON.stringify(C)),u.push(CF(_)+"="+CF(C))}))}),i=u.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},CQ=Lh;function mA(){this.handlers=[]}mA.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};mA.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};mA.prototype.forEach=function(t){CQ.forEach(this.handlers,function(n){n!==null&&t(n)})};var AQ=mA,OQ=Lh,kQ=function(t,r){OQ.forEach(t,function(i,u){u!==r&&u.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[u])})},eq=function(t,r,n,i,u){return t.config=r,n&&(t.code=n),t.request=i,t.response=u,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},TQ=eq,tq=function(t,r,n,i,u){var s=new Error(t);return TQ(s,r,n,i,u)},LQ=tq,NQ=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(LQ("Request failed with status code "+n.status,n.config,null,n.request,n))},FP=Lh,MQ=FP.isStandardBrowserEnv()?function(){return{write:function(r,n,i,u,s,m){var v=[];v.push(r+"="+encodeURIComponent(n)),FP.isNumber(i)&&v.push("expires="+new Date(i).toGMTString()),FP.isString(u)&&v.push("path="+u),FP.isString(s)&&v.push("domain="+s),m===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),RQ=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},DQ=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},zQ=RQ,FQ=DQ,jQ=function(t,r){return t&&!zQ(r)?FQ(t,r):r},XL=Lh,BQ=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],$Q=function(t){var r={},n,i,u;return t&&XL.forEach(t.split(`
`),function(m){if(u=m.indexOf(":"),n=XL.trim(m.substr(0,u)).toLowerCase(),i=XL.trim(m.substr(u+1)),n){if(r[n]&&BQ.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},AF=Lh,UQ=AF.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(u){var s=u;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var m=AF.isString(s)?i(s):s;return m.protocol===n.protocol&&m.host===n.host}}():function(){return function(){return!0}}(),jP=Lh,qQ=NQ,VQ=MQ,GQ=QU,WQ=jQ,XQ=$Q,YQ=UQ,YL=tq,OF=function(t){return new Promise(function(n,i){var u=t.data,s=t.headers,m=t.responseType;jP.isFormData(u)&&delete s["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var _=t.auth.username||"",P=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(_+":"+P)}var C=WQ(t.baseURL,t.url);v.open(t.method.toUpperCase(),GQ(C,t.params,t.paramsSerializer),!0),v.timeout=t.timeout;function I(){if(!!v){var F="getAllResponseHeaders"in v?XQ(v.getAllResponseHeaders()):null,V=!m||m==="text"||m==="json"?v.responseText:v.response,Y={data:V,status:v.status,statusText:v.statusText,headers:F,config:t,request:v};qQ(n,i,Y),v=null}}if("onloadend"in v?v.onloadend=I:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(I)},v.onabort=function(){!v||(i(YL("Request aborted",t,"ECONNABORTED",v)),v=null)},v.onerror=function(){i(YL("Network Error",t,null,v)),v=null},v.ontimeout=function(){var V="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(V=t.timeoutErrorMessage),i(YL(V,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},jP.isStandardBrowserEnv()){var k=(t.withCredentials||YQ(C))&&t.xsrfCookieName?VQ.read(t.xsrfCookieName):void 0;k&&(s[t.xsrfHeaderName]=k)}"setRequestHeader"in v&&jP.forEach(s,function(V,Y){typeof u=="undefined"&&Y.toLowerCase()==="content-type"?delete s[Y]:v.setRequestHeader(Y,V)}),jP.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),m&&m!=="json"&&(v.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&v.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(V){!v||(v.abort(),i(V),v=null)}),u||(u=null),v.send(u)})},xf=Lh,kF=kQ,HQ=eq,ZQ={"Content-Type":"application/x-www-form-urlencoded"};function TF(e,t){!xf.isUndefined(e)&&xf.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function KQ(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=OF),e}function JQ(e,t,r){if(xf.isString(e))try{return(t||JSON.parse)(e),xf.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var gA={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:KQ(),transformRequest:[function(t,r){return kF(r,"Accept"),kF(r,"Content-Type"),xf.isFormData(t)||xf.isArrayBuffer(t)||xf.isBuffer(t)||xf.isStream(t)||xf.isFile(t)||xf.isBlob(t)?t:xf.isArrayBufferView(t)?t.buffer:xf.isURLSearchParams(t)?(TF(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):xf.isObject(t)||r&&r["Content-Type"]==="application/json"?(TF(r,"application/json"),JQ(t)):t}],transformResponse:[function(t){var r=this.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,u=!n&&this.responseType==="json";if(u||i&&xf.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(u)throw s.name==="SyntaxError"?HQ(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};gA.headers={common:{Accept:"application/json, text/plain, */*"}};xf.forEach(["delete","get","head"],function(t){gA.headers[t]={}});xf.forEach(["post","put","patch"],function(t){gA.headers[t]=xf.merge(ZQ)});var W4=gA,QQ=Lh,eee=W4,tee=function(t,r,n){var i=this||eee;return QQ.forEach(n,function(s){t=s.call(i,t,r)}),t},rq=function(t){return!!(t&&t.__CANCEL__)},LF=Lh,HL=tee,ree=rq,nee=W4;function ZL(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var iee=function(t){ZL(t),t.headers=t.headers||{},t.data=HL.call(t,t.data,t.headers,t.transformRequest),t.headers=LF.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),LF.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||nee.adapter;return r(t).then(function(i){return ZL(t),i.data=HL.call(t,i.data,i.headers,t.transformResponse),i},function(i){return ree(i)||(ZL(t),i&&i.response&&(i.response.data=HL.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},zf=Lh,nq=function(t,r){r=r||{};var n={},i=["url","method","data"],u=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],m=["validateStatus"];function v(I,k){return zf.isPlainObject(I)&&zf.isPlainObject(k)?zf.merge(I,k):zf.isPlainObject(k)?zf.merge({},k):zf.isArray(k)?k.slice():k}function _(I){zf.isUndefined(r[I])?zf.isUndefined(t[I])||(n[I]=v(void 0,t[I])):n[I]=v(t[I],r[I])}zf.forEach(i,function(k){zf.isUndefined(r[k])||(n[k]=v(void 0,r[k]))}),zf.forEach(u,_),zf.forEach(s,function(k){zf.isUndefined(r[k])?zf.isUndefined(t[k])||(n[k]=v(void 0,t[k])):n[k]=v(void 0,r[k])}),zf.forEach(m,function(k){k in r?n[k]=v(t[k],r[k]):k in t&&(n[k]=v(void 0,t[k]))});var P=i.concat(u).concat(s).concat(m),C=Object.keys(t).concat(Object.keys(r)).filter(function(k){return P.indexOf(k)===-1});return zf.forEach(C,_),n};const oee="axios",aee="0.21.4",see="Promise based HTTP client for the browser and node.js",uee="index.js",lee={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},cee={type:"git",url:"https://github.com/axios/axios.git"},fee=["xhr","http","ajax","promise","node"],pee="Matt Zabriskie",hee="MIT",dee={url:"https://github.com/axios/axios/issues"},_ee="https://axios-http.com",mee={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},gee={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},yee="dist/axios.min.js",vee="dist/axios.min.js",bee="./index.d.ts",xee={"follow-redirects":"^1.14.0"},wee=[{path:"./dist/axios.min.js",threshold:"5kB"}];var See={name:oee,version:aee,description:see,main:uee,scripts:lee,repository:cee,keywords:fee,author:pee,license:hee,bugs:dee,homepage:_ee,devDependencies:mee,browser:gee,jsdelivr:yee,unpkg:vee,typings:bee,dependencies:xee,bundlesize:wee},iq=See,X4={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){X4[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var NF={},Eee=iq.version.split(".");function oq(e,t){for(var r=t?t.split("."):Eee,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}X4.transitional=function(t,r,n){var i=r&&oq(r);function u(s,m){return"[Axios v"+iq.version+"] Transitional option '"+s+"'"+m+(n?". "+n:"")}return function(s,m,v){if(t===!1)throw new Error(u(m," has been removed in "+r));return i&&!NF[m]&&(NF[m]=!0,console.warn(u(m," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,m,v):!0}};function Pee(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var u=n[i],s=t[u];if(s){var m=e[u],v=m===void 0||s(m,u,e);if(v!==!0)throw new TypeError("option "+u+" must be "+v);continue}if(r!==!0)throw Error("Unknown option "+u)}}var Iee={isOlderVersion:oq,assertOptions:Pee,validators:X4},aq=Lh,Cee=QU,MF=AQ,RF=iee,yA=nq,sq=Iee,hb=sq.validators;function vE(e){this.defaults=e,this.interceptors={request:new MF,response:new MF}}vE.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=yA(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&sq.assertOptions(r,{silentJSONParsing:hb.transitional(hb.boolean,"1.0.0"),forcedJSONParsing:hb.transitional(hb.boolean,"1.0.0"),clarifyTimeoutError:hb.transitional(hb.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(i=i&&I.synchronous,n.unshift(I.fulfilled,I.rejected))});var u=[];this.interceptors.response.forEach(function(I){u.push(I.fulfilled,I.rejected)});var s;if(!i){var m=[RF,void 0];for(Array.prototype.unshift.apply(m,n),m=m.concat(u),s=Promise.resolve(t);m.length;)s=s.then(m.shift(),m.shift());return s}for(var v=t;n.length;){var _=n.shift(),P=n.shift();try{v=_(v)}catch(C){P(C);break}}try{s=RF(v)}catch(C){return Promise.reject(C)}for(;u.length;)s=s.then(u.shift(),u.shift());return s};vE.prototype.getUri=function(t){return t=yA(this.defaults,t),Cee(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};aq.forEach(["delete","get","head","options"],function(t){vE.prototype[t]=function(r,n){return this.request(yA(n||{},{method:t,url:r,data:(n||{}).data}))}});aq.forEach(["post","put","patch"],function(t){vE.prototype[t]=function(r,n,i){return this.request(yA(i||{},{method:t,url:r,data:n}))}});var Aee=vE;function Y4(e){this.message=e}Y4.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Y4.prototype.__CANCEL__=!0;var uq=Y4,Oee=uq;function _C(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;e(function(i){r.reason||(r.reason=new Oee(i),t(r.reason))})}_C.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};_C.source=function(){var t,r=new _C(function(i){t=i});return{token:r,cancel:t}};var kee=_C,Tee=function(t){return function(n){return t.apply(null,n)}},Lee=function(t){return typeof t=="object"&&t.isAxiosError===!0},DF=Lh,Nee=ZU,kI=Aee,Mee=nq,Ree=W4;function lq(e){var t=new kI(e),r=Nee(kI.prototype.request,t);return DF.extend(r,kI.prototype,t),DF.extend(r,t),r}var o_=lq(Ree);o_.Axios=kI;o_.create=function(t){return lq(Mee(o_.defaults,t))};o_.Cancel=uq;o_.CancelToken=kee;o_.isCancel=rq;o_.all=function(t){return Promise.all(t)};o_.spread=Tee;o_.isAxiosError=Lee;q4.exports=o_;q4.exports.default=o_;var Dee=q4.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=e.getBase64FromImage=e.getImageFromBase64=e.kebabize=e.kebabToCamel=e.camelToKebab=e.axios=void 0;var t=Dee;e.axios=t.default.create({baseURL:"https://api.proximi.fi",timeout:6e4});var r=function(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};e.camelToKebab=r;var n=function(v){return v.replace(/-([a-z])/g,function(_){return _[1].toUpperCase()})};e.kebabToCamel=n;var i=function(v){var _={};return Object.keys(v).forEach(function(P){typeof v[P]!="undefined"&&(_[e.camelToKebab(P)]=v[P])}),_};e.kebabize=i;var u=function(v){return new Promise(function(_,P){var C=new Image;C.src=v,C.onload=function(){return _(C)},C.onerror=function(I){return _(C)}})};e.getImageFromBase64=u;var s=function(v){return new Promise(function(_,P){var C=new FileReader;C.readAsDataURL(v),C.onload=function(){return _(C.result)},C.onerror=function(I){return P(I)}})};e.getBase64FromImage=s;var m=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(v){return(v!==crypto.getRandomValues(new Uint8Array(1))[0]&15>v/4).toString(16)})};e.uuidv4=m})(a_);(function(e){var t=Ne&&Ne.__awaiter||function(v,_,P,C){function I(k){return k instanceof P?k:new P(function(F){F(k)})}return new(P||(P=Promise))(function(k,F){function V(M){try{q(C.next(M))}catch(j){F(j)}}function Y(M){try{q(C.throw(M))}catch(j){F(j)}}function q(M){M.done?k(M.value):I(M.value).then(V,Y)}q((C=C.apply(v,_||[])).next())})},r=Ne&&Ne.__generator||function(v,_){var P={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},C,I,k,F;return F={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function V(q){return function(M){return Y([q,M])}}function Y(q){if(C)throw new TypeError("Generator is already executing.");for(;P;)try{if(C=1,I&&(k=q[0]&2?I.return:q[0]?I.throw||((k=I.return)&&k.call(I),0):I.next)&&!(k=k.call(I,q[1])).done)return k;switch(I=0,k&&(q=[q[0]&2,k.value]),q[0]){case 0:case 1:k=q;break;case 4:return P.label++,{value:q[1],done:!1};case 5:P.label++,I=q[1],q=[0];continue;case 7:q=P.ops.pop(),P.trys.pop();continue;default:if(k=P.trys,!(k=k.length>0&&k[k.length-1])&&(q[0]===6||q[0]===2)){P=0;continue}if(q[0]===3&&(!k||q[1]>k[0]&&q[1]<k[3])){P.label=q[1];break}if(q[0]===6&&P.label<k[1]){P.label=k[1],k=q;break}if(k&&P.label<k[2]){P.label=k[2],P.ops.push(q);break}k[2]&&P.ops.pop(),P.trys.pop();continue}q=_.call(v,P)}catch(M){q=[6,M],I=0}finally{C=k=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentUser=e.getUserConfig=e.loginWithToken=e.login=void 0;var n=a_,i=function(v,_){return t(void 0,void 0,void 0,function(){var P,C,I;return r(this,function(k){switch(k.label){case 0:if(k.trys.push([0,2,,3]),!v)throw new Error("Please provide your email");if(!_)throw new Error("Please provide your password");return P={email:v,password:_},[4,n.axios.post("core_auth/login",P)];case 1:return C=k.sent(),C.data&&(console.info("Logged in successfully as "+C.data.user.email),n.axios.defaults.headers.common.Authorization=C.data.token),[2,C];case 2:throw I=k.sent(),new Error("Login failed, "+I.message);case 3:return[2]}})})};e.login=i;var u=function(v){return t(void 0,void 0,void 0,function(){var _,P;return r(this,function(C){switch(C.label){case 0:if(C.trys.push([0,2,,3]),!v)throw new Error("Please provide your token");return n.axios.defaults.headers.common.Authorization=v,[4,n.axios.get("core/current_user")];case 1:return _=C.sent(),_.data&&console.info("Logged in successfully as "+_.data.email),[2,_];case 2:throw P=C.sent(),new Error("Login failed, "+P.message);case 3:return[2]}})})};e.loginWithToken=u;var s=function(){return t(void 0,void 0,void 0,function(){var v,_;return r(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,n.axios.get("config")];case 1:return v=P.sent(),[2,v.data];case 2:throw _=P.sent(),new Error("Fetching config failed, "+_.message);case 3:return[2]}})})};e.getUserConfig=s;var m=function(){return t(void 0,void 0,void 0,function(){var v,_;return r(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,n.axios.get("core/current_user")];case 1:return v=P.sent(),[2,v.data];case 2:throw _=P.sent(),new Error("Fetching current user failed, "+_.message);case 3:return[2]}})})};e.getCurrentUser=m,e.default={login:e.login,loginWithToken:e.loginWithToken,getUserConfig:e.getUserConfig,getCurrentUser:e.getCurrentUser}})(U4);var bE={},xE={},gx={};Object.defineProperty(gx,"__esModule",{value:!0});var zee=function(){function e(t){this.id=t.id||(t.properties?t.properties.id:void 0),this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}return Object.defineProperty(e.prototype,"exists",{get:function(){return typeof this.id!="undefined"},enumerable:!1,configurable:!0}),e}();gx.default=zee;var Fee=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(xE,"__esModule",{value:!0});xE.PlaceModel=void 0;var jee=gx,Bee=function(e){Fee(t,e);function t(r){var n=e.call(this,r)||this;return n.name=r.name,n.address=r.address,n.location=r.location?r.location:{lat:60.1669635,lng:24.9217484},n.tags=r.tags,n.remoteId=r.remote_id,n}return Object.defineProperty(t.prototype,"hasLocation",{get:function(){return!isNaN(this.location.lat)&&!isNaN(this.location.lng)},enumerable:!1,configurable:!0}),t}(jee.default);xE.PlaceModel=Bee;(function(e){var t=Ne&&Ne.__awaiter||function(m,v,_,P){function C(I){return I instanceof _?I:new _(function(k){k(I)})}return new(_||(_=Promise))(function(I,k){function F(q){try{Y(P.next(q))}catch(M){k(M)}}function V(q){try{Y(P.throw(q))}catch(M){k(M)}}function Y(q){q.done?I(q.value):C(q.value).then(F,V)}Y((P=P.apply(m,v||[])).next())})},r=Ne&&Ne.__generator||function(m,v){var _={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},P,C,I,k;return k={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function F(Y){return function(q){return V([Y,q])}}function V(Y){if(P)throw new TypeError("Generator is already executing.");for(;_;)try{if(P=1,C&&(I=Y[0]&2?C.return:Y[0]?C.throw||((I=C.return)&&I.call(C),0):C.next)&&!(I=I.call(C,Y[1])).done)return I;switch(C=0,I&&(Y=[Y[0]&2,I.value]),Y[0]){case 0:case 1:I=Y;break;case 4:return _.label++,{value:Y[1],done:!1};case 5:_.label++,C=Y[1],Y=[0];continue;case 7:Y=_.ops.pop(),_.trys.pop();continue;default:if(I=_.trys,!(I=I.length>0&&I[I.length-1])&&(Y[0]===6||Y[0]===2)){_=0;continue}if(Y[0]===3&&(!I||Y[1]>I[0]&&Y[1]<I[3])){_.label=Y[1];break}if(Y[0]===6&&_.label<I[1]){_.label=I[1],I=Y;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(Y);break}I[2]&&_.ops.pop(),_.trys.pop();continue}Y=v.call(m,_)}catch(q){Y=[6,q],C=0}finally{P=I=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPlaceById=e.getPlaces=void 0;var n=a_,i=xE,u=function(m,v,_,P,C,I,k){return t(void 0,void 0,void 0,function(){var F,V,Y;return r(this,function(q){switch(q.label){case 0:F="",m&&(F+="?limit="+m),v&&(F+="&skip="+v),_&&(F+="&order="+_),P&&(F+="&dir="+P),C&&(F+="&filterByIndex="+C),I&&(F+="&q="+I),k&&(F+="&filter="+I),q.label=1;case 1:return q.trys.push([1,3,,4]),[4,n.axios.get("core/places"+F)];case 2:return V=q.sent(),[2,{data:V.data.map(function(M){return new i.PlaceModel(M)}),total:+V.headers.searchcount}];case 3:throw Y=q.sent(),new Error("Retrieving places failed, "+Y.message);case 4:return[2]}})})};e.getPlaces=u;var s=function(m){return t(void 0,void 0,void 0,function(){var v,_;return r(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,n.axios.get("core/places/"+m)];case 1:return v=P.sent(),[2,new i.PlaceModel(v.data)];case 2:throw _=P.sent(),new Error("Retrieving place by id '"+m+"' failed, "+_.message);case 3:return[2]}})})};e.getPlaceById=s,e.default={getPlaces:e.getPlaces,getPlaceById:e.getPlaceById}})(bE);var yx={},wE={},$ee=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wE,"__esModule",{value:!0});wE.FloorModel=void 0;var Uee=gx,qee=function(e){$ee(t,e);function t(r){var n=e.call(this,r)||this;return n.name=r.name,n.placeId=r.place_id,n.placeName=r.place_name,n.floorplanImageUrl=r.floorplan_image_url,n.level=r.level||0,r.anchors&&(n.anchors=[[r.anchors[0].lng,r.anchors[0].lat],[r.anchors[1].lng,r.anchors[1].lat],[r.anchors[3].lng,r.anchors[3].lat],[r.anchors[2].lng,r.anchors[2].lat]]),n.editor=r.editor,n.geopoint=r.geopoint,n.remoteId=r.remote_id,n}return Object.defineProperty(t.prototype,"hasFloorplan",{get:function(){return!!(this.floorplanImageUrl&&this.floorplanImageUrl.length>1&&this.anchors)},enumerable:!1,configurable:!0}),t}(Uee.default);wE.FloorModel=qee;(function(e){var t=Ne&&Ne.__awaiter||function(m,v,_,P){function C(I){return I instanceof _?I:new _(function(k){k(I)})}return new(_||(_=Promise))(function(I,k){function F(q){try{Y(P.next(q))}catch(M){k(M)}}function V(q){try{Y(P.throw(q))}catch(M){k(M)}}function Y(q){q.done?I(q.value):C(q.value).then(F,V)}Y((P=P.apply(m,v||[])).next())})},r=Ne&&Ne.__generator||function(m,v){var _={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},P,C,I,k;return k={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function F(Y){return function(q){return V([Y,q])}}function V(Y){if(P)throw new TypeError("Generator is already executing.");for(;_;)try{if(P=1,C&&(I=Y[0]&2?C.return:Y[0]?C.throw||((I=C.return)&&I.call(C),0):C.next)&&!(I=I.call(C,Y[1])).done)return I;switch(C=0,I&&(Y=[Y[0]&2,I.value]),Y[0]){case 0:case 1:I=Y;break;case 4:return _.label++,{value:Y[1],done:!1};case 5:_.label++,C=Y[1],Y=[0];continue;case 7:Y=_.ops.pop(),_.trys.pop();continue;default:if(I=_.trys,!(I=I.length>0&&I[I.length-1])&&(Y[0]===6||Y[0]===2)){_=0;continue}if(Y[0]===3&&(!I||Y[1]>I[0]&&Y[1]<I[3])){_.label=Y[1];break}if(Y[0]===6&&_.label<I[1]){_.label=I[1],I=Y;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(Y);break}I[2]&&_.ops.pop(),_.trys.pop();continue}Y=v.call(m,_)}catch(q){Y=[6,q],C=0}finally{P=I=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPlaceFloors=e.getFloors=void 0;var n=a_,i=wE,u=function(m,v,_,P,C,I){return t(void 0,void 0,void 0,function(){var k,F,V;return r(this,function(Y){switch(Y.label){case 0:k="",m&&(k+="?limit="+m),v&&(k+="&skip="+v),_&&(k+="&order="+_),P&&(k+="&dir="+P),C&&(k+="&filterByIndex="+C),I&&(k+="&q="+I),Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,n.axios.get("core/floors"+k)];case 2:return F=Y.sent(),[2,{data:F.data.map(function(q){return new i.FloorModel(q)}),total:+F.headers.searchcount}];case 3:throw V=Y.sent(),new Error("Retrieving floors failed, "+V.message);case 4:return[2]}})})};e.getFloors=u;var s=function(m){return t(void 0,void 0,void 0,function(){var v,_;return r(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,n.axios.get("core/floors?skip=0&limit=1000&filter=place_id:"+m)];case 1:return v=P.sent(),[2,v.data.map(function(C){return new i.FloorModel(C)})];case 2:throw _=P.sent(),new Error("Retrieving floors for place '"+m+"' failed, "+_.message);case 3:return[2]}})})};e.getPlaceFloors=s,e.default={getFloors:e.getFloors,getPlaceFloors:e.getPlaceFloors}})(yx);var H4={},cq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){var r,n,i;function u(s,m){if(!r)r=m;else if(!n)n=m;else{var v="var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk);",_={};r(_),i=m(_),typeof window!="undefined"&&(i.workerUrl=window.URL.createObjectURL(new Blob([v],{type:"text/javascript"})))}}return u(["exports"],function(s){function m(o,c){return o(c={exports:{}},c.exports),c.exports}var v=_;function _(o,c,h,w){this.cx=3*o,this.bx=3*(h-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(w-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=w,this.p2x=h,this.p2y=w}_.prototype.sampleCurveX=function(o){return((this.ax*o+this.bx)*o+this.cx)*o},_.prototype.sampleCurveY=function(o){return((this.ay*o+this.by)*o+this.cy)*o},_.prototype.sampleCurveDerivativeX=function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},_.prototype.solveCurveX=function(o,c){var h,w,A,L,R;for(c===void 0&&(c=1e-6),A=o,R=0;R<8;R++){if(L=this.sampleCurveX(A)-o,Math.abs(L)<c)return A;var B=this.sampleCurveDerivativeX(A);if(Math.abs(B)<1e-6)break;A-=L/B}if((A=o)<(h=0))return h;if(A>(w=1))return w;for(;h<w;){if(L=this.sampleCurveX(A),Math.abs(L-o)<c)return A;o>L?h=A:w=A,A=.5*(w-h)+h}return A},_.prototype.solve=function(o,c){return this.sampleCurveY(this.solveCurveX(o,c))};var P=C;function C(o,c){this.x=o,this.y=c}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,c){return this.clone()._rotateAround(o,c)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var c=o.x-this.x,h=o.y-this.y;return c*c+h*h},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,c){return Math.atan2(this.x*c-this.y*o,this.x*o+this.y*c)},_matMult:function(o){var c=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=c,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var c=Math.cos(o),h=Math.sin(o),w=h*this.x+c*this.y;return this.x=c*this.x-h*this.y,this.y=w,this},_rotateAround:function(o,c){var h=Math.cos(o),w=Math.sin(o),A=c.y+w*(this.x-c.x)+h*(this.y-c.y);return this.x=c.x+h*(this.x-c.x)-w*(this.y-c.y),this.y=A,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(o){return o instanceof C?o:Array.isArray(o)?new C(o[0],o[1]):o};var I=typeof self!="undefined"?self:{},k=Math.pow(2,53)-1;function F(o,c,h,w){var A=new v(o,c,h,w);return function(L){return A.solve(L)}}var V=F(.25,.1,.25,1);function Y(o,c,h){return Math.min(h,Math.max(c,o))}function q(o,c,h){var w=h-c,A=((o-c)%w+w)%w+c;return A===c?h:A}function M(o){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];for(var w=0,A=c;w<A.length;w+=1){var L=A[w];for(var R in L)o[R]=L[R]}return o}var j=1;function G(){return j++}function J(){return function o(c){return c?(c^16*Math.random()>>c/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,o)}()}function he(o){return!!o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)}function pe(o,c){o.forEach(function(h){c[h]&&(c[h]=c[h].bind(c))})}function ne(o,c){return o.indexOf(c,o.length-c.length)!==-1}function ee(o,c,h){var w={};for(var A in o)w[A]=c.call(h||this,o[A],A,o);return w}function ie(o,c,h){var w={};for(var A in o)c.call(h||this,o[A],A,o)&&(w[A]=o[A]);return w}function we(o){return Array.isArray(o)?o.map(we):typeof o=="object"&&o?ee(o,we):o}var Se={};function Pe(o){Se[o]||(typeof console!="undefined"&&console.warn(o),Se[o]=!0)}function ae(o,c,h){return(h.y-o.y)*(c.x-o.x)>(c.y-o.y)*(h.x-o.x)}function Be(o){for(var c=0,h=0,w=o.length,A=w-1,L=void 0,R=void 0;h<w;A=h++)c+=((R=o[A]).x-(L=o[h]).x)*(L.y+R.y);return c}function Q(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function te(o){var c={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(w,A,L,R){var B=L||R;return c[A]=!B||B.toLowerCase(),""}),c["max-age"]){var h=parseInt(c["max-age"],10);isNaN(h)?delete c["max-age"]:c["max-age"]=h}return c}var oe=null;function ve(o){if(oe==null){var c=o.navigator?o.navigator.userAgent:null;oe=!!o.safari||!(!c||!(/\b(iPad|iPhone|iPod)\b/.test(c)||c.match("Safari")&&!c.match("Chrome")))}return oe}function de(o){try{var c=I[o];return c.setItem("_mapbox_test_",1),c.removeItem("_mapbox_test_"),!0}catch{return!1}}var ze,ye,Je,Qe,yt=I.performance&&I.performance.now?I.performance.now.bind(I.performance):Date.now.bind(Date),_t=I.requestAnimationFrame||I.mozRequestAnimationFrame||I.webkitRequestAnimationFrame||I.msRequestAnimationFrame,Tt=I.cancelAnimationFrame||I.mozCancelAnimationFrame||I.webkitCancelAnimationFrame||I.msCancelAnimationFrame,Yt={now:yt,frame:function(o){var c=_t(o);return{cancel:function(){return Tt(c)}}},getImageData:function(o,c){c===void 0&&(c=0);var h=I.document.createElement("canvas"),w=h.getContext("2d");if(!w)throw new Error("failed to create canvas 2d context");return h.width=o.width,h.height=o.height,w.drawImage(o,0,0,o.width,o.height),w.getImageData(-c,-c,o.width+2*c,o.height+2*c)},resolveURL:function(o){return ze||(ze=I.document.createElement("a")),ze.href=o,ze.href},hardwareConcurrency:I.navigator&&I.navigator.hardwareConcurrency||4,get devicePixelRatio(){return I.devicePixelRatio},get prefersReducedMotion(){return!!I.matchMedia&&(ye==null&&(ye=I.matchMedia("(prefers-reduced-motion: reduce)")),ye.matches)}},It={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Ut={supported:!1,testSupport:function(o){!Or&&Qe&&(Xt?Ht(o):Je=o)}},Or=!1,Xt=!1;function Ht(o){var c=o.createTexture();o.bindTexture(o.TEXTURE_2D,c);try{if(o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,Qe),o.isContextLost())return;Ut.supported=!0}catch{}o.deleteTexture(c),Or=!0}I.document&&((Qe=I.document.createElement("img")).onload=function(){Je&&Ht(Je),Je=null,Xt=!0},Qe.onerror=function(){Or=!0,Je=null},Qe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var xr="01",Lr=function(o,c){this._transformRequestFn=o,this._customAccessToken=c,this._createSkuToken()};function Xr(o){return o.indexOf("mapbox:")===0}Lr.prototype._createSkuToken=function(){var o=function(){for(var c="",h=0;h<10;h++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",xr,c].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=o.token,this._skuTokenExpiresAt=o.tokenExpiresAt},Lr.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Lr.prototype.transformRequest=function(o,c){return this._transformRequestFn&&this._transformRequestFn(o,c)||{url:o}},Lr.prototype.normalizeStyleURL=function(o,c){if(!Xr(o))return o;var h=Le(o);return h.path="/styles/v1"+h.path,this._makeAPIURL(h,this._customAccessToken||c)},Lr.prototype.normalizeGlyphsURL=function(o,c){if(!Xr(o))return o;var h=Le(o);return h.path="/fonts/v1"+h.path,this._makeAPIURL(h,this._customAccessToken||c)},Lr.prototype.normalizeSourceURL=function(o,c){if(!Xr(o))return o;var h=Le(o);return h.path="/v4/"+h.authority+".json",h.params.push("secure"),this._makeAPIURL(h,this._customAccessToken||c)},Lr.prototype.normalizeSpriteURL=function(o,c,h,w){var A=Le(o);return Xr(o)?(A.path="/styles/v1"+A.path+"/sprite"+c+h,this._makeAPIURL(A,this._customAccessToken||w)):(A.path+=""+c+h,be(A))},Lr.prototype.normalizeTileURL=function(o,c){if(this._isSkuTokenExpired()&&this._createSkuToken(),o&&!Xr(o))return o;var h=Le(o);h.path=h.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Yt.devicePixelRatio>=2||c===512?"@2x":"")+(Ut.supported?".webp":"$1")),h.path=h.path.replace(/^.+\/v4\//,"/"),h.path="/v4"+h.path;var w=this._customAccessToken||function(A){for(var L=0,R=A;L<R.length;L+=1){var B=R[L].match(/^access_token=(.*)$/);if(B)return B[1]}return null}(h.params)||It.ACCESS_TOKEN;return It.REQUIRE_ACCESS_TOKEN&&w&&this._skuToken&&h.params.push("sku="+this._skuToken),this._makeAPIURL(h,w)},Lr.prototype.canonicalizeTileURL=function(o,c){var h=Le(o);if(!h.path.match(/(^\/v4\/)/)||!h.path.match(/\.[\w]+$/))return o;var w="mapbox://tiles/";w+=h.path.replace("/v4/","");var A=h.params;return c&&(A=A.filter(function(L){return!L.match(/^access_token=/)})),A.length&&(w+="?"+A.join("&")),w},Lr.prototype.canonicalizeTileset=function(o,c){for(var h=!!c&&Xr(c),w=[],A=0,L=o.tiles||[];A<L.length;A+=1){var R=L[A];Mi(R)?w.push(this.canonicalizeTileURL(R,h)):w.push(R)}return w},Lr.prototype._makeAPIURL=function(o,c){var h="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",w=Le(It.API_URL);if(o.protocol=w.protocol,o.authority=w.authority,o.protocol==="http"){var A=o.params.indexOf("secure");A>=0&&o.params.splice(A,1)}if(w.path!=="/"&&(o.path=""+w.path+o.path),!It.REQUIRE_ACCESS_TOKEN)return be(o);if(!(c=c||It.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+h);if(c[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+h);return o.params=o.params.filter(function(L){return L.indexOf("access_token")===-1}),o.params.push("access_token="+c),be(o)};var ea=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Mi(o){return ea.test(o)}var pt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Le(o){var c=o.match(pt);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function be(o){var c=o.params.length?"?"+o.params.join("&"):"";return o.protocol+"://"+o.authority+o.path+c}function Oe(o){if(!o)return null;var c=o.split(".");if(!c||c.length!==3)return null;try{return JSON.parse(decodeURIComponent(I.atob(c[1]).split("").map(function(h){return"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Ze=function(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Ze.prototype.getStorageKey=function(o){var c,h=Oe(It.ACCESS_TOKEN);return c=h&&h.u?I.btoa(encodeURIComponent(h.u).replace(/%([0-9A-F]{2})/g,function(w,A){return String.fromCharCode(Number("0x"+A))})):It.ACCESS_TOKEN||"",o?"mapbox.eventData."+o+":"+c:"mapbox.eventData:"+c},Ze.prototype.fetchEventData=function(){var o=de("localStorage"),c=this.getStorageKey(),h=this.getStorageKey("uuid");if(o)try{var w=I.localStorage.getItem(c);w&&(this.eventData=JSON.parse(w));var A=I.localStorage.getItem(h);A&&(this.anonId=A)}catch{Pe("Unable to read from LocalStorage")}},Ze.prototype.saveEventData=function(){var o=de("localStorage"),c=this.getStorageKey(),h=this.getStorageKey("uuid");if(o)try{I.localStorage.setItem(h,this.anonId),Object.keys(this.eventData).length>=1&&I.localStorage.setItem(c,JSON.stringify(this.eventData))}catch{Pe("Unable to write to LocalStorage")}},Ze.prototype.processRequests=function(o){},Ze.prototype.postEvent=function(o,c,h,w){var A=this;if(It.EVENTS_URL){var L=Le(It.EVENTS_URL);L.params.push("access_token="+(w||It.ACCESS_TOKEN||""));var R={event:this.type,created:new Date(o).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:xr,userId:this.anonId},B=c?M(R,c):R,Z={url:be(L),headers:{"Content-Type":"text/plain"},body:JSON.stringify([B])};this.pendingRequest=zi(Z,function(K){A.pendingRequest=null,h(K),A.saveEventData(),A.processRequests(w)})}},Ze.prototype.queueRequest=function(o,c){this.queue.push(o),this.processRequests(c)};var st,Pt,Rt=function(o){function c(){o.call(this,"map.load"),this.success={},this.skuToken=""}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.postMapLoadEvent=function(h,w,A,L){this.skuToken=A,(It.EVENTS_URL&&L||It.ACCESS_TOKEN&&Array.isArray(h)&&h.some(function(R){return Xr(R)||Mi(R)}))&&this.queueRequest({id:w,timestamp:Date.now()},L)},c.prototype.processRequests=function(h){var w=this;if(!this.pendingRequest&&this.queue.length!==0){var A=this.queue.shift(),L=A.id,R=A.timestamp;L&&this.success[L]||(this.anonId||this.fetchEventData(),he(this.anonId)||(this.anonId=J()),this.postEvent(R,{skuToken:this.skuToken},function(B){B||L&&(w.success[L]=!0)},h))}},c}(Ze),mt=new(function(o){function c(h){o.call(this,"appUserTurnstile"),this._customAccessToken=h}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.postTurnstileEvent=function(h,w){It.EVENTS_URL&&It.ACCESS_TOKEN&&Array.isArray(h)&&h.some(function(A){return Xr(A)||Mi(A)})&&this.queueRequest(Date.now(),w)},c.prototype.processRequests=function(h){var w=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var A=Oe(It.ACCESS_TOKEN),L=A?A.u:It.ACCESS_TOKEN,R=L!==this.eventData.tokenU;he(this.anonId)||(this.anonId=J(),R=!0);var B=this.queue.shift();if(this.eventData.lastSuccess){var Z=new Date(this.eventData.lastSuccess),K=new Date(B),le=(B-this.eventData.lastSuccess)/864e5;R=R||le>=1||le<-1||Z.getDate()!==K.getDate()}else R=!0;if(!R)return this.processRequests();this.postEvent(B,{"enabled.telemetry":!1},function(_e){_e||(w.eventData.lastSuccess=B,w.eventData.tokenU=L)},h)}},c}(Ze)),Nr=mt.postTurnstileEvent.bind(mt),Qr=new Rt,tr=Qr.postMapLoadEvent.bind(Qr),on=500,Bn=50;function si(){I.caches&&!st&&(st=I.caches.open("mapbox-tiles"))}function $n(o){var c=o.indexOf("?");return c<0?o:o.slice(0,c)}var Fn,Vo=1/0;function ta(){return Fn==null&&(Fn=I.OffscreenCanvas&&new I.OffscreenCanvas(1,1).getContext("2d")&&typeof I.createImageBitmap=="function"),Fn}var Ea={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ea);var Go=function(o){function c(h,w,A){w===401&&Mi(A)&&(h+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),o.call(this,h),this.status=w,this.url=A,this.name=this.constructor.name,this.message=h}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},c}(Error),ui=Q()?function(){return self.worker&&self.worker.referrer}:function(){return(I.location.protocol==="blob:"?I.parent:I).location.href},Fa,to,Kt=function(o,c){if(!(/^file:/.test(h=o.url)||/^file:/.test(ui())&&!/^\w+:/.test(h))){if(I.fetch&&I.Request&&I.AbortController&&I.Request.prototype.hasOwnProperty("signal"))return function(w,A){var L,R=new I.AbortController,B=new I.Request(w.url,{method:w.method||"GET",body:w.body,credentials:w.credentials,headers:w.headers,referrer:ui(),signal:R.signal}),Z=!1,K=!1,le=(L=B.url).indexOf("sku=")>0&&Mi(L);w.type==="json"&&B.headers.set("Accept","application/json");var _e=function(Ae,Ge,Ye){if(!K){if(Ae&&Ae.message!=="SecurityError"&&Pe(Ae),Ge&&Ye)return xe(Ge);var ot=Date.now();I.fetch(B).then(function(et){if(et.ok){var ct=le?et.clone():null;return xe(et,ct,ot)}return A(new Go(et.statusText,et.status,w.url))}).catch(function(et){et.code!==20&&A(new Error(et.message))})}},xe=function(Ae,Ge,Ye){(w.type==="arrayBuffer"?Ae.arrayBuffer():w.type==="json"?Ae.json():Ae.text()).then(function(ot){K||(Ge&&Ye&&function(et,ct,vt){if(si(),st){var At={status:ct.status,statusText:ct.statusText,headers:new I.Headers};ct.headers.forEach(function(Ft,Qt){return At.headers.set(Qt,Ft)});var Ot=te(ct.headers.get("Cache-Control")||"");Ot["no-store"]||(Ot["max-age"]&&At.headers.set("Expires",new Date(vt+1e3*Ot["max-age"]).toUTCString()),new Date(At.headers.get("Expires")).getTime()-vt<42e4||function(Ft,Qt){if(Pt===void 0)try{new Response(new ReadableStream),Pt=!0}catch{Pt=!1}Pt?Qt(Ft.body):Ft.blob().then(Qt)}(ct,function(Ft){var Qt=new I.Response(Ft,At);si(),st&&st.then(function(pr){return pr.put($n(et.url),Qt)}).catch(function(pr){return Pe(pr.message)})}))}}(B,Ge,Ye),Z=!0,A(null,ot,Ae.headers.get("Cache-Control"),Ae.headers.get("Expires")))}).catch(function(ot){K||A(new Error(ot.message))})};return le?function(Ae,Ge){if(si(),!st)return Ge(null);var Ye=$n(Ae.url);st.then(function(ot){ot.match(Ye).then(function(et){var ct=function(vt){if(!vt)return!1;var At=new Date(vt.headers.get("Expires")||0),Ot=te(vt.headers.get("Cache-Control")||"");return At>Date.now()&&!Ot["no-cache"]}(et);ot.delete(Ye),ct&&ot.put(Ye,et.clone()),Ge(null,et,ct)}).catch(Ge)}).catch(Ge)}(B,_e):_e(null,null),{cancel:function(){K=!0,Z||R.abort()}}}(o,c);if(Q()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,c,void 0,!0)}var h;return function(w,A){var L=new I.XMLHttpRequest;for(var R in L.open(w.method||"GET",w.url,!0),w.type==="arrayBuffer"&&(L.responseType="arraybuffer"),w.headers)L.setRequestHeader(R,w.headers[R]);return w.type==="json"&&(L.responseType="text",L.setRequestHeader("Accept","application/json")),L.withCredentials=w.credentials==="include",L.onerror=function(){A(new Error(L.statusText))},L.onload=function(){if((L.status>=200&&L.status<300||L.status===0)&&L.response!==null){var B=L.response;if(w.type==="json")try{B=JSON.parse(L.response)}catch(Z){return A(Z)}A(null,B,L.getResponseHeader("Cache-Control"),L.getResponseHeader("Expires"))}else A(new Go(L.statusText,L.status,w.url))},L.send(w.body),{cancel:function(){return L.abort()}}}(o,c)},ms=function(o,c){return Kt(M(o,{type:"arrayBuffer"}),c)},zi=function(o,c){return Kt(M(o,{method:"POST"}),c)},se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Fa=[],to=0;var Ee=function(o,c){if(Ut.supported&&(o.headers||(o.headers={}),o.headers.accept="image/webp,*/*"),to>=It.MAX_PARALLEL_IMAGE_REQUESTS){var h={requestParameters:o,callback:c,cancelled:!1,cancel:function(){this.cancelled=!0}};return Fa.push(h),h}to++;var w=!1,A=function(){if(!w)for(w=!0,to--;Fa.length&&to<It.MAX_PARALLEL_IMAGE_REQUESTS;){var R=Fa.shift();R.cancelled||(R.cancel=Ee(R.requestParameters,R.callback).cancel)}},L=ms(o,function(R,B,Z,K){A(),R?c(R):B&&(ta()?function(le,_e){var xe=new I.Blob([new Uint8Array(le)],{type:"image/png"});I.createImageBitmap(xe).then(function(Ae){_e(null,Ae)}).catch(function(Ae){_e(new Error("Could not load image because of "+Ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(B,c):function(le,_e,xe,Ae){var Ge=new I.Image,Ye=I.URL;Ge.onload=function(){_e(null,Ge),Ye.revokeObjectURL(Ge.src),Ge.onload=null,I.requestAnimationFrame(function(){Ge.src=se})},Ge.onerror=function(){return _e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var ot=new I.Blob([new Uint8Array(le)],{type:"image/png"});Ge.cacheControl=xe,Ge.expires=Ae,Ge.src=le.byteLength?Ye.createObjectURL(ot):se}(B,c,Z,K))});return{cancel:function(){L.cancel(),A()}}};function Ie(o,c,h){h[o]&&h[o].indexOf(c)!==-1||(h[o]=h[o]||[],h[o].push(c))}function Re(o,c,h){if(h&&h[o]){var w=h[o].indexOf(c);w!==-1&&h[o].splice(w,1)}}var We=function(o,c){c===void 0&&(c={}),M(this,c),this.type=o},at=function(o){function c(h,w){w===void 0&&(w={}),o.call(this,"error",M({error:h},w))}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c}(We),lt=function(){};lt.prototype.on=function(o,c){return this._listeners=this._listeners||{},Ie(o,c,this._listeners),this},lt.prototype.off=function(o,c){return Re(o,c,this._listeners),Re(o,c,this._oneTimeListeners),this},lt.prototype.once=function(o,c){return this._oneTimeListeners=this._oneTimeListeners||{},Ie(o,c,this._oneTimeListeners),this},lt.prototype.fire=function(o,c){typeof o=="string"&&(o=new We(o,c||{}));var h=o.type;if(this.listens(h)){o.target=this;for(var w=0,A=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];w<A.length;w+=1)A[w].call(this,o);for(var L=0,R=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];L<R.length;L+=1){var B=R[L];Re(h,B,this._oneTimeListeners),B.call(this,o)}var Z=this._eventedParent;Z&&(M(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),Z.fire(o))}else o instanceof at&&console.error(o.error);return this},lt.prototype.listens=function(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)},lt.prototype.setEventedParent=function(o,c){return this._eventedParent=o,this._eventedParentData=c,this};var Me={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Xe=function(o,c,h,w){this.message=(o?o+": ":"")+h,w&&(this.identifier=w),c!=null&&c.__line__&&(this.line=c.__line__)};function ht(o){var c=o.value;return c?[new Xe(o.key,c,"constants have been deprecated as of v8")]:[]}function $t(o){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];for(var w=0,A=c;w<A.length;w+=1){var L=A[w];for(var R in L)o[R]=L[R]}return o}function jt(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function dt(o){if(Array.isArray(o))return o.map(dt);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){var c={};for(var h in o)c[h]=dt(o[h]);return c}return jt(o)}var zt=function(o){function c(h,w){o.call(this,w),this.message=w,this.key=h}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c}(Error),_r=function(o,c){c===void 0&&(c=[]),this.parent=o,this.bindings={};for(var h=0,w=c;h<w.length;h+=1){var A=w[h];this.bindings[A[0]]=A[1]}};_r.prototype.concat=function(o){return new _r(this,o)},_r.prototype.get=function(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(o+" not found in scope.")},_r.prototype.has=function(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)};var cr={kind:"null"},Et={kind:"number"},fr={kind:"string"},Zt={kind:"boolean"},or={kind:"color"},en={kind:"object"},dr={kind:"value"},Ur={kind:"collator"},ln={kind:"formatted"},Lt={kind:"resolvedImage"};function cn(o,c){return{kind:"array",itemType:o,N:c}}function Ln(o){if(o.kind==="array"){var c=Ln(o.itemType);return typeof o.N=="number"?"array<"+c+", "+o.N+">":o.itemType.kind==="value"?"array":"array<"+c+">"}return o.kind}var yi=[cr,Et,fr,Zt,or,ln,en,cn(dr),Lt];function li(o,c){if(c.kind==="error")return null;if(o.kind==="array"){if(c.kind==="array"&&(c.N===0&&c.itemType.kind==="value"||!li(o.itemType,c.itemType))&&(typeof o.N!="number"||o.N===c.N))return null}else{if(o.kind===c.kind)return null;if(o.kind==="value"){for(var h=0,w=yi;h<w.length;h+=1)if(!li(w[h],c))return null}}return"Expected "+Ln(o)+" but found "+Ln(c)+" instead."}function Fi(o,c){return c.some(function(h){return h.kind===o.kind})}function Jn(o,c){return c.some(function(h){return h==="null"?o===null:h==="array"?Array.isArray(o):h==="object"?o&&!Array.isArray(o)&&typeof o=="object":h===typeof o})}var fn=m(function(o,c){var h={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function w(B){return(B=Math.round(B))<0?0:B>255?255:B}function A(B){return w(B[B.length-1]==="%"?parseFloat(B)/100*255:parseInt(B))}function L(B){return(Z=B[B.length-1]==="%"?parseFloat(B)/100:parseFloat(B))<0?0:Z>1?1:Z;var Z}function R(B,Z,K){return K<0?K+=1:K>1&&(K-=1),6*K<1?B+(Z-B)*K*6:2*K<1?Z:3*K<2?B+(Z-B)*(2/3-K)*6:B}try{c.parseCSSColor=function(B){var Z,K=B.replace(/ /g,"").toLowerCase();if(K in h)return h[K].slice();if(K[0]==="#")return K.length===4?(Z=parseInt(K.substr(1),16))>=0&&Z<=4095?[(3840&Z)>>4|(3840&Z)>>8,240&Z|(240&Z)>>4,15&Z|(15&Z)<<4,1]:null:K.length===7&&(Z=parseInt(K.substr(1),16))>=0&&Z<=16777215?[(16711680&Z)>>16,(65280&Z)>>8,255&Z,1]:null;var le=K.indexOf("("),_e=K.indexOf(")");if(le!==-1&&_e+1===K.length){var xe=K.substr(0,le),Ae=K.substr(le+1,_e-(le+1)).split(","),Ge=1;switch(xe){case"rgba":if(Ae.length!==4)return null;Ge=L(Ae.pop());case"rgb":return Ae.length!==3?null:[A(Ae[0]),A(Ae[1]),A(Ae[2]),Ge];case"hsla":if(Ae.length!==4)return null;Ge=L(Ae.pop());case"hsl":if(Ae.length!==3)return null;var Ye=(parseFloat(Ae[0])%360+360)%360/360,ot=L(Ae[1]),et=L(Ae[2]),ct=et<=.5?et*(ot+1):et+ot-et*ot,vt=2*et-ct;return[w(255*R(vt,ct,Ye+1/3)),w(255*R(vt,ct,Ye)),w(255*R(vt,ct,Ye-1/3)),Ge];default:return null}}return null}}catch{}}).parseCSSColor,hi=function(o,c,h,w){w===void 0&&(w=1),this.r=o,this.g=c,this.b=h,this.a=w};hi.parse=function(o){if(o){if(o instanceof hi)return o;if(typeof o=="string"){var c=fn(o);if(c)return new hi(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3])}}},hi.prototype.toString=function(){var o=this.toArray(),c=o[1],h=o[2],w=o[3];return"rgba("+Math.round(o[0])+","+Math.round(c)+","+Math.round(h)+","+w+")"},hi.prototype.toArray=function(){var o=this.a;return o===0?[0,0,0,0]:[255*this.r/o,255*this.g/o,255*this.b/o,o]},hi.black=new hi(0,0,0,1),hi.white=new hi(1,1,1,1),hi.transparent=new hi(0,0,0,0),hi.red=new hi(1,0,0,1);var ja=function(o,c,h){this.sensitivity=o?c?"variant":"case":c?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ja.prototype.compare=function(o,c){return this.collator.compare(o,c)},ja.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var bl=function(o,c,h,w,A){this.text=o,this.image=c,this.scale=h,this.fontStack=w,this.textColor=A},Yi=function(o){this.sections=o};Yi.fromString=function(o){return new Yi([new bl(o,null,null,null,null)])},Yi.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(o){return o.text.length!==0||o.image&&o.image.name.length!==0})},Yi.factory=function(o){return o instanceof Yi?o:Yi.fromString(o)},Yi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(o){return o.text}).join("")},Yi.prototype.serialize=function(){for(var o=["format"],c=0,h=this.sections;c<h.length;c+=1){var w=h[c];if(w.image)o.push(["image",w.image.name]);else{o.push(w.text);var A={};w.fontStack&&(A["text-font"]=["literal",w.fontStack.split(",")]),w.scale&&(A["font-scale"]=w.scale),w.textColor&&(A["text-color"]=["rgba"].concat(w.textColor.toArray())),o.push(A)}}return o};var ti=function(o){this.name=o.name,this.available=o.available};function If(o,c,h,w){return typeof o=="number"&&o>=0&&o<=255&&typeof c=="number"&&c>=0&&c<=255&&typeof h=="number"&&h>=0&&h<=255?w===void 0||typeof w=="number"&&w>=0&&w<=1?null:"Invalid rgba value ["+[o,c,h,w].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof w=="number"?[o,c,h,w]:[o,c,h]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Us(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof hi||o instanceof ja||o instanceof Yi||o instanceof ti)return!0;if(Array.isArray(o)){for(var c=0,h=o;c<h.length;c+=1)if(!Us(h[c]))return!1;return!0}if(typeof o=="object"){for(var w in o)if(!Us(o[w]))return!1;return!0}return!1}function ra(o){if(o===null)return cr;if(typeof o=="string")return fr;if(typeof o=="boolean")return Zt;if(typeof o=="number")return Et;if(o instanceof hi)return or;if(o instanceof ja)return Ur;if(o instanceof Yi)return ln;if(o instanceof ti)return Lt;if(Array.isArray(o)){for(var c,h=o.length,w=0,A=o;w<A.length;w+=1){var L=ra(A[w]);if(c){if(c===L)continue;c=dr;break}c=L}return cn(c||dr,h)}return en}function Tc(o){var c=typeof o;return o===null?"":c==="string"||c==="number"||c==="boolean"?String(o):o instanceof hi||o instanceof Yi||o instanceof ti?o.toString():JSON.stringify(o)}ti.prototype.toString=function(){return this.name},ti.fromString=function(o){return o?new ti({name:o,available:!1}):null},ti.prototype.serialize=function(){return["image",this.name]};var wn=function(o,c){this.type=o,this.value=c};wn.parse=function(o,c){if(o.length!==2)return c.error("'literal' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(!Us(o[1]))return c.error("invalid value");var h=o[1],w=ra(h),A=c.expectedType;return w.kind!=="array"||w.N!==0||!A||A.kind!=="array"||typeof A.N=="number"&&A.N!==0||(w=A),new wn(w,h)},wn.prototype.evaluate=function(){return this.value},wn.prototype.eachChild=function(){},wn.prototype.outputDefined=function(){return!0},wn.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof hi?["rgba"].concat(this.value.toArray()):this.value instanceof Yi?this.value.serialize():this.value};var Ma=function(o){this.name="ExpressionEvaluationError",this.message=o};Ma.prototype.toJSON=function(){return this.message};var ha={string:fr,number:Et,boolean:Zt,object:en},ro=function(o,c){this.type=o,this.args=c};ro.parse=function(o,c){if(o.length<2)return c.error("Expected at least one argument.");var h,w=1,A=o[0];if(A==="array"){var L,R;if(o.length>2){var B=o[1];if(typeof B!="string"||!(B in ha)||B==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);L=ha[B],w++}else L=dr;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return c.error('The length argument to "array" must be a positive integer literal',2);R=o[2],w++}h=cn(L,R)}else h=ha[A];for(var Z=[];w<o.length;w++){var K=c.parse(o[w],w,dr);if(!K)return null;Z.push(K)}return new ro(h,Z)},ro.prototype.evaluate=function(o){for(var c=0;c<this.args.length;c++){var h=this.args[c].evaluate(o);if(!li(this.type,ra(h)))return h;if(c===this.args.length-1)throw new Ma("Expected value to be of type "+Ln(this.type)+", but found "+Ln(ra(h))+" instead.")}return null},ro.prototype.eachChild=function(o){this.args.forEach(o)},ro.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},ro.prototype.serialize=function(){var o=this.type,c=[o.kind];if(o.kind==="array"){var h=o.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){c.push(h.kind);var w=o.N;(typeof w=="number"||this.args.length>1)&&c.push(w)}}return c.concat(this.args.map(function(A){return A.serialize()}))};var dn=function(o){this.type=ln,this.sections=o};dn.parse=function(o,c){if(o.length<2)return c.error("Expected at least one argument.");var h=o[1];if(!Array.isArray(h)&&typeof h=="object")return c.error("First argument must be an image or text section.");for(var w=[],A=!1,L=1;L<=o.length-1;++L){var R=o[L];if(A&&typeof R=="object"&&!Array.isArray(R)){A=!1;var B=null;if(R["font-scale"]&&!(B=c.parse(R["font-scale"],1,Et)))return null;var Z=null;if(R["text-font"]&&!(Z=c.parse(R["text-font"],1,cn(fr))))return null;var K=null;if(R["text-color"]&&!(K=c.parse(R["text-color"],1,or)))return null;var le=w[w.length-1];le.scale=B,le.font=Z,le.textColor=K}else{var _e=c.parse(o[L],1,dr);if(!_e)return null;var xe=_e.type.kind;if(xe!=="string"&&xe!=="value"&&xe!=="null"&&xe!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");A=!0,w.push({content:_e,scale:null,font:null,textColor:null})}}return new dn(w)},dn.prototype.evaluate=function(o){return new Yi(this.sections.map(function(c){var h=c.content.evaluate(o);return ra(h)===Lt?new bl("",h,null,null,null):new bl(Tc(h),null,c.scale?c.scale.evaluate(o):null,c.font?c.font.evaluate(o).join(","):null,c.textColor?c.textColor.evaluate(o):null)}))},dn.prototype.eachChild=function(o){for(var c=0,h=this.sections;c<h.length;c+=1){var w=h[c];o(w.content),w.scale&&o(w.scale),w.font&&o(w.font),w.textColor&&o(w.textColor)}},dn.prototype.outputDefined=function(){return!1},dn.prototype.serialize=function(){for(var o=["format"],c=0,h=this.sections;c<h.length;c+=1){var w=h[c];o.push(w.content.serialize());var A={};w.scale&&(A["font-scale"]=w.scale.serialize()),w.font&&(A["text-font"]=w.font.serialize()),w.textColor&&(A["text-color"]=w.textColor.serialize()),o.push(A)}return o};var su=function(o){this.type=Lt,this.input=o};su.parse=function(o,c){if(o.length!==2)return c.error("Expected two arguments.");var h=c.parse(o[1],1,fr);return h?new su(h):c.error("No image name provided.")},su.prototype.evaluate=function(o){var c=this.input.evaluate(o),h=ti.fromString(c);return h&&o.availableImages&&(h.available=o.availableImages.indexOf(c)>-1),h},su.prototype.eachChild=function(o){o(this.input)},su.prototype.outputDefined=function(){return!1},su.prototype.serialize=function(){return["image",this.input.serialize()]};var yp={"to-boolean":Zt,"to-color":or,"to-number":Et,"to-string":fr},Ts=function(o,c){this.type=o,this.args=c};Ts.parse=function(o,c){if(o.length<2)return c.error("Expected at least one argument.");var h=o[0];if((h==="to-boolean"||h==="to-string")&&o.length!==2)return c.error("Expected one argument.");for(var w=yp[h],A=[],L=1;L<o.length;L++){var R=c.parse(o[L],L,dr);if(!R)return null;A.push(R)}return new Ts(w,A)},Ts.prototype.evaluate=function(o){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(o));if(this.type.kind==="color"){for(var c,h,w=0,A=this.args;w<A.length;w+=1){if(h=null,(c=A[w].evaluate(o))instanceof hi)return c;if(typeof c=="string"){var L=o.parseColor(c);if(L)return L}else if(Array.isArray(c)&&!(h=c.length<3||c.length>4?"Invalid rbga value "+JSON.stringify(c)+": expected an array containing either three or four numeric values.":If(c[0],c[1],c[2],c[3])))return new hi(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Ma(h||"Could not parse color from value '"+(typeof c=="string"?c:String(JSON.stringify(c)))+"'")}if(this.type.kind==="number"){for(var R=null,B=0,Z=this.args;B<Z.length;B+=1){if((R=Z[B].evaluate(o))===null)return 0;var K=Number(R);if(!isNaN(K))return K}throw new Ma("Could not convert "+JSON.stringify(R)+" to number.")}return this.type.kind==="formatted"?Yi.fromString(Tc(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?ti.fromString(Tc(this.args[0].evaluate(o))):Tc(this.args[0].evaluate(o))},Ts.prototype.eachChild=function(o){this.args.forEach(o)},Ts.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},Ts.prototype.serialize=function(){if(this.type.kind==="formatted")return new dn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new su(this.args[0]).serialize();var o=["to-"+this.type.kind];return this.eachChild(function(c){o.push(c.serialize())}),o};var Nu=["Unknown","Point","LineString","Polygon"],Ba=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ba.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ba.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Nu[this.feature.type]:this.feature.type:null},Ba.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ba.prototype.canonicalID=function(){return this.canonical},Ba.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ba.prototype.parseColor=function(o){var c=this._parseColorCache[o];return c||(c=this._parseColorCache[o]=hi.parse(o)),c};var $a=function(o,c,h,w){this.name=o,this.type=c,this._evaluate=h,this.args=w};$a.prototype.evaluate=function(o){return this._evaluate(o,this.args)},$a.prototype.eachChild=function(o){this.args.forEach(o)},$a.prototype.outputDefined=function(){return!1},$a.prototype.serialize=function(){return[this.name].concat(this.args.map(function(o){return o.serialize()}))},$a.parse=function(o,c){var h,w=o[0],A=$a.definitions[w];if(!A)return c.error('Unknown expression "'+w+'". If you wanted a literal array, use ["literal", [...]].',0);for(var L=Array.isArray(A)?A[0]:A.type,R=Array.isArray(A)?[[A[1],A[2]]]:A.overloads,B=R.filter(function(Zr){var br=Zr[0];return!Array.isArray(br)||br.length===o.length-1}),Z=null,K=0,le=B;K<le.length;K+=1){var _e=le[K],xe=_e[0],Ae=_e[1];Z=new da(c.registry,c.path,null,c.scope);for(var Ge=[],Ye=!1,ot=1;ot<o.length;ot++){var et=o[ot],ct=Array.isArray(xe)?xe[ot-1]:xe.type,vt=Z.parse(et,1+Ge.length,ct);if(!vt){Ye=!0;break}Ge.push(vt)}if(!Ye)if(Array.isArray(xe)&&xe.length!==Ge.length)Z.error("Expected "+xe.length+" arguments, but found "+Ge.length+" instead.");else{for(var At=0;At<Ge.length;At++){var Ot=Array.isArray(xe)?xe[At]:xe.type,Ft=Ge[At];Z.concat(At+1).checkSubtype(Ot,Ft.type)}if(Z.errors.length===0)return new $a(w,L,Ae,Ge)}}if(B.length===1)(h=c.errors).push.apply(h,Z.errors);else{for(var Qt=(B.length?B:R).map(function(Zr){var br;return br=Zr[0],Array.isArray(br)?"("+br.map(Ln).join(", ")+")":"("+Ln(br.type)+"...)"}).join(" | "),pr=[],Vr=1;Vr<o.length;Vr++){var yr=c.parse(o[Vr],1+pr.length);if(!yr)return null;pr.push(Ln(yr.type))}c.error("Expected arguments of type "+Qt+", but found ("+pr.join(", ")+") instead.")}return null},$a.register=function(o,c){for(var h in $a.definitions=c,c)o[h]=$a};var rl=function(o,c,h){this.type=Ur,this.locale=h,this.caseSensitive=o,this.diacriticSensitive=c};function Wt(o,c){o[0]=Math.min(o[0],c[0]),o[1]=Math.min(o[1],c[1]),o[2]=Math.max(o[2],c[0]),o[3]=Math.max(o[3],c[1])}function xl(o,c){return!(o[0]<=c[0]||o[2]>=c[2]||o[1]<=c[1]||o[3]>=c[3])}function Uu(o,c){var h=(180+o[0])/360,w=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,A=Math.pow(2,c.z);return[Math.round(h*A*8192),Math.round(w*A*8192)]}function wl(o,c,h){return c[1]>o[1]!=h[1]>o[1]&&o[0]<(h[0]-c[0])*(o[1]-c[1])/(h[1]-c[1])+c[0]}function Jc(o,c){for(var h,w,A,L,R,B,Z,K=!1,le=0,_e=c.length;le<_e;le++)for(var xe=c[le],Ae=0,Ge=xe.length;Ae<Ge-1;Ae++){if((L=(h=o)[0]-(w=xe[Ae])[0])*(Z=h[1]-(A=xe[Ae+1])[1])-(B=h[0]-A[0])*(R=h[1]-w[1])==0&&L*B<=0&&R*Z<=0)return!1;wl(o,xe[Ae],xe[Ae+1])&&(K=!K)}return K}function os(o,c){for(var h=0;h<c.length;h++)if(Jc(o,c[h]))return!0;return!1}function Hi(o,c,h,w){var A=w[0]-h[0],L=w[1]-h[1],R=(o[0]-h[0])*L-A*(o[1]-h[1]),B=(c[0]-h[0])*L-A*(c[1]-h[1]);return R>0&&B<0||R<0&&B>0}function Ai(o,c,h){for(var w=0,A=h;w<A.length;w+=1)for(var L=A[w],R=0;R<L.length-1;++R)if((_e=[(le=L[R+1])[0]-(K=L[R])[0],le[1]-K[1]])[0]*(xe=[(Z=c)[0]-(B=o)[0],Z[1]-B[1]])[1]-_e[1]*xe[0]!=0&&Hi(B,Z,K,le)&&Hi(K,le,B,Z))return!0;var B,Z,K,le,_e,xe;return!1}function Wo(o,c){for(var h=0;h<o.length;++h)if(!Jc(o[h],c))return!1;for(var w=0;w<o.length-1;++w)if(Ai(o[w],o[w+1],c))return!1;return!0}function vp(o,c){for(var h=0;h<c.length;h++)if(Wo(o,c[h]))return!0;return!1}function Lc(o,c,h){for(var w=[],A=0;A<o.length;A++){for(var L=[],R=0;R<o[A].length;R++){var B=Uu(o[A][R],h);Wt(c,B),L.push(B)}w.push(L)}return w}function gs(o,c,h){for(var w=[],A=0;A<o.length;A++){var L=Lc(o[A],c,h);w.push(L)}return w}function jl(o,c,h,w){if(o[0]<h[0]||o[0]>h[2]){var A=.5*w,L=o[0]-h[0]>A?-w:h[0]-o[0]>A?w:0;L===0&&(L=o[0]-h[2]>A?-w:h[2]-o[0]>A?w:0),o[0]+=L}Wt(c,o)}function mu(o,c,h,w){for(var A=8192*Math.pow(2,w.z),L=[8192*w.x,8192*w.y],R=[],B=0,Z=o;B<Z.length;B+=1)for(var K=0,le=Z[B];K<le.length;K+=1){var _e=le[K],xe=[_e.x+L[0],_e.y+L[1]];jl(xe,c,h,A),R.push(xe)}return R}function Ei(o,c,h,w){for(var A,L=8192*Math.pow(2,w.z),R=[8192*w.x,8192*w.y],B=[],Z=0,K=o;Z<K.length;Z+=1){for(var le=[],_e=0,xe=K[Z];_e<xe.length;_e+=1){var Ae=xe[_e],Ge=[Ae.x+R[0],Ae.y+R[1]];Wt(c,Ge),le.push(Ge)}B.push(le)}if(c[2]-c[0]<=L/2){(A=c)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(var Ye=0,ot=B;Ye<ot.length;Ye+=1)for(var et=0,ct=ot[Ye];et<ct.length;et+=1)jl(ct[et],c,h,L)}return B}rl.parse=function(o,c){if(o.length!==2)return c.error("Expected one argument.");var h=o[1];if(typeof h!="object"||Array.isArray(h))return c.error("Collator options argument must be an object.");var w=c.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,Zt);if(!w)return null;var A=c.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,Zt);if(!A)return null;var L=null;return h.locale&&!(L=c.parse(h.locale,1,fr))?null:new rl(w,A,L)},rl.prototype.evaluate=function(o){return new ja(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)},rl.prototype.eachChild=function(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)},rl.prototype.outputDefined=function(){return!1},rl.prototype.serialize=function(){var o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]};var Ls=function(o,c){this.type=Zt,this.geojson=o,this.geometries=c};function Xo(o){if(o instanceof $a&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof Ls)return!1;var c=!0;return o.eachChild(function(h){c&&!Xo(h)&&(c=!1)}),c}function nl(o){if(o instanceof $a&&o.name==="feature-state")return!1;var c=!0;return o.eachChild(function(h){c&&!nl(h)&&(c=!1)}),c}function Mu(o,c){if(o instanceof $a&&c.indexOf(o.name)>=0)return!1;var h=!0;return o.eachChild(function(w){h&&!Mu(w,c)&&(h=!1)}),h}Ls.parse=function(o,c){if(o.length!==2)return c.error("'within' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(Us(o[1])){var h=o[1];if(h.type==="FeatureCollection")for(var w=0;w<h.features.length;++w){var A=h.features[w].geometry.type;if(A==="Polygon"||A==="MultiPolygon")return new Ls(h,h.features[w].geometry)}else if(h.type==="Feature"){var L=h.geometry.type;if(L==="Polygon"||L==="MultiPolygon")return new Ls(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Ls(h,h)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ls.prototype.evaluate=function(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(c,h){var w=[1/0,1/0,-1/0,-1/0],A=[1/0,1/0,-1/0,-1/0],L=c.canonicalID();if(h.type==="Polygon"){var R=Lc(h.coordinates,A,L),B=mu(c.geometry(),w,A,L);if(!xl(w,A))return!1;for(var Z=0,K=B;Z<K.length;Z+=1)if(!Jc(K[Z],R))return!1}if(h.type==="MultiPolygon"){var le=gs(h.coordinates,A,L),_e=mu(c.geometry(),w,A,L);if(!xl(w,A))return!1;for(var xe=0,Ae=_e;xe<Ae.length;xe+=1)if(!os(Ae[xe],le))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(c,h){var w=[1/0,1/0,-1/0,-1/0],A=[1/0,1/0,-1/0,-1/0],L=c.canonicalID();if(h.type==="Polygon"){var R=Lc(h.coordinates,A,L),B=Ei(c.geometry(),w,A,L);if(!xl(w,A))return!1;for(var Z=0,K=B;Z<K.length;Z+=1)if(!Wo(K[Z],R))return!1}if(h.type==="MultiPolygon"){var le=gs(h.coordinates,A,L),_e=Ei(c.geometry(),w,A,L);if(!xl(w,A))return!1;for(var xe=0,Ae=_e;xe<Ae.length;xe+=1)if(!vp(Ae[xe],le))return!1}return!0}(o,this.geometries)}return!1},Ls.prototype.eachChild=function(){},Ls.prototype.outputDefined=function(){return!0},Ls.prototype.serialize=function(){return["within",this.geojson]};var Ri=function(o,c){this.type=c.type,this.name=o,this.boundExpression=c};Ri.parse=function(o,c){if(o.length!==2||typeof o[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");var h=o[1];return c.scope.has(h)?new Ri(h,c.scope.get(h)):c.error('Unknown variable "'+h+'". Make sure "'+h+'" has been bound in an enclosing "let" expression before using it.',1)},Ri.prototype.evaluate=function(o){return this.boundExpression.evaluate(o)},Ri.prototype.eachChild=function(){},Ri.prototype.outputDefined=function(){return!1},Ri.prototype.serialize=function(){return["var",this.name]};var da=function(o,c,h,w,A){c===void 0&&(c=[]),w===void 0&&(w=new _r),A===void 0&&(A=[]),this.registry=o,this.path=c,this.key=c.map(function(L){return"["+L+"]"}).join(""),this.scope=w,this.errors=A,this.expectedType=h};function il(o,c){for(var h,w=o.length-1,A=0,L=w,R=0;A<=L;)if((h=o[R=Math.floor((A+L)/2)])<=c){if(R===w||c<o[R+1])return R;A=R+1}else{if(!(h>c))throw new Ma("Input is not a number.");L=R-1}return 0}da.prototype.parse=function(o,c,h,w,A){return A===void 0&&(A={}),c?this.concat(c,h,w)._parse(o,A):this._parse(o,A)},da.prototype._parse=function(o,c){function h(K,le,_e){return _e==="assert"?new ro(le,[K]):_e==="coerce"?new Ts(le,[K]):K}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var w=o[0];if(typeof w!="string")return this.error("Expression name must be a string, but found "+typeof w+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var A=this.registry[w];if(A){var L=A.parse(o,this);if(!L)return null;if(this.expectedType){var R=this.expectedType,B=L.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||B.kind!=="value")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string"){if(this.checkSubtype(R,B))return null}else L=h(L,R,c.typeAnnotation||"coerce");else L=h(L,R,c.typeAnnotation||"assert")}if(!(L instanceof wn)&&L.type.kind!=="resolvedImage"&&function K(le){if(le instanceof Ri)return K(le.boundExpression);if(le instanceof $a&&le.name==="error"||le instanceof rl||le instanceof Ls)return!1;var _e=le instanceof Ts||le instanceof ro,xe=!0;return le.eachChild(function(Ae){xe=_e?xe&&K(Ae):xe&&Ae instanceof wn}),!!xe&&Xo(le)&&Mu(le,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(L)){var Z=new Ba;try{L=new wn(L.type,L.evaluate(Z))}catch(K){return this.error(K.message),null}}return L}return this.error('Unknown expression "'+w+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof o+" instead.")},da.prototype.concat=function(o,c,h){var w=typeof o=="number"?this.path.concat(o):this.path,A=h?this.scope.concat(h):this.scope;return new da(this.registry,w,c||null,A,this.errors)},da.prototype.error=function(o){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];var w=""+this.key+c.map(function(A){return"["+A+"]"}).join("");this.errors.push(new zt(w,o))},da.prototype.checkSubtype=function(o,c){var h=li(o,c);return h&&this.error(h),h};var po=function(o,c,h){this.type=o,this.input=c,this.labels=[],this.outputs=[];for(var w=0,A=h;w<A.length;w+=1){var L=A[w],R=L[1];this.labels.push(L[0]),this.outputs.push(R)}};function Zi(o,c,h){return o*(1-h)+c*h}po.parse=function(o,c){if(o.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");var h=c.parse(o[1],1,Et);if(!h)return null;var w=[],A=null;c.expectedType&&c.expectedType.kind!=="value"&&(A=c.expectedType);for(var L=1;L<o.length;L+=2){var R=L===1?-1/0:o[L],B=o[L+1],Z=L,K=L+1;if(typeof R!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(w.length&&w[w.length-1][0]>=R)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Z);var le=c.parse(B,K,A);if(!le)return null;A=A||le.type,w.push([R,le])}return new po(A,h,w)},po.prototype.evaluate=function(o){var c=this.labels,h=this.outputs;if(c.length===1)return h[0].evaluate(o);var w=this.input.evaluate(o);if(w<=c[0])return h[0].evaluate(o);var A=c.length;return w>=c[A-1]?h[A-1].evaluate(o):h[il(c,w)].evaluate(o)},po.prototype.eachChild=function(o){o(this.input);for(var c=0,h=this.outputs;c<h.length;c+=1)o(h[c])},po.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},po.prototype.serialize=function(){for(var o=["step",this.input.serialize()],c=0;c<this.labels.length;c++)c>0&&o.push(this.labels[c]),o.push(this.outputs[c].serialize());return o};var uu=Object.freeze({__proto__:null,number:Zi,color:function(o,c,h){return new hi(Zi(o.r,c.r,h),Zi(o.g,c.g,h),Zi(o.b,c.b,h),Zi(o.a,c.a,h))},array:function(o,c,h){return o.map(function(w,A){return Zi(w,c[A],h)})}}),Bl=6/29*3*(6/29),_a=Math.PI/180,bp=180/Math.PI;function qs(o){return o>.008856451679035631?Math.pow(o,1/3):o/Bl+4/29}function Yo(o){return o>6/29?o*o*o:Bl*(o-4/29)}function Pa(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function Qc(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function rh(o){var c=Qc(o.r),h=Qc(o.g),w=Qc(o.b),A=qs((.4124564*c+.3575761*h+.1804375*w)/.95047),L=qs((.2126729*c+.7151522*h+.072175*w)/1);return{l:116*L-16,a:500*(A-L),b:200*(L-qs((.0193339*c+.119192*h+.9503041*w)/1.08883)),alpha:o.a}}function Nc(o){var c=(o.l+16)/116,h=isNaN(o.a)?c:c+o.a/500,w=isNaN(o.b)?c:c-o.b/200;return c=1*Yo(c),h=.95047*Yo(h),w=1.08883*Yo(w),new hi(Pa(3.2404542*h-1.5371385*c-.4985314*w),Pa(-.969266*h+1.8760108*c+.041556*w),Pa(.0556434*h-.2040259*c+1.0572252*w),o.alpha)}function Mc(o,c,h){var w=c-o;return o+h*(w>180||w<-180?w-360*Math.round(w/360):w)}var ol={forward:rh,reverse:Nc,interpolate:function(o,c,h){return{l:Zi(o.l,c.l,h),a:Zi(o.a,c.a,h),b:Zi(o.b,c.b,h),alpha:Zi(o.alpha,c.alpha,h)}}},ao={forward:function(o){var c=rh(o),h=c.l,w=c.a,A=c.b,L=Math.atan2(A,w)*bp;return{h:L<0?L+360:L,c:Math.sqrt(w*w+A*A),l:h,alpha:o.a}},reverse:function(o){var c=o.h*_a,h=o.c;return Nc({l:o.l,a:Math.cos(c)*h,b:Math.sin(c)*h,alpha:o.alpha})},interpolate:function(o,c,h){return{h:Mc(o.h,c.h,h),c:Zi(o.c,c.c,h),l:Zi(o.l,c.l,h),alpha:Zi(o.alpha,c.alpha,h)}}},Vs=Object.freeze({__proto__:null,lab:ol,hcl:ao}),Vi=function(o,c,h,w,A){this.type=o,this.operator=c,this.interpolation=h,this.input=w,this.labels=[],this.outputs=[];for(var L=0,R=A;L<R.length;L+=1){var B=R[L],Z=B[1];this.labels.push(B[0]),this.outputs.push(Z)}};function Rc(o,c,h,w){var A=w-h,L=o-h;return A===0?0:c===1?L/A:(Math.pow(c,L)-1)/(Math.pow(c,A)-1)}Vi.interpolationFactor=function(o,c,h,w){var A=0;if(o.name==="exponential")A=Rc(c,o.base,h,w);else if(o.name==="linear")A=Rc(c,1,h,w);else if(o.name==="cubic-bezier"){var L=o.controlPoints;A=new v(L[0],L[1],L[2],L[3]).solve(Rc(c,1,h,w))}return A},Vi.parse=function(o,c){var h=o[0],w=o[1],A=o[2],L=o.slice(3);if(!Array.isArray(w)||w.length===0)return c.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){var R=w[1];if(typeof R!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:R}}else{if(w[0]!=="cubic-bezier")return c.error("Unknown interpolation type "+String(w[0]),1,0);var B=w.slice(1);if(B.length!==4||B.some(function(ot){return typeof ot!="number"||ot<0||ot>1}))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:B}}if(o.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(!(A=c.parse(A,2,Et)))return null;var Z=[],K=null;h==="interpolate-hcl"||h==="interpolate-lab"?K=or:c.expectedType&&c.expectedType.kind!=="value"&&(K=c.expectedType);for(var le=0;le<L.length;le+=2){var _e=L[le],xe=L[le+1],Ae=le+3,Ge=le+4;if(typeof _e!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ae);if(Z.length&&Z[Z.length-1][0]>=_e)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ae);var Ye=c.parse(xe,Ge,K);if(!Ye)return null;K=K||Ye.type,Z.push([_e,Ye])}return K.kind==="number"||K.kind==="color"||K.kind==="array"&&K.itemType.kind==="number"&&typeof K.N=="number"?new Vi(K,h,w,A,Z):c.error("Type "+Ln(K)+" is not interpolatable.")},Vi.prototype.evaluate=function(o){var c=this.labels,h=this.outputs;if(c.length===1)return h[0].evaluate(o);var w=this.input.evaluate(o);if(w<=c[0])return h[0].evaluate(o);var A=c.length;if(w>=c[A-1])return h[A-1].evaluate(o);var L=il(c,w),R=Vi.interpolationFactor(this.interpolation,w,c[L],c[L+1]),B=h[L].evaluate(o),Z=h[L+1].evaluate(o);return this.operator==="interpolate"?uu[this.type.kind.toLowerCase()](B,Z,R):this.operator==="interpolate-hcl"?ao.reverse(ao.interpolate(ao.forward(B),ao.forward(Z),R)):ol.reverse(ol.interpolate(ol.forward(B),ol.forward(Z),R))},Vi.prototype.eachChild=function(o){o(this.input);for(var c=0,h=this.outputs;c<h.length;c+=1)o(h[c])},Vi.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},Vi.prototype.serialize=function(){var o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var c=[this.operator,o,this.input.serialize()],h=0;h<this.labels.length;h++)c.push(this.labels[h],this.outputs[h].serialize());return c};var Gs=function(o,c){this.type=o,this.args=c};Gs.parse=function(o,c){if(o.length<2)return c.error("Expectected at least one argument.");var h=null,w=c.expectedType;w&&w.kind!=="value"&&(h=w);for(var A=[],L=0,R=o.slice(1);L<R.length;L+=1){var B=c.parse(R[L],1+A.length,h,void 0,{typeAnnotation:"omit"});if(!B)return null;h=h||B.type,A.push(B)}var Z=w&&A.some(function(K){return li(w,K.type)});return new Gs(Z?dr:h,A)},Gs.prototype.evaluate=function(o){for(var c,h=null,w=0,A=0,L=this.args;A<L.length&&(w++,(h=L[A].evaluate(o))&&h instanceof ti&&!h.available&&(c||(c=h.name),h=null,w===this.args.length&&(h=c)),h===null);A+=1);return h},Gs.prototype.eachChild=function(o){this.args.forEach(o)},Gs.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},Gs.prototype.serialize=function(){var o=["coalesce"];return this.eachChild(function(c){o.push(c.serialize())}),o};var Sl=function(o,c){this.type=c.type,this.bindings=[].concat(o),this.result=c};Sl.prototype.evaluate=function(o){return this.result.evaluate(o)},Sl.prototype.eachChild=function(o){for(var c=0,h=this.bindings;c<h.length;c+=1)o(h[c][1]);o(this.result)},Sl.parse=function(o,c){if(o.length<4)return c.error("Expected at least 3 arguments, but found "+(o.length-1)+" instead.");for(var h=[],w=1;w<o.length-1;w+=2){var A=o[w];if(typeof A!="string")return c.error("Expected string, but found "+typeof A+" instead.",w);if(/[^a-zA-Z0-9_]/.test(A))return c.error("Variable names must contain only alphanumeric characters or '_'.",w);var L=c.parse(o[w+1],w+1);if(!L)return null;h.push([A,L])}var R=c.parse(o[o.length-1],o.length-1,c.expectedType,h);return R?new Sl(h,R):null},Sl.prototype.outputDefined=function(){return this.result.outputDefined()},Sl.prototype.serialize=function(){for(var o=["let"],c=0,h=this.bindings;c<h.length;c+=1){var w=h[c];o.push(w[0],w[1].serialize())}return o.push(this.result.serialize()),o};var so=function(o,c,h){this.type=o,this.index=c,this.input=h};so.parse=function(o,c){if(o.length!==3)return c.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var h=c.parse(o[1],1,Et),w=c.parse(o[2],2,cn(c.expectedType||dr));return h&&w?new so(w.type.itemType,h,w):null},so.prototype.evaluate=function(o){var c=this.index.evaluate(o),h=this.input.evaluate(o);if(c<0)throw new Ma("Array index out of bounds: "+c+" < 0.");if(c>=h.length)throw new Ma("Array index out of bounds: "+c+" > "+(h.length-1)+".");if(c!==Math.floor(c))throw new Ma("Array index must be an integer, but found "+c+" instead.");return h[c]},so.prototype.eachChild=function(o){o(this.index),o(this.input)},so.prototype.outputDefined=function(){return!1},so.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Rr=function(o,c){this.type=Zt,this.needle=o,this.haystack=c};Rr.parse=function(o,c){if(o.length!==3)return c.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var h=c.parse(o[1],1,dr),w=c.parse(o[2],2,dr);return h&&w?Fi(h.type,[Zt,fr,Et,cr,dr])?new Rr(h,w):c.error("Expected first argument to be of type boolean, string, number or null, but found "+Ln(h.type)+" instead"):null},Rr.prototype.evaluate=function(o){var c=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(!h)return!1;if(!Jn(c,["boolean","string","number","null"]))throw new Ma("Expected first argument to be of type boolean, string, number or null, but found "+Ln(ra(c))+" instead.");if(!Jn(h,["string","array"]))throw new Ma("Expected second argument to be of type array or string, but found "+Ln(ra(h))+" instead.");return h.indexOf(c)>=0},Rr.prototype.eachChild=function(o){o(this.needle),o(this.haystack)},Rr.prototype.outputDefined=function(){return!0},Rr.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var pc=function(o,c,h){this.type=Et,this.needle=o,this.haystack=c,this.fromIndex=h};pc.parse=function(o,c){if(o.length<=2||o.length>=5)return c.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var h=c.parse(o[1],1,dr),w=c.parse(o[2],2,dr);if(!h||!w)return null;if(!Fi(h.type,[Zt,fr,Et,cr,dr]))return c.error("Expected first argument to be of type boolean, string, number or null, but found "+Ln(h.type)+" instead");if(o.length===4){var A=c.parse(o[3],3,Et);return A?new pc(h,w,A):null}return new pc(h,w)},pc.prototype.evaluate=function(o){var c=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(!Jn(c,["boolean","string","number","null"]))throw new Ma("Expected first argument to be of type boolean, string, number or null, but found "+Ln(ra(c))+" instead.");if(!Jn(h,["string","array"]))throw new Ma("Expected second argument to be of type array or string, but found "+Ln(ra(h))+" instead.");if(this.fromIndex){var w=this.fromIndex.evaluate(o);return h.indexOf(c,w)}return h.indexOf(c)},pc.prototype.eachChild=function(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)},pc.prototype.outputDefined=function(){return!1},pc.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var El=function(o,c,h,w,A,L){this.inputType=o,this.type=c,this.input=h,this.cases=w,this.outputs=A,this.otherwise=L};El.parse=function(o,c){if(o.length<5)return c.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if(o.length%2!=1)return c.error("Expected an even number of arguments.");var h,w;c.expectedType&&c.expectedType.kind!=="value"&&(w=c.expectedType);for(var A={},L=[],R=2;R<o.length-1;R+=2){var B=o[R],Z=o[R+1];Array.isArray(B)||(B=[B]);var K=c.concat(R);if(B.length===0)return K.error("Expected at least one branch label.");for(var le=0,_e=B;le<_e.length;le+=1){var xe=_e[le];if(typeof xe!="number"&&typeof xe!="string")return K.error("Branch labels must be numbers or strings.");if(typeof xe=="number"&&Math.abs(xe)>Number.MAX_SAFE_INTEGER)return K.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof xe=="number"&&Math.floor(xe)!==xe)return K.error("Numeric branch labels must be integer values.");if(h){if(K.checkSubtype(h,ra(xe)))return null}else h=ra(xe);if(A[String(xe)]!==void 0)return K.error("Branch labels must be unique.");A[String(xe)]=L.length}var Ae=c.parse(Z,R,w);if(!Ae)return null;w=w||Ae.type,L.push(Ae)}var Ge=c.parse(o[1],1,dr);if(!Ge)return null;var Ye=c.parse(o[o.length-1],o.length-1,w);return Ye?Ge.type.kind!=="value"&&c.concat(1).checkSubtype(h,Ge.type)?null:new El(h,w,Ge,A,L,Ye):null},El.prototype.evaluate=function(o){var c=this.input.evaluate(o);return(ra(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(o)},El.prototype.eachChild=function(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)},El.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})&&this.otherwise.outputDefined()},El.prototype.serialize=function(){for(var o=this,c=["match",this.input.serialize()],h=[],w={},A=0,L=Object.keys(this.cases).sort();A<L.length;A+=1){var R=L[A];(_e=w[this.cases[R]])===void 0?(w[this.cases[R]]=h.length,h.push([this.cases[R],[R]])):h[_e][1].push(R)}for(var B=function(Ae){return o.inputType.kind==="number"?Number(Ae):Ae},Z=0,K=h;Z<K.length;Z+=1){var le=K[Z],_e=le[0],xe=le[1];c.push(xe.length===1?B(xe[0]):xe.map(B)),c.push(this.outputs[outputIndex$1].serialize())}return c.push(this.otherwise.serialize()),c};var Ha=function(o,c,h){this.type=o,this.branches=c,this.otherwise=h};Ha.parse=function(o,c){if(o.length<4)return c.error("Expected at least 3 arguments, but found only "+(o.length-1)+".");if(o.length%2!=0)return c.error("Expected an odd number of arguments.");var h;c.expectedType&&c.expectedType.kind!=="value"&&(h=c.expectedType);for(var w=[],A=1;A<o.length-1;A+=2){var L=c.parse(o[A],A,Zt);if(!L)return null;var R=c.parse(o[A+1],A+1,h);if(!R)return null;w.push([L,R]),h=h||R.type}var B=c.parse(o[o.length-1],o.length-1,h);return B?new Ha(h,w,B):null},Ha.prototype.evaluate=function(o){for(var c=0,h=this.branches;c<h.length;c+=1){var w=h[c],A=w[1];if(w[0].evaluate(o))return A.evaluate(o)}return this.otherwise.evaluate(o)},Ha.prototype.eachChild=function(o){for(var c=0,h=this.branches;c<h.length;c+=1){var w=h[c],A=w[1];o(w[0]),o(A)}o(this.otherwise)},Ha.prototype.outputDefined=function(){return this.branches.every(function(o){return o[1].outputDefined()})&&this.otherwise.outputDefined()},Ha.prototype.serialize=function(){var o=["case"];return this.eachChild(function(c){o.push(c.serialize())}),o};var Ns=function(o,c,h,w){this.type=o,this.input=c,this.beginIndex=h,this.endIndex=w};function Dc(o,c){return o==="=="||o==="!="?c.kind==="boolean"||c.kind==="string"||c.kind==="number"||c.kind==="null"||c.kind==="value":c.kind==="string"||c.kind==="number"||c.kind==="value"}function Xf(o,c,h,w){return w.compare(c,h)===0}function Ji(o,c,h){var w=o!=="=="&&o!=="!=";return function(){function A(L,R,B){this.type=Zt,this.lhs=L,this.rhs=R,this.collator=B,this.hasUntypedArgument=L.type.kind==="value"||R.type.kind==="value"}return A.parse=function(L,R){if(L.length!==3&&L.length!==4)return R.error("Expected two or three arguments.");var B=L[0],Z=R.parse(L[1],1,dr);if(!Z)return null;if(!Dc(B,Z.type))return R.concat(1).error('"'+B+`" comparisons are not supported for type '`+Ln(Z.type)+"'.");var K=R.parse(L[2],2,dr);if(!K)return null;if(!Dc(B,K.type))return R.concat(2).error('"'+B+`" comparisons are not supported for type '`+Ln(K.type)+"'.");if(Z.type.kind!==K.type.kind&&Z.type.kind!=="value"&&K.type.kind!=="value")return R.error("Cannot compare types '"+Ln(Z.type)+"' and '"+Ln(K.type)+"'.");w&&(Z.type.kind==="value"&&K.type.kind!=="value"?Z=new ro(K.type,[Z]):Z.type.kind!=="value"&&K.type.kind==="value"&&(K=new ro(Z.type,[K])));var le=null;if(L.length===4){if(Z.type.kind!=="string"&&K.type.kind!=="string"&&Z.type.kind!=="value"&&K.type.kind!=="value")return R.error("Cannot use collator to compare non-string types.");if(!(le=R.parse(L[3],3,Ur)))return null}return new A(Z,K,le)},A.prototype.evaluate=function(L){var R=this.lhs.evaluate(L),B=this.rhs.evaluate(L);if(w&&this.hasUntypedArgument){var Z=ra(R),K=ra(B);if(Z.kind!==K.kind||Z.kind!=="string"&&Z.kind!=="number")throw new Ma('Expected arguments for "'+o+'" to be (string, string) or (number, number), but found ('+Z.kind+", "+K.kind+") instead.")}if(this.collator&&!w&&this.hasUntypedArgument){var le=ra(R),_e=ra(B);if(le.kind!=="string"||_e.kind!=="string")return c(L,R,B)}return this.collator?h(L,R,B,this.collator.evaluate(L)):c(L,R,B)},A.prototype.eachChild=function(L){L(this.lhs),L(this.rhs),this.collator&&L(this.collator)},A.prototype.outputDefined=function(){return!0},A.prototype.serialize=function(){var L=[o];return this.eachChild(function(R){L.push(R.serialize())}),L},A}()}Ns.parse=function(o,c){if(o.length<=2||o.length>=5)return c.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var h=c.parse(o[1],1,dr),w=c.parse(o[2],2,Et);if(!h||!w)return null;if(!Fi(h.type,[cn(dr),fr,dr]))return c.error("Expected first argument to be of type array or string, but found "+Ln(h.type)+" instead");if(o.length===4){var A=c.parse(o[3],3,Et);return A?new Ns(h.type,h,w,A):null}return new Ns(h.type,h,w)},Ns.prototype.evaluate=function(o){var c=this.input.evaluate(o),h=this.beginIndex.evaluate(o);if(!Jn(c,["string","array"]))throw new Ma("Expected first argument to be of type array or string, but found "+Ln(ra(c))+" instead.");if(this.endIndex){var w=this.endIndex.evaluate(o);return c.slice(h,w)}return c.slice(h)},Ns.prototype.eachChild=function(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)},Ns.prototype.outputDefined=function(){return!1},Ns.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ed=Ji("==",function(o,c,h){return c===h},Xf),Si=Ji("!=",function(o,c,h){return c!==h},function(o,c,h,w){return!Xf(0,c,h,w)}),$l=Ji("<",function(o,c,h){return c<h},function(o,c,h,w){return w.compare(c,h)<0}),ua=Ji(">",function(o,c,h){return c>h},function(o,c,h,w){return w.compare(c,h)>0}),Yf=Ji("<=",function(o,c,h){return c<=h},function(o,c,h,w){return w.compare(c,h)<=0}),gu=Ji(">=",function(o,c,h){return c>=h},function(o,c,h,w){return w.compare(c,h)>=0}),ef=function(o,c,h,w,A){this.type=fr,this.number=o,this.locale=c,this.currency=h,this.minFractionDigits=w,this.maxFractionDigits=A};ef.parse=function(o,c){if(o.length!==3)return c.error("Expected two arguments.");var h=c.parse(o[1],1,Et);if(!h)return null;var w=o[2];if(typeof w!="object"||Array.isArray(w))return c.error("NumberFormat options argument must be an object.");var A=null;if(w.locale&&!(A=c.parse(w.locale,1,fr)))return null;var L=null;if(w.currency&&!(L=c.parse(w.currency,1,fr)))return null;var R=null;if(w["min-fraction-digits"]&&!(R=c.parse(w["min-fraction-digits"],1,Et)))return null;var B=null;return w["max-fraction-digits"]&&!(B=c.parse(w["max-fraction-digits"],1,Et))?null:new ef(h,A,L,R,B)},ef.prototype.evaluate=function(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))},ef.prototype.eachChild=function(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)},ef.prototype.outputDefined=function(){return!1},ef.prototype.serialize=function(){var o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]};var Un=function(o){this.type=Et,this.input=o};Un.parse=function(o,c){if(o.length!==2)return c.error("Expected 1 argument, but found "+(o.length-1)+" instead.");var h=c.parse(o[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?c.error("Expected argument of type string or array, but found "+Ln(h.type)+" instead."):new Un(h):null},Un.prototype.evaluate=function(o){var c=this.input.evaluate(o);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Ma("Expected value to be of type string or array, but found "+Ln(ra(c))+" instead.")},Un.prototype.eachChild=function(o){o(this.input)},Un.prototype.outputDefined=function(){return!1},Un.prototype.serialize=function(){var o=["length"];return this.eachChild(function(c){o.push(c.serialize())}),o};var al={"==":Ed,"!=":Si,">":ua,"<":$l,">=":gu,"<=":Yf,array:ro,at:so,boolean:ro,case:Ha,coalesce:Gs,collator:rl,format:dn,image:su,in:Rr,"index-of":pc,interpolate:Vi,"interpolate-hcl":Vi,"interpolate-lab":Vi,length:Un,let:Sl,literal:wn,match:El,number:ro,"number-format":ef,object:ro,slice:Ns,step:po,string:ro,"to-boolean":Ts,"to-color":Ts,"to-number":Ts,"to-string":Ts,var:Ri,within:Ls};function ho(o,c){var h=c[0],w=c[1],A=c[2],L=c[3];h=h.evaluate(o),w=w.evaluate(o),A=A.evaluate(o);var R=L?L.evaluate(o):1,B=If(h,w,A,R);if(B)throw new Ma(B);return new hi(h/255*R,w/255*R,A/255*R,R)}function Hf(o,c){return o in c}function Ms(o,c){var h=c[o];return h===void 0?null:h}function sl(o){return{type:o}}function Rh(o){return{result:"success",value:o}}function Ru(o){return{result:"error",value:o}}function ci(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function Du(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function hc(o){return!!o.expression&&o.expression.interpolated}function Pi(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function Ws(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function Rs(o){return o}function Zf(o,c,h){return o!==void 0?o:c!==void 0?c:h!==void 0?h:void 0}function Dh(o,c,h,w,A){return Zf(typeof h===A?w[h]:void 0,o.default,c.default)}function zc(o,c,h){if(Pi(h)!=="number")return Zf(o.default,c.default);var w=o.stops.length;if(w===1||h<=o.stops[0][0])return o.stops[0][1];if(h>=o.stops[w-1][0])return o.stops[w-1][1];var A=il(o.stops.map(function(L){return L[0]}),h);return o.stops[A][1]}function qu(o,c,h){var w=o.base!==void 0?o.base:1;if(Pi(h)!=="number")return Zf(o.default,c.default);var A=o.stops.length;if(A===1||h<=o.stops[0][0])return o.stops[0][1];if(h>=o.stops[A-1][0])return o.stops[A-1][1];var L=il(o.stops.map(function(_e){return _e[0]}),h),R=function(_e,xe,Ae,Ge){var Ye=Ge-Ae,ot=_e-Ae;return Ye===0?0:xe===1?ot/Ye:(Math.pow(xe,ot)-1)/(Math.pow(xe,Ye)-1)}(h,w,o.stops[L][0],o.stops[L+1][0]),B=o.stops[L][1],Z=o.stops[L+1][1],K=uu[c.type]||Rs;if(o.colorSpace&&o.colorSpace!=="rgb"){var le=Vs[o.colorSpace];K=function(_e,xe){return le.reverse(le.interpolate(le.forward(_e),le.forward(xe),R))}}return typeof B.evaluate=="function"?{evaluate:function(){for(var _e=[],xe=arguments.length;xe--;)_e[xe]=arguments[xe];var Ae=B.evaluate.apply(void 0,_e),Ge=Z.evaluate.apply(void 0,_e);if(Ae!==void 0&&Ge!==void 0)return K(Ae,Ge,R)}}:K(B,Z,R)}function Ul(o,c,h){return c.type==="color"?h=hi.parse(h):c.type==="formatted"?h=Yi.fromString(h.toString()):c.type==="resolvedImage"?h=ti.fromString(h.toString()):Pi(h)===c.type||c.type==="enum"&&c.values[h]||(h=void 0),Zf(h,o.default,c.default)}$a.register(al,{error:[{kind:"error"},[fr],function(o,c){throw new Ma(c[0].evaluate(o))}],typeof:[fr,[dr],function(o,c){return Ln(ra(c[0].evaluate(o)))}],"to-rgba":[cn(Et,4),[or],function(o,c){return c[0].evaluate(o).toArray()}],rgb:[or,[Et,Et,Et],ho],rgba:[or,[Et,Et,Et,Et],ho],has:{type:Zt,overloads:[[[fr],function(o,c){return Hf(c[0].evaluate(o),o.properties())}],[[fr,en],function(o,c){var h=c[1];return Hf(c[0].evaluate(o),h.evaluate(o))}]]},get:{type:dr,overloads:[[[fr],function(o,c){return Ms(c[0].evaluate(o),o.properties())}],[[fr,en],function(o,c){var h=c[1];return Ms(c[0].evaluate(o),h.evaluate(o))}]]},"feature-state":[dr,[fr],function(o,c){return Ms(c[0].evaluate(o),o.featureState||{})}],properties:[en,[],function(o){return o.properties()}],"geometry-type":[fr,[],function(o){return o.geometryType()}],id:[dr,[],function(o){return o.id()}],zoom:[Et,[],function(o){return o.globals.zoom}],"heatmap-density":[Et,[],function(o){return o.globals.heatmapDensity||0}],"line-progress":[Et,[],function(o){return o.globals.lineProgress||0}],accumulated:[dr,[],function(o){return o.globals.accumulated===void 0?null:o.globals.accumulated}],"+":[Et,sl(Et),function(o,c){for(var h=0,w=0,A=c;w<A.length;w+=1)h+=A[w].evaluate(o);return h}],"*":[Et,sl(Et),function(o,c){for(var h=1,w=0,A=c;w<A.length;w+=1)h*=A[w].evaluate(o);return h}],"-":{type:Et,overloads:[[[Et,Et],function(o,c){var h=c[1];return c[0].evaluate(o)-h.evaluate(o)}],[[Et],function(o,c){return-c[0].evaluate(o)}]]},"/":[Et,[Et,Et],function(o,c){var h=c[1];return c[0].evaluate(o)/h.evaluate(o)}],"%":[Et,[Et,Et],function(o,c){var h=c[1];return c[0].evaluate(o)%h.evaluate(o)}],ln2:[Et,[],function(){return Math.LN2}],pi:[Et,[],function(){return Math.PI}],e:[Et,[],function(){return Math.E}],"^":[Et,[Et,Et],function(o,c){var h=c[1];return Math.pow(c[0].evaluate(o),h.evaluate(o))}],sqrt:[Et,[Et],function(o,c){return Math.sqrt(c[0].evaluate(o))}],log10:[Et,[Et],function(o,c){return Math.log(c[0].evaluate(o))/Math.LN10}],ln:[Et,[Et],function(o,c){return Math.log(c[0].evaluate(o))}],log2:[Et,[Et],function(o,c){return Math.log(c[0].evaluate(o))/Math.LN2}],sin:[Et,[Et],function(o,c){return Math.sin(c[0].evaluate(o))}],cos:[Et,[Et],function(o,c){return Math.cos(c[0].evaluate(o))}],tan:[Et,[Et],function(o,c){return Math.tan(c[0].evaluate(o))}],asin:[Et,[Et],function(o,c){return Math.asin(c[0].evaluate(o))}],acos:[Et,[Et],function(o,c){return Math.acos(c[0].evaluate(o))}],atan:[Et,[Et],function(o,c){return Math.atan(c[0].evaluate(o))}],min:[Et,sl(Et),function(o,c){return Math.min.apply(Math,c.map(function(h){return h.evaluate(o)}))}],max:[Et,sl(Et),function(o,c){return Math.max.apply(Math,c.map(function(h){return h.evaluate(o)}))}],abs:[Et,[Et],function(o,c){return Math.abs(c[0].evaluate(o))}],round:[Et,[Et],function(o,c){var h=c[0].evaluate(o);return h<0?-Math.round(-h):Math.round(h)}],floor:[Et,[Et],function(o,c){return Math.floor(c[0].evaluate(o))}],ceil:[Et,[Et],function(o,c){return Math.ceil(c[0].evaluate(o))}],"filter-==":[Zt,[fr,dr],function(o,c){var h=c[0],w=c[1];return o.properties()[h.value]===w.value}],"filter-id-==":[Zt,[dr],function(o,c){var h=c[0];return o.id()===h.value}],"filter-type-==":[Zt,[fr],function(o,c){var h=c[0];return o.geometryType()===h.value}],"filter-<":[Zt,[fr,dr],function(o,c){var h=c[0],w=c[1],A=o.properties()[h.value],L=w.value;return typeof A==typeof L&&A<L}],"filter-id-<":[Zt,[dr],function(o,c){var h=c[0],w=o.id(),A=h.value;return typeof w==typeof A&&w<A}],"filter->":[Zt,[fr,dr],function(o,c){var h=c[0],w=c[1],A=o.properties()[h.value],L=w.value;return typeof A==typeof L&&A>L}],"filter-id->":[Zt,[dr],function(o,c){var h=c[0],w=o.id(),A=h.value;return typeof w==typeof A&&w>A}],"filter-<=":[Zt,[fr,dr],function(o,c){var h=c[0],w=c[1],A=o.properties()[h.value],L=w.value;return typeof A==typeof L&&A<=L}],"filter-id-<=":[Zt,[dr],function(o,c){var h=c[0],w=o.id(),A=h.value;return typeof w==typeof A&&w<=A}],"filter->=":[Zt,[fr,dr],function(o,c){var h=c[0],w=c[1],A=o.properties()[h.value],L=w.value;return typeof A==typeof L&&A>=L}],"filter-id->=":[Zt,[dr],function(o,c){var h=c[0],w=o.id(),A=h.value;return typeof w==typeof A&&w>=A}],"filter-has":[Zt,[dr],function(o,c){return c[0].value in o.properties()}],"filter-has-id":[Zt,[],function(o){return o.id()!==null&&o.id()!==void 0}],"filter-type-in":[Zt,[cn(fr)],function(o,c){return c[0].value.indexOf(o.geometryType())>=0}],"filter-id-in":[Zt,[cn(dr)],function(o,c){return c[0].value.indexOf(o.id())>=0}],"filter-in-small":[Zt,[fr,cn(dr)],function(o,c){var h=c[0];return c[1].value.indexOf(o.properties()[h.value])>=0}],"filter-in-large":[Zt,[fr,cn(dr)],function(o,c){var h=c[0],w=c[1];return function(A,L,R,B){for(;R<=B;){var Z=R+B>>1;if(L[Z]===A)return!0;L[Z]>A?B=Z-1:R=Z+1}return!1}(o.properties()[h.value],w.value,0,w.value.length-1)}],all:{type:Zt,overloads:[[[Zt,Zt],function(o,c){var h=c[1];return c[0].evaluate(o)&&h.evaluate(o)}],[sl(Zt),function(o,c){for(var h=0,w=c;h<w.length;h+=1)if(!w[h].evaluate(o))return!1;return!0}]]},any:{type:Zt,overloads:[[[Zt,Zt],function(o,c){var h=c[1];return c[0].evaluate(o)||h.evaluate(o)}],[sl(Zt),function(o,c){for(var h=0,w=c;h<w.length;h+=1)if(w[h].evaluate(o))return!0;return!1}]]},"!":[Zt,[Zt],function(o,c){return!c[0].evaluate(o)}],"is-supported-script":[Zt,[fr],function(o,c){var h=o.globals&&o.globals.isSupportedScript;return!h||h(c[0].evaluate(o))}],upcase:[fr,[fr],function(o,c){return c[0].evaluate(o).toUpperCase()}],downcase:[fr,[fr],function(o,c){return c[0].evaluate(o).toLowerCase()}],concat:[fr,sl(dr),function(o,c){return c.map(function(h){return Tc(h.evaluate(o))}).join("")}],"resolved-locale":[fr,[Ur],function(o,c){return c[0].evaluate(o).resolvedLocale()}]});var ys=function(o,c){this.expression=o,this._warningHistory={},this._evaluator=new Ba,this._defaultValue=c?function(h){return h.type==="color"&&Ws(h.default)?new hi(0,0,0,0):h.type==="color"?hi.parse(h.default)||null:h.default===void 0?null:h.default}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null};function Pn(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in al}function lu(o,c){var h=new da(al,[],c?function(A){var L={color:or,string:fr,number:Et,enum:fr,boolean:Zt,formatted:ln,resolvedImage:Lt};return A.type==="array"?cn(L[A.value]||dr,A.length):L[A.type]}(c):void 0),w=h.parse(o,void 0,void 0,void 0,c&&c.type==="string"?{typeAnnotation:"coerce"}:void 0);return w?Rh(new ys(w,c)):Ru(h.errors)}ys.prototype.evaluateWithoutErrorHandling=function(o,c,h,w,A,L){return this._evaluator.globals=o,this._evaluator.feature=c,this._evaluator.featureState=h,this._evaluator.canonical=w,this._evaluator.availableImages=A||null,this._evaluator.formattedSection=L,this.expression.evaluate(this._evaluator)},ys.prototype.evaluate=function(o,c,h,w,A,L){this._evaluator.globals=o,this._evaluator.feature=c||null,this._evaluator.featureState=h||null,this._evaluator.canonical=w,this._evaluator.availableImages=A||null,this._evaluator.formattedSection=L||null;try{var R=this.expression.evaluate(this._evaluator);if(R==null||typeof R=="number"&&R!=R)return this._defaultValue;if(this._enumValues&&!(R in this._enumValues))throw new Ma("Expected value to be one of "+Object.keys(this._enumValues).map(function(B){return JSON.stringify(B)}).join(", ")+", but found "+JSON.stringify(R)+" instead.");return R}catch(B){return this._warningHistory[B.message]||(this._warningHistory[B.message]=!0,typeof console!="undefined"&&console.warn(B.message)),this._defaultValue}};var yu=function(o,c){this.kind=o,this._styleExpression=c,this.isStateDependent=o!=="constant"&&!nl(c.expression)};yu.prototype.evaluateWithoutErrorHandling=function(o,c,h,w,A,L){return this._styleExpression.evaluateWithoutErrorHandling(o,c,h,w,A,L)},yu.prototype.evaluate=function(o,c,h,w,A,L){return this._styleExpression.evaluate(o,c,h,w,A,L)};var cu=function(o,c,h,w){this.kind=o,this.zoomStops=h,this._styleExpression=c,this.isStateDependent=o!=="camera"&&!nl(c.expression),this.interpolationType=w};function vs(o,c){if((o=lu(o,c)).result==="error")return o;var h=o.value.expression,w=Xo(h);if(!w&&!ci(c))return Ru([new zt("","data expressions not supported")]);var A=Mu(h,["zoom"]);if(!A&&!Du(c))return Ru([new zt("","zoom expressions not supported")]);var L=function R(B){var Z=null;if(B instanceof Sl)Z=R(B.result);else if(B instanceof Gs)for(var K=0,le=B.args;K<le.length&&!(Z=R(le[K]));K+=1);else(B instanceof po||B instanceof Vi)&&B.input instanceof $a&&B.input.name==="zoom"&&(Z=B);return Z instanceof zt||B.eachChild(function(_e){var xe=R(_e);xe instanceof zt?Z=xe:!Z&&xe?Z=new zt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Z&&xe&&Z!==xe&&(Z=new zt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),Z}(h);return L||A?L instanceof zt?Ru([L]):L instanceof Vi&&!hc(c)?Ru([new zt("",'"interpolate" expressions cannot be used with this property')]):Rh(L?new cu(w?"camera":"composite",o.value,L.labels,L instanceof Vi?L.interpolation:void 0):new yu(w?"constant":"source",o.value)):Ru([new zt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}cu.prototype.evaluateWithoutErrorHandling=function(o,c,h,w,A,L){return this._styleExpression.evaluateWithoutErrorHandling(o,c,h,w,A,L)},cu.prototype.evaluate=function(o,c,h,w,A,L){return this._styleExpression.evaluate(o,c,h,w,A,L)},cu.prototype.interpolationFactor=function(o,c,h){return this.interpolationType?Vi.interpolationFactor(this.interpolationType,o,c,h):0};var Kf=function(o,c){this._parameters=o,this._specification=c,$t(this,function h(w,A){var L,R,B,Z=A.type==="color",K=w.stops&&typeof w.stops[0][0]=="object",le=K||!(K||w.property!==void 0),_e=w.type||(hc(A)?"exponential":"interval");if(Z&&((w=$t({},w)).stops&&(w.stops=w.stops.map(function(yr){return[yr[0],hi.parse(yr[1])]})),w.default=hi.parse(w.default?w.default:A.default)),w.colorSpace&&w.colorSpace!=="rgb"&&!Vs[w.colorSpace])throw new Error("Unknown color space: "+w.colorSpace);if(_e==="exponential")L=qu;else if(_e==="interval")L=zc;else if(_e==="categorical"){L=Dh,R=Object.create(null);for(var xe=0,Ae=w.stops;xe<Ae.length;xe+=1){var Ge=Ae[xe];R[Ge[0]]=Ge[1]}B=typeof w.stops[0][0]}else{if(_e!=="identity")throw new Error('Unknown function type "'+_e+'"');L=Ul}if(K){for(var Ye={},ot=[],et=0;et<w.stops.length;et++){var ct=w.stops[et],vt=ct[0].zoom;Ye[vt]===void 0&&(Ye[vt]={zoom:vt,type:w.type,property:w.property,default:w.default,stops:[]},ot.push(vt)),Ye[vt].stops.push([ct[0].value,ct[1]])}for(var At=[],Ot=0,Ft=ot;Ot<Ft.length;Ot+=1){var Qt=Ft[Ot];At.push([Ye[Qt].zoom,h(Ye[Qt],A)])}var pr={name:"linear"};return{kind:"composite",interpolationType:pr,interpolationFactor:Vi.interpolationFactor.bind(void 0,pr),zoomStops:At.map(function(yr){return yr[0]}),evaluate:function(yr,Zr){var br=yr.zoom;return qu({stops:At,base:w.base},A,br).evaluate(br,Zr)}}}if(le){var Vr=_e==="exponential"?{name:"exponential",base:w.base!==void 0?w.base:1}:null;return{kind:"camera",interpolationType:Vr,interpolationFactor:Vi.interpolationFactor.bind(void 0,Vr),zoomStops:w.stops.map(function(yr){return yr[0]}),evaluate:function(yr){return L(w,A,yr.zoom,R,B)}}}return{kind:"source",evaluate:function(yr,Zr){var br=Zr&&Zr.properties?Zr.properties[w.property]:void 0;return br===void 0?Zf(w.default,A.default):L(w,A,br,R,B)}}}(this._parameters,this._specification))};function ul(o){var c=o.key,h=o.value,w=o.valueSpec||{},A=o.objectElementValidators||{},L=o.style,R=o.styleSpec,B=[],Z=Pi(h);if(Z!=="object")return[new Xe(c,h,"object expected, "+Z+" found")];for(var K in h){var le=K.split(".")[0],_e=w[le]||w["*"],xe=void 0;if(A[le])xe=A[le];else if(w[le])xe=di;else if(A["*"])xe=A["*"];else{if(!w["*"]){B.push(new Xe(c,h[K],'unknown property "'+K+'"'));continue}xe=di}B=B.concat(xe({key:(c&&c+".")+K,value:h[K],valueSpec:_e,style:L,styleSpec:R,object:h,objectKey:K},h))}for(var Ae in w)A[Ae]||w[Ae].required&&w[Ae].default===void 0&&h[Ae]===void 0&&B.push(new Xe(c,h,'missing required property "'+Ae+'"'));return B}function ma(o){var c=o.value,h=o.valueSpec,w=o.style,A=o.styleSpec,L=o.key,R=o.arrayElementValidator||di;if(Pi(c)!=="array")return[new Xe(L,c,"array expected, "+Pi(c)+" found")];if(h.length&&c.length!==h.length)return[new Xe(L,c,"array length "+h.length+" expected, length "+c.length+" found")];if(h["min-length"]&&c.length<h["min-length"])return[new Xe(L,c,"array length at least "+h["min-length"]+" expected, length "+c.length+" found")];var B={type:h.value,values:h.values};A.$version<7&&(B.function=h.function),Pi(h.value)==="object"&&(B=h.value);for(var Z=[],K=0;K<c.length;K++)Z=Z.concat(R({array:c,arrayIndex:K,value:c[K],valueSpec:B,style:w,styleSpec:A,key:L+"["+K+"]"}));return Z}function dc(o){var c=o.key,h=o.value,w=o.valueSpec,A=Pi(h);return A==="number"&&h!=h&&(A="NaN"),A!=="number"?[new Xe(c,h,"number expected, "+A+" found")]:"minimum"in w&&h<w.minimum?[new Xe(c,h,h+" is less than the minimum value "+w.minimum)]:"maximum"in w&&h>w.maximum?[new Xe(c,h,h+" is greater than the maximum value "+w.maximum)]:[]}function ql(o){var c,h,w,A=o.valueSpec,L=jt(o.value.type),R={},B=L!=="categorical"&&o.value.property===void 0,Z=!B,K=Pi(o.value.stops)==="array"&&Pi(o.value.stops[0])==="array"&&Pi(o.value.stops[0][0])==="object",le=ul({key:o.key,value:o.value,valueSpec:o.styleSpec.function,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(Ae){if(L==="identity")return[new Xe(Ae.key,Ae.value,'identity function may not have a "stops" property')];var Ge=[],Ye=Ae.value;return Ge=Ge.concat(ma({key:Ae.key,value:Ye,valueSpec:Ae.valueSpec,style:Ae.style,styleSpec:Ae.styleSpec,arrayElementValidator:_e})),Pi(Ye)==="array"&&Ye.length===0&&Ge.push(new Xe(Ae.key,Ye,"array must have at least one stop")),Ge},default:function(Ae){return di({key:Ae.key,value:Ae.value,valueSpec:A,style:Ae.style,styleSpec:Ae.styleSpec})}}});return L==="identity"&&B&&le.push(new Xe(o.key,o.value,'missing required property "property"')),L==="identity"||o.value.stops||le.push(new Xe(o.key,o.value,'missing required property "stops"')),L==="exponential"&&o.valueSpec.expression&&!hc(o.valueSpec)&&le.push(new Xe(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(Z&&!ci(o.valueSpec)?le.push(new Xe(o.key,o.value,"property functions not supported")):B&&!Du(o.valueSpec)&&le.push(new Xe(o.key,o.value,"zoom functions not supported"))),L!=="categorical"&&!K||o.value.property!==void 0||le.push(new Xe(o.key,o.value,'"property" property is required')),le;function _e(Ae){var Ge=[],Ye=Ae.value,ot=Ae.key;if(Pi(Ye)!=="array")return[new Xe(ot,Ye,"array expected, "+Pi(Ye)+" found")];if(Ye.length!==2)return[new Xe(ot,Ye,"array length 2 expected, length "+Ye.length+" found")];if(K){if(Pi(Ye[0])!=="object")return[new Xe(ot,Ye,"object expected, "+Pi(Ye[0])+" found")];if(Ye[0].zoom===void 0)return[new Xe(ot,Ye,"object stop key must have zoom")];if(Ye[0].value===void 0)return[new Xe(ot,Ye,"object stop key must have value")];if(w&&w>jt(Ye[0].zoom))return[new Xe(ot,Ye[0].zoom,"stop zoom values must appear in ascending order")];jt(Ye[0].zoom)!==w&&(w=jt(Ye[0].zoom),h=void 0,R={}),Ge=Ge.concat(ul({key:ot+"[0]",value:Ye[0],valueSpec:{zoom:{}},style:Ae.style,styleSpec:Ae.styleSpec,objectElementValidators:{zoom:dc,value:xe}}))}else Ge=Ge.concat(xe({key:ot+"[0]",value:Ye[0],valueSpec:{},style:Ae.style,styleSpec:Ae.styleSpec},Ye));return Pn(dt(Ye[1]))?Ge.concat([new Xe(ot+"[1]",Ye[1],"expressions are not allowed in function stops.")]):Ge.concat(di({key:ot+"[1]",value:Ye[1],valueSpec:A,style:Ae.style,styleSpec:Ae.styleSpec}))}function xe(Ae,Ge){var Ye=Pi(Ae.value),ot=jt(Ae.value),et=Ae.value!==null?Ae.value:Ge;if(c){if(Ye!==c)return[new Xe(Ae.key,et,Ye+" stop domain type must match previous stop domain type "+c)]}else c=Ye;if(Ye!=="number"&&Ye!=="string"&&Ye!=="boolean")return[new Xe(Ae.key,et,"stop domain value must be a number, string, or boolean")];if(Ye!=="number"&&L!=="categorical"){var ct="number expected, "+Ye+" found";return ci(A)&&L===void 0&&(ct+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xe(Ae.key,et,ct)]}return L!=="categorical"||Ye!=="number"||isFinite(ot)&&Math.floor(ot)===ot?L!=="categorical"&&Ye==="number"&&h!==void 0&&ot<h?[new Xe(Ae.key,et,"stop domain values must appear in ascending order")]:(h=ot,L==="categorical"&&ot in R?[new Xe(Ae.key,et,"stop domain values must be unique")]:(R[ot]=!0,[])):[new Xe(Ae.key,et,"integer expected, found "+ot)]}}function Jf(o){var c=(o.expressionContext==="property"?vs:lu)(dt(o.value),o.valueSpec);if(c.result==="error")return c.value.map(function(w){return new Xe(""+o.key+w.key,o.value,w.message)});var h=c.value.expression||c.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!h.outputDefined())return[new Xe(o.key,o.value,'Invalid data expression for "'+o.propertyKey+'". Output values must be contained as literals within the expression.')];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!nl(h))return[new Xe(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!nl(h))return[new Xe(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!Mu(h,["zoom","feature-state"]))return[new Xe(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!Xo(h))return[new Xe(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Za(o){var c=o.key,h=o.value,w=o.valueSpec,A=[];return Array.isArray(w.values)?w.values.indexOf(jt(h))===-1&&A.push(new Xe(c,h,"expected one of ["+w.values.join(", ")+"], "+JSON.stringify(h)+" found")):Object.keys(w.values).indexOf(jt(h))===-1&&A.push(new Xe(c,h,"expected one of ["+Object.keys(w.values).join(", ")+"], "+JSON.stringify(h)+" found")),A}function xp(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(var c=0,h=o.slice(1);c<h.length;c+=1){var w=h[c];if(!xp(w)&&typeof w!="boolean")return!1}return!0;default:return!0}}Kf.deserialize=function(o){return new Kf(o._parameters,o._specification)},Kf.serialize=function(o){return{_parameters:o._parameters,_specification:o._specification}};var Pl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Fc(o){if(o==null)return{filter:function(){return!0},needGeometry:!1};xp(o)||(o=wp(o));var c=lu(o,Pl);if(c.result==="error")throw new Error(c.value.map(function(h){return h.key+": "+h.message}).join(", "));return{filter:function(h,w,A){return c.value.evaluate(h,w,{},A)},needGeometry:function h(w){if(!Array.isArray(w))return!1;if(w[0]==="within")return!0;for(var A=1;A<w.length;A++)if(h(w[A]))return!0;return!1}(o)}}function Il(o,c){return o<c?-1:o>c?1:0}function wp(o){if(!o)return!0;var c,h=o[0];return o.length<=1?h!=="any":h==="=="?_c(o[1],o[2],"=="):h==="!="?fu(_c(o[1],o[2],"==")):h==="<"||h===">"||h==="<="||h===">="?_c(o[1],o[2],h):h==="any"?(c=o.slice(1),["any"].concat(c.map(wp))):h==="all"?["all"].concat(o.slice(1).map(wp)):h==="none"?["all"].concat(o.slice(1).map(wp).map(fu)):h==="in"?vu(o[1],o.slice(2)):h==="!in"?fu(vu(o[1],o.slice(2))):h==="has"?An(o[1]):h==="!has"?fu(An(o[1])):h!=="within"||o}function _c(o,c,h){switch(o){case"$type":return["filter-type-"+h,c];case"$id":return["filter-id-"+h,c];default:return["filter-"+h,o,c]}}function vu(o,c){if(c.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(function(h){return typeof h!=typeof c[0]})?["filter-in-large",o,["literal",c.sort(Il)]]:["filter-in-small",o,["literal",c]]}}function An(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function fu(o){return["!",o]}function bs(o){return xp(dt(o.value))?Jf($t({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function c(h){var w=h.value,A=h.key;if(Pi(w)!=="array")return[new Xe(A,w,"array expected, "+Pi(w)+" found")];var L,R=h.styleSpec,B=[];if(w.length<1)return[new Xe(A,w,"filter array must have at least 1 element")];switch(B=B.concat(Za({key:A+"[0]",value:w[0],valueSpec:R.filter_operator,style:h.style,styleSpec:h.styleSpec})),jt(w[0])){case"<":case"<=":case">":case">=":w.length>=2&&jt(w[1])==="$type"&&B.push(new Xe(A,w,'"$type" cannot be use with operator "'+w[0]+'"'));case"==":case"!=":w.length!==3&&B.push(new Xe(A,w,'filter array for operator "'+w[0]+'" must have 3 elements'));case"in":case"!in":w.length>=2&&(L=Pi(w[1]))!=="string"&&B.push(new Xe(A+"[1]",w[1],"string expected, "+L+" found"));for(var Z=2;Z<w.length;Z++)L=Pi(w[Z]),jt(w[1])==="$type"?B=B.concat(Za({key:A+"["+Z+"]",value:w[Z],valueSpec:R.geometry_type,style:h.style,styleSpec:h.styleSpec})):L!=="string"&&L!=="number"&&L!=="boolean"&&B.push(new Xe(A+"["+Z+"]",w[Z],"string, number, or boolean expected, "+L+" found"));break;case"any":case"all":case"none":for(var K=1;K<w.length;K++)B=B.concat(c({key:A+"["+K+"]",value:w[K],style:h.style,styleSpec:h.styleSpec}));break;case"has":case"!has":L=Pi(w[1]),w.length!==2?B.push(new Xe(A,w,'filter array for "'+w[0]+'" operator must have 2 elements')):L!=="string"&&B.push(new Xe(A+"[1]",w[1],"string expected, "+L+" found"));break;case"within":L=Pi(w[1]),w.length!==2?B.push(new Xe(A,w,'filter array for "'+w[0]+'" operator must have 2 elements')):L!=="object"&&B.push(new Xe(A+"[1]",w[1],"object expected, "+L+" found"))}return B}(o)}function ga(o,c){var h=o.key,w=o.style,A=o.styleSpec,L=o.value,R=o.objectKey,B=A[c+"_"+o.layerType];if(!B)return[];var Z=R.match(/^(.*)-transition$/);if(c==="paint"&&Z&&B[Z[1]]&&B[Z[1]].transition)return di({key:h,value:L,valueSpec:A.transition,style:w,styleSpec:A});var K,le=o.valueSpec||B[R];if(!le)return[new Xe(h,L,'unknown property "'+R+'"')];if(Pi(L)==="string"&&ci(le)&&!le.tokens&&(K=/^{([^}]+)}$/.exec(L)))return[new Xe(h,L,'"'+R+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(K[1])+" }`.")];var _e=[];return o.layerType==="symbol"&&(R==="text-field"&&w&&!w.glyphs&&_e.push(new Xe(h,L,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&Ws(dt(L))&&jt(L.type)==="identity"&&_e.push(new Xe(h,L,'"text-font" does not support identity functions'))),_e.concat(di({key:o.key,value:L,valueSpec:le,style:w,styleSpec:A,expressionContext:"property",propertyType:c,propertyKey:R}))}function bu(o){return ga(o,"paint")}function jc(o){return ga(o,"layout")}function Cf(o){var c=[],h=o.value,w=o.key,A=o.style,L=o.styleSpec;h.type||h.ref||c.push(new Xe(w,h,'either "type" or "ref" is required'));var R,B=jt(h.type),Z=jt(h.ref);if(h.id)for(var K=jt(h.id),le=0;le<o.arrayIndex;le++){var _e=A.layers[le];jt(_e.id)===K&&c.push(new Xe(w,h.id,'duplicate layer id "'+h.id+'", previously used at line '+_e.id.__line__))}if("ref"in h)["type","source","source-layer","filter","layout"].forEach(function(Ge){Ge in h&&c.push(new Xe(w,h[Ge],'"'+Ge+'" is prohibited for ref layers'))}),A.layers.forEach(function(Ge){jt(Ge.id)===Z&&(R=Ge)}),R?R.ref?c.push(new Xe(w,h.ref,"ref cannot reference another ref layer")):B=jt(R.type):c.push(new Xe(w,h.ref,'ref layer "'+Z+'" not found'));else if(B!=="background")if(h.source){var xe=A.sources&&A.sources[h.source],Ae=xe&&jt(xe.type);xe?Ae==="vector"&&B==="raster"?c.push(new Xe(w,h.source,'layer "'+h.id+'" requires a raster source')):Ae==="raster"&&B!=="raster"?c.push(new Xe(w,h.source,'layer "'+h.id+'" requires a vector source')):Ae!=="vector"||h["source-layer"]?Ae==="raster-dem"&&B!=="hillshade"?c.push(new Xe(w,h.source,"raster-dem source can only be used with layer type 'hillshade'.")):B!=="line"||!h.paint||!h.paint["line-gradient"]||Ae==="geojson"&&xe.lineMetrics||c.push(new Xe(w,h,'layer "'+h.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):c.push(new Xe(w,h,'layer "'+h.id+'" must specify a "source-layer"')):c.push(new Xe(w,h.source,'source "'+h.source+'" not found'))}else c.push(new Xe(w,h,'missing required property "source"'));return c=c.concat(ul({key:w,value:h,valueSpec:L.layer,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return di({key:w+".type",value:h.type,valueSpec:L.layer.type,style:o.style,styleSpec:o.styleSpec,object:h,objectKey:"type"})},filter:bs,layout:function(Ge){return ul({layer:h,key:Ge.key,value:Ge.value,style:Ge.style,styleSpec:Ge.styleSpec,objectElementValidators:{"*":function(Ye){return jc($t({layerType:B},Ye))}}})},paint:function(Ge){return ul({layer:h,key:Ge.key,value:Ge.value,style:Ge.style,styleSpec:Ge.styleSpec,objectElementValidators:{"*":function(Ye){return bu($t({layerType:B},Ye))}}})}}}))}function ll(o){var c=o.value,h=o.key,w=Pi(c);return w!=="string"?[new Xe(h,c,"string expected, "+w+" found")]:[]}var Ii={promoteId:function(o){var c=o.key,h=o.value;if(Pi(h)==="string")return ll({key:c,value:h});var w=[];for(var A in h)w.push.apply(w,ll({key:c+"."+A,value:h[A]}));return w}};function xs(o){var c=o.value,h=o.key,w=o.styleSpec,A=o.style;if(!c.type)return[new Xe(h,c,'"type" is required')];var L,R=jt(c.type);switch(R){case"vector":case"raster":case"raster-dem":return ul({key:h,value:c,valueSpec:w["source_"+R.replace("-","_")],style:o.style,styleSpec:w,objectElementValidators:Ii});case"geojson":if(L=ul({key:h,value:c,valueSpec:w.source_geojson,style:A,styleSpec:w,objectElementValidators:Ii}),c.cluster)for(var B in c.clusterProperties){var Z=c.clusterProperties[B],K=Z[0],le=typeof K=="string"?[K,["accumulated"],["get",B]]:K;L.push.apply(L,Jf({key:h+"."+B+".map",value:Z[1],expressionContext:"cluster-map"})),L.push.apply(L,Jf({key:h+"."+B+".reduce",value:le,expressionContext:"cluster-reduce"}))}return L;case"video":return ul({key:h,value:c,valueSpec:w.source_video,style:A,styleSpec:w});case"image":return ul({key:h,value:c,valueSpec:w.source_image,style:A,styleSpec:w});case"canvas":return[new Xe(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Za({key:h+".type",value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:A,styleSpec:w})}}function Xs(o){var c=o.value,h=o.styleSpec,w=h.light,A=o.style,L=[],R=Pi(c);if(c===void 0)return L;if(R!=="object")return L.concat([new Xe("light",c,"object expected, "+R+" found")]);for(var B in c){var Z=B.match(/^(.*)-transition$/);L=L.concat(Z&&w[Z[1]]&&w[Z[1]].transition?di({key:B,value:c[B],valueSpec:h.transition,style:A,styleSpec:h}):w[B]?di({key:B,value:c[B],valueSpec:w[B],style:A,styleSpec:h}):[new Xe(B,c[B],'unknown property "'+B+'"')])}return L}var uo={"*":function(){return[]},array:ma,boolean:function(o){var c=o.value,h=o.key,w=Pi(c);return w!=="boolean"?[new Xe(h,c,"boolean expected, "+w+" found")]:[]},number:dc,color:function(o){var c=o.key,h=o.value,w=Pi(h);return w!=="string"?[new Xe(c,h,"color expected, "+w+" found")]:fn(h)===null?[new Xe(c,h,'color expected, "'+h+'" found')]:[]},constants:ht,enum:Za,filter:bs,function:ql,layer:Cf,object:ul,source:xs,light:Xs,string:ll,formatted:function(o){return ll(o).length===0?[]:Jf(o)},resolvedImage:function(o){return ll(o).length===0?[]:Jf(o)}};function di(o){var c=o.value,h=o.valueSpec,w=o.styleSpec;return h.expression&&Ws(jt(c))?ql(o):h.expression&&Pn(dt(c))?Jf(o):h.type&&uo[h.type]?uo[h.type](o):ul($t({},o,{valueSpec:h.type?w[h.type]:h}))}function Gi(o){var c=o.value,h=o.key,w=ll(o);return w.length||(c.indexOf("{fontstack}")===-1&&w.push(new Xe(h,c,'"glyphs" url must include a "{fontstack}" token')),c.indexOf("{range}")===-1&&w.push(new Xe(h,c,'"glyphs" url must include a "{range}" token'))),w}function Ys(o,c){c===void 0&&(c=Me);var h=[];return h=h.concat(di({key:"",value:o,valueSpec:c.$root,styleSpec:c,style:o,objectElementValidators:{glyphs:Gi,"*":function(){return[]}}})),o.constants&&(h=h.concat(ht({key:"constants",value:o.constants,style:o,styleSpec:c}))),Qi(h)}function Qi(o){return[].concat(o).sort(function(c,h){return c.line-h.line})}function Ia(o){return function(){for(var c=[],h=arguments.length;h--;)c[h]=arguments[h];return Qi(o.apply(this,c))}}Ys.source=Ia(xs),Ys.light=Ia(Xs),Ys.layer=Ia(Cf),Ys.filter=Ia(bs),Ys.paintProperty=Ia(bu),Ys.layoutProperty=Ia(jc);var Ca=Ys,Cl=Ca.light,Pd=Ca.paintProperty,Vl=Ca.layoutProperty;function Gl(o,c){var h=!1;if(c&&c.length)for(var w=0,A=c;w<A.length;w+=1)o.fire(new at(new Error(A[w].message))),h=!0;return h}var Ka=Ja;function Ja(o,c,h){var w=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var A=new Int32Array(this.arrayBuffer);o=A[0],this.d=(c=A[1])+2*(h=A[2]);for(var L=0;L<this.d*this.d;L++){var R=A[3+L],B=A[3+L+1];w.push(R===B?null:A.subarray(R,B))}var Z=A[3+w.length+1];this.keys=A.subarray(A[3+w.length],Z),this.bboxes=A.subarray(Z),this.insert=this._insertReadonly}else{this.d=c+2*h;for(var K=0;K<this.d*this.d;K++)w.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=o,this.padding=h,this.scale=c/o,this.uid=0;var le=h/c*o;this.min=-le,this.max=o+le}Ja.prototype.insert=function(o,c,h,w,A){this._forEachCell(c,h,w,A,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(c),this.bboxes.push(h),this.bboxes.push(w),this.bboxes.push(A)},Ja.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ja.prototype._insertCell=function(o,c,h,w,A,L){this.cells[A].push(L)},Ja.prototype.query=function(o,c,h,w,A){var L=this.min,R=this.max;if(o<=L&&c<=L&&R<=h&&R<=w&&!A)return Array.prototype.slice.call(this.keys);var B=[];return this._forEachCell(o,c,h,w,this._queryCell,B,{},A),B},Ja.prototype._queryCell=function(o,c,h,w,A,L,R,B){var Z=this.cells[A];if(Z!==null)for(var K=this.keys,le=this.bboxes,_e=0;_e<Z.length;_e++){var xe=Z[_e];if(R[xe]===void 0){var Ae=4*xe;(B?B(le[Ae+0],le[Ae+1],le[Ae+2],le[Ae+3]):o<=le[Ae+2]&&c<=le[Ae+3]&&h>=le[Ae+0]&&w>=le[Ae+1])?(R[xe]=!0,L.push(K[xe])):R[xe]=!1}}},Ja.prototype._forEachCell=function(o,c,h,w,A,L,R,B){for(var Z=this._convertToCellCoord(o),K=this._convertToCellCoord(c),le=this._convertToCellCoord(h),_e=this._convertToCellCoord(w),xe=Z;xe<=le;xe++)for(var Ae=K;Ae<=_e;Ae++){var Ge=this.d*Ae+xe;if((!B||B(this._convertFromCellCoord(xe),this._convertFromCellCoord(Ae),this._convertFromCellCoord(xe+1),this._convertFromCellCoord(Ae+1)))&&A.call(this,o,c,h,w,Ge,L,R,B))return}},Ja.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},Ja.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},Ja.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,c=3+this.cells.length+1+1,h=0,w=0;w<this.cells.length;w++)h+=this.cells[w].length;var A=new Int32Array(c+h+this.keys.length+this.bboxes.length);A[0]=this.extent,A[1]=this.n,A[2]=this.padding;for(var L=c,R=0;R<o.length;R++){var B=o[R];A[3+R]=L,A.set(B,L),L+=B.length}return A[3+o.length]=L,A.set(this.keys,L),A[3+o.length+1]=L+=this.keys.length,A.set(this.bboxes,L),L+=this.bboxes.length,A.buffer};var Ra=I.ImageData,zh=I.ImageBitmap,vi={};function rr(o,c,h){h===void 0&&(h={}),Object.defineProperty(c,"_classRegistryKey",{value:o,writeable:!1}),vi[o]={klass:c,omit:h.omit||[],shallow:h.shallow||[]}}for(var Aa in rr("Object",Object),Ka.serialize=function(o,c){var h=o.toArrayBuffer();return c&&c.push(h),{buffer:h}},Ka.deserialize=function(o){return new Ka(o.buffer)},rr("Grid",Ka),rr("Color",hi),rr("Error",Error),rr("ResolvedImage",ti),rr("StylePropertyFunction",Kf),rr("StyleExpression",ys,{omit:["_evaluator"]}),rr("ZoomDependentExpression",cu),rr("ZoomConstantExpression",yu),rr("CompoundExpression",$a,{omit:["_evaluate"]}),al)al[Aa]._classRegistryKey||rr("Expression_"+Aa,al[Aa]);function Bc(o){return o&&typeof ArrayBuffer!="undefined"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function Wl(o){return zh&&o instanceof zh}function ws(o,c){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)return o;if(Bc(o)||Wl(o))return c&&c.push(o),o;if(ArrayBuffer.isView(o)){var h=o;return c&&c.push(h.buffer),h}if(o instanceof Ra)return c&&c.push(o.data.buffer),o;if(Array.isArray(o)){for(var w=[],A=0,L=o;A<L.length;A+=1)w.push(ws(L[A],c));return w}if(typeof o=="object"){var R=o.constructor,B=R._classRegistryKey;if(!B)throw new Error("can't serialize object of unregistered class");var Z=R.serialize?R.serialize(o,c):{};if(!R.serialize){for(var K in o)if(o.hasOwnProperty(K)&&!(vi[B].omit.indexOf(K)>=0)){var le=o[K];Z[K]=vi[B].shallow.indexOf(K)>=0?le:ws(le,c)}o instanceof Error&&(Z.message=o.message)}if(Z.$name)throw new Error("$name property is reserved for worker serialization logic.");return B!=="Object"&&(Z.$name=B),Z}throw new Error("can't serialize object of type "+typeof o)}function Oa(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||Bc(o)||Wl(o)||ArrayBuffer.isView(o)||o instanceof Ra)return o;if(Array.isArray(o))return o.map(Oa);if(typeof o=="object"){var c=o.$name||"Object",h=vi[c].klass;if(!h)throw new Error("can't deserialize unregistered class "+c);if(h.deserialize)return h.deserialize(o);for(var w=Object.create(h.prototype),A=0,L=Object.keys(o);A<L.length;A+=1){var R=L[A];if(R!=="$name"){var B=o[R];w[R]=vi[c].shallow.indexOf(R)>=0?B:Oa(B)}}return w}throw new Error("can't deserialize object of type "+typeof o)}var Hs=function(){this.first=!0};Hs.prototype.update=function(o,c){var h=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=h,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=h,!0):(this.lastFloorZoom>h?(this.lastIntegerZoom=h+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<h&&(this.lastIntegerZoom=h,this.lastIntegerZoomTime=c),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=h,!0))};var Jt={"Latin-1 Supplement":function(o){return o>=128&&o<=255},Arabic:function(o){return o>=1536&&o<=1791},"Arabic Supplement":function(o){return o>=1872&&o<=1919},"Arabic Extended-A":function(o){return o>=2208&&o<=2303},"Hangul Jamo":function(o){return o>=4352&&o<=4607},"Unified Canadian Aboriginal Syllabics":function(o){return o>=5120&&o<=5759},Khmer:function(o){return o>=6016&&o<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(o){return o>=6320&&o<=6399},"General Punctuation":function(o){return o>=8192&&o<=8303},"Letterlike Symbols":function(o){return o>=8448&&o<=8527},"Number Forms":function(o){return o>=8528&&o<=8591},"Miscellaneous Technical":function(o){return o>=8960&&o<=9215},"Control Pictures":function(o){return o>=9216&&o<=9279},"Optical Character Recognition":function(o){return o>=9280&&o<=9311},"Enclosed Alphanumerics":function(o){return o>=9312&&o<=9471},"Geometric Shapes":function(o){return o>=9632&&o<=9727},"Miscellaneous Symbols":function(o){return o>=9728&&o<=9983},"Miscellaneous Symbols and Arrows":function(o){return o>=11008&&o<=11263},"CJK Radicals Supplement":function(o){return o>=11904&&o<=12031},"Kangxi Radicals":function(o){return o>=12032&&o<=12255},"Ideographic Description Characters":function(o){return o>=12272&&o<=12287},"CJK Symbols and Punctuation":function(o){return o>=12288&&o<=12351},Hiragana:function(o){return o>=12352&&o<=12447},Katakana:function(o){return o>=12448&&o<=12543},Bopomofo:function(o){return o>=12544&&o<=12591},"Hangul Compatibility Jamo":function(o){return o>=12592&&o<=12687},Kanbun:function(o){return o>=12688&&o<=12703},"Bopomofo Extended":function(o){return o>=12704&&o<=12735},"CJK Strokes":function(o){return o>=12736&&o<=12783},"Katakana Phonetic Extensions":function(o){return o>=12784&&o<=12799},"Enclosed CJK Letters and Months":function(o){return o>=12800&&o<=13055},"CJK Compatibility":function(o){return o>=13056&&o<=13311},"CJK Unified Ideographs Extension A":function(o){return o>=13312&&o<=19903},"Yijing Hexagram Symbols":function(o){return o>=19904&&o<=19967},"CJK Unified Ideographs":function(o){return o>=19968&&o<=40959},"Yi Syllables":function(o){return o>=40960&&o<=42127},"Yi Radicals":function(o){return o>=42128&&o<=42191},"Hangul Jamo Extended-A":function(o){return o>=43360&&o<=43391},"Hangul Syllables":function(o){return o>=44032&&o<=55215},"Hangul Jamo Extended-B":function(o){return o>=55216&&o<=55295},"Private Use Area":function(o){return o>=57344&&o<=63743},"CJK Compatibility Ideographs":function(o){return o>=63744&&o<=64255},"Arabic Presentation Forms-A":function(o){return o>=64336&&o<=65023},"Vertical Forms":function(o){return o>=65040&&o<=65055},"CJK Compatibility Forms":function(o){return o>=65072&&o<=65103},"Small Form Variants":function(o){return o>=65104&&o<=65135},"Arabic Presentation Forms-B":function(o){return o>=65136&&o<=65279},"Halfwidth and Fullwidth Forms":function(o){return o>=65280&&o<=65519}};function ya(o){for(var c=0,h=o;c<h.length;c+=1)if(Fh(h[c].charCodeAt(0)))return!0;return!1}function Fh(o){return!(o!==746&&o!==747&&(o<4352||!(Jt["Bopomofo Extended"](o)||Jt.Bopomofo(o)||Jt["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||Jt["CJK Compatibility Ideographs"](o)||Jt["CJK Compatibility"](o)||Jt["CJK Radicals Supplement"](o)||Jt["CJK Strokes"](o)||!(!Jt["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||Jt["CJK Unified Ideographs Extension A"](o)||Jt["CJK Unified Ideographs"](o)||Jt["Enclosed CJK Letters and Months"](o)||Jt["Hangul Compatibility Jamo"](o)||Jt["Hangul Jamo Extended-A"](o)||Jt["Hangul Jamo Extended-B"](o)||Jt["Hangul Jamo"](o)||Jt["Hangul Syllables"](o)||Jt.Hiragana(o)||Jt["Ideographic Description Characters"](o)||Jt.Kanbun(o)||Jt["Kangxi Radicals"](o)||Jt["Katakana Phonetic Extensions"](o)||Jt.Katakana(o)&&o!==12540||!(!Jt["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!Jt["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||Jt["Unified Canadian Aboriginal Syllabics"](o)||Jt["Unified Canadian Aboriginal Syllabics Extended"](o)||Jt["Vertical Forms"](o)||Jt["Yijing Hexagram Symbols"](o)||Jt["Yi Syllables"](o)||Jt["Yi Radicals"](o))))}function Id(o){return!(Fh(o)||function(c){return!!(Jt["Latin-1 Supplement"](c)&&(c===167||c===169||c===174||c===177||c===188||c===189||c===190||c===215||c===247)||Jt["General Punctuation"](c)&&(c===8214||c===8224||c===8225||c===8240||c===8241||c===8251||c===8252||c===8258||c===8263||c===8264||c===8265||c===8273)||Jt["Letterlike Symbols"](c)||Jt["Number Forms"](c)||Jt["Miscellaneous Technical"](c)&&(c>=8960&&c<=8967||c>=8972&&c<=8991||c>=8996&&c<=9e3||c===9003||c>=9085&&c<=9114||c>=9150&&c<=9165||c===9167||c>=9169&&c<=9179||c>=9186&&c<=9215)||Jt["Control Pictures"](c)&&c!==9251||Jt["Optical Character Recognition"](c)||Jt["Enclosed Alphanumerics"](c)||Jt["Geometric Shapes"](c)||Jt["Miscellaneous Symbols"](c)&&!(c>=9754&&c<=9759)||Jt["Miscellaneous Symbols and Arrows"](c)&&(c>=11026&&c<=11055||c>=11088&&c<=11097||c>=11192&&c<=11243)||Jt["CJK Symbols and Punctuation"](c)||Jt.Katakana(c)||Jt["Private Use Area"](c)||Jt["CJK Compatibility Forms"](c)||Jt["Small Form Variants"](c)||Jt["Halfwidth and Fullwidth Forms"](c)||c===8734||c===8756||c===8757||c>=9984&&c<=10087||c>=10102&&c<=10131||c===65532||c===65533)}(o))}function la(o){return o>=1424&&o<=2303||Jt["Arabic Presentation Forms-A"](o)||Jt["Arabic Presentation Forms-B"](o)}function Ss(o,c){return!(!c&&la(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||Jt.Khmer(o))}function jh(o){for(var c=0,h=o;c<h.length;c+=1)if(la(h[c].charCodeAt(0)))return!0;return!1}var Af=null,Qa="unavailable",Ho=null,Zs=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(Qa="error"),Af&&Af(o)};function Al(){xu.fire(new We("pluginStateChange",{pluginStatus:Qa,pluginURL:Ho}))}var xu=new lt,Cd=function(){return Qa},pu=function(){if(Qa!=="deferred"||!Ho)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qa="loading",Al(),Ho&&ms({url:Ho},function(o){o?Zs(o):(Qa="loaded",Al())})},_o={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Qa==="loaded"||_o.applyArabicShaping!=null},isLoading:function(){return Qa==="loading"},setState:function(o){Qa=o.pluginStatus,Ho=o.pluginURL},isParsed:function(){return _o.applyArabicShaping!=null&&_o.processBidirectionalText!=null&&_o.processStyledBidirectionalText!=null},getPluginURL:function(){return Ho}},_i=function(o,c){this.zoom=o,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Hs,this.transition={})};_i.prototype.isSupportedScript=function(o){return function(c,h){for(var w=0,A=c;w<A.length;w+=1)if(!Ss(A[w].charCodeAt(0),h))return!1;return!0}(o,_o.isLoaded())},_i.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},_i.prototype.getCrossfadeParameters=function(){var o=this.zoom,c=o-Math.floor(o),h=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*h}:{fromScale:.5,toScale:1,t:1-(1-h)*c}};var Ds=function(o,c){this.property=o,this.value=c,this.expression=function(h,w){if(Ws(h))return new Kf(h,w);if(Pn(h)){var A=vs(h,w);if(A.result==="error")throw new Error(A.value.map(function(R){return R.key+": "+R.message}).join(", "));return A.value}var L=h;return typeof h=="string"&&w.type==="color"&&(L=hi.parse(h)),{kind:"constant",evaluate:function(){return L}}}(c===void 0?o.specification.default:c,o.specification)};Ds.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ds.prototype.possiblyEvaluate=function(o,c,h){return this.property.possiblyEvaluate(this,o,c,h)};var Xl=function(o){this.property=o,this.value=new Ds(o,void 0)};Xl.prototype.transitioned=function(o,c){return new Qf(this.property,this.value,c,M({},o.transition,this.transition),o.now)},Xl.prototype.untransitioned=function(){return new Qf(this.property,this.value,null,{},0)};var es=function(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)};es.prototype.getValue=function(o){return we(this._values[o].value.value)},es.prototype.setValue=function(o,c){this._values.hasOwnProperty(o)||(this._values[o]=new Xl(this._values[o].property)),this._values[o].value=new Ds(this._values[o].property,c===null?void 0:we(c))},es.prototype.getTransition=function(o){return we(this._values[o].transition)},es.prototype.setTransition=function(o,c){this._values.hasOwnProperty(o)||(this._values[o]=new Xl(this._values[o].property)),this._values[o].transition=we(c)||void 0},es.prototype.serialize=function(){for(var o={},c=0,h=Object.keys(this._values);c<h.length;c+=1){var w=h[c],A=this.getValue(w);A!==void 0&&(o[w]=A);var L=this.getTransition(w);L!==void 0&&(o[w+"-transition"]=L)}return o},es.prototype.transitioned=function(o,c){for(var h=new Sp(this._properties),w=0,A=Object.keys(this._values);w<A.length;w+=1){var L=A[w];h._values[L]=this._values[L].transitioned(o,c._values[L])}return h},es.prototype.untransitioned=function(){for(var o=new Sp(this._properties),c=0,h=Object.keys(this._values);c<h.length;c+=1){var w=h[c];o._values[w]=this._values[w].untransitioned()}return o};var Qf=function(o,c,h,w,A){this.property=o,this.value=c,this.begin=A+w.delay||0,this.end=this.begin+w.duration||0,o.specification.transition&&(w.delay||w.duration)&&(this.prior=h)};Qf.prototype.possiblyEvaluate=function(o,c,h){var w=o.now||0,A=this.value.possiblyEvaluate(o,c,h),L=this.prior;if(L){if(w>this.end)return this.prior=null,A;if(this.value.isDataDriven())return this.prior=null,A;if(w<this.begin)return L.possiblyEvaluate(o,c,h);var R=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(L.possiblyEvaluate(o,c,h),A,function(B){if(B<=0)return 0;if(B>=1)return 1;var Z=B*B,K=Z*B;return 4*(B<.5?K:3*(B-Z)+K-.75)}(R))}return A};var Sp=function(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)};Sp.prototype.possiblyEvaluate=function(o,c,h){for(var w=new tf(this._properties),A=0,L=Object.keys(this._values);A<L.length;A+=1){var R=L[A];w._values[R]=this._values[R].possiblyEvaluate(o,c,h)}return w},Sp.prototype.hasTransition=function(){for(var o=0,c=Object.keys(this._values);o<c.length;o+=1)if(this._values[c[o]].prior)return!0;return!1};var as=function(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)};as.prototype.getValue=function(o){return we(this._values[o].value)},as.prototype.setValue=function(o,c){this._values[o]=new Ds(this._values[o].property,c===null?void 0:we(c))},as.prototype.serialize=function(){for(var o={},c=0,h=Object.keys(this._values);c<h.length;c+=1){var w=h[c],A=this.getValue(w);A!==void 0&&(o[w]=A)}return o},as.prototype.possiblyEvaluate=function(o,c,h){for(var w=new tf(this._properties),A=0,L=Object.keys(this._values);A<L.length;A+=1){var R=L[A];w._values[R]=this._values[R].possiblyEvaluate(o,c,h)}return w};var ss=function(o,c,h){this.property=o,this.value=c,this.parameters=h};ss.prototype.isConstant=function(){return this.value.kind==="constant"},ss.prototype.constantOr=function(o){return this.value.kind==="constant"?this.value.value:o},ss.prototype.evaluate=function(o,c,h,w){return this.property.evaluate(this.value,this.parameters,o,c,h,w)};var tf=function(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)};tf.prototype.get=function(o){return this._values[o]};var Fr=function(o){this.specification=o};Fr.prototype.possiblyEvaluate=function(o,c){return o.expression.evaluate(c)},Fr.prototype.interpolate=function(o,c,h){var w=uu[this.specification.type];return w?w(o,c,h):o};var Er=function(o,c){this.specification=o,this.overrides=c};Er.prototype.possiblyEvaluate=function(o,c,h,w){return new ss(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(c,null,{},h,w)}:o.expression,c)},Er.prototype.interpolate=function(o,c,h){if(o.value.kind!=="constant"||c.value.kind!=="constant")return o;if(o.value.value===void 0||c.value.value===void 0)return new ss(this,{kind:"constant",value:void 0},o.parameters);var w=uu[this.specification.type];return w?new ss(this,{kind:"constant",value:w(o.value.value,c.value.value,h)},o.parameters):o},Er.prototype.evaluate=function(o,c,h,w,A,L){return o.kind==="constant"?o.value:o.evaluate(c,h,w,A,L)};var mc=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.possiblyEvaluate=function(h,w,A,L){if(h.value===void 0)return new ss(this,{kind:"constant",value:void 0},w);if(h.expression.kind==="constant"){var R=h.expression.evaluate(w,null,{},A,L),B=h.property.specification.type==="resolvedImage"&&typeof R!="string"?R.name:R,Z=this._calculate(B,B,B,w);return new ss(this,{kind:"constant",value:Z},w)}if(h.expression.kind==="camera"){var K=this._calculate(h.expression.evaluate({zoom:w.zoom-1}),h.expression.evaluate({zoom:w.zoom}),h.expression.evaluate({zoom:w.zoom+1}),w);return new ss(this,{kind:"constant",value:K},w)}return new ss(this,h.expression,w)},c.prototype.evaluate=function(h,w,A,L,R,B){if(h.kind==="source"){var Z=h.evaluate(w,A,L,R,B);return this._calculate(Z,Z,Z,w)}return h.kind==="composite"?this._calculate(h.evaluate({zoom:Math.floor(w.zoom)-1},A,L),h.evaluate({zoom:Math.floor(w.zoom)},A,L),h.evaluate({zoom:Math.floor(w.zoom)+1},A,L),w):h.value},c.prototype._calculate=function(h,w,A,L){return L.zoom>L.zoomHistory.lastIntegerZoom?{from:h,to:w}:{from:A,to:w}},c.prototype.interpolate=function(h){return h},c}(Er),Rn=function(o){this.specification=o};Rn.prototype.possiblyEvaluate=function(o,c,h,w){if(o.value!==void 0){if(o.expression.kind==="constant"){var A=o.expression.evaluate(c,null,{},h,w);return this._calculate(A,A,A,c)}return this._calculate(o.expression.evaluate(new _i(Math.floor(c.zoom-1),c)),o.expression.evaluate(new _i(Math.floor(c.zoom),c)),o.expression.evaluate(new _i(Math.floor(c.zoom+1),c)),c)}},Rn.prototype._calculate=function(o,c,h,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:o,to:c}:{from:h,to:c}},Rn.prototype.interpolate=function(o){return o};var ji=function(o){this.specification=o};ji.prototype.possiblyEvaluate=function(o,c,h,w){return!!o.expression.evaluate(c,null,{},h,w)},ji.prototype.interpolate=function(){return!1};var lo=function(o){for(var c in this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],o){var h=o[c];h.specification.overridable&&this.overridableProperties.push(c);var w=this.defaultPropertyValues[c]=new Ds(h,void 0),A=this.defaultTransitionablePropertyValues[c]=new Xl(h);this.defaultTransitioningPropertyValues[c]=A.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=w.possiblyEvaluate({})}};rr("DataDrivenProperty",Er),rr("DataConstantProperty",Fr),rr("CrossFadedDataDrivenProperty",mc),rr("CrossFadedProperty",Rn),rr("ColorRampProperty",ji);var pn=function(o){function c(h,w){if(o.call(this),this.id=h.id,this.type=h.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},h.type!=="custom"&&(this.metadata=(h=h).metadata,this.minzoom=h.minzoom,this.maxzoom=h.maxzoom,h.type!=="background"&&(this.source=h.source,this.sourceLayer=h["source-layer"],this.filter=h.filter),w.layout&&(this._unevaluatedLayout=new as(w.layout)),w.paint)){for(var A in this._transitionablePaint=new es(w.paint),h.paint)this.setPaintProperty(A,h.paint[A],{validate:!1});for(var L in h.layout)this.setLayoutProperty(L,h.layout[L],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new tf(w.paint)}}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},c.prototype.getLayoutProperty=function(h){return h==="visibility"?this.visibility:this._unevaluatedLayout.getValue(h)},c.prototype.setLayoutProperty=function(h,w,A){A===void 0&&(A={}),w!=null&&this._validate(Vl,"layers."+this.id+".layout."+h,h,w,A)||(h!=="visibility"?this._unevaluatedLayout.setValue(h,w):this.visibility=w)},c.prototype.getPaintProperty=function(h){return ne(h,"-transition")?this._transitionablePaint.getTransition(h.slice(0,-11)):this._transitionablePaint.getValue(h)},c.prototype.setPaintProperty=function(h,w,A){if(A===void 0&&(A={}),w!=null&&this._validate(Pd,"layers."+this.id+".paint."+h,h,w,A))return!1;if(ne(h,"-transition"))return this._transitionablePaint.setTransition(h.slice(0,-11),w||void 0),!1;var L=this._transitionablePaint._values[h],R=L.property.specification["property-type"]==="cross-faded-data-driven",B=L.value.isDataDriven(),Z=L.value;this._transitionablePaint.setValue(h,w),this._handleSpecialPaintPropertyUpdate(h);var K=this._transitionablePaint._values[h].value;return K.isDataDriven()||B||R||this._handleOverridablePaintPropertyUpdate(h,Z,K)},c.prototype._handleSpecialPaintPropertyUpdate=function(h){},c.prototype._handleOverridablePaintPropertyUpdate=function(h,w,A){return!1},c.prototype.isHidden=function(h){return!!(this.minzoom&&h<this.minzoom)||!!(this.maxzoom&&h>=this.maxzoom)||this.visibility==="none"},c.prototype.updateTransitions=function(h){this._transitioningPaint=this._transitionablePaint.transitioned(h,this._transitioningPaint)},c.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},c.prototype.recalculate=function(h,w){h.getCrossfadeParameters&&(this._crossfadeParameters=h.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(h,void 0,w)),this.paint=this._transitioningPaint.possiblyEvaluate(h,void 0,w)},c.prototype.serialize=function(){var h={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(h.layout=h.layout||{},h.layout.visibility=this.visibility),ie(h,function(w,A){return!(w===void 0||A==="layout"&&!Object.keys(w).length||A==="paint"&&!Object.keys(w).length)})},c.prototype._validate=function(h,w,A,L,R){return R===void 0&&(R={}),(!R||R.validate!==!1)&&Gl(this,h.call(Ca,{key:w,layerType:this.type,objectKey:A,value:L,styleSpec:Me,style:{glyphs:!0,sprite:!0}}))},c.prototype.is3D=function(){return!1},c.prototype.isTileClipped=function(){return!1},c.prototype.hasOffscreenPass=function(){return!1},c.prototype.resize=function(){},c.prototype.isStateDependent=function(){for(var h in this.paint._values){var w=this.paint.get(h);if(w instanceof ss&&ci(w.property.specification)&&(w.value.kind==="source"||w.value.kind==="composite")&&w.value.isStateDependent)return!0}return!1},c}(lt),$c={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},hu=function(o,c){this._structArray=o,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ci=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function co(o,c){c===void 0&&(c=1);var h=0,w=0;return{members:o.map(function(A){var L=$c[A.type].BYTES_PER_ELEMENT,R=h=zu(h,Math.max(c,L)),B=A.components||1;return w=Math.max(w,L),h+=L*B,{name:A.name,type:A.type,components:B,offset:R}}),size:zu(h,Math.max(w,c)),alignment:c}}function zu(o,c){return Math.ceil(o/c)*c}Ci.serialize=function(o,c){return o._trim(),c&&(o.isTransferred=!0,c.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}},Ci.deserialize=function(o){var c=Object.create(this.prototype);return c.arrayBuffer=o.arrayBuffer,c.length=o.length,c.capacity=o.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c},Ci.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ci.prototype.clear=function(){this.length=0},Ci.prototype.resize=function(o){this.reserve(o),this.length=o},Ci.prototype.reserve=function(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}},Ci.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var zs=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w){var A=this.length;return this.resize(A+1),this.emplace(A,h,w)},c.prototype.emplace=function(h,w,A){var L=2*h;return this.int16[L+0]=w,this.int16[L+1]=A,h},c}(Ci);zs.prototype.bytesPerElement=4,rr("StructArrayLayout2i4",zs);var va=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L){var R=this.length;return this.resize(R+1),this.emplace(R,h,w,A,L)},c.prototype.emplace=function(h,w,A,L,R){var B=4*h;return this.int16[B+0]=w,this.int16[B+1]=A,this.int16[B+2]=L,this.int16[B+3]=R,h},c}(Ci);va.prototype.bytesPerElement=8,rr("StructArrayLayout4i8",va);var rf=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B){var Z=this.length;return this.resize(Z+1),this.emplace(Z,h,w,A,L,R,B)},c.prototype.emplace=function(h,w,A,L,R,B,Z){var K=6*h;return this.int16[K+0]=w,this.int16[K+1]=A,this.int16[K+2]=L,this.int16[K+3]=R,this.int16[K+4]=B,this.int16[K+5]=Z,h},c}(Ci);rf.prototype.bytesPerElement=12,rr("StructArrayLayout2i4i12",rf);var wu=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B){var Z=this.length;return this.resize(Z+1),this.emplace(Z,h,w,A,L,R,B)},c.prototype.emplace=function(h,w,A,L,R,B,Z){var K=4*h,le=8*h;return this.int16[K+0]=w,this.int16[K+1]=A,this.uint8[le+4]=L,this.uint8[le+5]=R,this.uint8[le+6]=B,this.uint8[le+7]=Z,h},c}(Ci);wu.prototype.bytesPerElement=8,rr("StructArrayLayout2i4ub8",wu);var l=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w){var A=this.length;return this.resize(A+1),this.emplace(A,h,w)},c.prototype.emplace=function(h,w,A){var L=2*h;return this.float32[L+0]=w,this.float32[L+1]=A,h},c}(Ci);l.prototype.bytesPerElement=8,rr("StructArrayLayout2f8",l);var f=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B,Z,K,le,_e){var xe=this.length;return this.resize(xe+1),this.emplace(xe,h,w,A,L,R,B,Z,K,le,_e)},c.prototype.emplace=function(h,w,A,L,R,B,Z,K,le,_e,xe){var Ae=10*h;return this.uint16[Ae+0]=w,this.uint16[Ae+1]=A,this.uint16[Ae+2]=L,this.uint16[Ae+3]=R,this.uint16[Ae+4]=B,this.uint16[Ae+5]=Z,this.uint16[Ae+6]=K,this.uint16[Ae+7]=le,this.uint16[Ae+8]=_e,this.uint16[Ae+9]=xe,h},c}(Ci);f.prototype.bytesPerElement=20,rr("StructArrayLayout10ui20",f);var y=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B,Z,K,le,_e,xe,Ae){var Ge=this.length;return this.resize(Ge+1),this.emplace(Ge,h,w,A,L,R,B,Z,K,le,_e,xe,Ae)},c.prototype.emplace=function(h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge){var Ye=12*h;return this.int16[Ye+0]=w,this.int16[Ye+1]=A,this.int16[Ye+2]=L,this.int16[Ye+3]=R,this.uint16[Ye+4]=B,this.uint16[Ye+5]=Z,this.uint16[Ye+6]=K,this.uint16[Ye+7]=le,this.int16[Ye+8]=_e,this.int16[Ye+9]=xe,this.int16[Ye+10]=Ae,this.int16[Ye+11]=Ge,h},c}(Ci);y.prototype.bytesPerElement=24,rr("StructArrayLayout4i4ui4i24",y);var x=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A){var L=this.length;return this.resize(L+1),this.emplace(L,h,w,A)},c.prototype.emplace=function(h,w,A,L){var R=3*h;return this.float32[R+0]=w,this.float32[R+1]=A,this.float32[R+2]=L,h},c}(Ci);x.prototype.bytesPerElement=12,rr("StructArrayLayout3f12",x);var O=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h){var w=this.length;return this.resize(w+1),this.emplace(w,h)},c.prototype.emplace=function(h,w){return this.uint32[1*h+0]=w,h},c}(Ci);O.prototype.bytesPerElement=4,rr("StructArrayLayout1ul4",O);var U=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B,Z,K,le){var _e=this.length;return this.resize(_e+1),this.emplace(_e,h,w,A,L,R,B,Z,K,le)},c.prototype.emplace=function(h,w,A,L,R,B,Z,K,le,_e){var xe=10*h,Ae=5*h;return this.int16[xe+0]=w,this.int16[xe+1]=A,this.int16[xe+2]=L,this.int16[xe+3]=R,this.int16[xe+4]=B,this.int16[xe+5]=Z,this.uint32[Ae+3]=K,this.uint16[xe+8]=le,this.uint16[xe+9]=_e,h},c}(Ci);U.prototype.bytesPerElement=20,rr("StructArrayLayout6i1ul2ui20",U);var H=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B){var Z=this.length;return this.resize(Z+1),this.emplace(Z,h,w,A,L,R,B)},c.prototype.emplace=function(h,w,A,L,R,B,Z){var K=6*h;return this.int16[K+0]=w,this.int16[K+1]=A,this.int16[K+2]=L,this.int16[K+3]=R,this.int16[K+4]=B,this.int16[K+5]=Z,h},c}(Ci);H.prototype.bytesPerElement=12,rr("StructArrayLayout2i2i2i12",H);var me=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R){var B=this.length;return this.resize(B+1),this.emplace(B,h,w,A,L,R)},c.prototype.emplace=function(h,w,A,L,R,B){var Z=4*h,K=8*h;return this.float32[Z+0]=w,this.float32[Z+1]=A,this.float32[Z+2]=L,this.int16[K+6]=R,this.int16[K+7]=B,h},c}(Ci);me.prototype.bytesPerElement=16,rr("StructArrayLayout2f1f2i16",me);var je=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L){var R=this.length;return this.resize(R+1),this.emplace(R,h,w,A,L)},c.prototype.emplace=function(h,w,A,L,R){var B=12*h,Z=3*h;return this.uint8[B+0]=w,this.uint8[B+1]=A,this.float32[Z+1]=L,this.float32[Z+2]=R,h},c}(Ci);je.prototype.bytesPerElement=12,rr("StructArrayLayout2ub2f12",je);var nt=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A){var L=this.length;return this.resize(L+1),this.emplace(L,h,w,A)},c.prototype.emplace=function(h,w,A,L){var R=3*h;return this.uint16[R+0]=w,this.uint16[R+1]=A,this.uint16[R+2]=L,h},c}(Ci);nt.prototype.bytesPerElement=6,rr("StructArrayLayout3ui6",nt);var wt=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye,ot,et,ct){var vt=this.length;return this.resize(vt+1),this.emplace(vt,h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye,ot,et,ct)},c.prototype.emplace=function(h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye,ot,et,ct,vt){var At=24*h,Ot=12*h,Ft=48*h;return this.int16[At+0]=w,this.int16[At+1]=A,this.uint16[At+2]=L,this.uint16[At+3]=R,this.uint32[Ot+2]=B,this.uint32[Ot+3]=Z,this.uint32[Ot+4]=K,this.uint16[At+10]=le,this.uint16[At+11]=_e,this.uint16[At+12]=xe,this.float32[Ot+7]=Ae,this.float32[Ot+8]=Ge,this.uint8[Ft+36]=Ye,this.uint8[Ft+37]=ot,this.uint8[Ft+38]=et,this.uint32[Ot+10]=ct,this.int16[At+22]=vt,h},c}(Ci);wt.prototype.bytesPerElement=48,rr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",wt);var kt=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye,ot,et,ct,vt,At,Ot,Ft,Qt,pr,Vr,yr,Zr,br,ii){var vn=this.length;return this.resize(vn+1),this.emplace(vn,h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye,ot,et,ct,vt,At,Ot,Ft,Qt,pr,Vr,yr,Zr,br,ii)},c.prototype.emplace=function(h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye,ot,et,ct,vt,At,Ot,Ft,Qt,pr,Vr,yr,Zr,br,ii,vn){var gr=34*h,Ir=17*h;return this.int16[gr+0]=w,this.int16[gr+1]=A,this.int16[gr+2]=L,this.int16[gr+3]=R,this.int16[gr+4]=B,this.int16[gr+5]=Z,this.int16[gr+6]=K,this.int16[gr+7]=le,this.uint16[gr+8]=_e,this.uint16[gr+9]=xe,this.uint16[gr+10]=Ae,this.uint16[gr+11]=Ge,this.uint16[gr+12]=Ye,this.uint16[gr+13]=ot,this.uint16[gr+14]=et,this.uint16[gr+15]=ct,this.uint16[gr+16]=vt,this.uint16[gr+17]=At,this.uint16[gr+18]=Ot,this.uint16[gr+19]=Ft,this.uint16[gr+20]=Qt,this.uint16[gr+21]=pr,this.uint16[gr+22]=Vr,this.uint32[Ir+12]=yr,this.float32[Ir+13]=Zr,this.float32[Ir+14]=br,this.float32[Ir+15]=ii,this.float32[Ir+16]=vn,h},c}(Ci);kt.prototype.bytesPerElement=68,rr("StructArrayLayout8i15ui1ul4f68",kt);var ar=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h){var w=this.length;return this.resize(w+1),this.emplace(w,h)},c.prototype.emplace=function(h,w){return this.float32[1*h+0]=w,h},c}(Ci);ar.prototype.bytesPerElement=4,rr("StructArrayLayout1f4",ar);var nr=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A){var L=this.length;return this.resize(L+1),this.emplace(L,h,w,A)},c.prototype.emplace=function(h,w,A,L){var R=3*h;return this.int16[R+0]=w,this.int16[R+1]=A,this.int16[R+2]=L,h},c}(Ci);nr.prototype.bytesPerElement=6,rr("StructArrayLayout3i6",nr);var Tr=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A){var L=this.length;return this.resize(L+1),this.emplace(L,h,w,A)},c.prototype.emplace=function(h,w,A,L){var R=4*h;return this.uint32[2*h+0]=w,this.uint16[R+2]=A,this.uint16[R+3]=L,h},c}(Ci);Tr.prototype.bytesPerElement=8,rr("StructArrayLayout1ul2ui8",Tr);var Br=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w){var A=this.length;return this.resize(A+1),this.emplace(A,h,w)},c.prototype.emplace=function(h,w,A){var L=2*h;return this.uint16[L+0]=w,this.uint16[L+1]=A,h},c}(Ci);Br.prototype.bytesPerElement=4,rr("StructArrayLayout2ui4",Br);var ri=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h){var w=this.length;return this.resize(w+1),this.emplace(w,h)},c.prototype.emplace=function(h,w){return this.uint16[1*h+0]=w,h},c}(Ci);ri.prototype.bytesPerElement=2,rr("StructArrayLayout1ui2",ri);var ba=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(h,w,A,L){var R=this.length;return this.resize(R+1),this.emplace(R,h,w,A,L)},c.prototype.emplace=function(h,w,A,L,R){var B=4*h;return this.float32[B+0]=w,this.float32[B+1]=A,this.float32[B+2]=L,this.float32[B+3]=R,h},c}(Ci);ba.prototype.bytesPerElement=16,rr("StructArrayLayout4f16",ba);var d=function(o){function c(){o.apply(this,arguments)}o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c;var h={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return h.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},h.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},h.x1.get=function(){return this._structArray.int16[this._pos2+2]},h.y1.get=function(){return this._structArray.int16[this._pos2+3]},h.x2.get=function(){return this._structArray.int16[this._pos2+4]},h.y2.get=function(){return this._structArray.int16[this._pos2+5]},h.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},h.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},h.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},h.anchorPoint.get=function(){return new P(this.anchorPointX,this.anchorPointY)},Object.defineProperties(c.prototype,h),c}(hu);d.prototype.size=20;var b=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.get=function(h){return new d(this,h)},c}(U);rr("CollisionBoxArray",b);var g=function(o){function c(){o.apply(this,arguments)}o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c;var h={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return h.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},h.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},h.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},h.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},h.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},h.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},h.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},h.segment.get=function(){return this._structArray.uint16[this._pos2+10]},h.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},h.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},h.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},h.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},h.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},h.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},h.placedOrientation.set=function(w){this._structArray.uint8[this._pos1+37]=w},h.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},h.hidden.set=function(w){this._structArray.uint8[this._pos1+38]=w},h.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},h.crossTileID.set=function(w){this._structArray.uint32[this._pos4+10]=w},h.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(c.prototype,h),c}(hu);g.prototype.size=48;var S=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.get=function(h){return new g(this,h)},c}(wt);rr("PlacedSymbolArray",S);var N=function(o){function c(){o.apply(this,arguments)}o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c;var h={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return h.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},h.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},h.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},h.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},h.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},h.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},h.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},h.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},h.key.get=function(){return this._structArray.uint16[this._pos2+8]},h.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},h.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},h.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},h.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},h.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},h.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},h.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},h.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},h.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},h.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},h.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},h.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},h.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},h.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},h.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},h.crossTileID.set=function(w){this._structArray.uint32[this._pos4+12]=w},h.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},h.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},h.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},h.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(c.prototype,h),c}(hu);N.prototype.size=68;var z=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.get=function(h){return new N(this,h)},c}(kt);rr("SymbolInstanceArray",z);var $=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.getoffsetX=function(h){return this.float32[1*h+0]},c}(ar);rr("GlyphOffsetArray",$);var X=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.getx=function(h){return this.int16[3*h+0]},c.prototype.gety=function(h){return this.int16[3*h+1]},c.prototype.gettileUnitDistanceFromAnchor=function(h){return this.int16[3*h+2]},c}(nr);rr("SymbolLineVertexArray",X);var ue=function(o){function c(){o.apply(this,arguments)}o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c;var h={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return h.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},h.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},h.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(c.prototype,h),c}(hu);ue.prototype.size=8;var ge=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.get=function(h){return new ue(this,h)},c}(Tr);rr("FeatureIndexArray",ge);var Te=co([{name:"a_pos",components:2,type:"Int16"}],4).members,ke=function(o){o===void 0&&(o=[]),this.segments=o};function De(o,c){return 256*(o=Y(Math.floor(o),0,255))+Y(Math.floor(c),0,255)}ke.prototype.prepareSegment=function(o,c,h,w){var A=this.segments[this.segments.length-1];return o>ke.MAX_VERTEX_ARRAY_LENGTH&&Pe("Max vertices per segment is "+ke.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+o),(!A||A.vertexLength+o>ke.MAX_VERTEX_ARRAY_LENGTH||A.sortKey!==w)&&(A={vertexOffset:c.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},w!==void 0&&(A.sortKey=w),this.segments.push(A)),A},ke.prototype.get=function(){return this.segments},ke.prototype.destroy=function(){for(var o=0,c=this.segments;o<c.length;o+=1){var h=c[o];for(var w in h.vaos)h.vaos[w].destroy()}},ke.simpleSegment=function(o,c,h,w){return new ke([{vertexOffset:o,primitiveOffset:c,vertexLength:h,primitiveLength:w,vaos:{},sortKey:0}])},ke.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,rr("SegmentVector",ke);var fe=co([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),He=m(function(o){o.exports=function(c,h){var w,A,L,R,B,Z,K,le;for(A=c.length-(w=3&c.length),L=h,B=3432918353,Z=461845907,le=0;le<A;)K=255&c.charCodeAt(le)|(255&c.charCodeAt(++le))<<8|(255&c.charCodeAt(++le))<<16|(255&c.charCodeAt(++le))<<24,++le,L=27492+(65535&(R=5*(65535&(L=(L^=K=(65535&(K=(K=(65535&K)*B+(((K>>>16)*B&65535)<<16)&4294967295)<<15|K>>>17))*Z+(((K>>>16)*Z&65535)<<16)&4294967295)<<13|L>>>19))+((5*(L>>>16)&65535)<<16)&4294967295))+((58964+(R>>>16)&65535)<<16);switch(K=0,w){case 3:K^=(255&c.charCodeAt(le+2))<<16;case 2:K^=(255&c.charCodeAt(le+1))<<8;case 1:L^=K=(65535&(K=(K=(65535&(K^=255&c.charCodeAt(le)))*B+(((K>>>16)*B&65535)<<16)&4294967295)<<15|K>>>17))*Z+(((K>>>16)*Z&65535)<<16)&4294967295}return L^=c.length,L=2246822507*(65535&(L^=L>>>16))+((2246822507*(L>>>16)&65535)<<16)&4294967295,L=3266489909*(65535&(L^=L>>>13))+((3266489909*(L>>>16)&65535)<<16)&4294967295,(L^=L>>>16)>>>0}}),it=m(function(o){o.exports=function(c,h){for(var w,A=c.length,L=h^A,R=0;A>=4;)w=1540483477*(65535&(w=255&c.charCodeAt(R)|(255&c.charCodeAt(++R))<<8|(255&c.charCodeAt(++R))<<16|(255&c.charCodeAt(++R))<<24))+((1540483477*(w>>>16)&65535)<<16),L=1540483477*(65535&L)+((1540483477*(L>>>16)&65535)<<16)^(w=1540483477*(65535&(w^=w>>>24))+((1540483477*(w>>>16)&65535)<<16)),A-=4,++R;switch(A){case 3:L^=(255&c.charCodeAt(R+2))<<16;case 2:L^=(255&c.charCodeAt(R+1))<<8;case 1:L=1540483477*(65535&(L^=255&c.charCodeAt(R)))+((1540483477*(L>>>16)&65535)<<16)}return L=1540483477*(65535&(L^=L>>>13))+((1540483477*(L>>>16)&65535)<<16),(L^=L>>>15)>>>0}}),qe=He,rt=it;qe.murmur3=He,qe.murmur2=rt;var ut=function(){this.ids=[],this.positions=[],this.indexed=!1};ut.prototype.add=function(o,c,h,w){this.ids.push(Ct(o)),this.positions.push(c,h,w)},ut.prototype.getPositions=function(o){for(var c=Ct(o),h=0,w=this.ids.length-1;h<w;){var A=h+w>>1;this.ids[A]>=c?w=A:h=A+1}for(var L=[];this.ids[h]===c;)L.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return L},ut.serialize=function(o,c){var h=new Float64Array(o.ids),w=new Uint32Array(o.positions);return function A(L,R,B,Z){for(;B<Z;){for(var K=L[B+Z>>1],le=B-1,_e=Z+1;;){do le++;while(L[le]<K);do _e--;while(L[_e]>K);if(le>=_e)break;xt(L,le,_e),xt(R,3*le,3*_e),xt(R,3*le+1,3*_e+1),xt(R,3*le+2,3*_e+2)}_e-B<Z-_e?(A(L,R,B,_e),B=_e+1):(A(L,R,_e+1,Z),Z=_e)}}(h,w,0,h.length-1),c&&c.push(h.buffer,w.buffer),{ids:h,positions:w}},ut.deserialize=function(o){var c=new ut;return c.ids=o.ids,c.positions=o.positions,c.indexed=!0,c};var gt=Math.pow(2,53)-1;function Ct(o){var c=+o;return!isNaN(c)&&c<=gt?c:qe(String(o))}function xt(o,c,h){var w=o[c];o[c]=o[h],o[h]=w}rr("FeaturePositionMap",ut);var St=function(o,c){this.gl=o.gl,this.location=c},Vt=function(o){function c(h,w){o.call(this,h,w),this.current=0}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.set=function(h){this.current!==h&&(this.current=h,this.gl.uniform1i(this.location,h))},c}(St),Gt=function(o){function c(h,w){o.call(this,h,w),this.current=0}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.set=function(h){this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))},c}(St),er=function(o){function c(h,w){o.call(this,h,w),this.current=[0,0]}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.set=function(h){h[0]===this.current[0]&&h[1]===this.current[1]||(this.current=h,this.gl.uniform2f(this.location,h[0],h[1]))},c}(St),wr=function(o){function c(h,w){o.call(this,h,w),this.current=[0,0,0]}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.set=function(h){h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]||(this.current=h,this.gl.uniform3f(this.location,h[0],h[1],h[2]))},c}(St),Yr=function(o){function c(h,w){o.call(this,h,w),this.current=[0,0,0,0]}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.set=function(h){h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3]))},c}(St),an=function(o){function c(h,w){o.call(this,h,w),this.current=hi.transparent}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.set=function(h){h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a))},c}(St),Wr=new Float32Array(16),fi=function(o){function c(h,w){o.call(this,h,w),this.current=Wr}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.set=function(h){if(h[12]!==this.current[12]||h[0]!==this.current[0])return this.current=h,void this.gl.uniformMatrix4fv(this.location,!1,h);for(var w=1;w<16;w++)if(h[w]!==this.current[w]){this.current=h,this.gl.uniformMatrix4fv(this.location,!1,h);break}},c}(St);function Ar(o){return[De(255*o.r,255*o.g),De(255*o.b,255*o.a)]}var sn=function(o,c,h){this.value=o,this.uniformNames=c.map(function(w){return"u_"+w}),this.type=h};sn.prototype.setUniform=function(o,c,h){o.set(h.constantOr(this.value))},sn.prototype.getBinding=function(o,c,h){return this.type==="color"?new an(o,c):new Gt(o,c)};var On=function(o,c){this.uniformNames=c.map(function(h){return"u_"+h}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};On.prototype.setConstantPatternPositions=function(o,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=o.tlbr},On.prototype.setUniform=function(o,c,h,w){var A=w==="u_pattern_to"?this.patternTo:w==="u_pattern_from"?this.patternFrom:w==="u_pixel_ratio_to"?this.pixelRatioTo:w==="u_pixel_ratio_from"?this.pixelRatioFrom:null;A&&o.set(A)},On.prototype.getBinding=function(o,c,h){return h.substr(0,9)==="u_pattern"?new Yr(o,c):new Gt(o,c)};var hn=function(o,c,h,w){this.expression=o,this.type=h,this.maxValue=0,this.paintVertexAttributes=c.map(function(A){return{name:"a_"+A,type:"Float32",components:h==="color"?2:1,offset:0}}),this.paintVertexArray=new w};hn.prototype.populatePaintArray=function(o,c,h,w,A){var L=this.paintVertexArray.length,R=this.expression.evaluate(new _i(0),c,{},w,[],A);this.paintVertexArray.resize(o),this._setPaintValue(L,o,R)},hn.prototype.updatePaintArray=function(o,c,h,w){var A=this.expression.evaluate({zoom:0},h,w);this._setPaintValue(o,c,A)},hn.prototype._setPaintValue=function(o,c,h){if(this.type==="color")for(var w=Ar(h),A=o;A<c;A++)this.paintVertexArray.emplace(A,w[0],w[1]);else{for(var L=o;L<c;L++)this.paintVertexArray.emplace(L,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}},hn.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},hn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var tn=function(o,c,h,w,A,L){this.expression=o,this.uniformNames=c.map(function(R){return"u_"+R+"_t"}),this.type=h,this.useIntegerZoom=w,this.zoom=A,this.maxValue=0,this.paintVertexAttributes=c.map(function(R){return{name:"a_"+R,type:"Float32",components:h==="color"?4:2,offset:0}}),this.paintVertexArray=new L};tn.prototype.populatePaintArray=function(o,c,h,w,A){var L=this.expression.evaluate(new _i(this.zoom),c,{},w,[],A),R=this.expression.evaluate(new _i(this.zoom+1),c,{},w,[],A),B=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(B,o,L,R)},tn.prototype.updatePaintArray=function(o,c,h,w){var A=this.expression.evaluate({zoom:this.zoom},h,w),L=this.expression.evaluate({zoom:this.zoom+1},h,w);this._setPaintValue(o,c,A,L)},tn.prototype._setPaintValue=function(o,c,h,w){if(this.type==="color")for(var A=Ar(h),L=Ar(w),R=o;R<c;R++)this.paintVertexArray.emplace(R,A[0],A[1],L[0],L[1]);else{for(var B=o;B<c;B++)this.paintVertexArray.emplace(B,h,w);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(w))}},tn.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},tn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},tn.prototype.setUniform=function(o,c){var h=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,w=Y(this.expression.interpolationFactor(h,this.zoom,this.zoom+1),0,1);o.set(w)},tn.prototype.getBinding=function(o,c,h){return new Gt(o,c)};var rn=function(o,c,h,w,A,L){this.expression=o,this.type=c,this.useIntegerZoom=h,this.zoom=w,this.layerId=L,this.zoomInPaintVertexArray=new A,this.zoomOutPaintVertexArray=new A};rn.prototype.populatePaintArray=function(o,c,h){var w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(w,o,c.patterns&&c.patterns[this.layerId],h)},rn.prototype.updatePaintArray=function(o,c,h,w,A){this._setPaintValues(o,c,h.patterns&&h.patterns[this.layerId],A)},rn.prototype._setPaintValues=function(o,c,h,w){if(w&&h){var A=w[h.min],L=w[h.mid],R=w[h.max];if(A&&L&&R)for(var B=o;B<c;B++)this.zoomInPaintVertexArray.emplace(B,L.tl[0],L.tl[1],L.br[0],L.br[1],A.tl[0],A.tl[1],A.br[0],A.br[1],L.pixelRatio,A.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,L.tl[0],L.tl[1],L.br[0],L.br[1],R.tl[0],R.tl[1],R.br[0],R.br[1],L.pixelRatio,R.pixelRatio)}},rn.prototype.upload=function(o){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,fe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,fe.members,this.expression.isStateDependent))},rn.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var _n=function(o,c,h){this.binders={},this._buffers=[];var w=[];for(var A in o.paint._values)if(h(A)){var L=o.paint.get(A);if(L instanceof ss&&ci(L.property.specification)){var R=Ua(A,o.type),B=L.value,Z=L.property.specification.type,K=L.property.useIntegerZoom,le=L.property.specification["property-type"],_e=le==="cross-faded"||le==="cross-faded-data-driven";if(B.kind==="constant")this.binders[A]=_e?new On(B.value,R):new sn(B.value,R,Z),w.push("/u_"+A);else if(B.kind==="source"||_e){var xe=mo(A,Z,"source");this.binders[A]=_e?new rn(B,Z,K,c,xe,o.id):new hn(B,R,Z,xe),w.push("/a_"+A)}else{var Ae=mo(A,Z,"composite");this.binders[A]=new tn(B,R,Z,K,c,Ae),w.push("/z_"+A)}}}this.cacheKey=w.sort().join("")};_n.prototype.getMaxValue=function(o){var c=this.binders[o];return c instanceof hn||c instanceof tn?c.maxValue:0},_n.prototype.populatePaintArrays=function(o,c,h,w,A){for(var L in this.binders){var R=this.binders[L];(R instanceof hn||R instanceof tn||R instanceof rn)&&R.populatePaintArray(o,c,h,w,A)}},_n.prototype.setConstantPatternPositions=function(o,c){for(var h in this.binders){var w=this.binders[h];w instanceof On&&w.setConstantPatternPositions(o,c)}},_n.prototype.updatePaintArrays=function(o,c,h,w,A){var L=!1;for(var R in o)for(var B=0,Z=c.getPositions(R);B<Z.length;B+=1){var K=Z[B],le=h.feature(K.index);for(var _e in this.binders){var xe=this.binders[_e];if((xe instanceof hn||xe instanceof tn||xe instanceof rn)&&xe.expression.isStateDependent===!0){var Ae=w.paint.get(_e);xe.expression=Ae.value,xe.updatePaintArray(K.start,K.end,le,o[R],A),L=!0}}}return L},_n.prototype.defines=function(){var o=[];for(var c in this.binders){var h=this.binders[c];(h instanceof sn||h instanceof On)&&o.push.apply(o,h.uniformNames.map(function(w){return"#define HAS_UNIFORM_"+w}))}return o},_n.prototype.getBinderAttributes=function(){var o=[];for(var c in this.binders){var h=this.binders[c];if(h instanceof hn||h instanceof tn)for(var w=0;w<h.paintVertexAttributes.length;w++)o.push(h.paintVertexAttributes[w].name);else if(h instanceof rn)for(var A=0;A<fe.members.length;A++)o.push(fe.members[A].name)}return o},_n.prototype.getBinderUniforms=function(){var o=[];for(var c in this.binders){var h=this.binders[c];if(h instanceof sn||h instanceof On||h instanceof tn)for(var w=0,A=h.uniformNames;w<A.length;w+=1)o.push(A[w])}return o},_n.prototype.getPaintVertexBuffers=function(){return this._buffers},_n.prototype.getUniforms=function(o,c){var h=[];for(var w in this.binders){var A=this.binders[w];if(A instanceof sn||A instanceof On||A instanceof tn)for(var L=0,R=A.uniformNames;L<R.length;L+=1){var B=R[L];if(c[B]){var Z=A.getBinding(o,c[B],B);h.push({name:B,property:w,binding:Z})}}}return h},_n.prototype.setUniforms=function(o,c,h,w){for(var A=0,L=c;A<L.length;A+=1){var R=L[A],B=R.name,Z=R.property;this.binders[Z].setUniform(R.binding,w,h.get(Z),B)}},_n.prototype.updatePaintBuffers=function(o){for(var c in this._buffers=[],this.binders){var h=this.binders[c];if(o&&h instanceof rn){var w=o.fromScale===2?h.zoomInPaintVertexBuffer:h.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(h instanceof hn||h instanceof tn)&&h.paintVertexBuffer&&this._buffers.push(h.paintVertexBuffer)}},_n.prototype.upload=function(o){for(var c in this.binders){var h=this.binders[c];(h instanceof hn||h instanceof tn||h instanceof rn)&&h.upload(o)}this.updatePaintBuffers()},_n.prototype.destroy=function(){for(var o in this.binders){var c=this.binders[o];(c instanceof hn||c instanceof tn||c instanceof rn)&&c.destroy()}};var qr=function(o,c,h){h===void 0&&(h=function(){return!0}),this.programConfigurations={};for(var w=0,A=o;w<A.length;w+=1){var L=A[w];this.programConfigurations[L.id]=new _n(L,c,h)}this.needsUpload=!1,this._featureMap=new ut,this._bufferOffset=0};function Ua(o,c){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(c+"-","").replace(/-/g,"_")]}function mo(o,c,h){var w={color:{source:l,composite:ba},number:{source:ar,composite:l}},A=function(L){return{"line-pattern":{source:f,composite:f},"fill-pattern":{source:f,composite:f},"fill-extrusion-pattern":{source:f,composite:f}}[L]}(o);return A&&A[h]||w[c][h]}qr.prototype.populatePaintArrays=function(o,c,h,w,A,L){for(var R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(o,c,w,A,L);c.id!==void 0&&this._featureMap.add(c.id,h,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0},qr.prototype.updatePaintArrays=function(o,c,h,w){for(var A=0,L=h;A<L.length;A+=1){var R=L[A];this.needsUpload=this.programConfigurations[R.id].updatePaintArrays(o,this._featureMap,c,R,w)||this.needsUpload}},qr.prototype.get=function(o){return this.programConfigurations[o]},qr.prototype.upload=function(o){if(this.needsUpload){for(var c in this.programConfigurations)this.programConfigurations[c].upload(o);this.needsUpload=!1}},qr.prototype.destroy=function(){for(var o in this.programConfigurations)this.programConfigurations[o].destroy()},rr("ConstantBinder",sn),rr("CrossFadedConstantBinder",On),rr("SourceExpressionBinder",hn),rr("CrossFadedCompositeBinder",rn),rr("CompositeExpressionBinder",tn),rr("ProgramConfiguration",_n,{omit:["_buffers"]}),rr("ProgramConfigurationSet",qr);var us=Math.pow(2,14)-1,na=-us-1;function Qn(o){for(var c=8192/o.extent,h=o.loadGeometry(),w=0;w<h.length;w++)for(var A=h[w],L=0;L<A.length;L++){var R=A[L],B=Math.round(R.x*c),Z=Math.round(R.y*c);R.x=Y(B,na,us),R.y=Y(Z,na,us),(B<R.x||B>R.x+1||Z<R.y||Z>R.y+1)&&Pe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return h}function ia(o,c){return{type:o.type,id:o.id,properties:o.properties,geometry:c?Qn(o):[]}}function cl(o,c,h,w,A){o.emplaceBack(2*c+(w+1)/2,2*h+(A+1)/2)}var fl=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new zs,this.indexArray=new nt,this.segments=new ke,this.programConfigurations=new qr(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function Bi(o,c){for(var h=0;h<o.length;h++)if(Hl(c,o[h]))return!0;for(var w=0;w<c.length;w++)if(Hl(o,c[w]))return!0;return!!Bh(o,c)}function Yl(o,c,h){return!!Hl(o,c)||!!ih(c,o,h)}function nf(o,c){if(o.length===1)return oh(c,o[0]);for(var h=0;h<c.length;h++)for(var w=c[h],A=0;A<w.length;A++)if(Hl(o,w[A]))return!0;for(var L=0;L<o.length;L++)if(oh(c,o[L]))return!0;for(var R=0;R<c.length;R++)if(Bh(o,c[R]))return!0;return!1}function gc(o,c,h){if(o.length>1){if(Bh(o,c))return!0;for(var w=0;w<c.length;w++)if(ih(c[w],o,h))return!0}for(var A=0;A<o.length;A++)if(ih(o[A],c,h))return!0;return!1}function Bh(o,c){if(o.length===0||c.length===0)return!1;for(var h=0;h<o.length-1;h++)for(var w=o[h],A=o[h+1],L=0;L<c.length-1;L++)if(nh(w,A,c[L],c[L+1]))return!0;return!1}function nh(o,c,h,w){return ae(o,h,w)!==ae(c,h,w)&&ae(o,c,h)!==ae(o,c,w)}function ih(o,c,h){var w=h*h;if(c.length===1)return o.distSqr(c[0])<w;for(var A=1;A<c.length;A++)if(yc(o,c[A-1],c[A])<w)return!0;return!1}function yc(o,c,h){var w=c.distSqr(h);if(w===0)return o.distSqr(c);var A=((o.x-c.x)*(h.x-c.x)+(o.y-c.y)*(h.y-c.y))/w;return o.distSqr(A<0?c:A>1?h:h.sub(c)._mult(A)._add(c))}function oh(o,c){for(var h,w,A,L=!1,R=0;R<o.length;R++)for(var B=0,Z=(h=o[R]).length-1;B<h.length;Z=B++)(w=h[B]).y>c.y!=(A=h[Z]).y>c.y&&c.x<(A.x-w.x)*(c.y-w.y)/(A.y-w.y)+w.x&&(L=!L);return L}function Hl(o,c){for(var h=!1,w=0,A=o.length-1;w<o.length;A=w++){var L=o[w],R=o[A];L.y>c.y!=R.y>c.y&&c.x<(R.x-L.x)*(c.y-L.y)/(R.y-L.y)+L.x&&(h=!h)}return h}function Ad(o,c,h){var w=h[0],A=h[2];if(o.x<w.x&&c.x<w.x||o.x>A.x&&c.x>A.x||o.y<w.y&&c.y<w.y||o.y>A.y&&c.y>A.y)return!1;var L=ae(o,c,h[0]);return L!==ae(o,c,h[1])||L!==ae(o,c,h[2])||L!==ae(o,c,h[3])}function Of(o,c,h){var w=c.paint.get(o).value;return w.kind==="constant"?w.value:h.programConfigurations.get(c.id).getMaxValue(o)}function $i(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function Ep(o,c,h,w,A){if(!c[0]&&!c[1])return o;var L=P.convert(c)._mult(A);h==="viewport"&&L._rotate(-w);for(var R=[],B=0;B<o.length;B++)R.push(o[B].sub(L));return R}fl.prototype.populate=function(o,c,h){var w=this.layers[0],A=[],L=null;w.type==="circle"&&(L=w.layout.get("circle-sort-key"));for(var R=0,B=o;R<B.length;R+=1){var Z=B[R],K=Z.feature,le=Z.id,_e=Z.index,xe=Z.sourceLayerIndex,Ae=this.layers[0]._featureFilter.needGeometry,Ge=ia(K,Ae);if(this.layers[0]._featureFilter.filter(new _i(this.zoom),Ge,h)){var Ye=L?L.evaluate(Ge,{},h):void 0,ot={id:le,properties:K.properties,type:K.type,sourceLayerIndex:xe,index:_e,geometry:Ae?Ge.geometry:Qn(K),patterns:{},sortKey:Ye};A.push(ot)}}L&&A.sort(function(pr,Vr){return pr.sortKey-Vr.sortKey});for(var et=0,ct=A;et<ct.length;et+=1){var vt=ct[et],At=vt.geometry,Ot=vt.index,Ft=vt.sourceLayerIndex,Qt=o[Ot].feature;this.addFeature(vt,At,Ot,h),c.featureIndex.insert(Qt,At,Ot,Ft,this.index)}},fl.prototype.update=function(o,c,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,h)},fl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},fl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},fl.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Te),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},fl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},fl.prototype.addFeature=function(o,c,h,w){for(var A=0,L=c;A<L.length;A+=1)for(var R=0,B=L[A];R<B.length;R+=1){var Z=B[R],K=Z.x,le=Z.y;if(!(K<0||K>=8192||le<0||le>=8192)){var _e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),xe=_e.vertexLength;cl(this.layoutVertexArray,K,le,-1,-1),cl(this.layoutVertexArray,K,le,1,-1),cl(this.layoutVertexArray,K,le,1,1),cl(this.layoutVertexArray,K,le,-1,1),this.indexArray.emplaceBack(xe,xe+1,xe+2),this.indexArray.emplaceBack(xe,xe+3,xe+2),_e.vertexLength+=4,_e.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,{},w)},rr("CircleBucket",fl,{omit:["layers"]});var Pp=new lo({"circle-sort-key":new Er(Me.layout_circle["circle-sort-key"])}),ah={paint:new lo({"circle-radius":new Er(Me.paint_circle["circle-radius"]),"circle-color":new Er(Me.paint_circle["circle-color"]),"circle-blur":new Er(Me.paint_circle["circle-blur"]),"circle-opacity":new Er(Me.paint_circle["circle-opacity"]),"circle-translate":new Fr(Me.paint_circle["circle-translate"]),"circle-translate-anchor":new Fr(Me.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Fr(Me.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Fr(Me.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Er(Me.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Er(Me.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Er(Me.paint_circle["circle-stroke-opacity"])}),layout:Pp},In=typeof Float32Array!="undefined"?Float32Array:Array;function Uc(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Zl(o,c,h){var w=c[0],A=c[1],L=c[2],R=c[3],B=c[4],Z=c[5],K=c[6],le=c[7],_e=c[8],xe=c[9],Ae=c[10],Ge=c[11],Ye=c[12],ot=c[13],et=c[14],ct=c[15],vt=h[0],At=h[1],Ot=h[2],Ft=h[3];return o[0]=vt*w+At*B+Ot*_e+Ft*Ye,o[1]=vt*A+At*Z+Ot*xe+Ft*ot,o[2]=vt*L+At*K+Ot*Ae+Ft*et,o[3]=vt*R+At*le+Ot*Ge+Ft*ct,o[4]=(vt=h[4])*w+(At=h[5])*B+(Ot=h[6])*_e+(Ft=h[7])*Ye,o[5]=vt*A+At*Z+Ot*xe+Ft*ot,o[6]=vt*L+At*K+Ot*Ae+Ft*et,o[7]=vt*R+At*le+Ot*Ge+Ft*ct,o[8]=(vt=h[8])*w+(At=h[9])*B+(Ot=h[10])*_e+(Ft=h[11])*Ye,o[9]=vt*A+At*Z+Ot*xe+Ft*ot,o[10]=vt*L+At*K+Ot*Ae+Ft*et,o[11]=vt*R+At*le+Ot*Ge+Ft*ct,o[12]=(vt=h[12])*w+(At=h[13])*B+(Ot=h[14])*_e+(Ft=h[15])*Ye,o[13]=vt*A+At*Z+Ot*xe+Ft*ot,o[14]=vt*L+At*K+Ot*Ae+Ft*et,o[15]=vt*R+At*le+Ot*Ge+Ft*ct,o}Math.hypot||(Math.hypot=function(){for(var o=arguments,c=0,h=arguments.length;h--;)c+=o[h]*o[h];return Math.sqrt(c)});var $h,yg=Zl;function kf(o,c,h){var w=c[0],A=c[1],L=c[2],R=c[3];return o[0]=h[0]*w+h[4]*A+h[8]*L+h[12]*R,o[1]=h[1]*w+h[5]*A+h[9]*L+h[13]*R,o[2]=h[2]*w+h[6]*A+h[10]*L+h[14]*R,o[3]=h[3]*w+h[7]*A+h[11]*L+h[15]*R,o}$h=new In(3),In!=Float32Array&&($h[0]=0,$h[1]=0,$h[2]=0),function(){var o=new In(4);In!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0,o[3]=0)}();var vg=(function(){var o=new In(2);In!=Float32Array&&(o[0]=0,o[1]=0)}(),function(o){function c(h){o.call(this,h,ah)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.createBucket=function(h){return new fl(h)},c.prototype.queryRadius=function(h){var w=h;return Of("circle-radius",this,w)+Of("circle-stroke-width",this,w)+$i(this.paint.get("circle-translate"))},c.prototype.queryIntersectsFeature=function(h,w,A,L,R,B,Z,K){for(var le=Ep(h,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),B.angle,Z),_e=this.paint.get("circle-radius").evaluate(w,A)+this.paint.get("circle-stroke-width").evaluate(w,A),xe=this.paint.get("circle-pitch-alignment")==="map",Ae=xe?le:function(Qt,pr){return Qt.map(function(Vr){return Uh(Vr,pr)})}(le,K),Ge=xe?_e*Z:_e,Ye=0,ot=L;Ye<ot.length;Ye+=1)for(var et=0,ct=ot[Ye];et<ct.length;et+=1){var vt=ct[et],At=xe?vt:Uh(vt,K),Ot=Ge,Ft=kf([],[vt.x,vt.y,0,1],K);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ot*=Ft[3]/B.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ot*=B.cameraToCenterDistance/Ft[3]),Yl(Ae,At,Ot))return!0}return!1},c}(pn));function Uh(o,c){var h=kf([],[o.x,o.y,0,1],c);return new P(h[0]/h[3],h[1]/h[3])}var Od=function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c}(fl);function Kl(o,c,h,w){var A=c.width,L=c.height;if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==A*L*h)throw new RangeError("mismatched image size")}else w=new Uint8Array(A*L*h);return o.width=A,o.height=L,o.data=w,o}function ep(o,c,h){var w=c.width,A=c.height;if(w!==o.width||A!==o.height){var L=Kl({},{width:w,height:A},h);n1(o,L,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,w),height:Math.min(o.height,A)},h),o.width=w,o.height=A,o.data=L.data}}function n1(o,c,h,w,A,L){if(A.width===0||A.height===0)return c;if(A.width>o.width||A.height>o.height||h.x>o.width-A.width||h.y>o.height-A.height)throw new RangeError("out of range source coordinates for image copy");if(A.width>c.width||A.height>c.height||w.x>c.width-A.width||w.y>c.height-A.height)throw new RangeError("out of range destination coordinates for image copy");for(var R=o.data,B=c.data,Z=0;Z<A.height;Z++)for(var K=((h.y+Z)*o.width+h.x)*L,le=((w.y+Z)*c.width+w.x)*L,_e=0;_e<A.width*L;_e++)B[le+_e]=R[K+_e];return c}rr("HeatmapBucket",Od,{omit:["layers"]});var kd=function(o,c){Kl(this,o,1,c)};kd.prototype.resize=function(o){ep(this,o,1)},kd.prototype.clone=function(){return new kd({width:this.width,height:this.height},new Uint8Array(this.data))},kd.copy=function(o,c,h,w,A){n1(o,c,h,w,A,1)};var go=function(o,c){Kl(this,o,4,c)};go.prototype.resize=function(o){ep(this,o,4)},go.prototype.replace=function(o,c){c?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o},go.prototype.clone=function(){return new go({width:this.width,height:this.height},new Uint8Array(this.data))},go.copy=function(o,c,h,w,A){n1(o,c,h,w,A,4)},rr("AlphaImage",kd),rr("RGBAImage",go);var S2={paint:new lo({"heatmap-radius":new Er(Me.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Er(Me.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Fr(Me.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ji(Me.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Fr(Me.paint_heatmap["heatmap-opacity"])})};function Jl(o){var c={},h=o.resolution||256,w=o.clips?o.clips.length:1,A=o.image||new go({width:h,height:w}),L=function(Ge,Ye,ot){c[o.evaluationKey]=ot;var et=o.expression.evaluate(c);A.data[Ge+Ye+0]=Math.floor(255*et.r/et.a),A.data[Ge+Ye+1]=Math.floor(255*et.g/et.a),A.data[Ge+Ye+2]=Math.floor(255*et.b/et.a),A.data[Ge+Ye+3]=Math.floor(255*et.a)};if(o.clips)for(var R=0,B=0;R<w;++R,B+=4*h)for(var Z=0,K=0;Z<h;Z++,K+=4){var le=Z/(h-1),_e=o.clips[R];L(B,K,_e.start*(1-le)+_e.end*le)}else for(var xe=0,Ae=0;xe<h;xe++,Ae+=4)L(0,Ae,xe/(h-1));return A}var i1=function(o){function c(h){o.call(this,h,S2),this._updateColorRamp()}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.createBucket=function(h){return new Od(h)},c.prototype._handleSpecialPaintPropertyUpdate=function(h){h==="heatmap-color"&&this._updateColorRamp()},c.prototype._updateColorRamp=function(){this.colorRamp=Jl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},c.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},c}(pn),lm={paint:new lo({"hillshade-illumination-direction":new Fr(Me.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Fr(Me.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Fr(Me.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Fr(Me.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Fr(Me.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Fr(Me.paint_hillshade["hillshade-accent-color"])})},o1=function(o){function c(h){o.call(this,h,lm)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},c}(pn),hv=co([{name:"a_pos",components:2,type:"Int16"}],4).members,dv=cm,a1=cm;function cm(o,c,h){h=h||2;var w,A,L,R,B,Z,K,le=c&&c.length,_e=le?c[0]*h:o.length,xe=Ux(o,0,_e,h,!0),Ae=[];if(!xe||xe.next===xe.prev)return Ae;if(le&&(xe=function(Ye,ot,et,ct){var vt,At,Ot,Ft=[];for(vt=0,At=ot.length;vt<At;vt++)(Ot=Ux(Ye,ot[vt]*ct,vt<At-1?ot[vt+1]*ct:Ye.length,ct,!1))===Ot.next&&(Ot.steiner=!0),Ft.push(Ql(Ot));for(Ft.sort(c_),vt=0;vt<Ft.length;vt++)xg(Ft[vt],et),et=Fu(et,et.next);return et}(o,c,xe,h)),o.length>80*h){w=L=o[0],A=R=o[1];for(var Ge=h;Ge<_e;Ge+=h)(B=o[Ge])<w&&(w=B),(Z=o[Ge+1])<A&&(A=Z),B>L&&(L=B),Z>R&&(R=Z);K=(K=Math.max(L-w,R-A))!==0?1/K:0}return ju(xe,Ae,h,w,A,K),Ae}function Ux(o,c,h,w,A){var L,R;if(A===Sg(o,c,h,w)>0)for(L=c;L<h;L+=w)R=gv(L,o[L],o[L+1],R);else for(L=h-w;L>=c;L-=w)R=gv(L,o[L],o[L+1],R);return R&&fm(R,R.next)&&(p_(R),R=R.next),R}function Fu(o,c){if(!o)return o;c||(c=o);var h,w=o;do if(h=!1,w.steiner||!fm(w,w.next)&&Da(w.prev,w,w.next)!==0)w=w.next;else{if(p_(w),(w=c=w.prev)===w.next)break;h=!0}while(h||w!==c);return c}function ju(o,c,h,w,A,L,R){if(o){!R&&L&&function(le,_e,xe,Ae){var Ge=le;do Ge.z===null&&(Ge.z=s1(Ge.x,Ge.y,_e,xe,Ae)),Ge.prevZ=Ge.prev,Ge.nextZ=Ge.next,Ge=Ge.next;while(Ge!==le);Ge.prevZ.nextZ=null,Ge.prevZ=null,function(Ye){var ot,et,ct,vt,At,Ot,Ft,Qt,pr=1;do{for(et=Ye,Ye=null,At=null,Ot=0;et;){for(Ot++,ct=et,Ft=0,ot=0;ot<pr&&(Ft++,ct=ct.nextZ);ot++);for(Qt=pr;Ft>0||Qt>0&&ct;)Ft!==0&&(Qt===0||!ct||et.z<=ct.z)?(vt=et,et=et.nextZ,Ft--):(vt=ct,ct=ct.nextZ,Qt--),At?At.nextZ=vt:Ye=vt,vt.prevZ=At,At=vt;et=ct}At.nextZ=null,pr*=2}while(Ot>1)}(Ge)}(o,w,A,L);for(var B,Z,K=o;o.prev!==o.next;)if(B=o.prev,Z=o.next,L?qh(o,w,A,L):ls(o))c.push(B.i/h),c.push(o.i/h),c.push(Z.i/h),p_(o),o=Z.next,K=Z.next;else if((o=Z)===K){R?R===1?ju(o=E2(Fu(o),c,h),c,h,w,A,L,2):R===2&&bg(o,c,h,w,A,L):ju(Fu(o),c,h,w,A,L,1);break}}}function ls(o){var c=o.prev,h=o,w=o.next;if(Da(c,h,w)>=0)return!1;for(var A=o.next.next;A!==o.prev;){if(Ip(c.x,c.y,h.x,h.y,w.x,w.y,A.x,A.y)&&Da(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function qh(o,c,h,w){var A=o.prev,L=o,R=o.next;if(Da(A,L,R)>=0)return!1;for(var B=A.x>L.x?A.x>R.x?A.x:R.x:L.x>R.x?L.x:R.x,Z=A.y>L.y?A.y>R.y?A.y:R.y:L.y>R.y?L.y:R.y,K=s1(A.x<L.x?A.x<R.x?A.x:R.x:L.x<R.x?L.x:R.x,A.y<L.y?A.y<R.y?A.y:R.y:L.y<R.y?L.y:R.y,c,h,w),le=s1(B,Z,c,h,w),_e=o.prevZ,xe=o.nextZ;_e&&_e.z>=K&&xe&&xe.z<=le;){if(_e!==o.prev&&_e!==o.next&&Ip(A.x,A.y,L.x,L.y,R.x,R.y,_e.x,_e.y)&&Da(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,xe!==o.prev&&xe!==o.next&&Ip(A.x,A.y,L.x,L.y,R.x,R.y,xe.x,xe.y)&&Da(xe.prev,xe,xe.next)>=0))return!1;xe=xe.nextZ}for(;_e&&_e.z>=K;){if(_e!==o.prev&&_e!==o.next&&Ip(A.x,A.y,L.x,L.y,R.x,R.y,_e.x,_e.y)&&Da(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;xe&&xe.z<=le;){if(xe!==o.prev&&xe!==o.next&&Ip(A.x,A.y,L.x,L.y,R.x,R.y,xe.x,xe.y)&&Da(xe.prev,xe,xe.next)>=0)return!1;xe=xe.nextZ}return!0}function E2(o,c,h){var w=o;do{var A=w.prev,L=w.next.next;!fm(A,L)&&_v(A,w,w.next,L)&&f_(A,L)&&f_(L,A)&&(c.push(A.i/h),c.push(w.i/h),c.push(L.i/h),p_(w),p_(w.next),w=o=L),w=w.next}while(w!==o);return Fu(w)}function bg(o,c,h,w,A,L){var R=o;do{for(var B=R.next.next;B!==R.prev;){if(R.i!==B.i&&u1(R,B)){var Z=mv(R,B);return R=Fu(R,R.next),Z=Fu(Z,Z.next),ju(R,c,h,w,A,L),void ju(Z,c,h,w,A,L)}B=B.next}R=R.next}while(R!==o)}function c_(o,c){return o.x-c.x}function xg(o,c){if(c=function(w,A){var L,R=A,B=w.x,Z=w.y,K=-1/0;do{if(Z<=R.y&&Z>=R.next.y&&R.next.y!==R.y){var le=R.x+(Z-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(le<=B&&le>K){if(K=le,le===B){if(Z===R.y)return R;if(Z===R.next.y)return R.next}L=R.x<R.next.x?R:R.next}}R=R.next}while(R!==A);if(!L)return null;if(B===K)return L;var _e,xe=L,Ae=L.x,Ge=L.y,Ye=1/0;R=L;do B>=R.x&&R.x>=Ae&&B!==R.x&&Ip(Z<Ge?B:K,Z,Ae,Ge,Z<Ge?K:B,Z,R.x,R.y)&&(_e=Math.abs(Z-R.y)/(B-R.x),f_(R,w)&&(_e<Ye||_e===Ye&&(R.x>L.x||R.x===L.x&&P2(L,R)))&&(L=R,Ye=_e)),R=R.next;while(R!==xe);return L}(o,c)){var h=mv(c,o);Fu(c,c.next),Fu(h,h.next)}}function P2(o,c){return Da(o.prev,o,c.prev)<0&&Da(c.next,o,o.next)<0}function s1(o,c,h,w,A){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-h)*A)|o<<8))|o<<4))|o<<2))|o<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-w)*A)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function Ql(o){var c=o,h=o;do(c.x<h.x||c.x===h.x&&c.y<h.y)&&(h=c),c=c.next;while(c!==o);return h}function Ip(o,c,h,w,A,L,R,B){return(A-R)*(c-B)-(o-R)*(L-B)>=0&&(o-R)*(w-B)-(h-R)*(c-B)>=0&&(h-R)*(L-B)-(A-R)*(w-B)>=0}function u1(o,c){return o.next.i!==c.i&&o.prev.i!==c.i&&!function(h,w){var A=h;do{if(A.i!==h.i&&A.next.i!==h.i&&A.i!==w.i&&A.next.i!==w.i&&_v(A,A.next,h,w))return!0;A=A.next}while(A!==h);return!1}(o,c)&&(f_(o,c)&&f_(c,o)&&function(h,w){var A=h,L=!1,R=(h.x+w.x)/2,B=(h.y+w.y)/2;do A.y>B!=A.next.y>B&&A.next.y!==A.y&&R<(A.next.x-A.x)*(B-A.y)/(A.next.y-A.y)+A.x&&(L=!L),A=A.next;while(A!==h);return L}(o,c)&&(Da(o.prev,o,c.prev)||Da(o,c.prev,c))||fm(o,c)&&Da(o.prev,o,o.next)>0&&Da(c.prev,c,c.next)>0)}function Da(o,c,h){return(c.y-o.y)*(h.x-c.x)-(c.x-o.x)*(h.y-c.y)}function fm(o,c){return o.x===c.x&&o.y===c.y}function _v(o,c,h,w){var A=hm(Da(o,c,h)),L=hm(Da(o,c,w)),R=hm(Da(h,w,o)),B=hm(Da(h,w,c));return A!==L&&R!==B||!(A!==0||!pm(o,h,c))||!(L!==0||!pm(o,w,c))||!(R!==0||!pm(h,o,w))||!(B!==0||!pm(h,c,w))}function pm(o,c,h){return c.x<=Math.max(o.x,h.x)&&c.x>=Math.min(o.x,h.x)&&c.y<=Math.max(o.y,h.y)&&c.y>=Math.min(o.y,h.y)}function hm(o){return o>0?1:o<0?-1:0}function f_(o,c){return Da(o.prev,o,o.next)<0?Da(o,c,o.next)>=0&&Da(o,o.prev,c)>=0:Da(o,c,o.prev)<0||Da(o,o.next,c)<0}function mv(o,c){var h=new wg(o.i,o.x,o.y),w=new wg(c.i,c.x,c.y),A=o.next,L=c.prev;return o.next=c,c.prev=o,h.next=A,A.prev=h,w.next=h,h.prev=w,L.next=w,w.prev=L,w}function gv(o,c,h,w){var A=new wg(o,c,h);return w?(A.next=w.next,A.prev=w,w.next.prev=A,w.next=A):(A.prev=A,A.next=A),A}function p_(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function wg(o,c,h){this.i=o,this.x=c,this.y=h,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Sg(o,c,h,w){for(var A=0,L=c,R=h-w;L<h;L+=w)A+=(o[R]-o[L])*(o[L+1]+o[R+1]),R=L;return A}function l1(o,c,h,w,A){(function L(R,B,Z,K,le){for(;K>Z;){if(K-Z>600){var _e=K-Z+1,xe=B-Z+1,Ae=Math.log(_e),Ge=.5*Math.exp(2*Ae/3),Ye=.5*Math.sqrt(Ae*Ge*(_e-Ge)/_e)*(xe-_e/2<0?-1:1);L(R,B,Math.max(Z,Math.floor(B-xe*Ge/_e+Ye)),Math.min(K,Math.floor(B+(_e-xe)*Ge/_e+Ye)),le)}var ot=R[B],et=Z,ct=K;for(h_(R,Z,B),le(R[K],ot)>0&&h_(R,Z,K);et<ct;){for(h_(R,et,ct),et++,ct--;le(R[et],ot)<0;)et++;for(;le(R[ct],ot)>0;)ct--}le(R[Z],ot)===0?h_(R,Z,ct):h_(R,++ct,K),ct<=B&&(Z=ct+1),B<=ct&&(K=ct-1)}})(o,c,h||0,w||o.length-1,A||c1)}function h_(o,c,h){var w=o[c];o[c]=o[h],o[h]=w}function c1(o,c){return o<c?-1:o>c?1:0}function Eg(o,c){var h=o.length;if(h<=1)return[o];for(var w,A,L=[],R=0;R<h;R++){var B=Be(o[R]);B!==0&&(o[R].area=Math.abs(B),A===void 0&&(A=B<0),A===B<0?(w&&L.push(w),w=[o[R]]):w.push(o[R]))}if(w&&L.push(w),c>1)for(var Z=0;Z<L.length;Z++)L[Z].length<=c||(l1(L[Z],c,1,L[Z].length-1,f1),L[Z]=L[Z].slice(0,c));return L}function f1(o,c){return c.area-o.area}function Pg(o,c,h){for(var w=h.patternDependencies,A=!1,L=0,R=c;L<R.length;L+=1){var B=R[L].paint.get(o+"-pattern");B.isConstant()||(A=!0);var Z=B.constantOr(null);Z&&(A=!0,w[Z.to]=!0,w[Z.from]=!0)}return A}function Ig(o,c,h,w,A){for(var L=A.patternDependencies,R=0,B=c;R<B.length;R+=1){var Z=B[R],K=Z.paint.get(o+"-pattern").value;if(K.kind!=="constant"){var le=K.evaluate({zoom:w-1},h,{},A.availableImages),_e=K.evaluate({zoom:w},h,{},A.availableImages),xe=K.evaluate({zoom:w+1},h,{},A.availableImages);_e=_e&&_e.name?_e.name:_e,xe=xe&&xe.name?xe.name:xe,L[le=le&&le.name?le.name:le]=!0,L[_e]=!0,L[xe]=!0,h.patterns[Z.id]={min:le,mid:_e,max:xe}}}return h}cm.deviation=function(o,c,h,w){var A=c&&c.length,L=Math.abs(Sg(o,0,A?c[0]*h:o.length,h));if(A)for(var R=0,B=c.length;R<B;R++)L-=Math.abs(Sg(o,c[R]*h,R<B-1?c[R+1]*h:o.length,h));var Z=0;for(R=0;R<w.length;R+=3){var K=w[R]*h,le=w[R+1]*h,_e=w[R+2]*h;Z+=Math.abs((o[K]-o[_e])*(o[le+1]-o[K+1])-(o[K]-o[le])*(o[_e+1]-o[K+1]))}return L===0&&Z===0?0:Math.abs((Z-L)/L)},cm.flatten=function(o){for(var c=o[0][0].length,h={vertices:[],holes:[],dimensions:c},w=0,A=0;A<o.length;A++){for(var L=0;L<o[A].length;L++)for(var R=0;R<c;R++)h.vertices.push(o[A][L][R]);A>0&&h.holes.push(w+=o[A-1].length)}return h},dv.default=a1;var Tf=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new zs,this.indexArray=new nt,this.indexArray2=new Br,this.programConfigurations=new qr(o.layers,o.zoom),this.segments=new ke,this.segments2=new ke,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};Tf.prototype.populate=function(o,c,h){this.hasPattern=Pg("fill",this.layers,c);for(var w=this.layers[0].layout.get("fill-sort-key"),A=[],L=0,R=o;L<R.length;L+=1){var B=R[L],Z=B.feature,K=B.id,le=B.index,_e=B.sourceLayerIndex,xe=this.layers[0]._featureFilter.needGeometry,Ae=ia(Z,xe);if(this.layers[0]._featureFilter.filter(new _i(this.zoom),Ae,h)){var Ge=w?w.evaluate(Ae,{},h,c.availableImages):void 0,Ye={id:K,properties:Z.properties,type:Z.type,sourceLayerIndex:_e,index:le,geometry:xe?Ae.geometry:Qn(Z),patterns:{},sortKey:Ge};A.push(Ye)}}w&&A.sort(function(Qt,pr){return Qt.sortKey-pr.sortKey});for(var ot=0,et=A;ot<et.length;ot+=1){var ct=et[ot],vt=ct.geometry,At=ct.index,Ot=ct.sourceLayerIndex;if(this.hasPattern){var Ft=Ig("fill",this.layers,ct,this.zoom,c);this.patternFeatures.push(Ft)}else this.addFeature(ct,vt,At,h,{});c.featureIndex.insert(o[At].feature,vt,At,Ot,this.index)}},Tf.prototype.update=function(o,c,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,h)},Tf.prototype.addFeatures=function(o,c,h){for(var w=0,A=this.patternFeatures;w<A.length;w+=1){var L=A[w];this.addFeature(L,L.geometry,L.index,c,h)}},Tf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Tf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Tf.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,hv),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0},Tf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Tf.prototype.addFeature=function(o,c,h,w,A){for(var L=0,R=Eg(c,500);L<R.length;L+=1){for(var B=R[L],Z=0,K=0,le=B;K<le.length;K+=1)Z+=le[K].length;for(var _e=this.segments.prepareSegment(Z,this.layoutVertexArray,this.indexArray),xe=_e.vertexLength,Ae=[],Ge=[],Ye=0,ot=B;Ye<ot.length;Ye+=1){var et=ot[Ye];if(et.length!==0){et!==B[0]&&Ge.push(Ae.length/2);var ct=this.segments2.prepareSegment(et.length,this.layoutVertexArray,this.indexArray2),vt=ct.vertexLength;this.layoutVertexArray.emplaceBack(et[0].x,et[0].y),this.indexArray2.emplaceBack(vt+et.length-1,vt),Ae.push(et[0].x),Ae.push(et[0].y);for(var At=1;At<et.length;At++)this.layoutVertexArray.emplaceBack(et[At].x,et[At].y),this.indexArray2.emplaceBack(vt+At-1,vt+At),Ae.push(et[At].x),Ae.push(et[At].y);ct.vertexLength+=et.length,ct.primitiveLength+=et.length}}for(var Ot=dv(Ae,Ge),Ft=0;Ft<Ot.length;Ft+=3)this.indexArray.emplaceBack(xe+Ot[Ft],xe+Ot[Ft+1],xe+Ot[Ft+2]);_e.vertexLength+=Z,_e.primitiveLength+=Ot.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,A,w)},rr("FillBucket",Tf,{omit:["layers","patternFeatures"]});var p1=new lo({"fill-sort-key":new Er(Me.layout_fill["fill-sort-key"])}),h1={paint:new lo({"fill-antialias":new Fr(Me.paint_fill["fill-antialias"]),"fill-opacity":new Er(Me.paint_fill["fill-opacity"]),"fill-color":new Er(Me.paint_fill["fill-color"]),"fill-outline-color":new Er(Me.paint_fill["fill-outline-color"]),"fill-translate":new Fr(Me.paint_fill["fill-translate"]),"fill-translate-anchor":new Fr(Me.paint_fill["fill-translate-anchor"]),"fill-pattern":new mc(Me.paint_fill["fill-pattern"])}),layout:p1},gn=function(o){function c(h){o.call(this,h,h1)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.recalculate=function(h,w){o.prototype.recalculate.call(this,h,w);var A=this.paint._values["fill-outline-color"];A.value.kind==="constant"&&A.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},c.prototype.createBucket=function(h){return new Tf(h)},c.prototype.queryRadius=function(){return $i(this.paint.get("fill-translate"))},c.prototype.queryIntersectsFeature=function(h,w,A,L,R,B,Z){return nf(Ep(h,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),B.angle,Z),L)},c.prototype.isTileClipped=function(){return!0},c}(pn),un=co([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,bi=d_;function d_(o,c,h,w,A){this.properties={},this.extent=h,this.type=0,this._pbf=o,this._geometry=-1,this._keys=w,this._values=A,o.readFields(Su,this,c)}function Su(o,c,h){o==1?c.id=h.readVarint():o==2?function(w,A){for(var L=w.readVarint()+w.pos;w.pos<L;){var R=A._keys[w.readVarint()],B=A._values[w.readVarint()];A.properties[R]=B}}(h,c):o==3?c.type=h.readVarint():o==4&&(c._geometry=h.pos)}function I2(o){for(var c,h,w=0,A=0,L=o.length,R=L-1;A<L;R=A++)w+=((h=o[R]).x-(c=o[A]).x)*(c.y+h.y);return w}d_.types=["Unknown","Point","LineString","Polygon"],d_.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var c,h=o.readVarint()+o.pos,w=1,A=0,L=0,R=0,B=[];o.pos<h;){if(A<=0){var Z=o.readVarint();w=7&Z,A=Z>>3}if(A--,w===1||w===2)L+=o.readSVarint(),R+=o.readSVarint(),w===1&&(c&&B.push(c),c=[]),c.push(new P(L,R));else{if(w!==7)throw new Error("unknown command "+w);c&&c.push(c[0].clone())}}return c&&B.push(c),B},d_.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var c=o.readVarint()+o.pos,h=1,w=0,A=0,L=0,R=1/0,B=-1/0,Z=1/0,K=-1/0;o.pos<c;){if(w<=0){var le=o.readVarint();h=7&le,w=le>>3}if(w--,h===1||h===2)(A+=o.readSVarint())<R&&(R=A),A>B&&(B=A),(L+=o.readSVarint())<Z&&(Z=L),L>K&&(K=L);else if(h!==7)throw new Error("unknown command "+h)}return[R,Z,B,K]},d_.prototype.toGeoJSON=function(o,c,h){var w,A,L=this.extent*Math.pow(2,h),R=this.extent*o,B=this.extent*c,Z=this.loadGeometry(),K=d_.types[this.type];function le(Ae){for(var Ge=0;Ge<Ae.length;Ge++){var Ye=Ae[Ge];Ae[Ge]=[360*(Ye.x+R)/L-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ye.y+B)/L)*Math.PI/180))-90]}}switch(this.type){case 1:var _e=[];for(w=0;w<Z.length;w++)_e[w]=Z[w][0];le(Z=_e);break;case 2:for(w=0;w<Z.length;w++)le(Z[w]);break;case 3:for(Z=function(Ae){var Ge=Ae.length;if(Ge<=1)return[Ae];for(var Ye,ot,et=[],ct=0;ct<Ge;ct++){var vt=I2(Ae[ct]);vt!==0&&(ot===void 0&&(ot=vt<0),ot===vt<0?(Ye&&et.push(Ye),Ye=[Ae[ct]]):Ye.push(Ae[ct]))}return Ye&&et.push(Ye),et}(Z),w=0;w<Z.length;w++)for(A=0;A<Z[w].length;A++)le(Z[w][A])}Z.length===1?Z=Z[0]:K="Multi"+K;var xe={type:"Feature",geometry:{type:K,coordinates:Z},properties:this.properties};return"id"in this&&(xe.id=this.id),xe};var qx=Vx;function Vx(o,c){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(yv,this,c),this.length=this._features.length}function yv(o,c,h){o===15?c.version=h.readVarint():o===1?c.name=h.readString():o===5?c.extent=h.readVarint():o===2?c._features.push(h.pos):o===3?c._keys.push(h.readString()):o===4&&c._values.push(function(w){for(var A=null,L=w.readVarint()+w.pos;w.pos<L;){var R=w.readVarint()>>3;A=R===1?w.readString():R===2?w.readFloat():R===3?w.readDouble():R===4?w.readVarint64():R===5?w.readVarint():R===6?w.readSVarint():R===7?w.readBoolean():null}return A}(h))}function of(o,c,h){if(o===3){var w=new qx(h,h.readVarint()+h.pos);w.length&&(c[w.name]=w)}}Vx.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var c=this._pbf.readVarint()+this._pbf.pos;return new bi(this._pbf,c,this.extent,this._keys,this._values)};var dm={VectorTile:function(o,c){this.layers=o.readFields(of,{},c)},VectorTileFeature:bi,VectorTileLayer:qx},ST=dm.VectorTileFeature.types,_m=Math.pow(2,13);function sh(o,c,h,w,A,L,R,B){o.emplaceBack(c,h,2*Math.floor(w*_m)+R,A*_m*2,L*_m*2,Math.round(B))}var tp=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new rf,this.indexArray=new nt,this.programConfigurations=new qr(o.layers,o.zoom),this.segments=new ke,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function d1(o,c){return o.x===c.x&&(o.x<0||o.x>8192)||o.y===c.y&&(o.y<0||o.y>8192)}tp.prototype.populate=function(o,c,h){this.features=[],this.hasPattern=Pg("fill-extrusion",this.layers,c);for(var w=0,A=o;w<A.length;w+=1){var L=A[w],R=L.feature,B=L.id,Z=L.index,K=L.sourceLayerIndex,le=this.layers[0]._featureFilter.needGeometry,_e=ia(R,le);if(this.layers[0]._featureFilter.filter(new _i(this.zoom),_e,h)){var xe={id:B,sourceLayerIndex:K,index:Z,geometry:le?_e.geometry:Qn(R),properties:R.properties,type:R.type,patterns:{}};this.hasPattern?this.features.push(Ig("fill-extrusion",this.layers,xe,this.zoom,c)):this.addFeature(xe,xe.geometry,Z,h,{}),c.featureIndex.insert(R,xe.geometry,Z,K,this.index,!0)}}},tp.prototype.addFeatures=function(o,c,h){for(var w=0,A=this.features;w<A.length;w+=1){var L=A[w];this.addFeature(L,L.geometry,L.index,c,h)}},tp.prototype.update=function(o,c,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,h)},tp.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},tp.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},tp.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,un),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},tp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},tp.prototype.addFeature=function(o,c,h,w,A){for(var L=0,R=Eg(c,500);L<R.length;L+=1){for(var B=R[L],Z=0,K=0,le=B;K<le.length;K+=1)Z+=le[K].length;for(var _e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xe=0,Ae=B;xe<Ae.length;xe+=1){var Ge=Ae[xe];if(Ge.length!==0&&!((Ir=Ge).every(function(jn){return jn.x<0})||Ir.every(function(jn){return jn.x>8192})||Ir.every(function(jn){return jn.y<0})||Ir.every(function(jn){return jn.y>8192})))for(var Ye=0,ot=0;ot<Ge.length;ot++){var et=Ge[ot];if(ot>=1){var ct=Ge[ot-1];if(!d1(et,ct)){_e.vertexLength+4>ke.MAX_VERTEX_ARRAY_LENGTH&&(_e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var vt=et.sub(ct)._perp()._unit(),At=ct.dist(et);Ye+At>32768&&(Ye=0),sh(this.layoutVertexArray,et.x,et.y,vt.x,vt.y,0,0,Ye),sh(this.layoutVertexArray,et.x,et.y,vt.x,vt.y,0,1,Ye),sh(this.layoutVertexArray,ct.x,ct.y,vt.x,vt.y,0,0,Ye+=At),sh(this.layoutVertexArray,ct.x,ct.y,vt.x,vt.y,0,1,Ye);var Ot=_e.vertexLength;this.indexArray.emplaceBack(Ot,Ot+2,Ot+1),this.indexArray.emplaceBack(Ot+1,Ot+2,Ot+3),_e.vertexLength+=4,_e.primitiveLength+=2}}}}if(_e.vertexLength+Z>ke.MAX_VERTEX_ARRAY_LENGTH&&(_e=this.segments.prepareSegment(Z,this.layoutVertexArray,this.indexArray)),ST[o.type]==="Polygon"){for(var Ft=[],Qt=[],pr=_e.vertexLength,Vr=0,yr=B;Vr<yr.length;Vr+=1){var Zr=yr[Vr];if(Zr.length!==0){Zr!==B[0]&&Qt.push(Ft.length/2);for(var br=0;br<Zr.length;br++){var ii=Zr[br];sh(this.layoutVertexArray,ii.x,ii.y,0,0,1,1,0),Ft.push(ii.x),Ft.push(ii.y)}}}for(var vn=dv(Ft,Qt),gr=0;gr<vn.length;gr+=3)this.indexArray.emplaceBack(pr+vn[gr],pr+vn[gr+2],pr+vn[gr+1]);_e.primitiveLength+=vn.length/3,_e.vertexLength+=Z}}var Ir;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,A,w)},rr("FillExtrusionBucket",tp,{omit:["layers","features"]});var C2={paint:new lo({"fill-extrusion-opacity":new Fr(Me["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Er(Me["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Fr(Me["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Fr(Me["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new mc(Me["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Er(Me["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Er(Me["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Fr(Me["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},mm=function(o){function c(h){o.call(this,h,C2)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.createBucket=function(h){return new tp(h)},c.prototype.queryRadius=function(){return $i(this.paint.get("fill-extrusion-translate"))},c.prototype.is3D=function(){return!0},c.prototype.queryIntersectsFeature=function(h,w,A,L,R,B,Z,K){var le=Ep(h,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),B.angle,Z),_e=this.paint.get("fill-extrusion-height").evaluate(w,A),xe=this.paint.get("fill-extrusion-base").evaluate(w,A),Ae=function(Ye,ot,et,ct){for(var vt=[],At=0,Ot=Ye;At<Ot.length;At+=1){var Ft=Ot[At],Qt=[Ft.x,Ft.y,0,1];kf(Qt,Qt,ot),vt.push(new P(Qt[0]/Qt[3],Qt[1]/Qt[3]))}return vt}(le,K),Ge=function(Ye,ot,et,ct){for(var vt=[],At=[],Ot=ct[8]*ot,Ft=ct[9]*ot,Qt=ct[10]*ot,pr=ct[11]*ot,Vr=ct[8]*et,yr=ct[9]*et,Zr=ct[10]*et,br=ct[11]*et,ii=0,vn=Ye;ii<vn.length;ii+=1){for(var gr=[],Ir=[],jn=0,Oi=vn[ii];jn<Oi.length;jn+=1){var jr=Oi[jn],oi=jr.x,qa=jr.y,fs=ct[0]*oi+ct[4]*qa+ct[12],Va=ct[1]*oi+ct[5]*qa+ct[13],ki=ct[2]*oi+ct[6]*qa+ct[14],Ps=ct[3]*oi+ct[7]*qa+ct[15],eu=ki+Qt,tu=Ps+pr,ru=fs+Vr,Is=Va+yr,Bu=ki+Zr,Cs=Ps+br,wa=new P((fs+Ot)/tu,(Va+Ft)/tu);wa.z=eu/tu,gr.push(wa);var mi=new P(ru/Cs,Is/Cs);mi.z=Bu/Cs,Ir.push(mi)}vt.push(gr),At.push(Ir)}return[vt,At]}(L,xe,_e,K);return function(Ye,ot,et){var ct=1/0;nf(et,ot)&&(ct=Gx(et,ot[0]));for(var vt=0;vt<ot.length;vt++)for(var At=ot[vt],Ot=Ye[vt],Ft=0;Ft<At.length-1;Ft++){var Qt=At[Ft],pr=[Qt,At[Ft+1],Ot[Ft+1],Ot[Ft],Qt];Bi(et,pr)&&(ct=Math.min(ct,Gx(et,pr)))}return ct!==1/0&&ct}(Ge[0],Ge[1],Ae)},c}(pn);function __(o,c){return o.x*c.x+o.y*c.y}function Gx(o,c){if(o.length===1){for(var h,w=0,A=c[w++];!h||A.equals(h);)if(!(h=c[w++]))return 1/0;for(;w<c.length;w++){var L=c[w],R=o[0],B=h.sub(A),Z=L.sub(A),K=R.sub(A),le=__(B,B),_e=__(B,Z),xe=__(Z,Z),Ae=__(K,B),Ge=__(K,Z),Ye=le*xe-_e*_e,ot=(xe*Ae-_e*Ge)/Ye,et=(le*Ge-_e*Ae)/Ye,ct=A.z*(1-ot-et)+h.z*ot+L.z*et;if(isFinite(ct))return ct}return 1/0}for(var vt=1/0,At=0,Ot=c;At<Ot.length;At+=1)vt=Math.min(vt,Ot[At].z);return vt}var A2=co([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,O2=co([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Td=dm.VectorTileFeature.types,Mt=Math.cos(Math.PI/180*37.5),gm=Math.pow(2,14)/.5,Fs=function(o){var c=this;this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(h){return h.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(h){c.gradients[h.id]={}}),this.layoutVertexArray=new wu,this.layoutVertexArray2=new l,this.indexArray=new nt,this.programConfigurations=new qr(o.layers,o.zoom),this.segments=new ke,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(h){return h.isStateDependent()}).map(function(h){return h.id})};Fs.prototype.populate=function(o,c,h){this.hasPattern=Pg("line",this.layers,c);for(var w=this.layers[0].layout.get("line-sort-key"),A=[],L=0,R=o;L<R.length;L+=1){var B=R[L],Z=B.feature,K=B.id,le=B.index,_e=B.sourceLayerIndex,xe=this.layers[0]._featureFilter.needGeometry,Ae=ia(Z,xe);if(this.layers[0]._featureFilter.filter(new _i(this.zoom),Ae,h)){var Ge=w?w.evaluate(Ae,{},h):void 0,Ye={id:K,properties:Z.properties,type:Z.type,sourceLayerIndex:_e,index:le,geometry:xe?Ae.geometry:Qn(Z),patterns:{},sortKey:Ge};A.push(Ye)}}w&&A.sort(function(Qt,pr){return Qt.sortKey-pr.sortKey});for(var ot=0,et=A;ot<et.length;ot+=1){var ct=et[ot],vt=ct.geometry,At=ct.index,Ot=ct.sourceLayerIndex;if(this.hasPattern){var Ft=Ig("line",this.layers,ct,this.zoom,c);this.patternFeatures.push(Ft)}else this.addFeature(ct,vt,At,h,{});c.featureIndex.insert(o[At].feature,vt,At,Ot,this.index)}},Fs.prototype.update=function(o,c,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,h)},Fs.prototype.addFeatures=function(o,c,h){for(var w=0,A=this.patternFeatures;w<A.length;w+=1){var L=A[w];this.addFeature(L,L.geometry,L.index,c,h)}},Fs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Fs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fs.prototype.upload=function(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,O2)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,A2),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},Fs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Fs.prototype.lineFeatureClips=function(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}},Fs.prototype.addFeature=function(o,c,h,w,A){var L=this.layers[0].layout,R=L.get("line-join").evaluate(o,{}),B=L.get("line-cap"),Z=L.get("line-miter-limit"),K=L.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(var le=0,_e=c;le<_e.length;le+=1)this.addLine(_e[le],o,R,B,Z,K);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,A,w)},Fs.prototype.addLine=function(o,c,h,w,A,L){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var R=0;R<o.length-1;R++)this.totalDistance+=o[R].dist(o[R+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var B=Td[c.type]==="Polygon",Z=o.length;Z>=2&&o[Z-1].equals(o[Z-2]);)Z--;for(var K=0;K<Z-1&&o[K].equals(o[K+1]);)K++;if(!(Z<(B?3:2))){h==="bevel"&&(A=1.05);var le,_e=this.overscaling<=16?122880/(512*this.overscaling):0,xe=this.segments.prepareSegment(10*Z,this.layoutVertexArray,this.indexArray),Ae=void 0,Ge=void 0,Ye=void 0,ot=void 0;this.e1=this.e2=-1,B&&(ot=o[K].sub(le=o[Z-2])._unit()._perp());for(var et=K;et<Z;et++)if(!(Ge=et===Z-1?B?o[K+1]:void 0:o[et+1])||!o[et].equals(Ge)){ot&&(Ye=ot),le&&(Ae=le),le=o[et],ot=Ge?Ge.sub(le)._unit()._perp():Ye;var ct=(Ye=Ye||ot).add(ot);ct.x===0&&ct.y===0||ct._unit();var vt=Ye.x*ot.x+Ye.y*ot.y,At=ct.x*ot.x+ct.y*ot.y,Ot=At!==0?1/At:1/0,Ft=2*Math.sqrt(2-2*At),Qt=At<Mt&&Ae&&Ge,pr=Ye.x*ot.y-Ye.y*ot.x>0;if(Qt&&et>K){var Vr=le.dist(Ae);if(Vr>2*_e){var yr=le.sub(le.sub(Ae)._mult(_e/Vr)._round());this.updateDistance(Ae,yr),this.addCurrentVertex(yr,Ye,0,0,xe),Ae=yr}}var Zr=Ae&&Ge,br=Zr?h:B?"butt":w;if(Zr&&br==="round"&&(Ot<L?br="miter":Ot<=2&&(br="fakeround")),br==="miter"&&Ot>A&&(br="bevel"),br==="bevel"&&(Ot>2&&(br="flipbevel"),Ot<A&&(br="miter")),Ae&&this.updateDistance(Ae,le),br==="miter")ct._mult(Ot),this.addCurrentVertex(le,ct,0,0,xe);else if(br==="flipbevel"){if(Ot>100)ct=ot.mult(-1);else{var ii=Ot*Ye.add(ot).mag()/Ye.sub(ot).mag();ct._perp()._mult(ii*(pr?-1:1))}this.addCurrentVertex(le,ct,0,0,xe),this.addCurrentVertex(le,ct.mult(-1),0,0,xe)}else if(br==="bevel"||br==="fakeround"){var vn=-Math.sqrt(Ot*Ot-1),gr=pr?vn:0,Ir=pr?0:vn;if(Ae&&this.addCurrentVertex(le,Ye,gr,Ir,xe),br==="fakeround")for(var jn=Math.round(180*Ft/Math.PI/20),Oi=1;Oi<jn;Oi++){var jr=Oi/jn;if(jr!==.5){var oi=jr-.5;jr+=jr*oi*(jr-1)*((1.0904+vt*(vt*(3.55645-1.43519*vt)-3.2452))*oi*oi+(.848013+vt*(.215638*vt-1.06021)))}var qa=ot.sub(Ye)._mult(jr)._add(Ye)._unit()._mult(pr?-1:1);this.addHalfVertex(le,qa.x,qa.y,!1,pr,0,xe)}Ge&&this.addCurrentVertex(le,ot,-gr,-Ir,xe)}else if(br==="butt")this.addCurrentVertex(le,ct,0,0,xe);else if(br==="square"){var fs=Ae?1:-1;this.addCurrentVertex(le,ct,fs,fs,xe)}else br==="round"&&(Ae&&(this.addCurrentVertex(le,Ye,0,0,xe),this.addCurrentVertex(le,Ye,1,1,xe,!0)),Ge&&(this.addCurrentVertex(le,ot,-1,-1,xe,!0),this.addCurrentVertex(le,ot,0,0,xe)));if(Qt&&et<Z-1){var Va=le.dist(Ge);if(Va>2*_e){var ki=le.add(Ge.sub(le)._mult(_e/Va)._round());this.updateDistance(le,ki),this.addCurrentVertex(ki,ot,0,0,xe),le=ki}}}}},Fs.prototype.addCurrentVertex=function(o,c,h,w,A,L){L===void 0&&(L=!1);var R=c.y*w-c.x,B=-c.y-c.x*w;this.addHalfVertex(o,c.x+c.y*h,c.y-c.x*h,L,!1,h,A),this.addHalfVertex(o,R,B,L,!0,-w,A),this.distance>gm/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(o,c,h,w,A,L))},Fs.prototype.addHalfVertex=function(o,c,h,w,A,L,R){var B=.5*(this.lineClips?this.scaledDistance*(gm-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o.x<<1)+(w?1:0),(o.y<<1)+(A?1:0),Math.round(63*c)+128,Math.round(63*h)+128,1+(L===0?0:L<0?-1:1)|(63&B)<<2,B>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var Z=R.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Z),R.primitiveLength++),A?this.e2=Z:this.e1=Z},Fs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Fs.prototype.updateDistance=function(o,c){this.distance+=o.dist(c),this.updateScaledDistance()},rr("LineBucket",Fs,{omit:["layers","patternFeatures"]});var Ks=new lo({"line-cap":new Fr(Me.layout_line["line-cap"]),"line-join":new Er(Me.layout_line["line-join"]),"line-miter-limit":new Fr(Me.layout_line["line-miter-limit"]),"line-round-limit":new Fr(Me.layout_line["line-round-limit"]),"line-sort-key":new Er(Me.layout_line["line-sort-key"])}),pl={paint:new lo({"line-opacity":new Er(Me.paint_line["line-opacity"]),"line-color":new Er(Me.paint_line["line-color"]),"line-translate":new Fr(Me.paint_line["line-translate"]),"line-translate-anchor":new Fr(Me.paint_line["line-translate-anchor"]),"line-width":new Er(Me.paint_line["line-width"]),"line-gap-width":new Er(Me.paint_line["line-gap-width"]),"line-offset":new Er(Me.paint_line["line-offset"]),"line-blur":new Er(Me.paint_line["line-blur"]),"line-dasharray":new Rn(Me.paint_line["line-dasharray"]),"line-pattern":new mc(Me.paint_line["line-pattern"]),"line-gradient":new ji(Me.paint_line["line-gradient"])}),layout:Ks},vv=new(function(o){function c(){o.apply(this,arguments)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.possiblyEvaluate=function(h,w){return w=new _i(Math.floor(w.zoom),{now:w.now,fadeDuration:w.fadeDuration,zoomHistory:w.zoomHistory,transition:w.transition}),o.prototype.possiblyEvaluate.call(this,h,w)},c.prototype.evaluate=function(h,w,A,L){return w=M({},w,{zoom:Math.floor(w.zoom)}),o.prototype.evaluate.call(this,h,w,A,L)},c}(Er))(pl.paint.properties["line-width"].specification);vv.useIntegerZoom=!0;var bv=function(o){function c(h){o.call(this,h,pl),this.gradientVersion=0}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype._handleSpecialPaintPropertyUpdate=function(h){h==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof po,this.gradientVersion=(this.gradientVersion+1)%k)},c.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},c.prototype.recalculate=function(h,w){o.prototype.recalculate.call(this,h,w),this.paint._values["line-floorwidth"]=vv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,h)},c.prototype.createBucket=function(h){return new Fs(h)},c.prototype.queryRadius=function(h){var w=h,A=af(Of("line-width",this,w),Of("line-gap-width",this,w)),L=Of("line-offset",this,w);return A/2+Math.abs(L)+$i(this.paint.get("line-translate"))},c.prototype.queryIntersectsFeature=function(h,w,A,L,R,B,Z){var K=Ep(h,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),B.angle,Z),le=Z/2*af(this.paint.get("line-width").evaluate(w,A),this.paint.get("line-gap-width").evaluate(w,A)),_e=this.paint.get("line-offset").evaluate(w,A);return _e&&(L=function(xe,Ae){for(var Ge=[],Ye=new P(0,0),ot=0;ot<xe.length;ot++){for(var et=xe[ot],ct=[],vt=0;vt<et.length;vt++){var At=et[vt],Ot=et[vt+1],Ft=vt===0?Ye:At.sub(et[vt-1])._unit()._perp(),Qt=vt===et.length-1?Ye:Ot.sub(At)._unit()._perp(),pr=Ft._add(Qt)._unit();pr._mult(1/(pr.x*Qt.x+pr.y*Qt.y)),ct.push(pr._mult(Ae)._add(At))}Ge.push(ct)}return Ge}(L,_e*Z)),function(xe,Ae,Ge){for(var Ye=0;Ye<Ae.length;Ye++){var ot=Ae[Ye];if(xe.length>=3){for(var et=0;et<ot.length;et++)if(Hl(xe,ot[et]))return!0}if(gc(xe,ot,Ge))return!0}return!1}(K,L,le)},c.prototype.isTileClipped=function(){return!0},c}(pn);function af(o,c){return c>0?c+2*o:o}var _1=co([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Cg=co([{name:"a_projected_pos",components:3,type:"Float32"}],4),Ol=(co([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),co([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),xv=(co([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),co([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Wx=co([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function hl(o,c,h){return o.sections.forEach(function(w){w.text=function(A,L,R){var B=L.layout.get("text-transform").evaluate(R,{});return B==="uppercase"?A=A.toLocaleUpperCase():B==="lowercase"&&(A=A.toLocaleLowerCase()),_o.applyArabicShaping&&(A=_o.applyArabicShaping(A)),A}(w.text,c,h)}),o}co([{name:"triangle",components:3,type:"Uint16"}]),co([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),co([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),co([{type:"Float32",name:"offsetX"}]),co([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Cp={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},Vh=function(o,c,h,w,A){var L,R,B=8*A-w-1,Z=(1<<B)-1,K=Z>>1,le=-7,_e=h?A-1:0,xe=h?-1:1,Ae=o[c+_e];for(_e+=xe,L=Ae&(1<<-le)-1,Ae>>=-le,le+=B;le>0;L=256*L+o[c+_e],_e+=xe,le-=8);for(R=L&(1<<-le)-1,L>>=-le,le+=w;le>0;R=256*R+o[c+_e],_e+=xe,le-=8);if(L===0)L=1-K;else{if(L===Z)return R?NaN:1/0*(Ae?-1:1);R+=Math.pow(2,w),L-=K}return(Ae?-1:1)*R*Math.pow(2,L-w)},Ag=function(o,c,h,w,A,L){var R,B,Z,K=8*L-A-1,le=(1<<K)-1,_e=le>>1,xe=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ae=w?0:L-1,Ge=w?1:-1,Ye=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(B=isNaN(c)?1:0,R=le):(R=Math.floor(Math.log(c)/Math.LN2),c*(Z=Math.pow(2,-R))<1&&(R--,Z*=2),(c+=R+_e>=1?xe/Z:xe*Math.pow(2,1-_e))*Z>=2&&(R++,Z/=2),R+_e>=le?(B=0,R=le):R+_e>=1?(B=(c*Z-1)*Math.pow(2,A),R+=_e):(B=c*Math.pow(2,_e-1)*Math.pow(2,A),R=0));A>=8;o[h+Ae]=255&B,Ae+=Ge,B/=256,A-=8);for(R=R<<A|B,K+=A;K>0;o[h+Ae]=255&R,Ae+=Ge,R/=256,K-=8);o[h+Ae-Ge]|=128*Ye},Og=xa;function xa(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}xa.Varint=0,xa.Fixed64=1,xa.Bytes=2,xa.Fixed32=5;var wv=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function Vu(o){return o.type===xa.Bytes?o.readVarint()+o.pos:o.pos+1}function ni(o,c,h){return h?4294967296*c+(o>>>0):4294967296*(c>>>0)+(o>>>0)}function m1(o,c,h){var w=c<=16383?1:c<=2097151?2:c<=268435455?3:Math.floor(Math.log(c)/(7*Math.LN2));h.realloc(w);for(var A=h.pos-1;A>=o;A--)h.buf[A+w]=h.buf[A]}function Js(o,c){for(var h=0;h<o.length;h++)c.writeVarint(o[h])}function g1(o,c){for(var h=0;h<o.length;h++)c.writeSVarint(o[h])}function kg(o,c){for(var h=0;h<o.length;h++)c.writeFloat(o[h])}function k2(o,c){for(var h=0;h<o.length;h++)c.writeDouble(o[h])}function T2(o,c){for(var h=0;h<o.length;h++)c.writeBoolean(o[h])}function Xx(o,c){for(var h=0;h<o.length;h++)c.writeFixed32(o[h])}function hr(o,c){for(var h=0;h<o.length;h++)c.writeSFixed32(o[h])}function Ui(o,c){for(var h=0;h<o.length;h++)c.writeFixed64(o[h])}function Sr(o,c){for(var h=0;h<o.length;h++)c.writeSFixed64(o[h])}function ca(o,c){return(o[c]|o[c+1]<<8|o[c+2]<<16)+16777216*o[c+3]}function Wi(o,c,h){o[h]=c,o[h+1]=c>>>8,o[h+2]=c>>>16,o[h+3]=c>>>24}function y1(o,c){return(o[c]|o[c+1]<<8|o[c+2]<<16)+(o[c+3]<<24)}function L2(o,c,h){o===1&&h.readMessage(Dr,c)}function Dr(o,c,h){if(o===3){var w=h.readMessage(Tg,{}),A=w.width,L=w.height,R=w.left,B=w.top,Z=w.advance;c.push({id:w.id,bitmap:new kd({width:A+6,height:L+6},w.bitmap),metrics:{width:A,height:L,left:R,top:B,advance:Z}})}}function Tg(o,c,h){o===1?c.id=h.readVarint():o===2?c.bitmap=h.readBytes():o===3?c.width=h.readVarint():o===4?c.height=h.readVarint():o===5?c.left=h.readSVarint():o===6?c.top=h.readSVarint():o===7&&(c.advance=h.readVarint())}function $e(o){for(var c=0,h=0,w=0,A=o;w<A.length;w+=1){var L=A[w];c+=L.w*L.h,h=Math.max(h,L.w)}o.sort(function(Ye,ot){return ot.h-Ye.h});for(var R=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(c/.95)),h),h:1/0}],B=0,Z=0,K=0,le=o;K<le.length;K+=1)for(var _e=le[K],xe=R.length-1;xe>=0;xe--){var Ae=R[xe];if(!(_e.w>Ae.w||_e.h>Ae.h)){if(_e.x=Ae.x,_e.y=Ae.y,Z=Math.max(Z,_e.y+_e.h),B=Math.max(B,_e.x+_e.w),_e.w===Ae.w&&_e.h===Ae.h){var Ge=R.pop();xe<R.length&&(R[xe]=Ge)}else _e.h===Ae.h?(Ae.x+=_e.w,Ae.w-=_e.w):_e.w===Ae.w?(Ae.y+=_e.h,Ae.h-=_e.h):(R.push({x:Ae.x+_e.w,y:Ae.y,w:Ae.w-_e.w,h:_e.h}),Ae.y+=_e.h,Ae.h-=_e.h);break}}return{w:B,h:Z,fill:c/(B*Z)||0}}xa.prototype={destroy:function(){this.buf=null},readFields:function(o,c,h){for(h=h||this.length;this.pos<h;){var w=this.readVarint(),A=w>>3,L=this.pos;this.type=7&w,o(A,c,this),this.pos===L&&this.skip(w)}return c},readMessage:function(o,c){return this.readFields(o,c,this.readVarint()+this.pos)},readFixed32:function(){var o=ca(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=y1(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=ca(this.buf,this.pos)+4294967296*ca(this.buf,this.pos+4);return this.pos+=8,o},readSFixed64:function(){var o=ca(this.buf,this.pos)+4294967296*y1(this.buf,this.pos+4);return this.pos+=8,o},readFloat:function(){var o=Vh(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=Vh(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var c,h,w=this.buf;return c=127&(h=w[this.pos++]),h<128?c:(c|=(127&(h=w[this.pos++]))<<7,h<128?c:(c|=(127&(h=w[this.pos++]))<<14,h<128?c:(c|=(127&(h=w[this.pos++]))<<21,h<128?c:function(A,L,R){var B,Z,K=R.buf;if(B=(112&(Z=K[R.pos++]))>>4,Z<128||(B|=(127&(Z=K[R.pos++]))<<3,Z<128)||(B|=(127&(Z=K[R.pos++]))<<10,Z<128)||(B|=(127&(Z=K[R.pos++]))<<17,Z<128)||(B|=(127&(Z=K[R.pos++]))<<24,Z<128)||(B|=(1&(Z=K[R.pos++]))<<31,Z<128))return ni(A,B,L);throw new Error("Expected varint not more than 10 bytes")}(c|=(15&(h=w[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var o=this.readVarint()+this.pos,c=this.pos;return this.pos=o,o-c>=12&&wv?function(h,w,A){return wv.decode(h.subarray(w,A))}(this.buf,c,o):function(h,w,A){for(var L="",R=w;R<A;){var B,Z,K,le=h[R],_e=null,xe=le>239?4:le>223?3:le>191?2:1;if(R+xe>A)break;xe===1?le<128&&(_e=le):xe===2?(192&(B=h[R+1]))==128&&(_e=(31&le)<<6|63&B)<=127&&(_e=null):xe===3?(Z=h[R+2],(192&(B=h[R+1]))==128&&(192&Z)==128&&((_e=(15&le)<<12|(63&B)<<6|63&Z)<=2047||_e>=55296&&_e<=57343)&&(_e=null)):xe===4&&(Z=h[R+2],K=h[R+3],(192&(B=h[R+1]))==128&&(192&Z)==128&&(192&K)==128&&((_e=(15&le)<<18|(63&B)<<12|(63&Z)<<6|63&K)<=65535||_e>=1114112)&&(_e=null)),_e===null?(_e=65533,xe=1):_e>65535&&(_e-=65536,L+=String.fromCharCode(_e>>>10&1023|55296),_e=56320|1023&_e),L+=String.fromCharCode(_e),R+=xe}return L}(this.buf,c,o)},readBytes:function(){var o=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,o);return this.pos=o,c},readPackedVarint:function(o,c){if(this.type!==xa.Bytes)return o.push(this.readVarint(c));var h=Vu(this);for(o=o||[];this.pos<h;)o.push(this.readVarint(c));return o},readPackedSVarint:function(o){if(this.type!==xa.Bytes)return o.push(this.readSVarint());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==xa.Bytes)return o.push(this.readBoolean());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==xa.Bytes)return o.push(this.readFloat());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==xa.Bytes)return o.push(this.readDouble());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==xa.Bytes)return o.push(this.readFixed32());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==xa.Bytes)return o.push(this.readSFixed32());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==xa.Bytes)return o.push(this.readFixed64());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==xa.Bytes)return o.push(this.readSFixed64());var c=Vu(this);for(o=o||[];this.pos<c;)o.push(this.readSFixed64());return o},skip:function(o){var c=7&o;if(c===xa.Varint)for(;this.buf[this.pos++]>127;);else if(c===xa.Bytes)this.pos=this.readVarint()+this.pos;else if(c===xa.Fixed32)this.pos+=4;else{if(c!==xa.Fixed64)throw new Error("Unimplemented type: "+c);this.pos+=8}},writeTag:function(o,c){this.writeVarint(o<<3|c)},realloc:function(o){for(var c=this.length||16;c<this.pos+o;)c*=2;if(c!==this.length){var h=new Uint8Array(c);h.set(this.buf),this.buf=h,this.length=c}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),Wi(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),Wi(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),Wi(this.buf,-1&o,this.pos),Wi(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),Wi(this.buf,-1&o,this.pos),Wi(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(c,h){var w,A;if(c>=0?(w=c%4294967296|0,A=c/4294967296|0):(A=~(-c/4294967296),4294967295^(w=~(-c%4294967296))?w=w+1|0:(w=0,A=A+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");h.realloc(10),function(L,R,B){B.buf[B.pos++]=127&L|128,L>>>=7,B.buf[B.pos++]=127&L|128,L>>>=7,B.buf[B.pos++]=127&L|128,L>>>=7,B.buf[B.pos++]=127&L|128,B.buf[B.pos]=127&(L>>>=7)}(w,0,h),function(L,R){var B=(7&L)<<4;R.buf[R.pos++]|=B|((L>>>=3)?128:0),L&&(R.buf[R.pos++]=127&L|((L>>>=7)?128:0),L&&(R.buf[R.pos++]=127&L|((L>>>=7)?128:0),L&&(R.buf[R.pos++]=127&L|((L>>>=7)?128:0),L&&(R.buf[R.pos++]=127&L|((L>>>=7)?128:0),L&&(R.buf[R.pos++]=127&L)))))}(A,h)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(Boolean(o))},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var c=this.pos;this.pos=function(w,A,L){for(var R,B,Z=0;Z<A.length;Z++){if((R=A.charCodeAt(Z))>55295&&R<57344){if(!B){R>56319||Z+1===A.length?(w[L++]=239,w[L++]=191,w[L++]=189):B=R;continue}if(R<56320){w[L++]=239,w[L++]=191,w[L++]=189,B=R;continue}R=B-55296<<10|R-56320|65536,B=null}else B&&(w[L++]=239,w[L++]=191,w[L++]=189,B=null);R<128?w[L++]=R:(R<2048?w[L++]=R>>6|192:(R<65536?w[L++]=R>>12|224:(w[L++]=R>>18|240,w[L++]=R>>12&63|128),w[L++]=R>>6&63|128),w[L++]=63&R|128)}return L}(this.buf,o,this.pos);var h=this.pos-c;h>=128&&m1(c,h,this),this.pos=c-1,this.writeVarint(h),this.pos+=h},writeFloat:function(o){this.realloc(4),Ag(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),Ag(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var c=o.length;this.writeVarint(c),this.realloc(c);for(var h=0;h<c;h++)this.buf[this.pos++]=o[h]},writeRawMessage:function(o,c){this.pos++;var h=this.pos;o(c,this);var w=this.pos-h;w>=128&&m1(h,w,this),this.pos=h-1,this.writeVarint(w),this.pos+=w},writeMessage:function(o,c,h){this.writeTag(o,xa.Bytes),this.writeRawMessage(c,h)},writePackedVarint:function(o,c){c.length&&this.writeMessage(o,Js,c)},writePackedSVarint:function(o,c){c.length&&this.writeMessage(o,g1,c)},writePackedBoolean:function(o,c){c.length&&this.writeMessage(o,T2,c)},writePackedFloat:function(o,c){c.length&&this.writeMessage(o,kg,c)},writePackedDouble:function(o,c){c.length&&this.writeMessage(o,k2,c)},writePackedFixed32:function(o,c){c.length&&this.writeMessage(o,Xx,c)},writePackedSFixed32:function(o,c){c.length&&this.writeMessage(o,hr,c)},writePackedFixed64:function(o,c){c.length&&this.writeMessage(o,Ui,c)},writePackedSFixed64:function(o,c){c.length&&this.writeMessage(o,Sr,c)},writeBytesField:function(o,c){this.writeTag(o,xa.Bytes),this.writeBytes(c)},writeFixed32Field:function(o,c){this.writeTag(o,xa.Fixed32),this.writeFixed32(c)},writeSFixed32Field:function(o,c){this.writeTag(o,xa.Fixed32),this.writeSFixed32(c)},writeFixed64Field:function(o,c){this.writeTag(o,xa.Fixed64),this.writeFixed64(c)},writeSFixed64Field:function(o,c){this.writeTag(o,xa.Fixed64),this.writeSFixed64(c)},writeVarintField:function(o,c){this.writeTag(o,xa.Varint),this.writeVarint(c)},writeSVarintField:function(o,c){this.writeTag(o,xa.Varint),this.writeSVarint(c)},writeStringField:function(o,c){this.writeTag(o,xa.Bytes),this.writeString(c)},writeFloatField:function(o,c){this.writeTag(o,xa.Fixed32),this.writeFloat(c)},writeDoubleField:function(o,c){this.writeTag(o,xa.Fixed64),this.writeDouble(c)},writeBooleanField:function(o,c){this.writeVarintField(o,Boolean(c))}};var Lg=function(o,c){var h=c.pixelRatio,w=c.version,A=c.stretchX,L=c.stretchY,R=c.content;this.paddedRect=o,this.pixelRatio=h,this.stretchX=A,this.stretchY=L,this.content=R,this.version=w},Ld={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ld.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ld.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ld.tlbr.get=function(){return this.tl.concat(this.br)},Ld.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Lg.prototype,Ld);var Gh=function(o,c){var h={},w={};this.haveRenderCallbacks=[];var A=[];this.addImages(o,h,A),this.addImages(c,w,A);var L=$e(A),R=new go({width:L.w||1,height:L.h||1});for(var B in o){var Z=o[B],K=h[B].paddedRect;go.copy(Z.data,R,{x:0,y:0},{x:K.x+1,y:K.y+1},Z.data)}for(var le in c){var _e=c[le],xe=w[le].paddedRect,Ae=xe.x+1,Ge=xe.y+1,Ye=_e.data.width,ot=_e.data.height;go.copy(_e.data,R,{x:0,y:0},{x:Ae,y:Ge},_e.data),go.copy(_e.data,R,{x:0,y:ot-1},{x:Ae,y:Ge-1},{width:Ye,height:1}),go.copy(_e.data,R,{x:0,y:0},{x:Ae,y:Ge+ot},{width:Ye,height:1}),go.copy(_e.data,R,{x:Ye-1,y:0},{x:Ae-1,y:Ge},{width:1,height:ot}),go.copy(_e.data,R,{x:0,y:0},{x:Ae+Ye,y:Ge},{width:1,height:ot})}this.image=R,this.iconPositions=h,this.patternPositions=w};Gh.prototype.addImages=function(o,c,h){for(var w in o){var A=o[w],L={x:0,y:0,w:A.data.width+2,h:A.data.height+2};h.push(L),c[w]=new Lg(L,A),A.hasRenderCallback&&this.haveRenderCallbacks.push(w)}},Gh.prototype.patchUpdatedImages=function(o,c){for(var h in o.dispatchRenderCallbacks(this.haveRenderCallbacks),o.updatedImages)this.patchUpdatedImage(this.iconPositions[h],o.getImage(h),c),this.patchUpdatedImage(this.patternPositions[h],o.getImage(h),c)},Gh.prototype.patchUpdatedImage=function(o,c,h){if(o&&c&&o.version!==c.version){o.version=c.version;var w=o.tl;h.update(c.data,void 0,{x:w[0],y:w[1]})}},rr("ImagePosition",Lg),rr("ImageAtlas",Gh);var sf={horizontal:1,vertical:2,horizontalOnly:3},ym=function(){this.scale=1,this.fontStack="",this.imageName=null};ym.forText=function(o,c){var h=new ym;return h.scale=o||1,h.fontStack=c,h},ym.forImage=function(o){var c=new ym;return c.imageName=o,c};var cs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function kr(o,c,h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye){var ot,et=cs.fromFeature(o,A);_e===sf.vertical&&et.verticalizePunctuation();var ct=_o.processBidirectionalText,vt=_o.processStyledBidirectionalText;if(ct&&et.sections.length===1){ot=[];for(var At=0,Ot=ct(et.toString(),rp(et,K,L,c,w,Ae,Ge));At<Ot.length;At+=1){var Ft=Ot[At],Qt=new cs;Qt.text=Ft,Qt.sections=et.sections;for(var pr=0;pr<Ft.length;pr++)Qt.sectionIndex.push(0);ot.push(Qt)}}else if(vt){ot=[];for(var Vr=0,yr=vt(et.text,et.sectionIndex,rp(et,K,L,c,w,Ae,Ge));Vr<yr.length;Vr+=1){var Zr=yr[Vr],br=new cs;br.text=Zr[0],br.sectionIndex=Zr[1],br.sections=et.sections,ot.push(br)}}else ot=function(gr,Ir){for(var jn=[],Oi=gr.text,jr=0,oi=0,qa=Ir;oi<qa.length;oi+=1){var fs=qa[oi];jn.push(gr.substring(jr,fs)),jr=fs}return jr<Oi.length&&jn.push(gr.substring(jr,Oi.length)),jn}(et,rp(et,K,L,c,w,Ae,Ge));var ii=[],vn={positionedLines:ii,text:et.toString(),top:le[1],bottom:le[1],left:le[0],right:le[0],writingMode:_e,iconsInText:!1,verticalizable:!1};return function(gr,Ir,jn,Oi,jr,oi,qa,fs,Va,ki,Ps,eu){for(var tu=0,ru=-17,Is=0,Bu=0,Cs=fs==="right"?1:fs==="left"?0:.5,wa=0,mi=0,yo=jr;mi<yo.length;mi+=1){var io=yo[mi];io.trim();var Ti=io.getMaxScale(),Gu=24*(Ti-1),Eu={positionedGlyphs:[],lineOffset:0};gr.positionedLines[wa]=Eu;var fa=Eu.positionedGlyphs,ps=0;if(io.length()){for(var Pu=0;Pu<io.length();Pu++){var Ki=io.getSection(Pu),fo=io.getSectionIndex(Pu),rc=io.getCharCode(Pu),op=0,ts=null,Lf=null,qc=null,ch=24,fh=!(Va===sf.horizontal||!Ps&&!Fh(rc)||Ps&&(vm[rc]||(nc=rc,Jt.Arabic(nc)||Jt["Arabic Supplement"](nc)||Jt["Arabic Extended-A"](nc)||Jt["Arabic Presentation Forms-A"](nc)||Jt["Arabic Presentation Forms-B"](nc))));if(Ki.imageName){var P_=Oi[Ki.imageName];if(!P_)continue;qc=Ki.imageName,gr.iconsInText=gr.iconsInText||!0,Lf=P_.paddedRect;var dl=P_.displaySize;Ki.scale=24*Ki.scale/eu,op=Gu+(24-dl[1]*Ki.scale),ch=(ts={width:dl[0],height:dl[1],left:1,top:-3,advance:fh?dl[1]:dl[0]}).advance;var Jh=fh?dl[0]*Ki.scale-24*Ti:dl[1]*Ki.scale-24*Ti;Jh>0&&Jh>ps&&(ps=Jh)}else{var Tv=jn[Ki.fontStack],Qh=Tv&&Tv[rc];if(Qh&&Qh.rect)Lf=Qh.rect,ts=Qh.metrics;else{var Tl=Ir[Ki.fontStack],qi=Tl&&Tl[rc];if(!qi)continue;ts=qi.metrics}op=24*(Ti-Ki.scale)}fh?(gr.verticalizable=!0,fa.push({glyph:rc,imageName:qc,x:tu,y:ru+op,vertical:fh,scale:Ki.scale,fontStack:Ki.fontStack,sectionIndex:fo,metrics:ts,rect:Lf}),tu+=ch*Ki.scale+ki):(fa.push({glyph:rc,imageName:qc,x:tu,y:ru+op,vertical:fh,scale:Ki.scale,fontStack:Ki.fontStack,sectionIndex:fo,metrics:ts,rect:Lf}),tu+=ts.advance*Ki.scale+ki)}fa.length!==0&&(Is=Math.max(tu-ki,Is),Rg(fa,0,fa.length-1,Cs,ps)),tu=0;var Di=oi*Ti+ps;Eu.lineOffset=Math.max(ps,Gu),ru+=Di,Bu=Math.max(Di,Bu),++wa}else ru+=oi,++wa}var nc,qg=ru- -17,Iu=Mg(qa),xi=Iu.horizontalAlign,As=Iu.verticalAlign;(function(zd,O1,vc,Vg,I_,kp,hs,Tp,ph){var Lp,Wu=(O1-vc)*I_;Lp=kp!==hs?-Tp*Vg- -17:(-Vg*ph+.5)*hs;for(var ap=0,Np=zd;ap<Np.length;ap+=1)for(var sp=0,Zo=Np[ap].positionedGlyphs;sp<Zo.length;sp+=1){var Cu=Zo[sp];Cu.x+=Wu,Cu.y+=Lp}})(gr.positionedLines,Cs,xi,As,Is,Bu,oi,qg,jr.length),gr.top+=-As*qg,gr.bottom=gr.top+qg,gr.left+=-xi*Is,gr.right=gr.left+Is}(vn,c,h,w,ot,R,B,Z,_e,K,xe,Ye),!function(gr){for(var Ir=0,jn=gr;Ir<jn.length;Ir+=1)if(jn[Ir].positionedGlyphs.length!==0)return!1;return!0}(ii)&&vn}cs.fromFeature=function(o,c){for(var h=new cs,w=0;w<o.sections.length;w++){var A=o.sections[w];A.image?h.addImageSection(A):h.addTextSection(A,c)}return h},cs.prototype.length=function(){return this.text.length},cs.prototype.getSection=function(o){return this.sections[this.sectionIndex[o]]},cs.prototype.getSectionIndex=function(o){return this.sectionIndex[o]},cs.prototype.getCharCode=function(o){return this.text.charCodeAt(o)},cs.prototype.verticalizePunctuation=function(){this.text=function(o){for(var c="",h=0;h<o.length;h++){var w=o.charCodeAt(h+1)||null,A=o.charCodeAt(h-1)||null;c+=w&&Id(w)&&!Cp[o[h+1]]||A&&Id(A)&&!Cp[o[h-1]]||!Cp[o[h]]?o[h]:Cp[o[h]]}return c}(this.text)},cs.prototype.trim=function(){for(var o=0,c=0;c<this.text.length&&vm[this.text.charCodeAt(c)];c++)o++;for(var h=this.text.length,w=this.text.length-1;w>=0&&w>=o&&vm[this.text.charCodeAt(w)];w--)h--;this.text=this.text.substring(o,h),this.sectionIndex=this.sectionIndex.slice(o,h)},cs.prototype.substring=function(o,c){var h=new cs;return h.text=this.text.substring(o,c),h.sectionIndex=this.sectionIndex.slice(o,c),h.sections=this.sections,h},cs.prototype.toString=function(){return this.text},cs.prototype.getMaxScale=function(){var o=this;return this.sectionIndex.reduce(function(c,h){return Math.max(c,o.sections[h].scale)},0)},cs.prototype.addTextSection=function(o,c){this.text+=o.text,this.sections.push(ym.forText(o.scale,o.fontStack||c));for(var h=this.sections.length-1,w=0;w<o.text.length;++w)this.sectionIndex.push(h)},cs.prototype.addImageSection=function(o){var c=o.image?o.image.name:"";if(c.length!==0){var h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(ym.forImage(c)),this.sectionIndex.push(this.sections.length-1)):Pe("Reached maximum number of images 6401")}else Pe("Can't add FormattedSection with an empty image.")},cs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var vm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ec={};function bm(o,c,h,w,A,L){if(c.imageName){var R=w[c.imageName];return R?R.displaySize[0]*c.scale*24/L+A:0}var B=h[c.fontStack],Z=B&&B[o];return Z?Z.metrics.advance*c.scale+A:0}function Wh(o,c,h,w){var A=Math.pow(o-c,2);return w?o<c?A/2:2*A:A+Math.abs(h)*h}function N2(o,c,h){var w=0;return o===10&&(w-=1e4),h&&(w+=150),o!==40&&o!==65288||(w+=50),c!==41&&c!==65289||(w+=50),w}function Ng(o,c,h,w,A,L){for(var R=null,B=Wh(c,h,A,L),Z=0,K=w;Z<K.length;Z+=1){var le=K[Z],_e=Wh(c-le.x,h,A,L)+le.badness;_e<=B&&(R=le,B=_e)}return{index:o,x:c,priorBreak:R,badness:B}}function rp(o,c,h,w,A,L,R){if(L!=="point")return[];if(!o)return[];for(var B,Z=[],K=function(ot,et,ct,vt,At,Ot){for(var Ft=0,Qt=0;Qt<ot.length();Qt++){var pr=ot.getSection(Qt);Ft+=bm(ot.getCharCode(Qt),pr,vt,At,et,Ot)}return Ft/Math.max(1,Math.ceil(Ft/ct))}(o,c,h,w,A,R),le=o.text.indexOf("\u200B")>=0,_e=0,xe=0;xe<o.length();xe++){var Ae=o.getSection(xe),Ge=o.getCharCode(xe);if(vm[Ge]||(_e+=bm(Ge,Ae,w,A,c,R)),xe<o.length()-1){var Ye=!((B=Ge)<11904||!(Jt["Bopomofo Extended"](B)||Jt.Bopomofo(B)||Jt["CJK Compatibility Forms"](B)||Jt["CJK Compatibility Ideographs"](B)||Jt["CJK Compatibility"](B)||Jt["CJK Radicals Supplement"](B)||Jt["CJK Strokes"](B)||Jt["CJK Symbols and Punctuation"](B)||Jt["CJK Unified Ideographs Extension A"](B)||Jt["CJK Unified Ideographs"](B)||Jt["Enclosed CJK Letters and Months"](B)||Jt["Halfwidth and Fullwidth Forms"](B)||Jt.Hiragana(B)||Jt["Ideographic Description Characters"](B)||Jt["Kangxi Radicals"](B)||Jt["Katakana Phonetic Extensions"](B)||Jt.Katakana(B)||Jt["Vertical Forms"](B)||Jt["Yi Radicals"](B)||Jt["Yi Syllables"](B)));(ec[Ge]||Ye||Ae.imageName)&&Z.push(Ng(xe+1,_e,K,Z,N2(Ge,o.getCharCode(xe+1),Ye&&le),!1))}}return function ot(et){return et?ot(et.priorBreak).concat(et.index):[]}(Ng(o.length(),_e,K,Z,0,!0))}function Mg(o){var c=.5,h=.5;switch(o){case"right":case"top-right":case"bottom-right":c=1;break;case"left":case"top-left":case"bottom-left":c=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:c,verticalAlign:h}}function Rg(o,c,h,w,A){if(w||A)for(var L=o[h],R=(o[h].x+L.metrics.advance*L.scale)*w,B=c;B<=h;B++)o[B].x-=R,o[B].y+=A}function np(o,c,h,w,A,L){var R,B=o.image;if(B.content){var Z=B.content,K=B.pixelRatio||1;R=[Z[0]/K,Z[1]/K,B.displaySize[0]-Z[2]/K,B.displaySize[1]-Z[3]/K]}var le,_e,xe,Ae,Ge=c.left*L,Ye=c.right*L;h==="width"||h==="both"?(Ae=A[0]+Ge-w[3],_e=A[0]+Ye+w[1]):_e=(Ae=A[0]+(Ge+Ye-B.displaySize[0])/2)+B.displaySize[0];var ot=c.top*L,et=c.bottom*L;return h==="height"||h==="both"?(le=A[1]+ot-w[0],xe=A[1]+et+w[2]):xe=(le=A[1]+(ot+et-B.displaySize[1])/2)+B.displaySize[1],{image:B,top:le,right:_e,bottom:xe,left:Ae,collisionPadding:R}}ec[10]=!0,ec[32]=!0,ec[38]=!0,ec[40]=!0,ec[41]=!0,ec[43]=!0,ec[45]=!0,ec[47]=!0,ec[173]=!0,ec[183]=!0,ec[8203]=!0,ec[8208]=!0,ec[8211]=!0,ec[8231]=!0;var Ap=function(o){function c(h,w,A,L){o.call(this,h,w),this.angle=A,L!==void 0&&(this.segment=L)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.clone=function(){return new c(this.x,this.y,this.angle,this.segment)},c}(P);function v1(o,c){var h=c.expression;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new _i(o+1))};if(h.kind==="source")return{kind:"source"};for(var w=h.zoomStops,A=h.interpolationType,L=0;L<w.length&&w[L]<=o;)L++;for(var R=L=Math.max(0,L-1);R<w.length&&w[R]<o+1;)R++;R=Math.min(w.length-1,R);var B=w[L],Z=w[R];return h.kind==="composite"?{kind:"composite",minZoom:B,maxZoom:Z,interpolationType:A}:{kind:"camera",minZoom:B,maxZoom:Z,minSize:h.evaluate(new _i(B)),maxSize:h.evaluate(new _i(Z)),interpolationType:A}}function uf(o,c,h){var w=c.uSize,A=h.lowerSize;return o.kind==="source"?A/128:o.kind==="composite"?Zi(A/128,h.upperSize/128,c.uSizeT):w}function Yx(o,c){var h=0,w=0;if(o.kind==="constant")w=o.layoutSize;else if(o.kind!=="source"){var A=o.interpolationType,L=A?Y(Vi.interpolationFactor(A,c,o.minZoom,o.maxZoom),0,1):0;o.kind==="camera"?w=Zi(o.minSize,o.maxSize,L):h=L}return{uSizeT:h,uSize:w}}rr("Anchor",Ap);var Sv=Object.freeze({__proto__:null,getSizeData:v1,evaluateSizeForFeature:uf,evaluateSizeForZoom:Yx,SIZE_PACK_FACTOR:128});function M2(o,c,h,w,A){if(c.segment===void 0)return!0;for(var L=c,R=c.segment+1,B=0;B>-h/2;){if(--R<0)return!1;B-=o[R].dist(L),L=o[R]}B+=o[R].dist(o[R+1]),R++;for(var Z=[],K=0;B<h/2;){var le=o[R],_e=o[R+1];if(!_e)return!1;var xe=o[R-1].angleTo(le)-le.angleTo(_e);for(xe=Math.abs((xe+3*Math.PI)%(2*Math.PI)-Math.PI),Z.push({distance:B,angleDelta:xe}),K+=xe;B-Z[0].distance>w;)K-=Z.shift().angleDelta;if(K>A)return!1;R++,B+=le.dist(_e)}return!0}function R2(o){for(var c=0,h=0;h<o.length-1;h++)c+=o[h].dist(o[h+1]);return c}function sr(o,c,h){return o?.6*c*h:0}function b1(o,c){return Math.max(o?o.right-o.left:0,c?c.right-c.left:0)}function x1(o,c,h,w,A,L){for(var R=sr(h,A,L),B=b1(h,w)*L,Z=0,K=R2(o)/2,le=0;le<o.length-1;le++){var _e=o[le],xe=o[le+1],Ae=_e.dist(xe);if(Z+Ae>K){var Ge=(K-Z)/Ae,Ye=Zi(_e.x,xe.x,Ge),ot=Zi(_e.y,xe.y,Ge),et=new Ap(Ye,ot,xe.angleTo(_e),le);return et._round(),!R||M2(o,et,B,R,c)?et:void 0}Z+=Ae}}function Dg(o,c,h,w,A,L,R,B,Z){var K=sr(w,L,R),le=b1(w,A),_e=le*R,xe=o[0].x===0||o[0].x===Z||o[0].y===0||o[0].y===Z;return c-_e<c/4&&(c=_e+c/4),function Ae(Ge,Ye,ot,et,ct,vt,At,Ot,Ft){for(var Qt=vt/2,pr=R2(Ge),Vr=0,yr=Ye-ot,Zr=[],br=0;br<Ge.length-1;br++){for(var ii=Ge[br],vn=Ge[br+1],gr=ii.dist(vn),Ir=vn.angleTo(ii);yr+ot<Vr+gr;){var jn=((yr+=ot)-Vr)/gr,Oi=Zi(ii.x,vn.x,jn),jr=Zi(ii.y,vn.y,jn);if(Oi>=0&&Oi<Ft&&jr>=0&&jr<Ft&&yr-Qt>=0&&yr+Qt<=pr){var oi=new Ap(Oi,jr,Ir,br);oi._round(),et&&!M2(Ge,oi,vt,et,ct)||Zr.push(oi)}}Vr+=gr}return Ot||Zr.length||At||(Zr=Ae(Ge,Vr/2,ot,et,ct,vt,At,!0,Ft)),Zr}(o,xe?c/2*B%c:(le/2+2*L)*R*B%c,c,K,h,_e,xe,!1,Z)}function w1(o,c,h,w,A){for(var L=[],R=0;R<o.length;R++)for(var B=o[R],Z=void 0,K=0;K<B.length-1;K++){var le=B[K],_e=B[K+1];le.x<c&&_e.x<c||(le.x<c?le=new P(c,le.y+(c-le.x)/(_e.x-le.x)*(_e.y-le.y))._round():_e.x<c&&(_e=new P(c,le.y+(c-le.x)/(_e.x-le.x)*(_e.y-le.y))._round()),le.y<h&&_e.y<h||(le.y<h?le=new P(le.x+(h-le.y)/(_e.y-le.y)*(_e.x-le.x),h)._round():_e.y<h&&(_e=new P(le.x+(h-le.y)/(_e.y-le.y)*(_e.x-le.x),h)._round()),le.x>=w&&_e.x>=w||(le.x>=w?le=new P(w,le.y+(w-le.x)/(_e.x-le.x)*(_e.y-le.y))._round():_e.x>=w&&(_e=new P(w,le.y+(w-le.x)/(_e.x-le.x)*(_e.y-le.y))._round()),le.y>=A&&_e.y>=A||(le.y>=A?le=new P(le.x+(A-le.y)/(_e.y-le.y)*(_e.x-le.x),A)._round():_e.y>=A&&(_e=new P(le.x+(A-le.y)/(_e.y-le.y)*(_e.x-le.x),A)._round()),Z&&le.equals(Z[Z.length-1])||L.push(Z=[le]),Z.push(_e)))))}return L}function Qs(o,c,h,w){var A=[],L=o.image,R=L.pixelRatio,B=L.paddedRect.w-2,Z=L.paddedRect.h-2,K=o.right-o.left,le=o.bottom-o.top,_e=L.stretchX||[[0,B]],xe=L.stretchY||[[0,Z]],Ae=function(Oi,jr){return Oi+jr[1]-jr[0]},Ge=_e.reduce(Ae,0),Ye=xe.reduce(Ae,0),ot=B-Ge,et=Z-Ye,ct=0,vt=Ge,At=0,Ot=Ye,Ft=0,Qt=ot,pr=0,Vr=et;if(L.content&&w){var yr=L.content;ct=m_(_e,0,yr[0]),At=m_(xe,0,yr[1]),vt=m_(_e,yr[0],yr[2]),Ot=m_(xe,yr[1],yr[3]),Ft=yr[0]-ct,pr=yr[1]-At,Qt=yr[2]-yr[0]-vt,Vr=yr[3]-yr[1]-Ot}var Zr=function(Oi,jr,oi,qa){var fs=Ev(Oi.stretch-ct,vt,K,o.left),Va=g_(Oi.fixed-Ft,Qt,Oi.stretch,Ge),ki=Ev(jr.stretch-At,Ot,le,o.top),Ps=g_(jr.fixed-pr,Vr,jr.stretch,Ye),eu=Ev(oi.stretch-ct,vt,K,o.left),tu=g_(oi.fixed-Ft,Qt,oi.stretch,Ge),ru=Ev(qa.stretch-At,Ot,le,o.top),Is=g_(qa.fixed-pr,Vr,qa.stretch,Ye),Bu=new P(fs,ki),Cs=new P(eu,ki),wa=new P(eu,ru),mi=new P(fs,ru),yo=new P(Va/R,Ps/R),io=new P(tu/R,Is/R),Ti=c*Math.PI/180;if(Ti){var Gu=Math.sin(Ti),Eu=Math.cos(Ti),fa=[Eu,-Gu,Gu,Eu];Bu._matMult(fa),Cs._matMult(fa),mi._matMult(fa),wa._matMult(fa)}var ps=Oi.stretch+Oi.fixed,Pu=jr.stretch+jr.fixed;return{tl:Bu,tr:Cs,bl:mi,br:wa,tex:{x:L.paddedRect.x+1+ps,y:L.paddedRect.y+1+Pu,w:oi.stretch+oi.fixed-ps,h:qa.stretch+qa.fixed-Pu},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yo,pixelOffsetBR:io,minFontScaleX:Qt/R/K,minFontScaleY:Vr/R/le,isSDF:h}};if(w&&(L.stretchX||L.stretchY))for(var br=zg(_e,ot,Ge),ii=zg(xe,et,Ye),vn=0;vn<br.length-1;vn++)for(var gr=br[vn],Ir=br[vn+1],jn=0;jn<ii.length-1;jn++)A.push(Zr(gr,ii[jn],Ir,ii[jn+1]));else A.push(Zr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:B+1},{fixed:0,stretch:Z+1}));return A}function m_(o,c,h){for(var w=0,A=0,L=o;A<L.length;A+=1){var R=L[A];w+=Math.max(c,Math.min(h,R[1]))-Math.max(c,Math.min(h,R[0]))}return w}function zg(o,c,h){for(var w=[{fixed:-1,stretch:0}],A=0,L=o;A<L.length;A+=1){var R=L[A],B=R[0],Z=R[1],K=w[w.length-1];w.push({fixed:B-K.stretch,stretch:K.stretch}),w.push({fixed:B-K.stretch,stretch:K.stretch+(Z-B)})}return w.push({fixed:c+1,stretch:h}),w}function Ev(o,c,h,w){return o/c*h+w}function g_(o,c,h,w){return o-c*h/w}var ir=function(o,c,h,w,A,L,R,B,Z,K){if(this.boxStartIndex=o.length,Z){var le=L.top,_e=L.bottom,xe=L.collisionPadding;xe&&(le-=xe[1],_e+=xe[3]);var Ae=_e-le;Ae>0&&(Ae=Math.max(10,Ae),this.circleDiameter=Ae)}else{var Ge=L.top*R-B,Ye=L.bottom*R+B,ot=L.left*R-B,et=L.right*R+B,ct=L.collisionPadding;if(ct&&(ot-=ct[0]*R,Ge-=ct[1]*R,et+=ct[2]*R,Ye+=ct[3]*R),K){var vt=new P(ot,Ge),At=new P(et,Ge),Ot=new P(ot,Ye),Ft=new P(et,Ye),Qt=K*Math.PI/180;vt._rotate(Qt),At._rotate(Qt),Ot._rotate(Qt),Ft._rotate(Qt),ot=Math.min(vt.x,At.x,Ot.x,Ft.x),et=Math.max(vt.x,At.x,Ot.x,Ft.x),Ge=Math.min(vt.y,At.y,Ot.y,Ft.y),Ye=Math.max(vt.y,At.y,Ot.y,Ft.y)}o.emplaceBack(c.x,c.y,ot,Ge,et,Ye,h,w,A)}this.boxEndIndex=o.length},Nd=function(o,c){if(o===void 0&&(o=[]),c===void 0&&(c=Md),this.data=o,this.length=this.data.length,this.compare=c,this.length>0)for(var h=(this.length>>1)-1;h>=0;h--)this._down(h)};function Md(o,c){return o<c?-1:o>c?1:0}function yn(o,c,h){c===void 0&&(c=1),h===void 0&&(h=!1);for(var w=1/0,A=1/0,L=-1/0,R=-1/0,B=o[0],Z=0;Z<B.length;Z++){var K=B[Z];(!Z||K.x<w)&&(w=K.x),(!Z||K.y<A)&&(A=K.y),(!Z||K.x>L)&&(L=K.x),(!Z||K.y>R)&&(R=K.y)}var le=Math.min(L-w,R-A),_e=le/2,xe=new Nd([],S1);if(le===0)return new P(w,A);for(var Ae=w;Ae<L;Ae+=le)for(var Ge=A;Ge<R;Ge+=le)xe.push(new xm(Ae+_e,Ge+_e,_e,o));for(var Ye=function(ct){for(var vt=0,At=0,Ot=0,Ft=ct[0],Qt=0,pr=Ft.length,Vr=pr-1;Qt<pr;Vr=Qt++){var yr=Ft[Qt],Zr=Ft[Vr],br=yr.x*Zr.y-Zr.x*yr.y;At+=(yr.x+Zr.x)*br,Ot+=(yr.y+Zr.y)*br,vt+=3*br}return new xm(At/vt,Ot/vt,0,ct)}(o),ot=xe.length;xe.length;){var et=xe.pop();(et.d>Ye.d||!Ye.d)&&(Ye=et,h&&console.log("found best %d after %d probes",Math.round(1e4*et.d)/1e4,ot)),et.max-Ye.d<=c||(xe.push(new xm(et.p.x-(_e=et.h/2),et.p.y-_e,_e,o)),xe.push(new xm(et.p.x+_e,et.p.y-_e,_e,o)),xe.push(new xm(et.p.x-_e,et.p.y+_e,_e,o)),xe.push(new xm(et.p.x+_e,et.p.y+_e,_e,o)),ot+=4)}return h&&(console.log("num probes: "+ot),console.log("best distance: "+Ye.d)),Ye.p}function S1(o,c){return c.max-o.max}function xm(o,c,h,w){this.p=new P(o,c),this.h=h,this.d=function(A,L){for(var R=!1,B=1/0,Z=0;Z<L.length;Z++)for(var K=L[Z],le=0,_e=K.length,xe=_e-1;le<_e;xe=le++){var Ae=K[le],Ge=K[xe];Ae.y>A.y!=Ge.y>A.y&&A.x<(Ge.x-Ae.x)*(A.y-Ae.y)/(Ge.y-Ae.y)+Ae.x&&(R=!R),B=Math.min(B,yc(A,Ae,Ge))}return(R?1:-1)*Math.sqrt(B)}(this.p,w),this.max=this.d+this.h*Math.SQRT2}Nd.prototype.push=function(o){this.data.push(o),this.length++,this._up(this.length-1)},Nd.prototype.pop=function(){if(this.length!==0){var o=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),o}},Nd.prototype.peek=function(){return this.data[0]},Nd.prototype._up=function(o){for(var c=this.data,h=this.compare,w=c[o];o>0;){var A=o-1>>1,L=c[A];if(h(w,L)>=0)break;c[o]=L,o=A}c[o]=w},Nd.prototype._down=function(o){for(var c=this.data,h=this.compare,w=this.length>>1,A=c[o];o<w;){var L=1+(o<<1),R=c[L],B=L+1;if(B<this.length&&h(c[B],R)<0&&(L=B,R=c[B]),h(R,A)>=0)break;c[o]=R,o=L}c[o]=A};var wm=Number.POSITIVE_INFINITY;function Fg(o,c){return c[1]!==wm?function(h,w,A){var L=0,R=0;switch(w=Math.abs(w),A=Math.abs(A),h){case"top-right":case"top-left":case"top":R=A-7;break;case"bottom-right":case"bottom-left":case"bottom":R=7-A}switch(h){case"top-right":case"bottom-right":case"right":L=-w;break;case"top-left":case"bottom-left":case"left":L=w}return[L,R]}(o,c[0],c[1]):function(h,w){var A=0,L=0;w<0&&(w=0);var R=w/Math.sqrt(2);switch(h){case"top-right":case"top-left":L=R-7;break;case"bottom-right":case"bottom-left":L=7-R;break;case"bottom":L=7-w;break;case"top":L=w-7}switch(h){case"top-right":case"bottom-right":A=-R;break;case"top-left":case"bottom-left":A=R;break;case"left":A=w;break;case"right":A=-w}return[A,L]}(o,c[0])}function Sm(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function jg(o,c,h,w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge){var Ye=function(At,Ot,Ft,Qt,pr,Vr,yr,Zr){for(var br=Qt.layout.get("text-rotate").evaluate(Vr,{})*Math.PI/180,ii=[],vn=0,gr=Ot.positionedLines;vn<gr.length;vn+=1)for(var Ir=gr[vn],jn=0,Oi=Ir.positionedGlyphs;jn<Oi.length;jn+=1){var jr=Oi[jn];if(jr.rect){var oi=jr.rect||{},qa=4,fs=!0,Va=1,ki=0,Ps=(pr||Zr)&&jr.vertical,eu=jr.metrics.advance*jr.scale/2;if(Zr&&Ot.verticalizable&&(ki=Ir.lineOffset/2-(jr.imageName?-(24-jr.metrics.width*jr.scale)/2:24*(jr.scale-1))),jr.imageName){var tu=yr[jr.imageName];fs=tu.sdf,qa=1/(Va=tu.pixelRatio)}var ru=pr?[jr.x+eu,jr.y]:[0,0],Is=pr?[0,0]:[jr.x+eu+Ft[0],jr.y+Ft[1]-ki],Bu=[0,0];Ps&&(Bu=Is,Is=[0,0]);var Cs=(jr.metrics.left-qa)*jr.scale-eu+Is[0],wa=(-jr.metrics.top-qa)*jr.scale+Is[1],mi=Cs+oi.w*jr.scale/Va,yo=wa+oi.h*jr.scale/Va,io=new P(Cs,wa),Ti=new P(mi,wa),Gu=new P(Cs,yo),Eu=new P(mi,yo);if(Ps){var fa=new P(-eu,eu- -17),ps=-Math.PI/2,Pu=12-eu,Ki=new P(22-Pu,-(jr.imageName?Pu:0)),fo=new(Function.prototype.bind.apply(P,[null].concat(Bu)));io._rotateAround(ps,fa)._add(Ki)._add(fo),Ti._rotateAround(ps,fa)._add(Ki)._add(fo),Gu._rotateAround(ps,fa)._add(Ki)._add(fo),Eu._rotateAround(ps,fa)._add(Ki)._add(fo)}if(br){var rc=Math.sin(br),op=Math.cos(br),ts=[op,-rc,rc,op];io._matMult(ts),Ti._matMult(ts),Gu._matMult(ts),Eu._matMult(ts)}var Lf=new P(0,0),qc=new P(0,0);ii.push({tl:io,tr:Ti,bl:Gu,br:Eu,tex:oi,writingMode:Ot.writingMode,glyphOffset:ru,sectionIndex:jr.sectionIndex,isSDF:fs,pixelOffsetTL:Lf,pixelOffsetBR:qc,minFontScaleX:0,minFontScaleY:0})}}return ii}(0,h,B,A,L,R,w,o.allowVerticalPlacement),ot=o.textSizeData,et=null;ot.kind==="source"?(et=[128*A.layout.get("text-size").evaluate(R,{})])[0]>32640&&Pe(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):ot.kind==="composite"&&((et=[128*Ae.compositeTextSizes[0].evaluate(R,{},Ge),128*Ae.compositeTextSizes[1].evaluate(R,{},Ge)])[0]>32640||et[1]>32640)&&Pe(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),o.addSymbols(o.text,Ye,et,B,L,R,K,c,Z.lineStartIndex,Z.lineLength,xe,Ge);for(var ct=0,vt=le;ct<vt.length;ct+=1)_e[vt[ct]]=o.text.placedSymbolArray.length-1;return 4*Ye.length}function Bg(o){for(var c in o)return o[c];return null}function Pv(o,c,h,w){var A=o.compareText;if(c in A){for(var L=A[c],R=L.length-1;R>=0;R--)if(w.dist(L[R])<h)return!0}else A[c]=[];return A[c].push(w),!1}var Iv=dm.VectorTileFeature.types,Cv=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Av(o,c,h,w,A,L,R,B,Z,K,le,_e,xe){var Ae=B?Math.min(32640,Math.round(B[0])):0,Ge=B?Math.min(32640,Math.round(B[1])):0;o.emplaceBack(c,h,Math.round(32*w),Math.round(32*A),L,R,(Ae<<1)+(Z?1:0),Ge,16*K,16*le,256*_e,256*xe)}function E1(o,c,h){o.emplaceBack(c.x,c.y,h),o.emplaceBack(c.x,c.y,h),o.emplaceBack(c.x,c.y,h),o.emplaceBack(c.x,c.y,h)}function D2(o){for(var c=0,h=o.sections;c<h.length;c+=1)if(jh(h[c].text))return!0;return!1}var Em=function(o){this.layoutVertexArray=new y,this.indexArray=new nt,this.programConfigurations=o,this.segments=new ke,this.dynamicLayoutVertexArray=new x,this.opacityVertexArray=new O,this.placedSymbolArray=new S};Em.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Em.prototype.upload=function(o,c,h,w){this.isEmpty()||(h&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,_1.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,Cg.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,Cv,!0),this.opacityVertexBuffer.itemSize=1),(h||w)&&this.programConfigurations.upload(o))},Em.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},rr("SymbolBuffers",Em);var $g=function(o,c,h){this.layoutVertexArray=new o,this.layoutAttributes=c,this.indexArray=new h,this.segments=new ke,this.collisionVertexArray=new je};$g.prototype.upload=function(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,Ol.members,!0)},$g.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},rr("CollisionBuffers",$g);var oa=function(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(L){return L.id}),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Uc([]),this.placementViewportMatrix=Uc([]);var c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=v1(this.zoom,c["text-size"]),this.iconSizeData=v1(this.zoom,c["icon-size"]);var h=this.layers[0].layout,w=h.get("symbol-sort-key"),A=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=A!=="viewport-y"&&w.constantOr(1)!==void 0,this.sortFeaturesByY=(A==="viewport-y"||A==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,h.get("symbol-placement")==="point"&&(this.writingModes=h.get("text-writing-mode").map(function(L){return sf[L]})),this.stateDependentLayerIds=this.layers.filter(function(L){return L.isStateDependent()}).map(function(L){return L.id}),this.sourceID=o.sourceID};oa.prototype.createArrays=function(){this.text=new Em(new qr(this.layers,this.zoom,function(o){return/^text/.test(o)})),this.icon=new Em(new qr(this.layers,this.zoom,function(o){return/^icon/.test(o)})),this.glyphOffsetArray=new $,this.lineVertexArray=new X,this.symbolInstances=new z},oa.prototype.calculateGlyphDependencies=function(o,c,h,w,A){for(var L=0;L<o.length;L++)if(c[o.charCodeAt(L)]=!0,(h||w)&&A){var R=Cp[o.charAt(L)];R&&(c[R.charCodeAt(0)]=!0)}},oa.prototype.populate=function(o,c,h){var w=this.layers[0],A=w.layout,L=A.get("text-font"),R=A.get("text-field"),B=A.get("icon-image"),Z=(R.value.kind!=="constant"||R.value.value instanceof Yi&&!R.value.value.isEmpty()||R.value.value.toString().length>0)&&(L.value.kind!=="constant"||L.value.value.length>0),K=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,le=A.get("symbol-sort-key");if(this.features=[],Z||K){for(var _e=c.iconDependencies,xe=c.glyphDependencies,Ae=c.availableImages,Ge=new _i(this.zoom),Ye=0,ot=o;Ye<ot.length;Ye+=1){var et=ot[Ye],ct=et.feature,vt=et.id,At=et.index,Ot=et.sourceLayerIndex,Ft=w._featureFilter.needGeometry,Qt=ia(ct,Ft);if(w._featureFilter.filter(Ge,Qt,h)){Ft||(Qt.geometry=Qn(ct));var pr=void 0;if(Z){var Vr=w.getValueAndResolveTokens("text-field",Qt,h,Ae),yr=Yi.factory(Vr);D2(yr)&&(this.hasRTLText=!0),(!this.hasRTLText||Cd()==="unavailable"||this.hasRTLText&&_o.isParsed())&&(pr=hl(yr,w,Qt))}var Zr=void 0;if(K){var br=w.getValueAndResolveTokens("icon-image",Qt,h,Ae);Zr=br instanceof ti?br:ti.fromString(br)}if(pr||Zr){var ii=this.sortFeaturesByKey?le.evaluate(Qt,{},h):void 0;if(this.features.push({id:vt,text:pr,icon:Zr,index:At,sourceLayerIndex:Ot,geometry:Qt.geometry,properties:ct.properties,type:Iv[ct.type],sortKey:ii}),Zr&&(_e[Zr.name]=!0),pr){var vn=L.evaluate(Qt,{},h).join(","),gr=A.get("text-rotation-alignment")==="map"&&A.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(sf.vertical)>=0;for(var Ir=0,jn=pr.sections;Ir<jn.length;Ir+=1){var Oi=jn[Ir];if(Oi.image)_e[Oi.image.name]=!0;else{var jr=ya(pr.toString()),oi=Oi.fontStack||vn,qa=xe[oi]=xe[oi]||{};this.calculateGlyphDependencies(Oi.text,qa,gr,this.allowVerticalPlacement,jr)}}}}}}A.get("symbol-placement")==="line"&&(this.features=function(fs){var Va={},ki={},Ps=[],eu=0;function tu(fa){Ps.push(fs[fa]),eu++}function ru(fa,ps,Pu){var Ki=ki[fa];return delete ki[fa],ki[ps]=Ki,Ps[Ki].geometry[0].pop(),Ps[Ki].geometry[0]=Ps[Ki].geometry[0].concat(Pu[0]),Ki}function Is(fa,ps,Pu){var Ki=Va[ps];return delete Va[ps],Va[fa]=Ki,Ps[Ki].geometry[0].shift(),Ps[Ki].geometry[0]=Pu[0].concat(Ps[Ki].geometry[0]),Ki}function Bu(fa,ps,Pu){var Ki=Pu?ps[0][ps[0].length-1]:ps[0][0];return fa+":"+Ki.x+":"+Ki.y}for(var Cs=0;Cs<fs.length;Cs++){var wa=fs[Cs],mi=wa.geometry,yo=wa.text?wa.text.toString():null;if(yo){var io=Bu(yo,mi),Ti=Bu(yo,mi,!0);if(io in ki&&Ti in Va&&ki[io]!==Va[Ti]){var Gu=Is(io,Ti,mi),Eu=ru(io,Ti,Ps[Gu].geometry);delete Va[io],delete ki[Ti],ki[Bu(yo,Ps[Eu].geometry,!0)]=Eu,Ps[Gu].geometry=null}else io in ki?ru(io,Ti,mi):Ti in Va?Is(io,Ti,mi):(tu(Cs),Va[io]=eu-1,ki[Ti]=eu-1)}else tu(Cs)}return Ps.filter(function(fa){return fa.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(fs,Va){return fs.sortKey-Va.sortKey})}},oa.prototype.update=function(o,c,h){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,c,this.layers,h),this.icon.programConfigurations.updatePaintArrays(o,c,this.layers,h))},oa.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},oa.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},oa.prototype.upload=function(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},oa.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},oa.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},oa.prototype.addToLineVertexArray=function(o,c){var h=this.lineVertexArray.length;if(o.segment!==void 0){for(var w=o.dist(c[o.segment+1]),A=o.dist(c[o.segment]),L={},R=o.segment+1;R<c.length;R++)L[R]={x:c[R].x,y:c[R].y,tileUnitDistanceFromAnchor:w},R<c.length-1&&(w+=c[R+1].dist(c[R]));for(var B=o.segment||0;B>=0;B--)L[B]={x:c[B].x,y:c[B].y,tileUnitDistanceFromAnchor:A},B>0&&(A+=c[B-1].dist(c[B]));for(var Z=0;Z<c.length;Z++){var K=L[Z];this.lineVertexArray.emplaceBack(K.x,K.y,K.tileUnitDistanceFromAnchor)}}return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}},oa.prototype.addSymbols=function(o,c,h,w,A,L,R,B,Z,K,le,_e){for(var xe=o.indexArray,Ae=o.layoutVertexArray,Ge=o.segments.prepareSegment(4*c.length,Ae,xe,this.canOverlap?L.sortKey:void 0),Ye=this.glyphOffsetArray.length,ot=Ge.vertexLength,et=this.allowVerticalPlacement&&R===sf.vertical?Math.PI/2:0,ct=L.text&&L.text.sections,vt=0;vt<c.length;vt++){var At=c[vt],Ot=At.tl,Ft=At.tr,Qt=At.bl,pr=At.br,Vr=At.tex,yr=At.pixelOffsetTL,Zr=At.pixelOffsetBR,br=At.minFontScaleX,ii=At.minFontScaleY,vn=At.glyphOffset,gr=At.isSDF,Ir=At.sectionIndex,jn=Ge.vertexLength,Oi=vn[1];Av(Ae,B.x,B.y,Ot.x,Oi+Ot.y,Vr.x,Vr.y,h,gr,yr.x,yr.y,br,ii),Av(Ae,B.x,B.y,Ft.x,Oi+Ft.y,Vr.x+Vr.w,Vr.y,h,gr,Zr.x,yr.y,br,ii),Av(Ae,B.x,B.y,Qt.x,Oi+Qt.y,Vr.x,Vr.y+Vr.h,h,gr,yr.x,Zr.y,br,ii),Av(Ae,B.x,B.y,pr.x,Oi+pr.y,Vr.x+Vr.w,Vr.y+Vr.h,h,gr,Zr.x,Zr.y,br,ii),E1(o.dynamicLayoutVertexArray,B,et),xe.emplaceBack(jn,jn+1,jn+2),xe.emplaceBack(jn+1,jn+2,jn+3),Ge.vertexLength+=4,Ge.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(vn[0]),vt!==c.length-1&&Ir===c[vt+1].sectionIndex||o.programConfigurations.populatePaintArrays(Ae.length,L,L.index,{},_e,ct&&ct[Ir])}o.placedSymbolArray.emplaceBack(B.x,B.y,Ye,this.glyphOffsetArray.length-Ye,ot,Z,K,B.segment,h?h[0]:0,h?h[1]:0,w[0],w[1],R,0,!1,0,le)},oa.prototype._addCollisionDebugVertex=function(o,c,h,w,A,L){return c.emplaceBack(0,0),o.emplaceBack(h.x,h.y,w,A,Math.round(L.x),Math.round(L.y))},oa.prototype.addCollisionDebugVertices=function(o,c,h,w,A,L,R){var B=A.segments.prepareSegment(4,A.layoutVertexArray,A.indexArray),Z=B.vertexLength,K=A.layoutVertexArray,le=A.collisionVertexArray,_e=R.anchorX,xe=R.anchorY;this._addCollisionDebugVertex(K,le,L,_e,xe,new P(o,c)),this._addCollisionDebugVertex(K,le,L,_e,xe,new P(h,c)),this._addCollisionDebugVertex(K,le,L,_e,xe,new P(h,w)),this._addCollisionDebugVertex(K,le,L,_e,xe,new P(o,w)),B.vertexLength+=4;var Ae=A.indexArray;Ae.emplaceBack(Z,Z+1),Ae.emplaceBack(Z+1,Z+2),Ae.emplaceBack(Z+2,Z+3),Ae.emplaceBack(Z+3,Z),B.primitiveLength+=4},oa.prototype.addDebugCollisionBoxes=function(o,c,h,w){for(var A=o;A<c;A++){var L=this.collisionBoxArray.get(A);this.addCollisionDebugVertices(L.x1,L.y1,L.x2,L.y2,w?this.textCollisionBox:this.iconCollisionBox,L.anchorPoint,h)}},oa.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new $g(H,xv.members,Br),this.iconCollisionBox=new $g(H,xv.members,Br);for(var o=0;o<this.symbolInstances.length;o++){var c=this.symbolInstances.get(o);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}},oa.prototype._deserializeCollisionBoxesForSymbol=function(o,c,h,w,A,L,R,B,Z){for(var K={},le=c;le<h;le++){var _e=o.get(le);K.textBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},K.textFeatureIndex=_e.featureIndex;break}for(var xe=w;xe<A;xe++){var Ae=o.get(xe);K.verticalTextBox={x1:Ae.x1,y1:Ae.y1,x2:Ae.x2,y2:Ae.y2,anchorPointX:Ae.anchorPointX,anchorPointY:Ae.anchorPointY},K.verticalTextFeatureIndex=Ae.featureIndex;break}for(var Ge=L;Ge<R;Ge++){var Ye=o.get(Ge);K.iconBox={x1:Ye.x1,y1:Ye.y1,x2:Ye.x2,y2:Ye.y2,anchorPointX:Ye.anchorPointX,anchorPointY:Ye.anchorPointY},K.iconFeatureIndex=Ye.featureIndex;break}for(var ot=B;ot<Z;ot++){var et=o.get(ot);K.verticalIconBox={x1:et.x1,y1:et.y1,x2:et.x2,y2:et.y2,anchorPointX:et.anchorPointX,anchorPointY:et.anchorPointY},K.verticalIconFeatureIndex=et.featureIndex;break}return K},oa.prototype.deserializeCollisionBoxes=function(o){this.collisionArrays=[];for(var c=0;c<this.symbolInstances.length;c++){var h=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}},oa.prototype.hasTextData=function(){return this.text.segments.get().length>0},oa.prototype.hasIconData=function(){return this.icon.segments.get().length>0},oa.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},oa.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},oa.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},oa.prototype.addIndicesForPlacedSymbol=function(o,c){for(var h=o.placedSymbolArray.get(c),w=h.vertexStartIndex+4*h.numGlyphs,A=h.vertexStartIndex;A<w;A+=4)o.indexArray.emplaceBack(A,A+1,A+2),o.indexArray.emplaceBack(A+1,A+2,A+3)},oa.prototype.getSortedSymbolIndexes=function(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var c=Math.sin(o),h=Math.cos(o),w=[],A=[],L=[],R=0;R<this.symbolInstances.length;++R){L.push(R);var B=this.symbolInstances.get(R);w.push(0|Math.round(c*B.anchorX+h*B.anchorY)),A.push(B.featureIndex)}return L.sort(function(Z,K){return w[Z]-w[K]||A[K]-A[Z]}),L},oa.prototype.addToSortKeyRanges=function(o,c){var h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===c?h.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:o,symbolInstanceEnd:o+1})},oa.prototype.sortFeatures=function(o){var c=this;if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var h=0,w=this.symbolInstanceIndexes;h<w.length;h+=1){var A=this.symbolInstances.get(w[h]);this.featureSortOrder.push(A.featureIndex),[A.rightJustifiedTextSymbolIndex,A.centerJustifiedTextSymbolIndex,A.leftJustifiedTextSymbolIndex].forEach(function(L,R,B){L>=0&&B.indexOf(L)===R&&c.addIndicesForPlacedSymbol(c.text,L)}),A.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,A.verticalPlacedTextSymbolIndex),A.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,A.placedIconSymbolIndex),A.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,A.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},rr("SymbolBucket",oa,{omit:["layers","collisionBoxArray","features","compareText"]}),oa.MAX_GLYPHS=65535,oa.addDynamicAttributes=E1;var z2=new lo({"symbol-placement":new Fr(Me.layout_symbol["symbol-placement"]),"symbol-spacing":new Fr(Me.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Fr(Me.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Er(Me.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Fr(Me.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Fr(Me.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Fr(Me.layout_symbol["icon-ignore-placement"]),"icon-optional":new Fr(Me.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Fr(Me.layout_symbol["icon-rotation-alignment"]),"icon-size":new Er(Me.layout_symbol["icon-size"]),"icon-text-fit":new Fr(Me.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Fr(Me.layout_symbol["icon-text-fit-padding"]),"icon-image":new Er(Me.layout_symbol["icon-image"]),"icon-rotate":new Er(Me.layout_symbol["icon-rotate"]),"icon-padding":new Fr(Me.layout_symbol["icon-padding"]),"icon-keep-upright":new Fr(Me.layout_symbol["icon-keep-upright"]),"icon-offset":new Er(Me.layout_symbol["icon-offset"]),"icon-anchor":new Er(Me.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Fr(Me.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Fr(Me.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Fr(Me.layout_symbol["text-rotation-alignment"]),"text-field":new Er(Me.layout_symbol["text-field"]),"text-font":new Er(Me.layout_symbol["text-font"]),"text-size":new Er(Me.layout_symbol["text-size"]),"text-max-width":new Er(Me.layout_symbol["text-max-width"]),"text-line-height":new Fr(Me.layout_symbol["text-line-height"]),"text-letter-spacing":new Er(Me.layout_symbol["text-letter-spacing"]),"text-justify":new Er(Me.layout_symbol["text-justify"]),"text-radial-offset":new Er(Me.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Fr(Me.layout_symbol["text-variable-anchor"]),"text-anchor":new Er(Me.layout_symbol["text-anchor"]),"text-max-angle":new Fr(Me.layout_symbol["text-max-angle"]),"text-writing-mode":new Fr(Me.layout_symbol["text-writing-mode"]),"text-rotate":new Er(Me.layout_symbol["text-rotate"]),"text-padding":new Fr(Me.layout_symbol["text-padding"]),"text-keep-upright":new Fr(Me.layout_symbol["text-keep-upright"]),"text-transform":new Er(Me.layout_symbol["text-transform"]),"text-offset":new Er(Me.layout_symbol["text-offset"]),"text-allow-overlap":new Fr(Me.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Fr(Me.layout_symbol["text-ignore-placement"]),"text-optional":new Fr(Me.layout_symbol["text-optional"])}),P1={paint:new lo({"icon-opacity":new Er(Me.paint_symbol["icon-opacity"]),"icon-color":new Er(Me.paint_symbol["icon-color"]),"icon-halo-color":new Er(Me.paint_symbol["icon-halo-color"]),"icon-halo-width":new Er(Me.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Er(Me.paint_symbol["icon-halo-blur"]),"icon-translate":new Fr(Me.paint_symbol["icon-translate"]),"icon-translate-anchor":new Fr(Me.paint_symbol["icon-translate-anchor"]),"text-opacity":new Er(Me.paint_symbol["text-opacity"]),"text-color":new Er(Me.paint_symbol["text-color"],{runtimeType:or,getOverride:function(o){return o.textColor},hasOverride:function(o){return!!o.textColor}}),"text-halo-color":new Er(Me.paint_symbol["text-halo-color"]),"text-halo-width":new Er(Me.paint_symbol["text-halo-width"]),"text-halo-blur":new Er(Me.paint_symbol["text-halo-blur"]),"text-translate":new Fr(Me.paint_symbol["text-translate"]),"text-translate-anchor":new Fr(Me.paint_symbol["text-translate-anchor"])}),layout:z2},y_=function(o){this.type=o.property.overrides?o.property.overrides.runtimeType:cr,this.defaultValue=o};y_.prototype.evaluate=function(o){if(o.formattedSection){var c=this.defaultValue.property.overrides;if(c&&c.hasOverride(o.formattedSection))return c.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default},y_.prototype.eachChild=function(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)},y_.prototype.outputDefined=function(){return!1},y_.prototype.serialize=function(){return null},rr("FormatSectionOverride",y_,{omit:["defaultValue"]});var Ov=function(o){function c(h){o.call(this,h,P1)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.recalculate=function(h,w){if(o.prototype.recalculate.call(this,h,w),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var A=this.layout.get("text-writing-mode");if(A){for(var L=[],R=0,B=A;R<B.length;R+=1){var Z=B[R];L.indexOf(Z)<0&&L.push(Z)}this.layout._values["text-writing-mode"]=L}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},c.prototype.getValueAndResolveTokens=function(h,w,A,L){var R=this.layout.get(h).evaluate(w,{},A,L),B=this._unevaluatedLayout._values[h];return B.isDataDriven()||Pn(B.value)||!R?R:function(Z,K){return K.replace(/{([^{}]+)}/g,function(le,_e){return _e in Z?String(Z[_e]):""})}(w.properties,R)},c.prototype.createBucket=function(h){return new oa(h)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype._setPaintOverrides=function(){for(var h=0,w=P1.paint.overridableProperties;h<w.length;h+=1){var A=w[h];if(c.hasPaintOverride(this.layout,A)){var L,R=this.paint.get(A),B=new y_(R),Z=new ys(B,R.property.specification);L=R.value.kind==="constant"||R.value.kind==="source"?new yu("source",Z):new cu("composite",Z,R.value.zoomStops,R.value._interpolationType),this.paint._values[A]=new ss(R.property,L,R.parameters)}}},c.prototype._handleOverridablePaintPropertyUpdate=function(h,w,A){return!(!this.layout||w.isDataDriven()||A.isDataDriven())&&c.hasPaintOverride(this.layout,h)},c.hasPaintOverride=function(h,w){var A=h.get("text-field"),L=P1.paint.properties[w],R=!1,B=function(le){for(var _e=0,xe=le;_e<xe.length;_e+=1)if(L.overrides&&L.overrides.hasOverride(xe[_e]))return void(R=!0)};if(A.value.kind==="constant"&&A.value.value instanceof Yi)B(A.value.value.sections);else if(A.value.kind==="source"){var Z=function(le){R||(le instanceof wn&&ra(le.value)===ln?B(le.value.sections):le instanceof dn?B(le.sections):le.eachChild(Z))},K=A.value;K._styleExpression&&Z(K._styleExpression.expression)}return R},c}(pn),F2={paint:new lo({"background-color":new Fr(Me.paint_background["background-color"]),"background-pattern":new Rn(Me.paint_background["background-pattern"]),"background-opacity":new Fr(Me.paint_background["background-opacity"])})},Hx=function(o){function c(h){o.call(this,h,F2)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c}(pn),Xh={paint:new lo({"raster-opacity":new Fr(Me.paint_raster["raster-opacity"]),"raster-hue-rotate":new Fr(Me.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Fr(Me.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Fr(Me.paint_raster["raster-brightness-max"]),"raster-saturation":new Fr(Me.paint_raster["raster-saturation"]),"raster-contrast":new Fr(Me.paint_raster["raster-contrast"]),"raster-resampling":new Fr(Me.paint_raster["raster-resampling"]),"raster-fade-duration":new Fr(Me.paint_raster["raster-fade-duration"])})},j2=function(o){function c(h){o.call(this,h,Xh)}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c}(pn),Zx=function(o){function c(h){o.call(this,h,{}),this.implementation=h}return o&&(c.__proto__=o),(c.prototype=Object.create(o&&o.prototype)).constructor=c,c.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},c.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},c.prototype.recalculate=function(){},c.prototype.updateTransitions=function(){},c.prototype.hasTransition=function(){},c.prototype.serialize=function(){},c.prototype.onAdd=function(h){this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)},c.prototype.onRemove=function(h){this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)},c}(pn),Sn={circle:vg,heatmap:i1,hillshade:o1,fill:gn,"fill-extrusion":mm,line:bv,symbol:Ov,background:Hx,raster:j2},Es=I.HTMLImageElement,Pm=I.HTMLCanvasElement,v_=I.HTMLVideoElement,kl=I.ImageData,Op=I.ImageBitmap,tc=function(o,c,h,w){this.context=o,this.format=h,this.texture=o.gl.createTexture(),this.update(c,w)};tc.prototype.update=function(o,c,h){var w=o.width,A=o.height,L=!(this.size&&this.size[0]===w&&this.size[1]===A||h),R=this.context,B=R.gl;if(this.useMipmap=Boolean(c&&c.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),R.pixelStoreUnpackFlipY.set(!1),R.pixelStoreUnpack.set(1),R.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!c||c.premultiply!==!1)),L)this.size=[w,A],o instanceof Es||o instanceof Pm||o instanceof v_||o instanceof kl||Op&&o instanceof Op?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,o):B.texImage2D(B.TEXTURE_2D,0,this.format,w,A,0,this.format,B.UNSIGNED_BYTE,o.data);else{var Z=h||{x:0,y:0},K=Z.x,le=Z.y;o instanceof Es||o instanceof Pm||o instanceof v_||o instanceof kl||Op&&o instanceof Op?B.texSubImage2D(B.TEXTURE_2D,0,K,le,B.RGBA,B.UNSIGNED_BYTE,o):B.texSubImage2D(B.TEXTURE_2D,0,K,le,w,A,B.RGBA,B.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)},tc.prototype.bind=function(o,c,h){var w=this.context.gl;w.bindTexture(w.TEXTURE_2D,this.texture),h!==w.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(h=w.LINEAR),o!==this.filter&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,o),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,h||o),this.filter=o),c!==this.wrap&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,c),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,c),this.wrap=c)},tc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},tc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var uh=function(o){var c=this;this._callback=o,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){c._triggered=!1,c._callback()})};uh.prototype.trigger=function(){var o=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){o._triggered=!1,o._callback()},0))},uh.prototype.remove=function(){delete this._channel,this._callback=function(){}};var no=function(o,c,h){this.target=o,this.parent=c,this.mapId=h,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},pe(["receive","process"],this),this.invoker=new uh(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Q()?o:I};function b_(o,c,h){var w=2*Math.PI*6378137/256/Math.pow(2,h);return[o*w-2*Math.PI*6378137/2,c*w-2*Math.PI*6378137/2]}no.prototype.send=function(o,c,h,w,A){var L=this;A===void 0&&(A=!1);var R=Math.round(1e18*Math.random()).toString(36).substring(0,10);h&&(this.callbacks[R]=h);var B=ve(this.globalScope)?void 0:[];return this.target.postMessage({id:R,type:o,hasCallback:!!h,targetMapId:w,mustQueue:A,sourceMapId:this.mapId,data:ws(c,B)},B),{cancel:function(){h&&delete L.callbacks[R],L.target.postMessage({id:R,type:"<cancel>",targetMapId:w,sourceMapId:L.mapId})}}},no.prototype.receive=function(o){var c=o.data,h=c.id;if(h&&(!c.targetMapId||this.mapId===c.targetMapId))if(c.type==="<cancel>"){delete this.tasks[h];var w=this.cancelCallbacks[h];delete this.cancelCallbacks[h],w&&w()}else Q()||c.mustQueue?(this.tasks[h]=c,this.taskQueue.push(h),this.invoker.trigger()):this.processTask(h,c)},no.prototype.process=function(){if(this.taskQueue.length){var o=this.taskQueue.shift(),c=this.tasks[o];delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),c&&this.processTask(o,c)}},no.prototype.processTask=function(o,c){var h=this;if(c.type==="<response>"){var w=this.callbacks[o];delete this.callbacks[o],w&&(c.error?w(Oa(c.error)):w(null,Oa(c.data)))}else{var A=!1,L=ve(this.globalScope)?void 0:[],R=c.hasCallback?function(le,_e){A=!0,delete h.cancelCallbacks[o],h.target.postMessage({id:o,type:"<response>",sourceMapId:h.mapId,error:le?ws(le):null,data:ws(_e,L)},L)}:function(le){A=!0},B=null,Z=Oa(c.data);if(this.parent[c.type])B=this.parent[c.type](c.sourceMapId,Z,R);else if(this.parent.getWorkerSource){var K=c.type.split(".");B=this.parent.getWorkerSource(c.sourceMapId,K[0],Z.source)[K[1]](Z,R)}else R(new Error("Could not find function "+c.type));!A&&B&&B.cancel&&(this.cancelCallbacks[o]=B.cancel)}},no.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var ka=function(o,c){o&&(c?this.setSouthWest(o).setNorthEast(c):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))};ka.prototype.setNorthEast=function(o){return this._ne=o instanceof aa?new aa(o.lng,o.lat):aa.convert(o),this},ka.prototype.setSouthWest=function(o){return this._sw=o instanceof aa?new aa(o.lng,o.lat):aa.convert(o),this},ka.prototype.extend=function(o){var c,h,w=this._sw,A=this._ne;if(o instanceof aa)c=o,h=o;else{if(!(o instanceof ka))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(ka.convert(o)):this.extend(aa.convert(o)):this;if(h=o._ne,!(c=o._sw)||!h)return this}return w||A?(w.lng=Math.min(c.lng,w.lng),w.lat=Math.min(c.lat,w.lat),A.lng=Math.max(h.lng,A.lng),A.lat=Math.max(h.lat,A.lat)):(this._sw=new aa(c.lng,c.lat),this._ne=new aa(h.lng,h.lat)),this},ka.prototype.getCenter=function(){return new aa((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ka.prototype.getSouthWest=function(){return this._sw},ka.prototype.getNorthEast=function(){return this._ne},ka.prototype.getNorthWest=function(){return new aa(this.getWest(),this.getNorth())},ka.prototype.getSouthEast=function(){return new aa(this.getEast(),this.getSouth())},ka.prototype.getWest=function(){return this._sw.lng},ka.prototype.getSouth=function(){return this._sw.lat},ka.prototype.getEast=function(){return this._ne.lng},ka.prototype.getNorth=function(){return this._ne.lat},ka.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ka.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ka.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ka.prototype.contains=function(o){var c=aa.convert(o),h=c.lng,w=c.lat,A=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(A=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=w&&w<=this._ne.lat&&A},ka.convert=function(o){return!o||o instanceof ka?o:new ka(o)};var aa=function(o,c){if(isNaN(o)||isNaN(c))throw new Error("Invalid LngLat object: ("+o+", "+c+")");if(this.lng=+o,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};aa.prototype.wrap=function(){return new aa(q(this.lng,-180,180),this.lat)},aa.prototype.toArray=function(){return[this.lng,this.lat]},aa.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},aa.prototype.distanceTo=function(o){var c=Math.PI/180,h=this.lat*c,w=o.lat*c,A=Math.sin(h)*Math.sin(w)+Math.cos(h)*Math.cos(w)*Math.cos((o.lng-this.lng)*c);return 63710088e-1*Math.acos(Math.min(A,1))},aa.prototype.toBounds=function(o){o===void 0&&(o=0);var c=360*o/40075017,h=c/Math.cos(Math.PI/180*this.lat);return new ka(new aa(this.lng-h,this.lat-c),new aa(this.lng+h,this.lat+c))},aa.convert=function(o){if(o instanceof aa)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new aa(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new aa(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var I1=2*Math.PI*63710088e-1;function Ug(o){return I1*Math.cos(o*Math.PI/180)}function Yh(o){return(180+o)/360}function Kx(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function x_(o,c){return o/Ug(c)}function C1(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}var ip=function(o,c,h){h===void 0&&(h=0),this.x=+o,this.y=+c,this.z=+h};ip.fromLngLat=function(o,c){c===void 0&&(c=0);var h=aa.convert(o);return new ip(Yh(h.lng),Kx(h.lat),x_(c,h.lat))},ip.prototype.toLngLat=function(){return new aa(360*this.x-180,C1(this.y))},ip.prototype.toAltitude=function(){return this.z*Ug(C1(this.y))},ip.prototype.meterInMercatorCoordinateUnits=function(){return 1/I1*(o=C1(this.y),1/Math.cos(o*Math.PI/180));var o};var w_=function(o,c,h){this.z=o,this.x=c,this.y=h,this.key=lh(0,o,o,c,h)};w_.prototype.equals=function(o){return this.z===o.z&&this.x===o.x&&this.y===o.y},w_.prototype.url=function(o,c){var h,w,A,L,R,B=(w=this.y,A=this.z,L=b_(256*(h=this.x),256*(w=Math.pow(2,A)-w-1),A),R=b_(256*(h+1),256*(w+1),A),L[0]+","+L[1]+","+R[0]+","+R[1]),Z=function(K,le,_e){for(var xe,Ae="",Ge=K;Ge>0;Ge--)Ae+=(le&(xe=1<<Ge-1)?1:0)+(_e&xe?2:0);return Ae}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(c==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",Z).replace("{bbox-epsg-3857}",B)},w_.prototype.getTilePoint=function(o){var c=Math.pow(2,this.z);return new P(8192*(o.x*c-this.x),8192*(o.y*c-this.y))},w_.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var S_=function(o,c){this.wrap=o,this.canonical=c,this.key=lh(o,c.z,c.z,c.x,c.y)},du=function(o,c,h,w,A){this.overscaledZ=o,this.wrap=c,this.canonical=new w_(h,+w,+A),this.key=lh(c,o,h,w,A)};function lh(o,c,h,w,A){(o*=2)<0&&(o=-1*o-1);var L=1<<h;return(L*L*o+L*A+w).toString(36)+h.toString(36)+c.toString(36)}du.prototype.equals=function(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)},du.prototype.scaledTo=function(o){var c=this.canonical.z-o;return o>this.canonical.z?new du(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new du(o,this.wrap,o,this.canonical.x>>c,this.canonical.y>>c)},du.prototype.calculateScaledKey=function(o,c){var h=this.canonical.z-o;return o>this.canonical.z?lh(this.wrap*+c,o,this.canonical.z,this.canonical.x,this.canonical.y):lh(this.wrap*+c,o,o,this.canonical.x>>h,this.canonical.y>>h)},du.prototype.isChildOf=function(o){if(o.wrap!==this.wrap)return!1;var c=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>c&&o.canonical.y===this.canonical.y>>c},du.prototype.children=function(o){if(this.overscaledZ>=o)return[new du(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var c=this.canonical.z+1,h=2*this.canonical.x,w=2*this.canonical.y;return[new du(c,this.wrap,c,h,w),new du(c,this.wrap,c,h+1,w),new du(c,this.wrap,c,h,w+1),new du(c,this.wrap,c,h+1,w+1)]},du.prototype.isLessThan=function(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))},du.prototype.wrapped=function(){return new du(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},du.prototype.unwrapTo=function(o){return new du(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)},du.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},du.prototype.toUnwrapped=function(){return new S_(this.wrap,this.canonical)},du.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},du.prototype.getTilePoint=function(o){return this.canonical.getTilePoint(new ip(o.x-this.wrap,o.y))},rr("CanonicalTileID",w_),rr("OverscaledTileID",du,{omit:["posMatrix"]});var Hh=function(o,c,h){if(this.uid=o,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return Pe('"'+h+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=c.height;var w=this.dim=c.height-2;this.data=new Uint32Array(c.data.buffer),this.encoding=h||"mapbox";for(var A=0;A<w;A++)this.data[this._idx(-1,A)]=this.data[this._idx(0,A)],this.data[this._idx(w,A)]=this.data[this._idx(w-1,A)],this.data[this._idx(A,-1)]=this.data[this._idx(A,0)],this.data[this._idx(A,w)]=this.data[this._idx(A,w-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(w,-1)]=this.data[this._idx(w-1,0)],this.data[this._idx(-1,w)]=this.data[this._idx(0,w-1)],this.data[this._idx(w,w)]=this.data[this._idx(w-1,w-1)]};Hh.prototype.get=function(o,c){var h=new Uint8Array(this.data.buffer),w=4*this._idx(o,c);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(h[w],h[w+1],h[w+2])},Hh.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Hh.prototype._idx=function(o,c){if(o<-1||o>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(o+1)},Hh.prototype._unpackMapbox=function(o,c,h){return(256*o*256+256*c+h)/10-1e4},Hh.prototype._unpackTerrarium=function(o,c,h){return 256*o+c+h/256-32768},Hh.prototype.getPixels=function(){return new go({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Hh.prototype.backfillBorder=function(o,c,h){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");var w=c*this.dim,A=c*this.dim+this.dim,L=h*this.dim,R=h*this.dim+this.dim;switch(c){case-1:w=A-1;break;case 1:A=w+1}switch(h){case-1:L=R-1;break;case 1:R=L+1}for(var B=-c*this.dim,Z=-h*this.dim,K=L;K<R;K++)for(var le=w;le<A;le++)this.data[this._idx(le,K)]=o.data[this._idx(le+B,K+Z)]},rr("DEMData",Hh);var Zh=function(o){this._stringToNumber={},this._numberToString=[];for(var c=0;c<o.length;c++){var h=o[c];this._stringToNumber[h]=c,this._numberToString[c]=h}};Zh.prototype.encode=function(o){return this._stringToNumber[o]},Zh.prototype.decode=function(o){return this._numberToString[o]};var kv=function(o,c,h,w,A){this.type="Feature",this._vectorTileFeature=o,o._z=c,o._x=h,o._y=w,this.properties=o.properties,this.id=A},Rd={geometry:{configurable:!0}};Rd.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Rd.geometry.set=function(o){this._geometry=o},kv.prototype.toJSON=function(){var o={geometry:this.geometry};for(var c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(o[c]=this[c]);return o},Object.defineProperties(kv.prototype,Rd);var Im=function(){this.state={},this.stateChanges={},this.deletedStates={}};Im.prototype.updateState=function(o,c,h){var w=String(c);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][w]=this.stateChanges[o][w]||{},M(this.stateChanges[o][w],h),this.deletedStates[o]===null)for(var A in this.deletedStates[o]={},this.state[o])A!==w&&(this.deletedStates[o][A]=null);else if(this.deletedStates[o]&&this.deletedStates[o][w]===null)for(var L in this.deletedStates[o][w]={},this.state[o][w])h[L]||(this.deletedStates[o][w][L]=null);else for(var R in h)this.deletedStates[o]&&this.deletedStates[o][w]&&this.deletedStates[o][w][R]===null&&delete this.deletedStates[o][w][R]},Im.prototype.removeFeatureState=function(o,c,h){if(this.deletedStates[o]!==null){var w=String(c);if(this.deletedStates[o]=this.deletedStates[o]||{},h&&c!==void 0)this.deletedStates[o][w]!==null&&(this.deletedStates[o][w]=this.deletedStates[o][w]||{},this.deletedStates[o][w][h]=null);else if(c!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][w])for(h in this.deletedStates[o][w]={},this.stateChanges[o][w])this.deletedStates[o][w][h]=null;else this.deletedStates[o][w]=null;else this.deletedStates[o]=null}},Im.prototype.getState=function(o,c){var h=String(c),w=M({},(this.state[o]||{})[h],(this.stateChanges[o]||{})[h]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){var A=this.deletedStates[o][c];if(A===null)return{};for(var L in A)delete w[L]}return w},Im.prototype.initializeTileState=function(o,c){o.setFeatureState(this.state,c)},Im.prototype.coalesceChanges=function(o,c){var h={};for(var w in this.stateChanges){this.state[w]=this.state[w]||{};var A={};for(var L in this.stateChanges[w])this.state[w][L]||(this.state[w][L]={}),M(this.state[w][L],this.stateChanges[w][L]),A[L]=this.state[w][L];h[w]=A}for(var R in this.deletedStates){this.state[R]=this.state[R]||{};var B={};if(this.deletedStates[R]===null)for(var Z in this.state[R])B[Z]={},this.state[R][Z]={};else for(var K in this.deletedStates[R]){if(this.deletedStates[R][K]===null)this.state[R][K]={};else for(var le=0,_e=Object.keys(this.deletedStates[R][K]);le<_e.length;le+=1)delete this.state[R][K][_e[le]];B[K]=this.state[R][K]}h[R]=h[R]||{},M(h[R],B)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(var xe in o)o[xe].setFeatureState(h,c)};var lf=function(o,c){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new Ka(8192,16,0),this.grid3D=new Ka(8192,16,0),this.featureIndexArray=new ge,this.promoteId=c};function Dd(o,c,h,w,A){return ee(o,function(L,R){var B=c instanceof tf?c.get(R):null;return B&&B.evaluate?B.evaluate(h,w,A):B})}function A1(o){for(var c=1/0,h=1/0,w=-1/0,A=-1/0,L=0,R=o;L<R.length;L+=1){var B=R[L];c=Math.min(c,B.x),h=Math.min(h,B.y),w=Math.max(w,B.x),A=Math.max(A,B.y)}return{minX:c,minY:h,maxX:w,maxY:A}}function Jx(o,c){return c-o}lf.prototype.insert=function(o,c,h,w,A,L){var R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,w,A);for(var B=L?this.grid3D:this.grid,Z=0;Z<c.length;Z++){for(var K=c[Z],le=[1/0,1/0,-1/0,-1/0],_e=0;_e<K.length;_e++){var xe=K[_e];le[0]=Math.min(le[0],xe.x),le[1]=Math.min(le[1],xe.y),le[2]=Math.max(le[2],xe.x),le[3]=Math.max(le[3],xe.y)}le[0]<8192&&le[1]<8192&&le[2]>=0&&le[3]>=0&&B.insert(R,le[0],le[1],le[2],le[3])}},lf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new dm.VectorTile(new Og(this.rawTileData)).layers,this.sourceLayerCoder=new Zh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},lf.prototype.query=function(o,c,h,w){var A=this;this.loadVTLayers();for(var L=o.params||{},R=8192/o.tileSize/o.scale,B=Fc(L.filter),Z=o.queryGeometry,K=o.queryPadding*R,le=A1(Z),_e=this.grid.query(le.minX-K,le.minY-K,le.maxX+K,le.maxY+K),xe=A1(o.cameraQueryGeometry),Ae=this.grid3D.query(xe.minX-K,xe.minY-K,xe.maxX+K,xe.maxY+K,function(At,Ot,Ft,Qt){return function(pr,Vr,yr,Zr,br){for(var ii=0,vn=pr;ii<vn.length;ii+=1){var gr=vn[ii];if(Vr<=gr.x&&yr<=gr.y&&Zr>=gr.x&&br>=gr.y)return!0}var Ir=[new P(Vr,yr),new P(Vr,br),new P(Zr,br),new P(Zr,yr)];if(pr.length>2){for(var jn=0,Oi=Ir;jn<Oi.length;jn+=1)if(Hl(pr,Oi[jn]))return!0}for(var jr=0;jr<pr.length-1;jr++)if(Ad(pr[jr],pr[jr+1],Ir))return!0;return!1}(o.cameraQueryGeometry,At-K,Ot-K,Ft+K,Qt+K)}),Ge=0,Ye=Ae;Ge<Ye.length;Ge+=1)_e.push(Ye[Ge]);_e.sort(Jx);for(var ot,et={},ct=function(At){var Ot=_e[At];if(Ot!==ot){ot=Ot;var Ft=A.featureIndexArray.get(Ot),Qt=null;A.loadMatchingFeature(et,Ft.bucketIndex,Ft.sourceLayerIndex,Ft.featureIndex,B,L.layers,L.availableImages,c,h,w,function(pr,Vr,yr){return Qt||(Qt=Qn(pr)),Vr.queryIntersectsFeature(Z,pr,yr,Qt,A.z,o.transform,R,o.pixelPosMatrix)})}},vt=0;vt<_e.length;vt++)ct(vt);return et},lf.prototype.loadMatchingFeature=function(o,c,h,w,A,L,R,B,Z,K,le){var _e=this.bucketLayerIDs[c];if(!L||function(pr,Vr){for(var yr=0;yr<pr.length;yr++)if(Vr.indexOf(pr[yr])>=0)return!0;return!1}(L,_e)){var xe=this.sourceLayerCoder.decode(h),Ae=this.vtLayers[xe].feature(w);if(A.needGeometry){var Ge=ia(Ae,!0);if(!A.filter(new _i(this.tileID.overscaledZ),Ge,this.tileID.canonical))return}else if(!A.filter(new _i(this.tileID.overscaledZ),Ae))return;for(var Ye=this.getId(Ae,xe),ot=0;ot<_e.length;ot++){var et=_e[ot];if(!(L&&L.indexOf(et)<0)){var ct=B[et];if(ct){var vt={};Ye!==void 0&&K&&(vt=K.getState(ct.sourceLayer||"_geojsonTileLayer",Ye));var At=M({},Z[et]);At.paint=Dd(At.paint,ct.paint,Ae,vt,R),At.layout=Dd(At.layout,ct.layout,Ae,vt,R);var Ot=!le||le(Ae,ct,vt);if(Ot){var Ft=new kv(Ae,this.z,this.x,this.y,Ye);Ft.layer=At;var Qt=o[et];Qt===void 0&&(Qt=o[et]=[]),Qt.push({featureIndex:w,feature:Ft,intersectionZ:Ot})}}}}}},lf.prototype.lookupSymbolFeatures=function(o,c,h,w,A,L,R,B){var Z={};this.loadVTLayers();for(var K=Fc(A),le=0,_e=o;le<_e.length;le+=1)this.loadMatchingFeature(Z,h,w,_e[le],K,L,R,B,c);return Z},lf.prototype.hasLayer=function(o){for(var c=0,h=this.bucketLayerIDs;c<h.length;c+=1)for(var w=0,A=h[c];w<A.length;w+=1)if(o===A[w])return!0;return!1},lf.prototype.getId=function(o,c){var h=o.id;return this.promoteId&&typeof(h=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]])=="boolean"&&(h=Number(h)),h},rr("FeatureIndex",lf,{omit:["rawTileData","sourceLayerCoder"]});var Pr=function(o,c){this.tileID=o,this.uid=G(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Pr.prototype.registerFadeDuration=function(o){var c=o+this.timeAdded;c<Yt.now()||this.fadeEndTime&&c<this.fadeEndTime||(this.fadeEndTime=c)},Pr.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Pr.prototype.loadVectorData=function(o,c,h){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){for(var w in o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(K,le){var _e={};if(!le)return _e;for(var xe=function(){var Ye=Ge[Ae],ot=Ye.layerIds.map(function(vt){return le.getLayer(vt)}).filter(Boolean);if(ot.length!==0){Ye.layers=ot,Ye.stateDependentLayerIds&&(Ye.stateDependentLayers=Ye.stateDependentLayerIds.map(function(vt){return ot.filter(function(At){return At.id===vt})[0]}));for(var et=0,ct=ot;et<ct.length;et+=1)_e[ct[et].id]=Ye}},Ae=0,Ge=K;Ae<Ge.length;Ae+=1)xe();return _e}(o.buckets,c.style),this.hasSymbolBuckets=!1,this.buckets){var A=this.buckets[w];if(A instanceof oa){if(this.hasSymbolBuckets=!0,!h)break;A.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var L in this.buckets){var R=this.buckets[L];if(R instanceof oa&&R.hasRTLText){this.hasRTLText=!0,_o.isLoading()||_o.isLoaded()||Cd()!=="deferred"||pu();break}}for(var B in this.queryPadding=0,this.buckets){var Z=this.buckets[B];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(B).queryRadius(Z))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new b},Pr.prototype.unloadVectorData=function(){for(var o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Pr.prototype.getBucket=function(o){return this.buckets[o.id]},Pr.prototype.upload=function(o){for(var c in this.buckets){var h=this.buckets[c];h.uploadPending()&&h.upload(o)}var w=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new tc(o,this.imageAtlas.image,w.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new tc(o,this.glyphAtlasImage,w.ALPHA),this.glyphAtlasImage=null)},Pr.prototype.prepare=function(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)},Pr.prototype.queryRenderedFeatures=function(o,c,h,w,A,L,R,B,Z,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:w,cameraQueryGeometry:A,scale:L,tileSize:this.tileSize,pixelPosMatrix:K,transform:B,params:R,queryPadding:this.queryPadding*Z},o,c,h):{}},Pr.prototype.querySourceFeatures=function(o,c){var h=this.latestFeatureIndex;if(h&&h.rawTileData){var w=h.loadVTLayers(),A=c?c.sourceLayer:"",L=w._geojsonTileLayer||w[A];if(L)for(var R=Fc(c&&c.filter),B=this.tileID.canonical,Z=B.z,K=B.x,le=B.y,_e={z:Z,x:K,y:le},xe=0;xe<L.length;xe++){var Ae=L.feature(xe);if(R.needGeometry){var Ge=ia(Ae,!0);if(!R.filter(new _i(this.tileID.overscaledZ),Ge,this.tileID.canonical))continue}else if(!R.filter(new _i(this.tileID.overscaledZ),Ae))continue;var Ye=h.getId(Ae,A),ot=new kv(Ae,Z,K,le,Ye);ot.tile=_e,o.push(ot)}}},Pr.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Pr.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Pr.prototype.setExpiryData=function(o){var c=this.expirationTime;if(o.cacheControl){var h=te(o.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){var w=Date.now(),A=!1;if(this.expirationTime>w)A=!1;else if(c)if(this.expirationTime<c)A=!0;else{var L=this.expirationTime-c;L?this.expirationTime=w+Math.max(L,3e4):A=!0}else A=!0;A?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Pr.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Pr.prototype.setFeatureState=function(o,c){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(o).length!==0){var h=this.latestFeatureIndex.loadVTLayers();for(var w in this.buckets)if(c.style.hasLayer(w)){var A=this.buckets[w],L=A.layers[0].sourceLayer||"_geojsonTileLayer",R=h[L],B=o[L];if(R&&B&&Object.keys(B).length!==0){A.update(B,R,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Z=c&&c.style&&c.style.getLayer(w);Z&&(this.queryPadding=Math.max(this.queryPadding,Z.queryRadius(A)))}}}},Pr.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Pr.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Yt.now()},Pr.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Pr.prototype.setHoldDuration=function(o){this.symbolFadeHoldUntil=Yt.now()+o},Pr.prototype.setDependencies=function(o,c){for(var h={},w=0,A=c;w<A.length;w+=1)h[A[w]]=!0;this.dependencies[o]=h},Pr.prototype.hasDependency=function(o,c){for(var h=0,w=o;h<w.length;h+=1){var A=this.dependencies[w[h]];if(A){for(var L=0,R=c;L<R.length;L+=1)if(A[R[L]])return!0}}return!1};var Kh=I.performance,E_=function(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},Kh.mark(this._marks.start)};E_.prototype.finish=function(){Kh.mark(this._marks.end);var o=Kh.getEntriesByName(this._marks.measure);return o.length===0&&(Kh.measure(this._marks.measure,this._marks.start,this._marks.end),o=Kh.getEntriesByName(this._marks.measure),Kh.clearMarks(this._marks.start),Kh.clearMarks(this._marks.end),Kh.clearMeasures(this._marks.measure)),o},s.Actor=no,s.AlphaImage=kd,s.CanonicalTileID=w_,s.CollisionBoxArray=b,s.Color=hi,s.DEMData=Hh,s.DataConstantProperty=Fr,s.DictionaryCoder=Zh,s.EXTENT=8192,s.ErrorEvent=at,s.EvaluationParameters=_i,s.Event=We,s.Evented=lt,s.FeatureIndex=lf,s.FillBucket=Tf,s.FillExtrusionBucket=tp,s.ImageAtlas=Gh,s.ImagePosition=Lg,s.LineBucket=Fs,s.LngLat=aa,s.LngLatBounds=ka,s.MercatorCoordinate=ip,s.ONE_EM=24,s.OverscaledTileID=du,s.Point=P,s.Point$1=P,s.Properties=lo,s.Protobuf=Og,s.RGBAImage=go,s.RequestManager=Lr,s.RequestPerformance=E_,s.ResourceType=Ea,s.SegmentVector=ke,s.SourceFeatureState=Im,s.StructArrayLayout1ui2=ri,s.StructArrayLayout2f1f2i16=me,s.StructArrayLayout2i4=zs,s.StructArrayLayout3ui6=nt,s.StructArrayLayout4i8=va,s.SymbolBucket=oa,s.Texture=tc,s.Tile=Pr,s.Transitionable=es,s.Uniform1f=Gt,s.Uniform1i=Vt,s.Uniform2f=er,s.Uniform3f=wr,s.Uniform4f=Yr,s.UniformColor=an,s.UniformMatrix4f=fi,s.UnwrappedTileID=S_,s.ValidationError=Xe,s.WritingMode=sf,s.ZoomHistory=Hs,s.add=function(o,c,h){return o[0]=c[0]+h[0],o[1]=c[1]+h[1],o[2]=c[2]+h[2],o},s.addDynamicAttributes=E1,s.asyncAll=function(o,c,h){if(!o.length)return h(null,[]);var w=o.length,A=new Array(o.length),L=null;o.forEach(function(R,B){c(R,function(Z,K){Z&&(L=Z),A[B]=K,--w==0&&h(L,A)})})},s.bezier=F,s.bindAll=pe,s.browser=Yt,s.cacheEntryPossiblyAdded=function(o){++Vo>Bn&&(o.getActor().send("enforceCacheSizeLimit",on),Vo=0)},s.clamp=Y,s.clearTileCache=function(o){var c=I.caches.delete("mapbox-tiles");o&&c.catch(o).then(function(){return o()})},s.clipLine=w1,s.clone=function(o){var c=new In(16);return c[0]=o[0],c[1]=o[1],c[2]=o[2],c[3]=o[3],c[4]=o[4],c[5]=o[5],c[6]=o[6],c[7]=o[7],c[8]=o[8],c[9]=o[9],c[10]=o[10],c[11]=o[11],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15],c},s.clone$1=we,s.clone$2=function(o){var c=new In(3);return c[0]=o[0],c[1]=o[1],c[2]=o[2],c},s.collisionCircleLayout=Wx,s.config=It,s.create=function(){var o=new In(16);return In!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},s.create$1=function(){var o=new In(9);return In!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o},s.create$2=function(){var o=new In(4);return In!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o},s.createCommonjsModule=m,s.createExpression=lu,s.createLayout=co,s.createStyleLayer=function(o){return o.type==="custom"?new Zx(o):new Sn[o.type](o)},s.cross=function(o,c,h){var w=c[0],A=c[1],L=c[2],R=h[0],B=h[1],Z=h[2];return o[0]=A*Z-L*B,o[1]=L*R-w*Z,o[2]=w*B-A*R,o},s.deepEqual=function o(c,h){if(Array.isArray(c)){if(!Array.isArray(h)||c.length!==h.length)return!1;for(var w=0;w<c.length;w++)if(!o(c[w],h[w]))return!1;return!0}if(typeof c=="object"&&c!==null&&h!==null){if(typeof h!="object"||Object.keys(c).length!==Object.keys(h).length)return!1;for(var A in c)if(!o(c[A],h[A]))return!1;return!0}return c===h},s.dot=function(o,c){return o[0]*c[0]+o[1]*c[1]+o[2]*c[2]},s.dot$1=function(o,c){return o[0]*c[0]+o[1]*c[1]+o[2]*c[2]+o[3]*c[3]},s.ease=V,s.emitValidationErrors=Gl,s.endsWith=ne,s.enforceCacheSizeLimit=function(o){si(),st&&st.then(function(c){c.keys().then(function(h){for(var w=0;w<h.length-o;w++)c.delete(h[w])})})},s.evaluateSizeForFeature=uf,s.evaluateSizeForZoom=Yx,s.evaluateVariableOffset=Fg,s.evented=xu,s.extend=M,s.featureFilter=Fc,s.filterObject=ie,s.fromRotation=function(o,c){var h=Math.sin(c),w=Math.cos(c);return o[0]=w,o[1]=h,o[2]=0,o[3]=-h,o[4]=w,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o},s.getAnchorAlignment=Mg,s.getAnchorJustification=Sm,s.getArrayBuffer=ms,s.getImage=Ee,s.getJSON=function(o,c){return Kt(M(o,{type:"json"}),c)},s.getRTLTextPluginStatus=Cd,s.getReferrer=ui,s.getVideo=function(o,c){var h,w,A=I.document.createElement("video");A.muted=!0,A.onloadstart=function(){c(null,A)};for(var L=0;L<o.length;L++){var R=I.document.createElement("source");h=o[L],w=void 0,(w=I.document.createElement("a")).href=h,(w.protocol!==I.document.location.protocol||w.host!==I.document.location.host)&&(A.crossOrigin="Anonymous"),R.src=o[L],A.appendChild(R)}return{cancel:function(){}}},s.identity=Uc,s.invert=function(o,c){var h=c[0],w=c[1],A=c[2],L=c[3],R=c[4],B=c[5],Z=c[6],K=c[7],le=c[8],_e=c[9],xe=c[10],Ae=c[11],Ge=c[12],Ye=c[13],ot=c[14],et=c[15],ct=h*B-w*R,vt=h*Z-A*R,At=h*K-L*R,Ot=w*Z-A*B,Ft=w*K-L*B,Qt=A*K-L*Z,pr=le*Ye-_e*Ge,Vr=le*ot-xe*Ge,yr=le*et-Ae*Ge,Zr=_e*ot-xe*Ye,br=_e*et-Ae*Ye,ii=xe*et-Ae*ot,vn=ct*ii-vt*br+At*Zr+Ot*yr-Ft*Vr+Qt*pr;return vn?(o[0]=(B*ii-Z*br+K*Zr)*(vn=1/vn),o[1]=(A*br-w*ii-L*Zr)*vn,o[2]=(Ye*Qt-ot*Ft+et*Ot)*vn,o[3]=(xe*Ft-_e*Qt-Ae*Ot)*vn,o[4]=(Z*yr-R*ii-K*Vr)*vn,o[5]=(h*ii-A*yr+L*Vr)*vn,o[6]=(ot*At-Ge*Qt-et*vt)*vn,o[7]=(le*Qt-xe*At+Ae*vt)*vn,o[8]=(R*br-B*yr+K*pr)*vn,o[9]=(w*yr-h*br-L*pr)*vn,o[10]=(Ge*Ft-Ye*At+et*ct)*vn,o[11]=(_e*At-le*Ft-Ae*ct)*vn,o[12]=(B*Vr-R*Zr-Z*pr)*vn,o[13]=(h*Zr-w*Vr+A*pr)*vn,o[14]=(Ye*vt-Ge*Ot-ot*ct)*vn,o[15]=(le*Ot-_e*vt+xe*ct)*vn,o):null},s.isChar=Jt,s.isMapboxURL=Xr,s.keysDifference=function(o,c){var h=[];for(var w in o)w in c||h.push(w);return h},s.makeRequest=Kt,s.mapObject=ee,s.mercatorXfromLng=Yh,s.mercatorYfromLat=Kx,s.mercatorZfromAltitude=x_,s.mul=yg,s.multiply=Zl,s.mvt=dm,s.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},s.normalize=function(o,c){var h=c[0],w=c[1],A=c[2],L=h*h+w*w+A*A;return L>0&&(L=1/Math.sqrt(L)),o[0]=c[0]*L,o[1]=c[1]*L,o[2]=c[2]*L,o},s.number=Zi,s.offscreenCanvasSupported=ta,s.ortho=function(o,c,h,w,A,L,R){var B=1/(c-h),Z=1/(w-A),K=1/(L-R);return o[0]=-2*B,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*Z,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*K,o[11]=0,o[12]=(c+h)*B,o[13]=(A+w)*Z,o[14]=(R+L)*K,o[15]=1,o},s.parseGlyphPBF=function(o){return new Og(o).readFields(L2,[])},s.pbf=Og,s.performSymbolLayout=function(o,c,h,w,A,L,R){o.createArrays(),o.tilePixelRatio=8192/(512*o.overscaling),o.compareText={},o.iconsNeedLinear=!1;var B=o.layers[0].layout,Z=o.layers[0]._unevaluatedLayout._values,K={};if(o.textSizeData.kind==="composite"){var le=o.textSizeData,_e=le.maxZoom;K.compositeTextSizes=[Z["text-size"].possiblyEvaluate(new _i(le.minZoom),R),Z["text-size"].possiblyEvaluate(new _i(_e),R)]}if(o.iconSizeData.kind==="composite"){var xe=o.iconSizeData,Ae=xe.maxZoom;K.compositeIconSizes=[Z["icon-size"].possiblyEvaluate(new _i(xe.minZoom),R),Z["icon-size"].possiblyEvaluate(new _i(Ae),R)]}K.layoutTextSize=Z["text-size"].possiblyEvaluate(new _i(o.zoom+1),R),K.layoutIconSize=Z["icon-size"].possiblyEvaluate(new _i(o.zoom+1),R),K.textMaxSize=Z["text-size"].possiblyEvaluate(new _i(18));for(var Ge=24*B.get("text-line-height"),Ye=B.get("text-rotation-alignment")==="map"&&B.get("symbol-placement")!=="point",ot=B.get("text-keep-upright"),et=B.get("text-size"),ct=function(){var Ot=At[vt],Ft=B.get("text-font").evaluate(Ot,{},R).join(","),Qt=et.evaluate(Ot,{},R),pr=K.layoutTextSize.evaluate(Ot,{},R),Vr=K.layoutIconSize.evaluate(Ot,{},R),yr={horizontal:{},vertical:void 0},Zr=Ot.text,br=[0,0];if(Zr){var ii=Zr.toString(),vn=24*B.get("text-letter-spacing").evaluate(Ot,{},R),gr=function(mi){for(var yo=0,io=mi;yo<io.length;yo+=1)if(Ti=io[yo].charCodeAt(0),Jt.Arabic(Ti)||Jt["Arabic Supplement"](Ti)||Jt["Arabic Extended-A"](Ti)||Jt["Arabic Presentation Forms-A"](Ti)||Jt["Arabic Presentation Forms-B"](Ti))return!1;var Ti;return!0}(ii)?vn:0,Ir=B.get("text-anchor").evaluate(Ot,{},R),jn=B.get("text-variable-anchor");if(!jn){var Oi=B.get("text-radial-offset").evaluate(Ot,{},R);br=Oi?Fg(Ir,[24*Oi,wm]):B.get("text-offset").evaluate(Ot,{},R).map(function(mi){return 24*mi})}var jr=Ye?"center":B.get("text-justify").evaluate(Ot,{},R),oi=B.get("symbol-placement"),qa=oi==="point"?24*B.get("text-max-width").evaluate(Ot,{},R):0,fs=function(){o.allowVerticalPlacement&&ya(ii)&&(yr.vertical=kr(Zr,c,h,A,Ft,qa,Ge,Ir,"left",gr,br,sf.vertical,!0,oi,pr,Qt))};if(!Ye&&jn){for(var Va=jr==="auto"?jn.map(function(mi){return Sm(mi)}):[jr],ki=!1,Ps=0;Ps<Va.length;Ps++){var eu=Va[Ps];if(!yr.horizontal[eu])if(ki)yr.horizontal[eu]=yr.horizontal[0];else{var tu=kr(Zr,c,h,A,Ft,qa,Ge,"center",eu,gr,br,sf.horizontal,!1,oi,pr,Qt);tu&&(yr.horizontal[eu]=tu,ki=tu.positionedLines.length===1)}}fs()}else{jr==="auto"&&(jr=Sm(Ir));var ru=kr(Zr,c,h,A,Ft,qa,Ge,Ir,jr,gr,br,sf.horizontal,!1,oi,pr,Qt);ru&&(yr.horizontal[jr]=ru),fs(),ya(ii)&&Ye&&ot&&(yr.vertical=kr(Zr,c,h,A,Ft,qa,Ge,Ir,jr,gr,br,sf.vertical,!1,oi,pr,Qt))}}var Is=void 0,Bu=!1;if(Ot.icon&&Ot.icon.name){var Cs=w[Ot.icon.name];Cs&&(Is=function(mi,yo,io){var Ti=Mg(io),Gu=yo[0]-mi.displaySize[0]*Ti.horizontalAlign,Eu=yo[1]-mi.displaySize[1]*Ti.verticalAlign;return{image:mi,top:Eu,bottom:Eu+mi.displaySize[1],left:Gu,right:Gu+mi.displaySize[0]}}(A[Ot.icon.name],B.get("icon-offset").evaluate(Ot,{},R),B.get("icon-anchor").evaluate(Ot,{},R)),Bu=Cs.sdf,o.sdfIcons===void 0?o.sdfIcons=Cs.sdf:o.sdfIcons!==Cs.sdf&&Pe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Cs.pixelRatio!==o.pixelRatio||B.get("icon-rotate").constantOr(1)!==0)&&(o.iconsNeedLinear=!0))}var wa=Bg(yr.horizontal)||yr.vertical;o.iconsInText=!!wa&&wa.iconsInText,(wa||Is)&&function(mi,yo,io,Ti,Gu,Eu,fa,ps,Pu,Ki,fo){var rc=Eu.textMaxSize.evaluate(yo,{});rc===void 0&&(rc=fa);var op,ts=mi.layers[0].layout,Lf=ts.get("icon-offset").evaluate(yo,{},fo),qc=Bg(io.horizontal),ch=fa/24,fh=mi.tilePixelRatio*ch,P_=mi.tilePixelRatio*rc/24,dl=mi.tilePixelRatio*ps,Jh=mi.tilePixelRatio*ts.get("symbol-spacing"),Tv=ts.get("text-padding")*mi.tilePixelRatio,Qh=ts.get("icon-padding")*mi.tilePixelRatio,Tl=ts.get("text-max-angle")/180*Math.PI,qi=ts.get("text-rotation-alignment")==="map"&&ts.get("symbol-placement")!=="point",Di=ts.get("icon-rotation-alignment")==="map"&&ts.get("symbol-placement")!=="point",nc=ts.get("symbol-placement"),qg=Jh/2,Iu=ts.get("icon-text-fit");Ti&&Iu!=="none"&&(mi.allowVerticalPlacement&&io.vertical&&(op=np(Ti,io.vertical,Iu,ts.get("icon-text-fit-padding"),Lf,ch)),qc&&(Ti=np(Ti,qc,Iu,ts.get("icon-text-fit-padding"),Lf,ch)));var xi=function(Mp,nu){nu.x<0||nu.x>=8192||nu.y<0||nu.y>=8192||function(Li,rs,k1,Vc,Gg,hh,td,Gc,rd,dh,nd,Wg,Ta,bc,Fd,T1,Qx,ew,tw,rw,cf,Xg,L1,Rp,N1){var Ko,eo,Cm,Ll,Nl,Ml=Li.addToLineVertexArray(rs,k1),ff=0,pf=0,hf=0,df=0,Wc=-1,Dp=-1,ic={},_h=qe(""),zp=0,Fp=0;if(Gc._unevaluatedLayout.getValue("text-radial-offset")===void 0?(zp=(Ko=Gc.layout.get("text-offset").evaluate(cf,{},Rp).map(function(Nm){return 24*Nm}))[0],Fp=Ko[1]):(zp=24*Gc.layout.get("text-radial-offset").evaluate(cf,{},Rp),Fp=wm),Li.allowVerticalPlacement&&Vc.vertical){var mh=Gc.layout.get("text-rotate").evaluate(cf,{},Rp)+90;Ll=new ir(rd,rs,dh,nd,Wg,Vc.vertical,Ta,bc,Fd,mh),td&&(Nl=new ir(rd,rs,dh,nd,Wg,td,Qx,ew,Fd,mh))}if(Gg){var jp=Gc.layout.get("icon-rotate").evaluate(cf,{}),gh=Gc.layout.get("icon-text-fit")!=="none",Am=Qs(Gg,jp,L1,gh),Bt=td?Qs(td,jp,L1,gh):void 0;Cm=new ir(rd,rs,dh,nd,Wg,Gg,Qx,ew,!1,jp),ff=4*Am.length;var Om=Li.iconSizeData,id=null;Om.kind==="source"?(id=[128*Gc.layout.get("icon-size").evaluate(cf,{})])[0]>32640&&Pe(Li.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):Om.kind==="composite"&&((id=[128*Xg.compositeIconSizes[0].evaluate(cf,{},Rp),128*Xg.compositeIconSizes[1].evaluate(cf,{},Rp)])[0]>32640||id[1]>32640)&&Pe(Li.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Li.addSymbols(Li.icon,Am,id,rw,tw,cf,!1,rs,Ml.lineStartIndex,Ml.lineLength,-1,Rp),Wc=Li.icon.placedSymbolArray.length-1,Bt&&(pf=4*Bt.length,Li.addSymbols(Li.icon,Bt,id,rw,tw,cf,sf.vertical,rs,Ml.lineStartIndex,Ml.lineLength,-1,Rp),Dp=Li.icon.placedSymbolArray.length-1)}for(var Ga in Vc.horizontal){var jd=Vc.horizontal[Ga];if(!eo){_h=qe(jd.text);var Yg=Gc.layout.get("text-rotate").evaluate(cf,{},Rp);eo=new ir(rd,rs,dh,nd,Wg,jd,Ta,bc,Fd,Yg)}var km=jd.positionedLines.length===1;if(hf+=jg(Li,rs,jd,hh,Gc,Fd,cf,T1,Ml,Vc.vertical?sf.horizontal:sf.horizontalOnly,km?Object.keys(Vc.horizontal):[Ga],ic,Wc,Xg,Rp),km)break}Vc.vertical&&(df+=jg(Li,rs,Vc.vertical,hh,Gc,Fd,cf,T1,Ml,sf.vertical,["vertical"],ic,Dp,Xg,Rp));var Tm=eo?eo.boxStartIndex:Li.collisionBoxArray.length,Hg=eo?eo.boxEndIndex:Li.collisionBoxArray.length,Zg=Ll?Ll.boxStartIndex:Li.collisionBoxArray.length,Kg=Ll?Ll.boxEndIndex:Li.collisionBoxArray.length,od=Cm?Cm.boxStartIndex:Li.collisionBoxArray.length,Lm=Cm?Cm.boxEndIndex:Li.collisionBoxArray.length,M1=Nl?Nl.boxStartIndex:Li.collisionBoxArray.length,Xu=Nl?Nl.boxEndIndex:Li.collisionBoxArray.length,iu=-1,Lv=function(Nm,Zn){return Nm&&Nm.circleDiameter?Math.max(Nm.circleDiameter,Zn):Zn};iu=Lv(eo,iu),iu=Lv(Ll,iu),iu=Lv(Cm,iu);var R1=(iu=Lv(Nl,iu))>-1?1:0;R1&&(iu*=N1/24),Li.glyphOffsetArray.length>=oa.MAX_GLYPHS&&Pe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),cf.sortKey!==void 0&&Li.addToSortKeyRanges(Li.symbolInstances.length,cf.sortKey),Li.symbolInstances.emplaceBack(rs.x,rs.y,ic.right>=0?ic.right:-1,ic.center>=0?ic.center:-1,ic.left>=0?ic.left:-1,ic.vertical||-1,Wc,Dp,_h,Tm,Hg,Zg,Kg,od,Lm,M1,Xu,dh,hf,df,ff,pf,R1,0,Ta,zp,Fp,iu)}(mi,nu,Mp,io,Ti,Gu,op,mi.layers[0],mi.collisionBoxArray,yo.index,yo.sourceLayerIndex,mi.index,fh,Tv,qi,Pu,dl,Qh,Di,Lf,yo,Eu,Ki,fo,fa)};if(nc==="line")for(var As=0,zd=w1(yo.geometry,0,0,8192,8192);As<zd.length;As+=1)for(var O1=zd[As],vc=0,Vg=Dg(O1,Jh,Tl,io.vertical||qc,Ti,24,P_,mi.overscaling,8192);vc<Vg.length;vc+=1){var I_=Vg[vc];qc&&Pv(mi,qc.text,qg,I_)||xi(O1,I_)}else if(nc==="line-center")for(var kp=0,hs=yo.geometry;kp<hs.length;kp+=1){var Tp=hs[kp];if(Tp.length>1){var ph=x1(Tp,Tl,io.vertical||qc,Ti,24,P_);ph&&xi(Tp,ph)}}else if(yo.type==="Polygon")for(var Lp=0,Wu=Eg(yo.geometry,0);Lp<Wu.length;Lp+=1){var ap=Wu[Lp],Np=yn(ap,16);xi(ap[0],new Ap(Np.x,Np.y,0))}else if(yo.type==="LineString")for(var sp=0,Zo=yo.geometry;sp<Zo.length;sp+=1){var Cu=Zo[sp];xi(Cu,new Ap(Cu[0].x,Cu[0].y,0))}else if(yo.type==="Point")for(var _l=0,ed=yo.geometry;_l<ed.length;_l+=1)for(var qn=0,Vn=ed[_l];qn<Vn.length;qn+=1){var js=Vn[qn];xi([js],new Ap(js.x,js.y,0))}}(o,Ot,yr,Is,w,K,pr,Vr,br,Bu,R)},vt=0,At=o.features;vt<At.length;vt+=1)ct();L&&o.generateCollisionDebugBuffers()},s.perspective=function(o,c,h,w,A){var L,R=1/Math.tan(c/2);return o[0]=R/h,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=R,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,A!=null&&A!==1/0?(o[10]=(A+w)*(L=1/(w-A)),o[14]=2*A*w*L):(o[10]=-1,o[14]=-2*w),o},s.pick=function(o,c){for(var h={},w=0;w<c.length;w++){var A=c[w];A in o&&(h[A]=o[A])}return h},s.plugin=_o,s.polygonIntersectsPolygon=Bi,s.postMapLoadEvent=tr,s.postTurnstileEvent=Nr,s.potpack=$e,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.register=rr,s.registerForPluginStateChange=function(o){return o({pluginStatus:Qa,pluginURL:Ho}),xu.on("pluginStateChange",o),o},s.renderColorRamp=Jl,s.rotate=function(o,c,h){var w=c[0],A=c[1],L=c[2],R=c[3],B=Math.sin(h),Z=Math.cos(h);return o[0]=w*Z+L*B,o[1]=A*Z+R*B,o[2]=w*-B+L*Z,o[3]=A*-B+R*Z,o},s.rotateX=function(o,c,h){var w=Math.sin(h),A=Math.cos(h),L=c[4],R=c[5],B=c[6],Z=c[7],K=c[8],le=c[9],_e=c[10],xe=c[11];return c!==o&&(o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15]),o[4]=L*A+K*w,o[5]=R*A+le*w,o[6]=B*A+_e*w,o[7]=Z*A+xe*w,o[8]=K*A-L*w,o[9]=le*A-R*w,o[10]=_e*A-B*w,o[11]=xe*A-Z*w,o},s.rotateZ=function(o,c,h){var w=Math.sin(h),A=Math.cos(h),L=c[0],R=c[1],B=c[2],Z=c[3],K=c[4],le=c[5],_e=c[6],xe=c[7];return c!==o&&(o[8]=c[8],o[9]=c[9],o[10]=c[10],o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15]),o[0]=L*A+K*w,o[1]=R*A+le*w,o[2]=B*A+_e*w,o[3]=Z*A+xe*w,o[4]=K*A-L*w,o[5]=le*A-R*w,o[6]=_e*A-B*w,o[7]=xe*A-Z*w,o},s.scale=function(o,c,h){var w=h[0],A=h[1],L=h[2];return o[0]=c[0]*w,o[1]=c[1]*w,o[2]=c[2]*w,o[3]=c[3]*w,o[4]=c[4]*A,o[5]=c[5]*A,o[6]=c[6]*A,o[7]=c[7]*A,o[8]=c[8]*L,o[9]=c[9]*L,o[10]=c[10]*L,o[11]=c[11]*L,o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o},s.scale$1=function(o,c,h){return o[0]=c[0]*h,o[1]=c[1]*h,o[2]=c[2]*h,o[3]=c[3]*h,o},s.scale$2=function(o,c,h){return o[0]=c[0]*h,o[1]=c[1]*h,o[2]=c[2]*h,o},s.setCacheLimits=function(o,c){on=o,Bn=c},s.setRTLTextPlugin=function(o,c,h){if(h===void 0&&(h=!1),Qa==="deferred"||Qa==="loading"||Qa==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Ho=Yt.resolveURL(o),Qa="deferred",Af=c,Al(),h||pu()},s.sphericalToCartesian=function(o){var c=o[0],h=o[1],w=o[2];return h+=90,h*=Math.PI/180,w*=Math.PI/180,{x:c*Math.cos(h)*Math.sin(w),y:c*Math.sin(h)*Math.sin(w),z:c*Math.cos(w)}},s.sqrLen=function(o){var c=o[0],h=o[1];return c*c+h*h},s.styleSpec=Me,s.sub=function(o,c,h){return o[0]=c[0]-h[0],o[1]=c[1]-h[1],o[2]=c[2]-h[2],o},s.symbolSize=Sv,s.transformMat3=function(o,c,h){var w=c[0],A=c[1],L=c[2];return o[0]=w*h[0]+A*h[3]+L*h[6],o[1]=w*h[1]+A*h[4]+L*h[7],o[2]=w*h[2]+A*h[5]+L*h[8],o},s.transformMat4=kf,s.translate=function(o,c,h){var w,A,L,R,B,Z,K,le,_e,xe,Ae,Ge,Ye=h[0],ot=h[1],et=h[2];return c===o?(o[12]=c[0]*Ye+c[4]*ot+c[8]*et+c[12],o[13]=c[1]*Ye+c[5]*ot+c[9]*et+c[13],o[14]=c[2]*Ye+c[6]*ot+c[10]*et+c[14],o[15]=c[3]*Ye+c[7]*ot+c[11]*et+c[15]):(A=c[1],L=c[2],R=c[3],B=c[4],Z=c[5],K=c[6],le=c[7],_e=c[8],xe=c[9],Ae=c[10],Ge=c[11],o[0]=w=c[0],o[1]=A,o[2]=L,o[3]=R,o[4]=B,o[5]=Z,o[6]=K,o[7]=le,o[8]=_e,o[9]=xe,o[10]=Ae,o[11]=Ge,o[12]=w*Ye+B*ot+_e*et+c[12],o[13]=A*Ye+Z*ot+xe*et+c[13],o[14]=L*Ye+K*ot+Ae*et+c[14],o[15]=R*Ye+le*ot+Ge*et+c[15]),o},s.triggerPluginCompletionEvent=Zs,s.uniqueId=G,s.validateCustomStyleLayer=function(o){var c=[],h=o.id;return h===void 0&&c.push({message:"layers."+h+': missing required property "id"'}),o.render===void 0&&c.push({message:"layers."+h+': missing required method "render"'}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&c.push({message:"layers."+h+': property "renderingMode" must be either "2d" or "3d"'}),c},s.validateLight=Cl,s.validateStyle=Ca,s.values=function(o){var c=[];for(var h in o)c.push(o[h]);return c},s.vectorTile=dm,s.version="1.13.2",s.warnOnce=Pe,s.webpSupported=Ut,s.window=I,s.wrap=q}),u(["./shared"],function(s){function m(se){var Ee=typeof se;if(Ee==="number"||Ee==="boolean"||Ee==="string"||se==null)return JSON.stringify(se);if(Array.isArray(se)){for(var Ie="[",Re=0,We=se;Re<We.length;Re+=1)Ie+=m(We[Re])+",";return Ie+"]"}for(var at=Object.keys(se).sort(),lt="{",Me=0;Me<at.length;Me++)lt+=JSON.stringify(at[Me])+":"+m(se[at[Me]])+",";return lt+"}"}function v(se){for(var Ee="",Ie=0,Re=s.refProperties;Ie<Re.length;Ie+=1)Ee+="/"+m(se[Re[Ie]]);return Ee}var _=function(se){this.keyCache={},se&&this.replace(se)};_.prototype.replace=function(se){this._layerConfigs={},this._layers={},this.update(se,[])},_.prototype.update=function(se,Ee){for(var Ie=this,Re=0,We=se;Re<We.length;Re+=1){var at=We[Re];this._layerConfigs[at.id]=at;var lt=this._layers[at.id]=s.createStyleLayer(at);lt._featureFilter=s.featureFilter(lt.filter),this.keyCache[at.id]&&delete this.keyCache[at.id]}for(var Me=0,Xe=Ee;Me<Xe.length;Me+=1){var ht=Xe[Me];delete this.keyCache[ht],delete this._layerConfigs[ht],delete this._layers[ht]}this.familiesBySource={};for(var $t=0,jt=function(Zt,or){for(var en={},dr=0;dr<Zt.length;dr++){var Ur=or&&or[Zt[dr].id]||v(Zt[dr]);or&&(or[Zt[dr].id]=Ur);var ln=en[Ur];ln||(ln=en[Ur]=[]),ln.push(Zt[dr])}var Lt=[];for(var cn in en)Lt.push(en[cn]);return Lt}(s.values(this._layerConfigs),this.keyCache);$t<jt.length;$t+=1){var dt=jt[$t].map(function(Zt){return Ie._layers[Zt.id]}),zt=dt[0];if(zt.visibility!=="none"){var _r=zt.source||"",cr=this.familiesBySource[_r];cr||(cr=this.familiesBySource[_r]={});var Et=zt.sourceLayer||"_geojsonTileLayer",fr=cr[Et];fr||(fr=cr[Et]=[]),fr.push(dt)}}};var P=function(se){var Ee={},Ie=[];for(var Re in se){var We=se[Re],at=Ee[Re]={};for(var lt in We){var Me=We[+lt];if(Me&&Me.bitmap.width!==0&&Me.bitmap.height!==0){var Xe={x:0,y:0,w:Me.bitmap.width+2,h:Me.bitmap.height+2};Ie.push(Xe),at[lt]={rect:Xe,metrics:Me.metrics}}}}var ht=s.potpack(Ie),$t=new s.AlphaImage({width:ht.w||1,height:ht.h||1});for(var jt in se){var dt=se[jt];for(var zt in dt){var _r=dt[+zt];if(_r&&_r.bitmap.width!==0&&_r.bitmap.height!==0){var cr=Ee[jt][zt].rect;s.AlphaImage.copy(_r.bitmap,$t,{x:0,y:0},{x:cr.x+1,y:cr.y+1},_r.bitmap)}}}this.image=$t,this.positions=Ee};s.register("GlyphAtlas",P);var C=function(se){this.tileID=new s.OverscaledTileID(se.tileID.overscaledZ,se.tileID.wrap,se.tileID.canonical.z,se.tileID.canonical.x,se.tileID.canonical.y),this.uid=se.uid,this.zoom=se.zoom,this.pixelRatio=se.pixelRatio,this.tileSize=se.tileSize,this.source=se.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=se.showCollisionBoxes,this.collectResourceTiming=!!se.collectResourceTiming,this.returnDependencies=!!se.returnDependencies,this.promoteId=se.promoteId};function I(se,Ee,Ie){for(var Re=new s.EvaluationParameters(Ee),We=0,at=se;We<at.length;We+=1)at[We].recalculate(Re,Ie)}function k(se,Ee){var Ie=s.getArrayBuffer(se.request,function(Re,We,at,lt){Re?Ee(Re):We&&Ee(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(We)),rawData:We,cacheControl:at,expires:lt})});return function(){Ie.cancel(),Ee()}}C.prototype.parse=function(se,Ee,Ie,Re,We){var at=this;this.status="parsing",this.data=se,this.collisionBoxArray=new s.CollisionBoxArray;var lt=new s.DictionaryCoder(Object.keys(se.layers).sort()),Me=new s.FeatureIndex(this.tileID,this.promoteId);Me.bucketLayerIDs=[];var Xe,ht,$t,jt,dt={},zt={featureIndex:Me,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ie},_r=Ee.familiesBySource[this.source];for(var cr in _r){var Et=se.layers[cr];if(Et){Et.version===1&&s.warnOnce('Vector tile source "'+this.source+'" layer "'+cr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var fr=lt.encode(cr),Zt=[],or=0;or<Et.length;or++){var en=Et.feature(or),dr=Me.getId(en,cr);Zt.push({feature:en,id:dr,index:or,sourceLayerIndex:fr})}for(var Ur=0,ln=_r[cr];Ur<ln.length;Ur+=1){var Lt=ln[Ur],cn=Lt[0];cn.minzoom&&this.zoom<Math.floor(cn.minzoom)||cn.maxzoom&&this.zoom>=cn.maxzoom||cn.visibility!=="none"&&(I(Lt,this.zoom,Ie),(dt[cn.id]=cn.createBucket({index:Me.bucketLayerIDs.length,layers:Lt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:fr,sourceID:this.source})).populate(Zt,zt,this.tileID.canonical),Me.bucketLayerIDs.push(Lt.map(function(Jn){return Jn.id})))}}}var Ln=s.mapObject(zt.glyphDependencies,function(Jn){return Object.keys(Jn).map(Number)});Object.keys(Ln).length?Re.send("getGlyphs",{uid:this.uid,stacks:Ln},function(Jn,fn){Xe||(Xe=Jn,ht=fn,Fi.call(at))}):ht={};var yi=Object.keys(zt.iconDependencies);yi.length?Re.send("getImages",{icons:yi,source:this.source,tileID:this.tileID,type:"icons"},function(Jn,fn){Xe||(Xe=Jn,$t=fn,Fi.call(at))}):$t={};var li=Object.keys(zt.patternDependencies);function Fi(){if(Xe)return We(Xe);if(ht&&$t&&jt){var Jn=new P(ht),fn=new s.ImageAtlas($t,jt);for(var hi in dt){var ja=dt[hi];ja instanceof s.SymbolBucket?(I(ja.layers,this.zoom,Ie),s.performSymbolLayout(ja,ht,Jn.positions,$t,fn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):ja.hasPattern&&(ja instanceof s.LineBucket||ja instanceof s.FillBucket||ja instanceof s.FillExtrusionBucket)&&(I(ja.layers,this.zoom,Ie),ja.addFeatures(zt,this.tileID.canonical,fn.patternPositions))}this.status="done",We(null,{buckets:s.values(dt).filter(function(bl){return!bl.isEmpty()}),featureIndex:Me,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Jn.image,imageAtlas:fn,glyphMap:this.returnDependencies?ht:null,iconMap:this.returnDependencies?$t:null,glyphPositions:this.returnDependencies?Jn.positions:null})}}li.length?Re.send("getImages",{icons:li,source:this.source,tileID:this.tileID,type:"patterns"},function(Jn,fn){Xe||(Xe=Jn,jt=fn,Fi.call(at))}):jt={},Fi.call(this)};var F=function(se,Ee,Ie,Re){this.actor=se,this.layerIndex=Ee,this.availableImages=Ie,this.loadVectorData=Re||k,this.loading={},this.loaded={}};F.prototype.loadTile=function(se,Ee){var Ie=this,Re=se.uid;this.loading||(this.loading={});var We=!!(se&&se.request&&se.request.collectResourceTiming)&&new s.RequestPerformance(se.request),at=this.loading[Re]=new C(se);at.abort=this.loadVectorData(se,function(lt,Me){if(delete Ie.loading[Re],lt||!Me)return at.status="done",Ie.loaded[Re]=at,Ee(lt);var Xe=Me.rawData,ht={};Me.expires&&(ht.expires=Me.expires),Me.cacheControl&&(ht.cacheControl=Me.cacheControl);var $t={};if(We){var jt=We.finish();jt&&($t.resourceTiming=JSON.parse(JSON.stringify(jt)))}at.vectorTile=Me.vectorTile,at.parse(Me.vectorTile,Ie.layerIndex,Ie.availableImages,Ie.actor,function(dt,zt){if(dt||!zt)return Ee(dt);Ee(null,s.extend({rawTileData:Xe.slice(0)},zt,ht,$t))}),Ie.loaded=Ie.loaded||{},Ie.loaded[Re]=at})},F.prototype.reloadTile=function(se,Ee){var Ie=this,Re=this.loaded,We=se.uid,at=this;if(Re&&Re[We]){var lt=Re[We];lt.showCollisionBoxes=se.showCollisionBoxes;var Me=function(Xe,ht){var $t=lt.reloadCallback;$t&&(delete lt.reloadCallback,lt.parse(lt.vectorTile,at.layerIndex,Ie.availableImages,at.actor,$t)),Ee(Xe,ht)};lt.status==="parsing"?lt.reloadCallback=Me:lt.status==="done"&&(lt.vectorTile?lt.parse(lt.vectorTile,this.layerIndex,this.availableImages,this.actor,Me):Me())}},F.prototype.abortTile=function(se,Ee){var Ie=this.loading,Re=se.uid;Ie&&Ie[Re]&&Ie[Re].abort&&(Ie[Re].abort(),delete Ie[Re]),Ee()},F.prototype.removeTile=function(se,Ee){var Ie=this.loaded,Re=se.uid;Ie&&Ie[Re]&&delete Ie[Re],Ee()};var V=s.window.ImageBitmap,Y=function(){this.loaded={}};function q(se,Ee){if(se.length!==0){M(se[0],Ee);for(var Ie=1;Ie<se.length;Ie++)M(se[Ie],!Ee)}}function M(se,Ee){for(var Ie=0,Re=0,We=se.length,at=We-1;Re<We;at=Re++)Ie+=(se[Re][0]-se[at][0])*(se[at][1]+se[Re][1]);Ie>=0!=!!Ee&&se.reverse()}Y.prototype.loadTile=function(se,Ee){var Ie=se.uid,Re=se.encoding,We=se.rawImageData,at=V&&We instanceof V?this.getImageData(We):We,lt=new s.DEMData(Ie,at,Re);this.loaded=this.loaded||{},this.loaded[Ie]=lt,Ee(null,lt)},Y.prototype.getImageData=function(se){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(se.width,se.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=se.width,this.offscreenCanvas.height=se.height,this.offscreenCanvasContext.drawImage(se,0,0,se.width,se.height);var Ee=this.offscreenCanvasContext.getImageData(-1,-1,se.width+2,se.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:Ee.width,height:Ee.height},Ee.data)},Y.prototype.removeTile=function(se){var Ee=this.loaded,Ie=se.uid;Ee&&Ee[Ie]&&delete Ee[Ie]};var j=s.vectorTile.VectorTileFeature.prototype.toGeoJSON,G=function(se){this._feature=se,this.extent=s.EXTENT,this.type=se.type,this.properties=se.tags,"id"in se&&!isNaN(se.id)&&(this.id=parseInt(se.id,10))};G.prototype.loadGeometry=function(){if(this._feature.type===1){for(var se=[],Ee=0,Ie=this._feature.geometry;Ee<Ie.length;Ee+=1){var Re=Ie[Ee];se.push([new s.Point$1(Re[0],Re[1])])}return se}for(var We=[],at=0,lt=this._feature.geometry;at<lt.length;at+=1){for(var Me=[],Xe=0,ht=lt[at];Xe<ht.length;Xe+=1){var $t=ht[Xe];Me.push(new s.Point$1($t[0],$t[1]))}We.push(Me)}return We},G.prototype.toGeoJSON=function(se,Ee,Ie){return j.call(this,se,Ee,Ie)};var J=function(se){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=se.length,this._features=se};J.prototype.feature=function(se){return new G(this._features[se])};var he=s.vectorTile.VectorTileFeature,pe=ne;function ne(se,Ee){this.options=Ee||{},this.features=se,this.length=se.length}function ee(se,Ee){this.id=typeof se.id=="number"?se.id:void 0,this.type=se.type,this.rawGeometry=se.type===1?[se.geometry]:se.geometry,this.properties=se.tags,this.extent=Ee||4096}ne.prototype.feature=function(se){return new ee(this.features[se],this.options.extent)},ee.prototype.loadGeometry=function(){var se=this.rawGeometry;this.geometry=[];for(var Ee=0;Ee<se.length;Ee++){for(var Ie=se[Ee],Re=[],We=0;We<Ie.length;We++)Re.push(new s.Point$1(Ie[We][0],Ie[We][1]));this.geometry.push(Re)}return this.geometry},ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var se=this.geometry,Ee=1/0,Ie=-1/0,Re=1/0,We=-1/0,at=0;at<se.length;at++)for(var lt=se[at],Me=0;Me<lt.length;Me++){var Xe=lt[Me];Ee=Math.min(Ee,Xe.x),Ie=Math.max(Ie,Xe.x),Re=Math.min(Re,Xe.y),We=Math.max(We,Xe.y)}return[Ee,Re,Ie,We]},ee.prototype.toGeoJSON=he.prototype.toGeoJSON;var ie=Se,we=pe;function Se(se){var Ee=new s.pbf;return function(Ie,Re){for(var We in Ie.layers)Re.writeMessage(3,Pe,Ie.layers[We])}(se,Ee),Ee.finish()}function Pe(se,Ee){var Ie;Ee.writeVarintField(15,se.version||1),Ee.writeStringField(1,se.name||""),Ee.writeVarintField(5,se.extent||4096);var Re={keys:[],values:[],keycache:{},valuecache:{}};for(Ie=0;Ie<se.length;Ie++)Re.feature=se.feature(Ie),Ee.writeMessage(2,ae,Re);var We=Re.keys;for(Ie=0;Ie<We.length;Ie++)Ee.writeStringField(3,We[Ie]);var at=Re.values;for(Ie=0;Ie<at.length;Ie++)Ee.writeMessage(4,ve,at[Ie])}function ae(se,Ee){var Ie=se.feature;Ie.id!==void 0&&Ee.writeVarintField(1,Ie.id),Ee.writeMessage(2,Be,se),Ee.writeVarintField(3,Ie.type),Ee.writeMessage(4,oe,Ie)}function Be(se,Ee){var Ie=se.feature,Re=se.keys,We=se.values,at=se.keycache,lt=se.valuecache;for(var Me in Ie.properties){var Xe=at[Me];Xe===void 0&&(Re.push(Me),at[Me]=Xe=Re.length-1),Ee.writeVarint(Xe);var ht=Ie.properties[Me],$t=typeof ht;$t!=="string"&&$t!=="boolean"&&$t!=="number"&&(ht=JSON.stringify(ht));var jt=$t+":"+ht,dt=lt[jt];dt===void 0&&(We.push(ht),lt[jt]=dt=We.length-1),Ee.writeVarint(dt)}}function Q(se,Ee){return(Ee<<3)+(7&se)}function te(se){return se<<1^se>>31}function oe(se,Ee){for(var Ie=se.loadGeometry(),Re=se.type,We=0,at=0,lt=Ie.length,Me=0;Me<lt;Me++){var Xe=Ie[Me],ht=1;Re===1&&(ht=Xe.length),Ee.writeVarint(Q(1,ht));for(var $t=Re===3?Xe.length-1:Xe.length,jt=0;jt<$t;jt++){jt===1&&Re!==1&&Ee.writeVarint(Q(2,$t-1));var dt=Xe[jt].x-We,zt=Xe[jt].y-at;Ee.writeVarint(te(dt)),Ee.writeVarint(te(zt)),We+=dt,at+=zt}Re===3&&Ee.writeVarint(Q(7,1))}}function ve(se,Ee){var Ie=typeof se;Ie==="string"?Ee.writeStringField(1,se):Ie==="boolean"?Ee.writeBooleanField(7,se):Ie==="number"&&(se%1!=0?Ee.writeDoubleField(3,se):se<0?Ee.writeSVarintField(6,se):Ee.writeVarintField(5,se))}function de(se,Ee,Ie,Re){ze(se,Ie,Re),ze(Ee,2*Ie,2*Re),ze(Ee,2*Ie+1,2*Re+1)}function ze(se,Ee,Ie){var Re=se[Ee];se[Ee]=se[Ie],se[Ie]=Re}function ye(se,Ee,Ie,Re){var We=se-Ie,at=Ee-Re;return We*We+at*at}ie.fromVectorTileJs=Se,ie.fromGeojsonVt=function(se,Ee){Ee=Ee||{};var Ie={};for(var Re in se)Ie[Re]=new pe(se[Re].features,Ee),Ie[Re].name=Re,Ie[Re].version=Ee.version,Ie[Re].extent=Ee.extent;return Se({layers:Ie})},ie.GeoJSONWrapper=we;var Je=function(se){return se[0]},Qe=function(se){return se[1]},yt=function(se,Ee,Ie,Re,We){Ee===void 0&&(Ee=Je),Ie===void 0&&(Ie=Qe),Re===void 0&&(Re=64),We===void 0&&(We=Float64Array),this.nodeSize=Re,this.points=se;for(var at=se.length<65536?Uint16Array:Uint32Array,lt=this.ids=new at(se.length),Me=this.coords=new We(2*se.length),Xe=0;Xe<se.length;Xe++)lt[Xe]=Xe,Me[2*Xe]=Ee(se[Xe]),Me[2*Xe+1]=Ie(se[Xe]);(function ht($t,jt,dt,zt,_r,cr){if(!(_r-zt<=dt)){var Et=zt+_r>>1;(function fr(Zt,or,en,dr,Ur,ln){for(;Ur>dr;){if(Ur-dr>600){var Lt=Ur-dr+1,cn=en-dr+1,Ln=Math.log(Lt),yi=.5*Math.exp(2*Ln/3),li=.5*Math.sqrt(Ln*yi*(Lt-yi)/Lt)*(cn-Lt/2<0?-1:1);fr(Zt,or,en,Math.max(dr,Math.floor(en-cn*yi/Lt+li)),Math.min(Ur,Math.floor(en+(Lt-cn)*yi/Lt+li)),ln)}var Fi=or[2*en+ln],Jn=dr,fn=Ur;for(de(Zt,or,dr,en),or[2*Ur+ln]>Fi&&de(Zt,or,dr,Ur);Jn<fn;){for(de(Zt,or,Jn,fn),Jn++,fn--;or[2*Jn+ln]<Fi;)Jn++;for(;or[2*fn+ln]>Fi;)fn--}or[2*dr+ln]===Fi?de(Zt,or,dr,fn):de(Zt,or,++fn,Ur),fn<=en&&(dr=fn+1),en<=fn&&(Ur=fn-1)}})($t,jt,Et,zt,_r,cr%2),ht($t,jt,dt,zt,Et-1,cr+1),ht($t,jt,dt,Et+1,_r,cr+1)}})(lt,Me,Re,0,lt.length-1,0)};yt.prototype.range=function(se,Ee,Ie,Re){return function(We,at,lt,Me,Xe,ht,$t){for(var jt,dt,zt=[0,We.length-1,0],_r=[];zt.length;){var cr=zt.pop(),Et=zt.pop(),fr=zt.pop();if(Et-fr<=$t)for(var Zt=fr;Zt<=Et;Zt++)dt=at[2*Zt+1],(jt=at[2*Zt])>=lt&&jt<=Xe&&dt>=Me&&dt<=ht&&_r.push(We[Zt]);else{var or=Math.floor((fr+Et)/2);dt=at[2*or+1],(jt=at[2*or])>=lt&&jt<=Xe&&dt>=Me&&dt<=ht&&_r.push(We[or]);var en=(cr+1)%2;(cr===0?lt<=jt:Me<=dt)&&(zt.push(fr),zt.push(or-1),zt.push(en)),(cr===0?Xe>=jt:ht>=dt)&&(zt.push(or+1),zt.push(Et),zt.push(en))}}return _r}(this.ids,this.coords,se,Ee,Ie,Re,this.nodeSize)},yt.prototype.within=function(se,Ee,Ie){return function(Re,We,at,lt,Me,Xe){for(var ht=[0,Re.length-1,0],$t=[],jt=Me*Me;ht.length;){var dt=ht.pop(),zt=ht.pop(),_r=ht.pop();if(zt-_r<=Xe)for(var cr=_r;cr<=zt;cr++)ye(We[2*cr],We[2*cr+1],at,lt)<=jt&&$t.push(Re[cr]);else{var Et=Math.floor((_r+zt)/2),fr=We[2*Et],Zt=We[2*Et+1];ye(fr,Zt,at,lt)<=jt&&$t.push(Re[Et]);var or=(dt+1)%2;(dt===0?at-Me<=fr:lt-Me<=Zt)&&(ht.push(_r),ht.push(Et-1),ht.push(or)),(dt===0?at+Me>=fr:lt+Me>=Zt)&&(ht.push(Et+1),ht.push(zt),ht.push(or))}}return $t}(this.ids,this.coords,se,Ee,Ie,this.nodeSize)};var _t={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(se){return se}},Tt=function(se){this.options=xr(Object.create(_t),se),this.trees=new Array(this.options.maxZoom+1)};function Yt(se,Ee,Ie,Re,We){return{x:se,y:Ee,zoom:1/0,id:Ie,parentId:-1,numPoints:Re,properties:We}}function It(se,Ee){var Ie=se.geometry.coordinates,Re=Ie[1];return{x:Xt(Ie[0]),y:Ht(Re),zoom:1/0,index:Ee,parentId:-1}}function Ut(se){return{type:"Feature",id:se.id,properties:Or(se),geometry:{type:"Point",coordinates:[(Re=se.x,360*(Re-.5)),(Ee=se.y,Ie=(180-360*Ee)*Math.PI/180,360*Math.atan(Math.exp(Ie))/Math.PI-90)]}};var Ee,Ie,Re}function Or(se){var Ee=se.numPoints,Ie=Ee>=1e4?Math.round(Ee/1e3)+"k":Ee>=1e3?Math.round(Ee/100)/10+"k":Ee;return xr(xr({},se.properties),{cluster:!0,cluster_id:se.id,point_count:Ee,point_count_abbreviated:Ie})}function Xt(se){return se/360+.5}function Ht(se){var Ee=Math.sin(se*Math.PI/180),Ie=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return Ie<0?0:Ie>1?1:Ie}function xr(se,Ee){for(var Ie in Ee)se[Ie]=Ee[Ie];return se}function Lr(se){return se.x}function Xr(se){return se.y}function ea(se,Ee,Ie,Re,We,at){var lt=We-Ie,Me=at-Re;if(lt!==0||Me!==0){var Xe=((se-Ie)*lt+(Ee-Re)*Me)/(lt*lt+Me*Me);Xe>1?(Ie=We,Re=at):Xe>0&&(Ie+=lt*Xe,Re+=Me*Xe)}return(lt=se-Ie)*lt+(Me=Ee-Re)*Me}function Mi(se,Ee,Ie,Re){var We={id:se===void 0?null:se,type:Ee,geometry:Ie,tags:Re,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(at){var lt=at.geometry,Me=at.type;if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")pt(at,lt);else if(Me==="Polygon"||Me==="MultiLineString")for(var Xe=0;Xe<lt.length;Xe++)pt(at,lt[Xe]);else if(Me==="MultiPolygon")for(Xe=0;Xe<lt.length;Xe++)for(var ht=0;ht<lt[Xe].length;ht++)pt(at,lt[Xe][ht])}(We),We}function pt(se,Ee){for(var Ie=0;Ie<Ee.length;Ie+=3)se.minX=Math.min(se.minX,Ee[Ie]),se.minY=Math.min(se.minY,Ee[Ie+1]),se.maxX=Math.max(se.maxX,Ee[Ie]),se.maxY=Math.max(se.maxY,Ee[Ie+1])}function Le(se,Ee,Ie,Re){if(Ee.geometry){var We=Ee.geometry.coordinates,at=Ee.geometry.type,lt=Math.pow(Ie.tolerance/((1<<Ie.maxZoom)*Ie.extent),2),Me=[],Xe=Ee.id;if(Ie.promoteId?Xe=Ee.properties[Ie.promoteId]:Ie.generateId&&(Xe=Re||0),at==="Point")be(We,Me);else if(at==="MultiPoint")for(var ht=0;ht<We.length;ht++)be(We[ht],Me);else if(at==="LineString")Oe(We,Me,lt,!1);else if(at==="MultiLineString"){if(Ie.lineMetrics){for(ht=0;ht<We.length;ht++)Oe(We[ht],Me=[],lt,!1),se.push(Mi(Xe,"LineString",Me,Ee.properties));return}Ze(We,Me,lt,!1)}else if(at==="Polygon")Ze(We,Me,lt,!0);else{if(at!=="MultiPolygon"){if(at==="GeometryCollection"){for(ht=0;ht<Ee.geometry.geometries.length;ht++)Le(se,{id:Xe,geometry:Ee.geometry.geometries[ht],properties:Ee.properties},Ie,Re);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ht=0;ht<We.length;ht++){var $t=[];Ze(We[ht],$t,lt,!0),Me.push($t)}}se.push(Mi(Xe,at,Me,Ee.properties))}}function be(se,Ee){Ee.push(st(se[0])),Ee.push(Pt(se[1])),Ee.push(0)}function Oe(se,Ee,Ie,Re){for(var We,at,lt=0,Me=0;Me<se.length;Me++){var Xe=st(se[Me][0]),ht=Pt(se[Me][1]);Ee.push(Xe),Ee.push(ht),Ee.push(0),Me>0&&(lt+=Re?(We*ht-Xe*at)/2:Math.sqrt(Math.pow(Xe-We,2)+Math.pow(ht-at,2))),We=Xe,at=ht}var $t=Ee.length-3;Ee[2]=1,function jt(dt,zt,_r,cr){for(var Et,fr=cr,Zt=_r-zt>>1,or=_r-zt,en=dt[zt],dr=dt[zt+1],Ur=dt[_r],ln=dt[_r+1],Lt=zt+3;Lt<_r;Lt+=3){var cn=ea(dt[Lt],dt[Lt+1],en,dr,Ur,ln);if(cn>fr)Et=Lt,fr=cn;else if(cn===fr){var Ln=Math.abs(Lt-Zt);Ln<or&&(Et=Lt,or=Ln)}}fr>cr&&(Et-zt>3&&jt(dt,zt,Et,cr),dt[Et+2]=fr,_r-Et>3&&jt(dt,Et,_r,cr))}(Ee,0,$t,Ie),Ee[$t+2]=1,Ee.size=Math.abs(lt),Ee.start=0,Ee.end=Ee.size}function Ze(se,Ee,Ie,Re){for(var We=0;We<se.length;We++){var at=[];Oe(se[We],at,Ie,Re),Ee.push(at)}}function st(se){return se/360+.5}function Pt(se){var Ee=Math.sin(se*Math.PI/180),Ie=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return Ie<0?0:Ie>1?1:Ie}function Rt(se,Ee,Ie,Re,We,at,lt,Me){if(Re/=Ee,at>=(Ie/=Ee)&&lt<Re)return se;if(lt<Ie||at>=Re)return null;for(var Xe=[],ht=0;ht<se.length;ht++){var $t=se[ht],jt=$t.geometry,dt=$t.type,zt=We===0?$t.minX:$t.minY,_r=We===0?$t.maxX:$t.maxY;if(zt>=Ie&&_r<Re)Xe.push($t);else if(!(_r<Ie||zt>=Re)){var cr=[];if(dt==="Point"||dt==="MultiPoint")mt(jt,cr,Ie,Re,We);else if(dt==="LineString")Nr(jt,cr,Ie,Re,We,!1,Me.lineMetrics);else if(dt==="MultiLineString")tr(jt,cr,Ie,Re,We,!1);else if(dt==="Polygon")tr(jt,cr,Ie,Re,We,!0);else if(dt==="MultiPolygon")for(var Et=0;Et<jt.length;Et++){var fr=[];tr(jt[Et],fr,Ie,Re,We,!0),fr.length&&cr.push(fr)}if(cr.length){if(Me.lineMetrics&&dt==="LineString"){for(Et=0;Et<cr.length;Et++)Xe.push(Mi($t.id,dt,cr[Et],$t.tags));continue}dt!=="LineString"&&dt!=="MultiLineString"||(cr.length===1?(dt="LineString",cr=cr[0]):dt="MultiLineString"),dt!=="Point"&&dt!=="MultiPoint"||(dt=cr.length===3?"Point":"MultiPoint"),Xe.push(Mi($t.id,dt,cr,$t.tags))}}}return Xe.length?Xe:null}function mt(se,Ee,Ie,Re,We){for(var at=0;at<se.length;at+=3){var lt=se[at+We];lt>=Ie&&lt<=Re&&(Ee.push(se[at]),Ee.push(se[at+1]),Ee.push(se[at+2]))}}function Nr(se,Ee,Ie,Re,We,at,lt){for(var Me,Xe,ht=Qr(se),$t=We===0?Bn:si,jt=se.start,dt=0;dt<se.length-3;dt+=3){var zt=se[dt],_r=se[dt+1],cr=se[dt+2],Et=se[dt+3],fr=se[dt+4],Zt=We===0?zt:_r,or=We===0?Et:fr,en=!1;lt&&(Me=Math.sqrt(Math.pow(zt-Et,2)+Math.pow(_r-fr,2))),Zt<Ie?or>Ie&&(Xe=$t(ht,zt,_r,Et,fr,Ie),lt&&(ht.start=jt+Me*Xe)):Zt>Re?or<Re&&(Xe=$t(ht,zt,_r,Et,fr,Re),lt&&(ht.start=jt+Me*Xe)):on(ht,zt,_r,cr),or<Ie&&Zt>=Ie&&(Xe=$t(ht,zt,_r,Et,fr,Ie),en=!0),or>Re&&Zt<=Re&&(Xe=$t(ht,zt,_r,Et,fr,Re),en=!0),!at&&en&&(lt&&(ht.end=jt+Me*Xe),Ee.push(ht),ht=Qr(se)),lt&&(jt+=Me)}var dr=se.length-3;zt=se[dr],_r=se[dr+1],cr=se[dr+2],(Zt=We===0?zt:_r)>=Ie&&Zt<=Re&&on(ht,zt,_r,cr),dr=ht.length-3,at&&dr>=3&&(ht[dr]!==ht[0]||ht[dr+1]!==ht[1])&&on(ht,ht[0],ht[1],ht[2]),ht.length&&Ee.push(ht)}function Qr(se){var Ee=[];return Ee.size=se.size,Ee.start=se.start,Ee.end=se.end,Ee}function tr(se,Ee,Ie,Re,We,at){for(var lt=0;lt<se.length;lt++)Nr(se[lt],Ee,Ie,Re,We,at,!1)}function on(se,Ee,Ie,Re){se.push(Ee),se.push(Ie),se.push(Re)}function Bn(se,Ee,Ie,Re,We,at){var lt=(at-Ee)/(Re-Ee);return se.push(at),se.push(Ie+(We-Ie)*lt),se.push(1),lt}function si(se,Ee,Ie,Re,We,at){var lt=(at-Ie)/(We-Ie);return se.push(Ee+(Re-Ee)*lt),se.push(at),se.push(1),lt}function $n(se,Ee){for(var Ie=[],Re=0;Re<se.length;Re++){var We,at=se[Re],lt=at.type;if(lt==="Point"||lt==="MultiPoint"||lt==="LineString")We=Fn(at.geometry,Ee);else if(lt==="MultiLineString"||lt==="Polygon"){We=[];for(var Me=0;Me<at.geometry.length;Me++)We.push(Fn(at.geometry[Me],Ee))}else if(lt==="MultiPolygon")for(We=[],Me=0;Me<at.geometry.length;Me++){for(var Xe=[],ht=0;ht<at.geometry[Me].length;ht++)Xe.push(Fn(at.geometry[Me][ht],Ee));We.push(Xe)}Ie.push(Mi(at.id,lt,We,at.tags))}return Ie}function Fn(se,Ee){var Ie=[];Ie.size=se.size,se.start!==void 0&&(Ie.start=se.start,Ie.end=se.end);for(var Re=0;Re<se.length;Re+=3)Ie.push(se[Re]+Ee,se[Re+1],se[Re+2]);return Ie}function Vo(se,Ee){if(se.transformed)return se;var Ie,Re,We,at=1<<se.z,lt=se.x,Me=se.y;for(Ie=0;Ie<se.features.length;Ie++){var Xe=se.features[Ie],ht=Xe.geometry,$t=Xe.type;if(Xe.geometry=[],$t===1)for(Re=0;Re<ht.length;Re+=2)Xe.geometry.push(ta(ht[Re],ht[Re+1],Ee,at,lt,Me));else for(Re=0;Re<ht.length;Re++){var jt=[];for(We=0;We<ht[Re].length;We+=2)jt.push(ta(ht[Re][We],ht[Re][We+1],Ee,at,lt,Me));Xe.geometry.push(jt)}}return se.transformed=!0,se}function ta(se,Ee,Ie,Re,We,at){return[Math.round(Ie*(se*Re-We)),Math.round(Ie*(Ee*Re-at))]}function Ea(se,Ee,Ie,Re,We){for(var at=Ee===We.maxZoom?0:We.tolerance/((1<<Ee)*We.extent),lt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ie,y:Re,z:Ee,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Me=0;Me<se.length;Me++){lt.numFeatures++,Go(lt,se[Me],at,We);var Xe=se[Me].minX,ht=se[Me].minY,$t=se[Me].maxX,jt=se[Me].maxY;Xe<lt.minX&&(lt.minX=Xe),ht<lt.minY&&(lt.minY=ht),$t>lt.maxX&&(lt.maxX=$t),jt>lt.maxY&&(lt.maxY=jt)}return lt}function Go(se,Ee,Ie,Re){var We=Ee.geometry,at=Ee.type,lt=[];if(at==="Point"||at==="MultiPoint")for(var Me=0;Me<We.length;Me+=3)lt.push(We[Me]),lt.push(We[Me+1]),se.numPoints++,se.numSimplified++;else if(at==="LineString")ui(lt,We,se,Ie,!1,!1);else if(at==="MultiLineString"||at==="Polygon")for(Me=0;Me<We.length;Me++)ui(lt,We[Me],se,Ie,at==="Polygon",Me===0);else if(at==="MultiPolygon")for(var Xe=0;Xe<We.length;Xe++){var ht=We[Xe];for(Me=0;Me<ht.length;Me++)ui(lt,ht[Me],se,Ie,!0,Me===0)}if(lt.length){var $t=Ee.tags||null;if(at==="LineString"&&Re.lineMetrics){for(var jt in $t={},Ee.tags)$t[jt]=Ee.tags[jt];$t.mapbox_clip_start=We.start/We.size,$t.mapbox_clip_end=We.end/We.size}var dt={geometry:lt,type:at==="Polygon"||at==="MultiPolygon"?3:at==="LineString"||at==="MultiLineString"?2:1,tags:$t};Ee.id!==null&&(dt.id=Ee.id),se.features.push(dt)}}function ui(se,Ee,Ie,Re,We,at){var lt=Re*Re;if(Re>0&&Ee.size<(We?lt:Re))Ie.numPoints+=Ee.length/3;else{for(var Me=[],Xe=0;Xe<Ee.length;Xe+=3)(Re===0||Ee[Xe+2]>lt)&&(Ie.numSimplified++,Me.push(Ee[Xe]),Me.push(Ee[Xe+1])),Ie.numPoints++;We&&function(ht,$t){for(var jt=0,dt=0,zt=ht.length,_r=zt-2;dt<zt;_r=dt,dt+=2)jt+=(ht[dt]-ht[_r])*(ht[dt+1]+ht[_r+1]);if(jt>0===$t)for(dt=0,zt=ht.length;dt<zt/2;dt+=2){var cr=ht[dt],Et=ht[dt+1];ht[dt]=ht[zt-2-dt],ht[dt+1]=ht[zt-1-dt],ht[zt-2-dt]=cr,ht[zt-1-dt]=Et}}(Me,at),se.push(Me)}}function Fa(se,Ee){var Ie=(Ee=this.options=function(We,at){for(var lt in at)We[lt]=at[lt];return We}(Object.create(this.options),Ee)).debug;if(Ie&&console.time("preprocess data"),Ee.maxZoom<0||Ee.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ee.promoteId&&Ee.generateId)throw new Error("promoteId and generateId cannot be used together.");var Re=function(We,at){var lt=[];if(We.type==="FeatureCollection")for(var Me=0;Me<We.features.length;Me++)Le(lt,We.features[Me],at,Me);else Le(lt,We.type==="Feature"?We:{geometry:We},at);return lt}(se,Ee);this.tiles={},this.tileCoords=[],Ie&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ee.indexMaxZoom,Ee.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Re=function(We,at){var lt=at.buffer/at.extent,Me=We,Xe=Rt(We,1,-1-lt,lt,0,-1,2,at),ht=Rt(We,1,1-lt,2+lt,0,-1,2,at);return(Xe||ht)&&(Me=Rt(We,1,-lt,1+lt,0,-1,2,at)||[],Xe&&(Me=$n(Xe,1).concat(Me)),ht&&(Me=Me.concat($n(ht,-1)))),Me}(Re,Ee)).length&&this.splitTile(Re,0,0,0),Ie&&(Re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function to(se,Ee,Ie){return 32*((1<<se)*Ie+Ee)+se}function Kt(se,Ee){var Ie=se.tileID.canonical;if(!this._geoJSONIndex)return Ee(null,null);var Re=this._geoJSONIndex.getTile(Ie.z,Ie.x,Ie.y);if(!Re)return Ee(null,null);var We=new J(Re.features),at=ie(We);at.byteOffset===0&&at.byteLength===at.buffer.byteLength||(at=new Uint8Array(at)),Ee(null,{vectorTile:We,rawData:at.buffer})}Tt.prototype.load=function(se){var Ee=this.options,Ie=Ee.log,Re=Ee.minZoom,We=Ee.maxZoom,at=Ee.nodeSize;Ie&&console.time("total time");var lt="prepare "+se.length+" points";Ie&&console.time(lt),this.points=se;for(var Me=[],Xe=0;Xe<se.length;Xe++)se[Xe].geometry&&Me.push(It(se[Xe],Xe));this.trees[We+1]=new yt(Me,Lr,Xr,at,Float32Array),Ie&&console.timeEnd(lt);for(var ht=We;ht>=Re;ht--){var $t=+Date.now();Me=this._cluster(Me,ht),this.trees[ht]=new yt(Me,Lr,Xr,at,Float32Array),Ie&&console.log("z%d: %d clusters in %dms",ht,Me.length,+Date.now()-$t)}return Ie&&console.timeEnd("total time"),this},Tt.prototype.getClusters=function(se,Ee){var Ie=((se[0]+180)%360+360)%360-180,Re=Math.max(-90,Math.min(90,se[1])),We=se[2]===180?180:((se[2]+180)%360+360)%360-180,at=Math.max(-90,Math.min(90,se[3]));if(se[2]-se[0]>=360)Ie=-180,We=180;else if(Ie>We){var lt=this.getClusters([Ie,Re,180,at],Ee),Me=this.getClusters([-180,Re,We,at],Ee);return lt.concat(Me)}for(var Xe=this.trees[this._limitZoom(Ee)],ht=[],$t=0,jt=Xe.range(Xt(Ie),Ht(at),Xt(We),Ht(Re));$t<jt.length;$t+=1){var dt=Xe.points[jt[$t]];ht.push(dt.numPoints?Ut(dt):this.points[dt.index])}return ht},Tt.prototype.getChildren=function(se){var Ee=this._getOriginId(se),Ie=this._getOriginZoom(se),Re="No cluster with the specified id.",We=this.trees[Ie];if(!We)throw new Error(Re);var at=We.points[Ee];if(!at)throw new Error(Re);for(var lt=this.options.radius/(this.options.extent*Math.pow(2,Ie-1)),Me=[],Xe=0,ht=We.within(at.x,at.y,lt);Xe<ht.length;Xe+=1){var $t=We.points[ht[Xe]];$t.parentId===se&&Me.push($t.numPoints?Ut($t):this.points[$t.index])}if(Me.length===0)throw new Error(Re);return Me},Tt.prototype.getLeaves=function(se,Ee,Ie){var Re=[];return this._appendLeaves(Re,se,Ee=Ee||10,Ie=Ie||0,0),Re},Tt.prototype.getTile=function(se,Ee,Ie){var Re=this.trees[this._limitZoom(se)],We=Math.pow(2,se),at=this.options,lt=at.radius/at.extent,Me=(Ie-lt)/We,Xe=(Ie+1+lt)/We,ht={features:[]};return this._addTileFeatures(Re.range((Ee-lt)/We,Me,(Ee+1+lt)/We,Xe),Re.points,Ee,Ie,We,ht),Ee===0&&this._addTileFeatures(Re.range(1-lt/We,Me,1,Xe),Re.points,We,Ie,We,ht),Ee===We-1&&this._addTileFeatures(Re.range(0,Me,lt/We,Xe),Re.points,-1,Ie,We,ht),ht.features.length?ht:null},Tt.prototype.getClusterExpansionZoom=function(se){for(var Ee=this._getOriginZoom(se)-1;Ee<=this.options.maxZoom;){var Ie=this.getChildren(se);if(Ee++,Ie.length!==1)break;se=Ie[0].properties.cluster_id}return Ee},Tt.prototype._appendLeaves=function(se,Ee,Ie,Re,We){for(var at=0,lt=this.getChildren(Ee);at<lt.length;at+=1){var Me=lt[at],Xe=Me.properties;if(Xe&&Xe.cluster?We+Xe.point_count<=Re?We+=Xe.point_count:We=this._appendLeaves(se,Xe.cluster_id,Ie,Re,We):We<Re?We++:se.push(Me),se.length===Ie)break}return We},Tt.prototype._addTileFeatures=function(se,Ee,Ie,Re,We,at){for(var lt=0,Me=se;lt<Me.length;lt+=1){var Xe=Ee[Me[lt]],ht=Xe.numPoints,$t={type:1,geometry:[[Math.round(this.options.extent*(Xe.x*We-Ie)),Math.round(this.options.extent*(Xe.y*We-Re))]],tags:ht?Or(Xe):this.points[Xe.index].properties},jt=void 0;ht?jt=Xe.id:this.options.generateId?jt=Xe.index:this.points[Xe.index].id&&(jt=this.points[Xe.index].id),jt!==void 0&&($t.id=jt),at.features.push($t)}},Tt.prototype._limitZoom=function(se){return Math.max(this.options.minZoom,Math.min(+se,this.options.maxZoom+1))},Tt.prototype._cluster=function(se,Ee){for(var Ie=[],Re=this.options,We=Re.reduce,at=Re.minPoints,lt=Re.radius/(Re.extent*Math.pow(2,Ee)),Me=0;Me<se.length;Me++){var Xe=se[Me];if(!(Xe.zoom<=Ee)){Xe.zoom=Ee;for(var ht=this.trees[Ee+1],$t=ht.within(Xe.x,Xe.y,lt),jt=Xe.numPoints||1,dt=jt,zt=0,_r=$t;zt<_r.length;zt+=1){var cr=ht.points[_r[zt]];cr.zoom>Ee&&(dt+=cr.numPoints||1)}if(dt>=at){for(var Et=Xe.x*jt,fr=Xe.y*jt,Zt=We&&jt>1?this._map(Xe,!0):null,or=(Me<<5)+(Ee+1)+this.points.length,en=0,dr=$t;en<dr.length;en+=1){var Ur=ht.points[dr[en]];if(!(Ur.zoom<=Ee)){Ur.zoom=Ee;var ln=Ur.numPoints||1;Et+=Ur.x*ln,fr+=Ur.y*ln,Ur.parentId=or,We&&(Zt||(Zt=this._map(Xe,!0)),We(Zt,this._map(Ur)))}}Xe.parentId=or,Ie.push(Yt(Et/dt,fr/dt,or,dt,Zt))}else if(Ie.push(Xe),dt>1)for(var Lt=0,cn=$t;Lt<cn.length;Lt+=1){var Ln=ht.points[cn[Lt]];Ln.zoom<=Ee||(Ln.zoom=Ee,Ie.push(Ln))}}}return Ie},Tt.prototype._getOriginId=function(se){return se-this.points.length>>5},Tt.prototype._getOriginZoom=function(se){return(se-this.points.length)%32},Tt.prototype._map=function(se,Ee){if(se.numPoints)return Ee?xr({},se.properties):se.properties;var Ie=this.points[se.index].properties,Re=this.options.map(Ie);return Ee&&Re===Ie?xr({},Re):Re},Fa.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Fa.prototype.splitTile=function(se,Ee,Ie,Re,We,at,lt){for(var Me=[se,Ee,Ie,Re],Xe=this.options,ht=Xe.debug;Me.length;){Re=Me.pop(),Ie=Me.pop(),Ee=Me.pop(),se=Me.pop();var $t=1<<Ee,jt=to(Ee,Ie,Re),dt=this.tiles[jt];if(!dt&&(ht>1&&console.time("creation"),dt=this.tiles[jt]=Ea(se,Ee,Ie,Re,Xe),this.tileCoords.push({z:Ee,x:Ie,y:Re}),ht)){ht>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ee,Ie,Re,dt.numFeatures,dt.numPoints,dt.numSimplified),console.timeEnd("creation"));var zt="z"+Ee;this.stats[zt]=(this.stats[zt]||0)+1,this.total++}if(dt.source=se,We){if(Ee===Xe.maxZoom||Ee===We)continue;var _r=1<<We-Ee;if(Ie!==Math.floor(at/_r)||Re!==Math.floor(lt/_r))continue}else if(Ee===Xe.indexMaxZoom||dt.numPoints<=Xe.indexMaxPoints)continue;if(dt.source=null,se.length!==0){ht>1&&console.time("clipping");var cr,Et,fr,Zt,or,en,dr=.5*Xe.buffer/Xe.extent,Ur=.5-dr,ln=.5+dr,Lt=1+dr;cr=Et=fr=Zt=null,or=Rt(se,$t,Ie-dr,Ie+ln,0,dt.minX,dt.maxX,Xe),en=Rt(se,$t,Ie+Ur,Ie+Lt,0,dt.minX,dt.maxX,Xe),se=null,or&&(cr=Rt(or,$t,Re-dr,Re+ln,1,dt.minY,dt.maxY,Xe),Et=Rt(or,$t,Re+Ur,Re+Lt,1,dt.minY,dt.maxY,Xe),or=null),en&&(fr=Rt(en,$t,Re-dr,Re+ln,1,dt.minY,dt.maxY,Xe),Zt=Rt(en,$t,Re+Ur,Re+Lt,1,dt.minY,dt.maxY,Xe),en=null),ht>1&&console.timeEnd("clipping"),Me.push(cr||[],Ee+1,2*Ie,2*Re),Me.push(Et||[],Ee+1,2*Ie,2*Re+1),Me.push(fr||[],Ee+1,2*Ie+1,2*Re),Me.push(Zt||[],Ee+1,2*Ie+1,2*Re+1)}}},Fa.prototype.getTile=function(se,Ee,Ie){var Re=this.options,We=Re.extent,at=Re.debug;if(se<0||se>24)return null;var lt=1<<se,Me=to(se,Ee=(Ee%lt+lt)%lt,Ie);if(this.tiles[Me])return Vo(this.tiles[Me],We);at>1&&console.log("drilling down to z%d-%d-%d",se,Ee,Ie);for(var Xe,ht=se,$t=Ee,jt=Ie;!Xe&&ht>0;)ht--,$t=Math.floor($t/2),jt=Math.floor(jt/2),Xe=this.tiles[to(ht,$t,jt)];return Xe&&Xe.source?(at>1&&console.log("found parent tile z%d-%d-%d",ht,$t,jt),at>1&&console.time("drilling down"),this.splitTile(Xe.source,ht,$t,jt,se,Ee,Ie),at>1&&console.timeEnd("drilling down"),this.tiles[Me]?Vo(this.tiles[Me],We):null):null};var ms=function(se){function Ee(Ie,Re,We,at){se.call(this,Ie,Re,We,Kt),at&&(this.loadGeoJSON=at)}return se&&(Ee.__proto__=se),(Ee.prototype=Object.create(se&&se.prototype)).constructor=Ee,Ee.prototype.loadData=function(Ie,Re){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Re,this._pendingLoadDataParams=Ie,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Ee.prototype._loadData=function(){var Ie=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Re=this._pendingCallback,We=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var at=!!(We&&We.request&&We.request.collectResourceTiming)&&new s.RequestPerformance(We.request);this.loadGeoJSON(We,function(lt,Me){if(lt||!Me)return Re(lt);if(typeof Me!="object")return Re(new Error("Input data given to '"+We.source+"' is not a valid GeoJSON object."));(function dt(zt,_r){var cr,Et=zt&&zt.type;if(Et==="FeatureCollection")for(cr=0;cr<zt.features.length;cr++)dt(zt.features[cr],_r);else if(Et==="GeometryCollection")for(cr=0;cr<zt.geometries.length;cr++)dt(zt.geometries[cr],_r);else if(Et==="Feature")dt(zt.geometry,_r);else if(Et==="Polygon")q(zt.coordinates,_r);else if(Et==="MultiPolygon")for(cr=0;cr<zt.coordinates.length;cr++)q(zt.coordinates[cr],_r);return zt})(Me,!0);try{if(We.filter){var Xe=s.createExpression(We.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Xe.result==="error")throw new Error(Xe.value.map(function(dt){return dt.key+": "+dt.message}).join(", "));var ht=Me.features.filter(function(dt){return Xe.value.evaluate({zoom:0},dt)});Me={type:"FeatureCollection",features:ht}}Ie._geoJSONIndex=We.cluster?new Tt(function(dt){var zt=dt.superclusterOptions,_r=dt.clusterProperties;if(!_r||!zt)return zt;for(var cr={},Et={},fr={accumulated:null,zoom:0},Zt={properties:null},or=Object.keys(_r),en=0,dr=or;en<dr.length;en+=1){var Ur=dr[en],ln=_r[Ur],Lt=ln[0],cn=s.createExpression(ln[1]),Ln=s.createExpression(typeof Lt=="string"?[Lt,["accumulated"],["get",Ur]]:Lt);cr[Ur]=cn.value,Et[Ur]=Ln.value}return zt.map=function(yi){Zt.properties=yi;for(var li={},Fi=0,Jn=or;Fi<Jn.length;Fi+=1){var fn=Jn[Fi];li[fn]=cr[fn].evaluate(fr,Zt)}return li},zt.reduce=function(yi,li){Zt.properties=li;for(var Fi=0,Jn=or;Fi<Jn.length;Fi+=1){var fn=Jn[Fi];fr.accumulated=yi[fn],yi[fn]=Et[fn].evaluate(fr,Zt)}},zt}(We)).load(Me.features):function(dt,zt){return new Fa(dt,zt)}(Me,We.geojsonVtOptions)}catch(dt){return Re(dt)}Ie.loaded={};var $t={};if(at){var jt=at.finish();jt&&($t.resourceTiming={},$t.resourceTiming[We.source]=JSON.parse(JSON.stringify(jt)))}Re(null,$t)})}},Ee.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Ee.prototype.reloadTile=function(Ie,Re){var We=this.loaded;return We&&We[Ie.uid]?se.prototype.reloadTile.call(this,Ie,Re):this.loadTile(Ie,Re)},Ee.prototype.loadGeoJSON=function(Ie,Re){if(Ie.request)s.getJSON(Ie.request,Re);else{if(typeof Ie.data!="string")return Re(new Error("Input data given to '"+Ie.source+"' is not a valid GeoJSON object."));try{return Re(null,JSON.parse(Ie.data))}catch{return Re(new Error("Input data given to '"+Ie.source+"' is not a valid GeoJSON object."))}}},Ee.prototype.removeSource=function(Ie,Re){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Re()},Ee.prototype.getClusterExpansionZoom=function(Ie,Re){try{Re(null,this._geoJSONIndex.getClusterExpansionZoom(Ie.clusterId))}catch(We){Re(We)}},Ee.prototype.getClusterChildren=function(Ie,Re){try{Re(null,this._geoJSONIndex.getChildren(Ie.clusterId))}catch(We){Re(We)}},Ee.prototype.getClusterLeaves=function(Ie,Re){try{Re(null,this._geoJSONIndex.getLeaves(Ie.clusterId,Ie.limit,Ie.offset))}catch(We){Re(We)}},Ee}(F),zi=function(se){var Ee=this;this.self=se,this.actor=new s.Actor(se,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:F,geojson:ms},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ie,Re){if(Ee.workerSourceTypes[Ie])throw new Error('Worker source with name "'+Ie+'" already registered.');Ee.workerSourceTypes[Ie]=Re},this.self.registerRTLTextPlugin=function(Ie){if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ie.applyArabicShaping,s.plugin.processBidirectionalText=Ie.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ie.processStyledBidirectionalText}};return zi.prototype.setReferrer=function(se,Ee){this.referrer=Ee},zi.prototype.setImages=function(se,Ee,Ie){for(var Re in this.availableImages[se]=Ee,this.workerSources[se]){var We=this.workerSources[se][Re];for(var at in We)We[at].availableImages=Ee}Ie()},zi.prototype.setLayers=function(se,Ee,Ie){this.getLayerIndex(se).replace(Ee),Ie()},zi.prototype.updateLayers=function(se,Ee,Ie){this.getLayerIndex(se).update(Ee.layers,Ee.removedIds),Ie()},zi.prototype.loadTile=function(se,Ee,Ie){this.getWorkerSource(se,Ee.type,Ee.source).loadTile(Ee,Ie)},zi.prototype.loadDEMTile=function(se,Ee,Ie){this.getDEMWorkerSource(se,Ee.source).loadTile(Ee,Ie)},zi.prototype.reloadTile=function(se,Ee,Ie){this.getWorkerSource(se,Ee.type,Ee.source).reloadTile(Ee,Ie)},zi.prototype.abortTile=function(se,Ee,Ie){this.getWorkerSource(se,Ee.type,Ee.source).abortTile(Ee,Ie)},zi.prototype.removeTile=function(se,Ee,Ie){this.getWorkerSource(se,Ee.type,Ee.source).removeTile(Ee,Ie)},zi.prototype.removeDEMTile=function(se,Ee){this.getDEMWorkerSource(se,Ee.source).removeTile(Ee)},zi.prototype.removeSource=function(se,Ee,Ie){if(this.workerSources[se]&&this.workerSources[se][Ee.type]&&this.workerSources[se][Ee.type][Ee.source]){var Re=this.workerSources[se][Ee.type][Ee.source];delete this.workerSources[se][Ee.type][Ee.source],Re.removeSource!==void 0?Re.removeSource(Ee,Ie):Ie()}},zi.prototype.loadWorkerSource=function(se,Ee,Ie){try{this.self.importScripts(Ee.url),Ie()}catch(Re){Ie(Re.toString())}},zi.prototype.syncRTLPluginState=function(se,Ee,Ie){try{s.plugin.setState(Ee);var Re=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&Re!=null){this.self.importScripts(Re);var We=s.plugin.isParsed();Ie(We?void 0:new Error("RTL Text Plugin failed to import scripts from "+Re),We)}}catch(at){Ie(at.toString())}},zi.prototype.getAvailableImages=function(se){var Ee=this.availableImages[se];return Ee||(Ee=[]),Ee},zi.prototype.getLayerIndex=function(se){var Ee=this.layerIndexes[se];return Ee||(Ee=this.layerIndexes[se]=new _),Ee},zi.prototype.getWorkerSource=function(se,Ee,Ie){var Re=this;return this.workerSources[se]||(this.workerSources[se]={}),this.workerSources[se][Ee]||(this.workerSources[se][Ee]={}),this.workerSources[se][Ee][Ie]||(this.workerSources[se][Ee][Ie]=new this.workerSourceTypes[Ee]({send:function(We,at,lt){Re.actor.send(We,at,lt,se)}},this.getLayerIndex(se),this.getAvailableImages(se))),this.workerSources[se][Ee][Ie]},zi.prototype.getDEMWorkerSource=function(se,Ee){return this.demWorkerSources[se]||(this.demWorkerSources[se]={}),this.demWorkerSources[se][Ee]||(this.demWorkerSources[se][Ee]=new Y),this.demWorkerSources[se][Ee]},zi.prototype.enforceCacheSizeLimit=function(se,Ee){s.enforceCacheSizeLimit(Ee)},typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new zi(self)),zi}),u(["./shared"],function(s){var m=s.createCommonjsModule(function(d){function b(N){return!g(N)}function g(N){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var $,X,ue=new Blob([""],{type:"text/javascript"}),ge=URL.createObjectURL(ue);try{X=new Worker(ge),$=!0}catch{$=!1}return X&&X.terminate(),URL.revokeObjectURL(ge),$}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var $=document.createElement("canvas");$.width=$.height=1;var X=$.getContext("2d");if(!X)return!1;var ue=X.getImageData(0,0,1,1);return ue&&ue.width===$.width}()?(S[z=N&&N.failIfMajorPerformanceCaveat]===void 0&&(S[z]=function($){var X=function(ge){var Te=document.createElement("canvas"),ke=Object.create(b.webGLContextAttributes);return ke.failIfMajorPerformanceCaveat=ge,Te.probablySupportsContext?Te.probablySupportsContext("webgl",ke)||Te.probablySupportsContext("experimental-webgl",ke):Te.supportsContext?Te.supportsContext("webgl",ke)||Te.supportsContext("experimental-webgl",ke):Te.getContext("webgl",ke)||Te.getContext("experimental-webgl",ke)}($);if(!X)return!1;var ue=X.createShader(X.VERTEX_SHADER);return!(!ue||X.isContextLost())&&(X.shaderSource(ue,"void main() {}"),X.compileShader(ue),X.getShaderParameter(ue,X.COMPILE_STATUS)===!0)}(z)),S[z]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var z}d.exports?d.exports=b:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=b,window.mapboxgl.notSupportedReason=g);var S={};b.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),v={create:function(d,b,g){var S=s.window.document.createElement(d);return b!==void 0&&(S.className=b),g&&g.appendChild(S),S},createNS:function(d,b){return s.window.document.createElementNS(d,b)}},_=s.window.document&&s.window.document.documentElement.style;function P(d){if(!_)return d[0];for(var b=0;b<d.length;b++)if(d[b]in _)return d[b];return d[0]}var C,I=P(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);v.disableDrag=function(){_&&I&&(C=_[I],_[I]="none")},v.enableDrag=function(){_&&I&&(_[I]=C)};var k=P(["transform","WebkitTransform"]);v.setTransform=function(d,b){d.style[k]=b};var F=!1;try{var V=Object.defineProperty({},"passive",{get:function(){F=!0}});s.window.addEventListener("test",V,V),s.window.removeEventListener("test",V,V)}catch{F=!1}v.addEventListener=function(d,b,g,S){S===void 0&&(S={}),d.addEventListener(b,g,"passive"in S&&F?S:S.capture)},v.removeEventListener=function(d,b,g,S){S===void 0&&(S={}),d.removeEventListener(b,g,"passive"in S&&F?S:S.capture)};var Y=function(d){d.preventDefault(),d.stopPropagation(),s.window.removeEventListener("click",Y,!0)};function q(d){var b=d.userImage;return!!(b&&b.render&&b.render())&&(d.data.replace(new Uint8Array(b.data.buffer)),!0)}v.suppressClick=function(){s.window.addEventListener("click",Y,!0),s.window.setTimeout(function(){s.window.removeEventListener("click",Y,!0)},0)},v.mousePos=function(d,b){var g=d.getBoundingClientRect();return new s.Point(b.clientX-g.left-d.clientLeft,b.clientY-g.top-d.clientTop)},v.touchPos=function(d,b){for(var g=d.getBoundingClientRect(),S=[],N=0;N<b.length;N++)S.push(new s.Point(b[N].clientX-g.left-d.clientLeft,b[N].clientY-g.top-d.clientTop));return S},v.mouseButton=function(d){return s.window.InstallTrigger!==void 0&&d.button===2&&d.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:d.button},v.remove=function(d){d.parentNode&&d.parentNode.removeChild(d)};var M=function(d){function b(){d.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.isLoaded=function(){return this.loaded},b.prototype.setLoaded=function(g){if(this.loaded!==g&&(this.loaded=g,g)){for(var S=0,N=this.requestors;S<N.length;S+=1){var z=N[S];this._notify(z.ids,z.callback)}this.requestors=[]}},b.prototype.getImage=function(g){return this.images[g]},b.prototype.addImage=function(g,S){this._validate(g,S)&&(this.images[g]=S)},b.prototype._validate=function(g,S){var N=!0;return this._validateStretch(S.stretchX,S.data&&S.data.width)||(this.fire(new s.ErrorEvent(new Error('Image "'+g+'" has invalid "stretchX" value'))),N=!1),this._validateStretch(S.stretchY,S.data&&S.data.height)||(this.fire(new s.ErrorEvent(new Error('Image "'+g+'" has invalid "stretchY" value'))),N=!1),this._validateContent(S.content,S)||(this.fire(new s.ErrorEvent(new Error('Image "'+g+'" has invalid "content" value'))),N=!1),N},b.prototype._validateStretch=function(g,S){if(!g)return!0;for(var N=0,z=0,$=g;z<$.length;z+=1){var X=$[z];if(X[0]<N||X[1]<X[0]||S<X[1])return!1;N=X[1]}return!0},b.prototype._validateContent=function(g,S){return!(g&&(g.length!==4||g[0]<0||S.data.width<g[0]||g[1]<0||S.data.height<g[1]||g[2]<0||S.data.width<g[2]||g[3]<0||S.data.height<g[3]||g[2]<g[0]||g[3]<g[1]))},b.prototype.updateImage=function(g,S){S.version=this.images[g].version+1,this.images[g]=S,this.updatedImages[g]=!0},b.prototype.removeImage=function(g){var S=this.images[g];delete this.images[g],delete this.patterns[g],S.userImage&&S.userImage.onRemove&&S.userImage.onRemove()},b.prototype.listImages=function(){return Object.keys(this.images)},b.prototype.getImages=function(g,S){var N=!0;if(!this.isLoaded())for(var z=0,$=g;z<$.length;z+=1)this.images[$[z]]||(N=!1);this.isLoaded()||N?this._notify(g,S):this.requestors.push({ids:g,callback:S})},b.prototype._notify=function(g,S){for(var N={},z=0,$=g;z<$.length;z+=1){var X=$[z];this.images[X]||this.fire(new s.Event("styleimagemissing",{id:X}));var ue=this.images[X];ue?N[X]={data:ue.data.clone(),pixelRatio:ue.pixelRatio,sdf:ue.sdf,version:ue.version,stretchX:ue.stretchX,stretchY:ue.stretchY,content:ue.content,hasRenderCallback:Boolean(ue.userImage&&ue.userImage.render)}:s.warnOnce('Image "'+X+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}S(null,N)},b.prototype.getPixelSize=function(){var g=this.atlasImage;return{width:g.width,height:g.height}},b.prototype.getPattern=function(g){var S=this.patterns[g],N=this.getImage(g);if(!N)return null;if(S&&S.position.version===N.version)return S.position;if(S)S.position.version=N.version;else{var z={w:N.data.width+2,h:N.data.height+2,x:0,y:0},$=new s.ImagePosition(z,N);this.patterns[g]={bin:z,position:$}}return this._updatePatternAtlas(),this.patterns[g].position},b.prototype.bind=function(g){var S=g.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(g,this.atlasImage,S.RGBA),this.atlasTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE)},b.prototype._updatePatternAtlas=function(){var g=[];for(var S in this.patterns)g.push(this.patterns[S].bin);var N=s.potpack(g),z=N.w,$=N.h,X=this.atlasImage;for(var ue in X.resize({width:z||1,height:$||1}),this.patterns){var ge=this.patterns[ue].bin,Te=ge.x+1,ke=ge.y+1,De=this.images[ue].data,fe=De.width,He=De.height;s.RGBAImage.copy(De,X,{x:0,y:0},{x:Te,y:ke},{width:fe,height:He}),s.RGBAImage.copy(De,X,{x:0,y:He-1},{x:Te,y:ke-1},{width:fe,height:1}),s.RGBAImage.copy(De,X,{x:0,y:0},{x:Te,y:ke+He},{width:fe,height:1}),s.RGBAImage.copy(De,X,{x:fe-1,y:0},{x:Te-1,y:ke},{width:1,height:He}),s.RGBAImage.copy(De,X,{x:0,y:0},{x:Te+fe,y:ke},{width:1,height:He})}this.dirty=!0},b.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},b.prototype.dispatchRenderCallbacks=function(g){for(var S=0,N=g;S<N.length;S+=1){var z=N[S];if(!this.callbackDispatchedThisFrame[z]){this.callbackDispatchedThisFrame[z]=!0;var $=this.images[z];q($)&&this.updateImage(z,$)}}},b}(s.Evented),j=he,G=he,J=1e20;function he(d,b,g,S,N,z){this.fontSize=d||24,this.buffer=b===void 0?3:b,this.cutoff=S||.25,this.fontFamily=N||"sans-serif",this.fontWeight=z||"normal",this.radius=g||8;var $=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=$,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array($*$),this.gridInner=new Float64Array($*$),this.f=new Float64Array($),this.d=new Float64Array($),this.z=new Float64Array($+1),this.v=new Int16Array($),this.middle=Math.round($/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function pe(d,b,g,S,N,z,$){for(var X=0;X<b;X++){for(var ue=0;ue<g;ue++)S[ue]=d[ue*b+X];for(ne(S,N,z,$,g),ue=0;ue<g;ue++)d[ue*b+X]=N[ue]}for(ue=0;ue<g;ue++){for(X=0;X<b;X++)S[X]=d[ue*b+X];for(ne(S,N,z,$,b),X=0;X<b;X++)d[ue*b+X]=Math.sqrt(N[X])}}function ne(d,b,g,S,N){g[0]=0,S[0]=-J,S[1]=+J;for(var z=1,$=0;z<N;z++){for(var X=(d[z]+z*z-(d[g[$]]+g[$]*g[$]))/(2*z-2*g[$]);X<=S[$];)$--,X=(d[z]+z*z-(d[g[$]]+g[$]*g[$]))/(2*z-2*g[$]);g[++$]=z,S[$]=X,S[$+1]=+J}for(z=0,$=0;z<N;z++){for(;S[$+1]<z;)$++;b[z]=(z-g[$])*(z-g[$])+d[g[$]]}}he.prototype.draw=function(d){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(d,this.buffer,this.middle);for(var b=this.ctx.getImageData(0,0,this.size,this.size),g=new Uint8ClampedArray(this.size*this.size),S=0;S<this.size*this.size;S++){var N=b.data[4*S+3]/255;this.gridOuter[S]=N===1?0:N===0?J:Math.pow(Math.max(0,.5-N),2),this.gridInner[S]=N===1?J:N===0?0:Math.pow(Math.max(0,N-.5),2)}for(pe(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),pe(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),S=0;S<this.size*this.size;S++)g[S]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[S]-this.gridInner[S])/this.radius+this.cutoff))));return g},j.default=G;var ee=function(d,b){this.requestManager=d,this.localIdeographFontFamily=b,this.entries={}};ee.prototype.setURL=function(d){this.url=d},ee.prototype.getGlyphs=function(d,b){var g=this,S=[];for(var N in d)for(var z=0,$=d[N];z<$.length;z+=1)S.push({stack:N,id:$[z]});s.asyncAll(S,function(X,ue){var ge=X.stack,Te=X.id,ke=g.entries[ge];ke||(ke=g.entries[ge]={glyphs:{},requests:{},ranges:{}});var De=ke.glyphs[Te];if(De===void 0){if(De=g._tinySDF(ke,ge,Te))return ke.glyphs[Te]=De,void ue(null,{stack:ge,id:Te,glyph:De});var fe=Math.floor(Te/256);if(256*fe>65535)ue(new Error("glyphs > 65535 not supported"));else if(ke.ranges[fe])ue(null,{stack:ge,id:Te,glyph:De});else{var He=ke.requests[fe];He||(He=ke.requests[fe]=[],ee.loadGlyphRange(ge,fe,g.url,g.requestManager,function(it,qe){if(qe){for(var rt in qe)g._doesCharSupportLocalGlyph(+rt)||(ke.glyphs[+rt]=qe[+rt]);ke.ranges[fe]=!0}for(var ut=0,gt=He;ut<gt.length;ut+=1)(0,gt[ut])(it,qe);delete ke.requests[fe]})),He.push(function(it,qe){it?ue(it):qe&&ue(null,{stack:ge,id:Te,glyph:qe[Te]||null})})}}else ue(null,{stack:ge,id:Te,glyph:De})},function(X,ue){if(X)b(X);else if(ue){for(var ge={},Te=0,ke=ue;Te<ke.length;Te+=1){var De=ke[Te],fe=De.stack,He=De.id,it=De.glyph;(ge[fe]||(ge[fe]={}))[He]=it&&{id:it.id,bitmap:it.bitmap.clone(),metrics:it.metrics}}b(null,ge)}})},ee.prototype._doesCharSupportLocalGlyph=function(d){return!!this.localIdeographFontFamily&&(s.isChar["CJK Unified Ideographs"](d)||s.isChar["Hangul Syllables"](d)||s.isChar.Hiragana(d)||s.isChar.Katakana(d))},ee.prototype._tinySDF=function(d,b,g){var S=this.localIdeographFontFamily;if(S&&this._doesCharSupportLocalGlyph(g)){var N=d.tinySDF;if(!N){var z="400";/bold/i.test(b)?z="900":/medium/i.test(b)?z="500":/light/i.test(b)&&(z="200"),N=d.tinySDF=new ee.TinySDF(24,3,8,.25,S,z)}return{id:g,bitmap:new s.AlphaImage({width:30,height:30},N.draw(String.fromCharCode(g))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},ee.loadGlyphRange=function(d,b,g,S,N){var z=256*b,$=z+255,X=S.transformRequest(S.normalizeGlyphsURL(g).replace("{fontstack}",d).replace("{range}",z+"-"+$),s.ResourceType.Glyphs);s.getArrayBuffer(X,function(ue,ge){if(ue)N(ue);else if(ge){for(var Te={},ke=0,De=s.parseGlyphPBF(ge);ke<De.length;ke+=1){var fe=De[ke];Te[fe.id]=fe}N(null,Te)}})},ee.TinySDF=j;var ie=function(){this.specification=s.styleSpec.light.position};ie.prototype.possiblyEvaluate=function(d,b){return s.sphericalToCartesian(d.expression.evaluate(b))},ie.prototype.interpolate=function(d,b,g){return{x:s.number(d.x,b.x,g),y:s.number(d.y,b.y,g),z:s.number(d.z,b.z,g)}};var we=new s.Properties({anchor:new s.DataConstantProperty(s.styleSpec.light.anchor),position:new ie,color:new s.DataConstantProperty(s.styleSpec.light.color),intensity:new s.DataConstantProperty(s.styleSpec.light.intensity)}),Se=function(d){function b(g){d.call(this),this._transitionable=new s.Transitionable(we),this.setLight(g),this._transitioning=this._transitionable.untransitioned()}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getLight=function(){return this._transitionable.serialize()},b.prototype.setLight=function(g,S){if(S===void 0&&(S={}),!this._validate(s.validateLight,g,S))for(var N in g){var z=g[N];s.endsWith(N,"-transition")?this._transitionable.setTransition(N.slice(0,-11),z):this._transitionable.setValue(N,z)}},b.prototype.updateTransitions=function(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)},b.prototype.hasTransition=function(){return this._transitioning.hasTransition()},b.prototype.recalculate=function(g){this.properties=this._transitioning.possiblyEvaluate(g)},b.prototype._validate=function(g,S,N){return(!N||N.validate!==!1)&&s.emitValidationErrors(this,g.call(s.validateStyle,s.extend({value:S,style:{glyphs:!0,sprite:!0},styleSpec:s.styleSpec})))},b}(s.Evented),Pe=function(d,b){this.width=d,this.height=b,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};Pe.prototype.getDash=function(d,b){var g=d.join(",")+String(b);return this.dashEntry[g]||(this.dashEntry[g]=this.addDash(d,b)),this.dashEntry[g]},Pe.prototype.getDashRanges=function(d,b,g){var S=[],N=d.length%2==1?-d[d.length-1]*g:0,z=d[0]*g,$=!0;S.push({left:N,right:z,isDash:$,zeroLength:d[0]===0});for(var X=d[0],ue=1;ue<d.length;ue++){var ge=d[ue];S.push({left:N=X*g,right:z=(X+=ge)*g,isDash:$=!$,zeroLength:ge===0})}return S},Pe.prototype.addRoundDash=function(d,b,g){for(var S=b/2,N=-g;N<=g;N++)for(var z=this.width*(this.nextRow+g+N),$=0,X=d[$],ue=0;ue<this.width;ue++){ue/X.right>1&&(X=d[++$]);var ge=Math.abs(ue-X.left),Te=Math.abs(ue-X.right),ke=Math.min(ge,Te),De=void 0,fe=N/g*(S+1);if(X.isDash){var He=S-Math.abs(fe);De=Math.sqrt(ke*ke+He*He)}else De=S-Math.sqrt(ke*ke+fe*fe);this.data[z+ue]=Math.max(0,Math.min(255,De+128))}},Pe.prototype.addRegularDash=function(d){for(var b=d.length-1;b>=0;--b){var g=d[b],S=d[b+1];g.zeroLength?d.splice(b,1):S&&S.isDash===g.isDash&&(S.left=g.left,d.splice(b,1))}var N=d[0],z=d[d.length-1];N.isDash===z.isDash&&(N.left=z.left-this.width,z.right=N.right+this.width);for(var $=this.width*this.nextRow,X=0,ue=d[X],ge=0;ge<this.width;ge++){ge/ue.right>1&&(ue=d[++X]);var Te=Math.abs(ge-ue.left),ke=Math.abs(ge-ue.right),De=Math.min(Te,ke);this.data[$+ge]=Math.max(0,Math.min(255,(ue.isDash?De:-De)+128))}},Pe.prototype.addDash=function(d,b){var g=b?7:0,S=2*g+1;if(this.nextRow+S>this.height)return s.warnOnce("LineAtlas out of space"),null;for(var N=0,z=0;z<d.length;z++)N+=d[z];if(N!==0){var $=this.width/N,X=this.getDashRanges(d,this.width,$);b?this.addRoundDash(X,$,g):this.addRegularDash(X)}var ue={y:(this.nextRow+g+.5)/this.height,height:2*g/this.height,width:N};return this.nextRow+=S,this.dirty=!0,ue},Pe.prototype.bind=function(d){var b=d.gl;this.texture?(b.bindTexture(b.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,b.texSubImage2D(b.TEXTURE_2D,0,0,0,this.width,this.height,b.ALPHA,b.UNSIGNED_BYTE,this.data))):(this.texture=b.createTexture(),b.bindTexture(b.TEXTURE_2D,this.texture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texImage2D(b.TEXTURE_2D,0,b.ALPHA,this.width,this.height,0,b.ALPHA,b.UNSIGNED_BYTE,this.data))};var ae=function d(b,g){this.workerPool=b,this.actors=[],this.currentActor=0,this.id=s.uniqueId();for(var S=this.workerPool.acquire(this.id),N=0;N<S.length;N++){var z=new d.Actor(S[N],g,this.id);z.name="Worker "+N,this.actors.push(z)}};function Be(d,b,g){var S=function(N,z){if(N)return g(N);if(z){var $=s.pick(s.extend(z,d),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);z.vector_layers&&($.vectorLayers=z.vector_layers,$.vectorLayerIds=$.vectorLayers.map(function(X){return X.id})),$.tiles=b.canonicalizeTileset($,d.url),g(null,$)}};return d.url?s.getJSON(b.transformRequest(b.normalizeSourceURL(d.url),s.ResourceType.Source),S):s.browser.frame(function(){return S(null,d)})}ae.prototype.broadcast=function(d,b,g){s.asyncAll(this.actors,function(S,N){S.send(d,b,N)},g=g||function(){})},ae.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},ae.prototype.remove=function(){this.actors.forEach(function(d){d.remove()}),this.actors=[],this.workerPool.release(this.id)},ae.Actor=s.Actor;var Q=function(d,b,g){this.bounds=s.LngLatBounds.convert(this.validateBounds(d)),this.minzoom=b||0,this.maxzoom=g||24};Q.prototype.validateBounds=function(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]},Q.prototype.contains=function(d){var b=Math.pow(2,d.z),g=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*b),S=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*b),N=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*b),z=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*b);return d.x>=g&&d.x<N&&d.y>=S&&d.y<z};var te=function(d){function b(g,S,N,z){if(d.call(this),this.id=g,this.dispatcher=N,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(S,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},S),this._collectResourceTiming=S.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(z)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.load=function(){var g=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Be(this._options,this.map._requestManager,function(S,N){g._tileJSONRequest=null,g._loaded=!0,S?g.fire(new s.ErrorEvent(S)):N&&(s.extend(g,N),N.bounds&&(g.tileBounds=new Q(N.bounds,g.minzoom,g.maxzoom)),s.postTurnstileEvent(N.tiles,g.map._requestManager._customAccessToken),s.postMapLoadEvent(N.tiles,g.map._getMapId(),g.map._requestManager._skuToken,g.map._requestManager._customAccessToken),g.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),g.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},b.prototype.loaded=function(){return this._loaded},b.prototype.hasTile=function(g){return!this.tileBounds||this.tileBounds.contains(g.canonical)},b.prototype.onAdd=function(g){this.map=g,this.load()},b.prototype.setSourceProperty=function(g){this._tileJSONRequest&&this._tileJSONRequest.cancel(),g(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},b.prototype.setTiles=function(g){var S=this;return this.setSourceProperty(function(){S._options.tiles=g}),this},b.prototype.setUrl=function(g){var S=this;return this.setSourceProperty(function(){S.url=g,S._options.url=g}),this},b.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},b.prototype.serialize=function(){return s.extend({},this._options)},b.prototype.loadTile=function(g,S){var N=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme)),z={request:this.map._requestManager.transformRequest(N,s.ResourceType.Tile),uid:g.uid,tileID:g.tileID,zoom:g.tileID.overscaledZ,tileSize:this.tileSize*g.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function $(X,ue){return delete g.request,g.aborted?S(null):X&&X.status!==404?S(X):(ue&&ue.resourceTiming&&(g.resourceTiming=ue.resourceTiming),this.map._refreshExpiredTiles&&ue&&g.setExpiryData(ue),g.loadVectorData(ue,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),S(null),void(g.reloadCallback&&(this.loadTile(g,g.reloadCallback),g.reloadCallback=null)))}z.request.collectResourceTiming=this._collectResourceTiming,g.actor&&g.state!=="expired"?g.state==="loading"?g.reloadCallback=S:g.request=g.actor.send("reloadTile",z,$.bind(this)):(g.actor=this.dispatcher.getActor(),g.request=g.actor.send("loadTile",z,$.bind(this)))},b.prototype.abortTile=function(g){g.request&&(g.request.cancel(),delete g.request),g.actor&&g.actor.send("abortTile",{uid:g.uid,type:this.type,source:this.id},void 0)},b.prototype.unloadTile=function(g){g.unloadVectorData(),g.actor&&g.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id},void 0)},b.prototype.hasTransition=function(){return!1},b}(s.Evented),oe=function(d){function b(g,S,N,z){d.call(this),this.id=g,this.dispatcher=N,this.setEventedParent(z),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},S),s.extend(this,s.pick(S,["url","scheme","tileSize"]))}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.load=function(){var g=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Be(this._options,this.map._requestManager,function(S,N){g._tileJSONRequest=null,g._loaded=!0,S?g.fire(new s.ErrorEvent(S)):N&&(s.extend(g,N),N.bounds&&(g.tileBounds=new Q(N.bounds,g.minzoom,g.maxzoom)),s.postTurnstileEvent(N.tiles),s.postMapLoadEvent(N.tiles,g.map._getMapId(),g.map._requestManager._skuToken),g.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),g.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},b.prototype.loaded=function(){return this._loaded},b.prototype.onAdd=function(g){this.map=g,this.load()},b.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},b.prototype.serialize=function(){return s.extend({},this._options)},b.prototype.hasTile=function(g){return!this.tileBounds||this.tileBounds.contains(g.canonical)},b.prototype.loadTile=function(g,S){var N=this,z=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);g.request=s.getImage(this.map._requestManager.transformRequest(z,s.ResourceType.Tile),function($,X){if(delete g.request,g.aborted)g.state="unloaded",S(null);else if($)g.state="errored",S($);else if(X){N.map._refreshExpiredTiles&&g.setExpiryData(X),delete X.cacheControl,delete X.expires;var ue=N.map.painter.context,ge=ue.gl;g.texture=N.map.painter.getTileTexture(X.width),g.texture?g.texture.update(X,{useMipmap:!0}):(g.texture=new s.Texture(ue,X,ge.RGBA,{useMipmap:!0}),g.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE,ge.LINEAR_MIPMAP_NEAREST),ue.extTextureFilterAnisotropic&&ge.texParameterf(ge.TEXTURE_2D,ue.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ue.extTextureFilterAnisotropicMax)),g.state="loaded",s.cacheEntryPossiblyAdded(N.dispatcher),S(null)}})},b.prototype.abortTile=function(g,S){g.request&&(g.request.cancel(),delete g.request),S()},b.prototype.unloadTile=function(g,S){g.texture&&this.map.painter.saveTileTexture(g.texture),S()},b.prototype.hasTransition=function(){return!1},b}(s.Evented),ve=function(d){function b(g,S,N,z){d.call(this,g,S,N,z),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},S),this.encoding=S.encoding||"mapbox"}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},b.prototype.loadTile=function(g,S){var N=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function z($,X){$&&(g.state="errored",S($)),X&&(g.dem=X,g.needsHillshadePrepare=!0,g.state="loaded",S(null))}g.request=s.getImage(this.map._requestManager.transformRequest(N,s.ResourceType.Tile),function($,X){if(delete g.request,g.aborted)g.state="unloaded",S(null);else if($)g.state="errored",S($);else if(X){this.map._refreshExpiredTiles&&g.setExpiryData(X),delete X.cacheControl,delete X.expires;var ue=s.window.ImageBitmap&&X instanceof s.window.ImageBitmap&&s.offscreenCanvasSupported()?X:s.browser.getImageData(X,1),ge={uid:g.uid,coord:g.tileID,source:this.id,rawImageData:ue,encoding:this.encoding};g.actor&&g.state!=="expired"||(g.actor=this.dispatcher.getActor(),g.actor.send("loadDEMTile",ge,z.bind(this)))}}.bind(this)),g.neighboringTiles=this._getNeighboringTiles(g.tileID)},b.prototype._getNeighboringTiles=function(g){var S=g.canonical,N=Math.pow(2,S.z),z=(S.x-1+N)%N,$=S.x===0?g.wrap-1:g.wrap,X=(S.x+1+N)%N,ue=S.x+1===N?g.wrap+1:g.wrap,ge={};return ge[new s.OverscaledTileID(g.overscaledZ,$,S.z,z,S.y).key]={backfilled:!1},ge[new s.OverscaledTileID(g.overscaledZ,ue,S.z,X,S.y).key]={backfilled:!1},S.y>0&&(ge[new s.OverscaledTileID(g.overscaledZ,$,S.z,z,S.y-1).key]={backfilled:!1},ge[new s.OverscaledTileID(g.overscaledZ,g.wrap,S.z,S.x,S.y-1).key]={backfilled:!1},ge[new s.OverscaledTileID(g.overscaledZ,ue,S.z,X,S.y-1).key]={backfilled:!1}),S.y+1<N&&(ge[new s.OverscaledTileID(g.overscaledZ,$,S.z,z,S.y+1).key]={backfilled:!1},ge[new s.OverscaledTileID(g.overscaledZ,g.wrap,S.z,S.x,S.y+1).key]={backfilled:!1},ge[new s.OverscaledTileID(g.overscaledZ,ue,S.z,X,S.y+1).key]={backfilled:!1}),ge},b.prototype.unloadTile=function(g){g.demTexture&&this.map.painter.saveTileTexture(g.demTexture),g.fbo&&(g.fbo.destroy(),delete g.fbo),g.dem&&delete g.dem,delete g.neighboringTiles,g.state="unloaded",g.actor&&g.actor.send("removeDEMTile",{uid:g.uid,source:this.id})},b}(oe),de=function(d){function b(g,S,N,z){d.call(this),this.id=g,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=N.getActor(),this.setEventedParent(z),this._data=S.data,this._options=s.extend({},S),this._collectResourceTiming=S.collectResourceTiming,this._resourceTiming=[],S.maxzoom!==void 0&&(this.maxzoom=S.maxzoom),S.type&&(this.type=S.type),S.attribution&&(this.attribution=S.attribution),this.promoteId=S.promoteId;var $=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:S.cluster||!1,geojsonVtOptions:{buffer:(S.buffer!==void 0?S.buffer:128)*$,tolerance:(S.tolerance!==void 0?S.tolerance:.375)*$,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:S.lineMetrics||!1,generateId:S.generateId||!1},superclusterOptions:{maxZoom:S.clusterMaxZoom!==void 0?Math.min(S.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,S.clusterMinPoints||2),extent:s.EXTENT,radius:(S.clusterRadius||50)*$,log:!1,generateId:S.generateId||!1},clusterProperties:S.clusterProperties,filter:S.filter},S.workerOptions)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.load=function(){var g=this;this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(S){if(S)g.fire(new s.ErrorEvent(S));else{var N={dataType:"source",sourceDataType:"metadata"};g._collectResourceTiming&&g._resourceTiming&&g._resourceTiming.length>0&&(N.resourceTiming=g._resourceTiming,g._resourceTiming=[]),g.fire(new s.Event("data",N))}})},b.prototype.onAdd=function(g){this.map=g,this.load()},b.prototype.setData=function(g){var S=this;return this._data=g,this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(N){if(N)S.fire(new s.ErrorEvent(N));else{var z={dataType:"source",sourceDataType:"content"};S._collectResourceTiming&&S._resourceTiming&&S._resourceTiming.length>0&&(z.resourceTiming=S._resourceTiming,S._resourceTiming=[]),S.fire(new s.Event("data",z))}}),this},b.prototype.getClusterExpansionZoom=function(g,S){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:g,source:this.id},S),this},b.prototype.getClusterChildren=function(g,S){return this.actor.send("geojson.getClusterChildren",{clusterId:g,source:this.id},S),this},b.prototype.getClusterLeaves=function(g,S,N,z){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:g,limit:S,offset:N},z),this},b.prototype._updateWorkerData=function(g){var S=this;this._loaded=!1;var N=s.extend({},this.workerOptions),z=this._data;typeof z=="string"?(N.request=this.map._requestManager.transformRequest(s.browser.resolveURL(z),s.ResourceType.Source),N.request.collectResourceTiming=this._collectResourceTiming):N.data=JSON.stringify(z),this.actor.send(this.type+".loadData",N,function($,X){S._removed||X&&X.abandoned||(S._loaded=!0,X&&X.resourceTiming&&X.resourceTiming[S.id]&&(S._resourceTiming=X.resourceTiming[S.id].slice(0)),S.actor.send(S.type+".coalesce",{source:N.source},null),g($))})},b.prototype.loaded=function(){return this._loaded},b.prototype.loadTile=function(g,S){var N=this,z=g.actor?"reloadTile":"loadTile";g.actor=this.actor,g.request=this.actor.send(z,{type:this.type,uid:g.uid,tileID:g.tileID,zoom:g.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function($,X){return delete g.request,g.unloadVectorData(),g.aborted?S(null):$?S($):(g.loadVectorData(X,N.map.painter,z==="reloadTile"),S(null))})},b.prototype.abortTile=function(g){g.request&&(g.request.cancel(),delete g.request),g.aborted=!0},b.prototype.unloadTile=function(g){g.unloadVectorData(),this.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})},b.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},b.prototype.serialize=function(){return s.extend({},this._options,{type:this.type,data:this._data})},b.prototype.hasTransition=function(){return!1},b}(s.Evented),ze=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ye=function(d){function b(g,S,N,z){d.call(this),this.id=g,this.dispatcher=N,this.coordinates=S.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(z),this.options=S}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.load=function(g,S){var N=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),function(z,$){N._loaded=!0,z?N.fire(new s.ErrorEvent(z)):$&&(N.image=$,g&&(N.coordinates=g),S&&S(),N._finishLoading())})},b.prototype.loaded=function(){return this._loaded},b.prototype.updateImage=function(g){var S=this;return this.image&&g.url?(this.options.url=g.url,this.load(g.coordinates,function(){S.texture=null}),this):this},b.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))},b.prototype.onAdd=function(g){this.map=g,this.load()},b.prototype.setCoordinates=function(g){var S=this;this.coordinates=g;var N=g.map(s.MercatorCoordinate.fromLngLat);this.tileID=function($){for(var X=1/0,ue=1/0,ge=-1/0,Te=-1/0,ke=0,De=$;ke<De.length;ke+=1){var fe=De[ke];X=Math.min(X,fe.x),ue=Math.min(ue,fe.y),ge=Math.max(ge,fe.x),Te=Math.max(Te,fe.y)}var He=Math.max(ge-X,Te-ue),it=Math.max(0,Math.floor(-Math.log(He)/Math.LN2)),qe=Math.pow(2,it);return new s.CanonicalTileID(it,Math.floor((X+ge)/2*qe),Math.floor((ue+Te)/2*qe))}(N),this.minzoom=this.maxzoom=this.tileID.z;var z=N.map(function($){return S.tileID.getTilePoint($)._round()});return this._boundsArray=new s.StructArrayLayout4i8,this._boundsArray.emplaceBack(z[0].x,z[0].y,0,0),this._boundsArray.emplaceBack(z[1].x,z[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(z[3].x,z[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(z[2].x,z[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this},b.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var g=this.map.painter.context,S=g.gl;for(var N in this.boundsBuffer||(this.boundsBuffer=g.createVertexBuffer(this._boundsArray,ze.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new s.Texture(g,this.image,S.RGBA),this.texture.bind(S.LINEAR,S.CLAMP_TO_EDGE)),this.tiles){var z=this.tiles[N];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture)}}},b.prototype.loadTile=function(g,S){this.tileID&&this.tileID.equals(g.tileID.canonical)?(this.tiles[String(g.tileID.wrap)]=g,g.buckets={},S(null)):(g.state="errored",S(null))},b.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},b.prototype.hasTransition=function(){return!1},b}(s.Evented),Je=function(d){function b(g,S,N,z){d.call(this,g,S,N,z),this.roundZoom=!0,this.type="video",this.options=S}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.load=function(){var g=this;this._loaded=!1;var S=this.options;this.urls=[];for(var N=0,z=S.urls;N<z.length;N+=1)this.urls.push(this.map._requestManager.transformRequest(z[N],s.ResourceType.Source).url);s.getVideo(this.urls,function($,X){g._loaded=!0,$?g.fire(new s.ErrorEvent($)):X&&(g.video=X,g.video.loop=!0,g.video.addEventListener("playing",function(){g.map.triggerRepaint()}),g.map&&g.video.play(),g._finishLoading())})},b.prototype.pause=function(){this.video&&this.video.pause()},b.prototype.play=function(){this.video&&this.video.play()},b.prototype.seek=function(g){if(this.video){var S=this.video.seekable;g<S.start(0)||g>S.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+S.start(0)+" and "+S.end(0)+"-second mark."))):this.video.currentTime=g}},b.prototype.getVideo=function(){return this.video},b.prototype.onAdd=function(g){this.map||(this.map=g,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},b.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var g=this.map.painter.context,S=g.gl;for(var N in this.boundsBuffer||(this.boundsBuffer=g.createVertexBuffer(this._boundsArray,ze.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(S.LINEAR,S.CLAMP_TO_EDGE),S.texSubImage2D(S.TEXTURE_2D,0,0,0,S.RGBA,S.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(g,this.video,S.RGBA),this.texture.bind(S.LINEAR,S.CLAMP_TO_EDGE)),this.tiles){var z=this.tiles[N];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture)}}},b.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},b.prototype.hasTransition=function(){return this.video&&!this.video.paused},b}(ye),Qe=function(d){function b(g,S,N,z){d.call(this,g,S,N,z),S.coordinates?Array.isArray(S.coordinates)&&S.coordinates.length===4&&!S.coordinates.some(function($){return!Array.isArray($)||$.length!==2||$.some(function(X){return typeof X!="number"})})||this.fire(new s.ErrorEvent(new s.ValidationError("sources."+g,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+g,null,'missing required property "coordinates"'))),S.animate&&typeof S.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+g,null,'optional "animate" property must be a boolean value'))),S.canvas?typeof S.canvas=="string"||S.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError("sources."+g,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+g,null,'missing required property "canvas"'))),this.options=S,this.animate=S.animate===void 0||S.animate}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},b.prototype.getCanvas=function(){return this.canvas},b.prototype.onAdd=function(g){this.map=g,this.load(),this.canvas&&this.animate&&this.play()},b.prototype.onRemove=function(){this.pause()},b.prototype.prepare=function(){var g=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,g=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,g=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var S=this.map.painter.context,N=S.gl;for(var z in this.boundsBuffer||(this.boundsBuffer=S.createVertexBuffer(this._boundsArray,ze.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(g||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(S,this.canvas,N.RGBA,{premultiply:!0}),this.tiles){var $=this.tiles[z];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}},b.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},b.prototype.hasTransition=function(){return this._playing},b.prototype._hasInvalidDimensions=function(){for(var g=0,S=[this.canvas.width,this.canvas.height];g<S.length;g+=1){var N=S[g];if(isNaN(N)||N<=0)return!0}return!1},b}(ye),yt={vector:te,raster:oe,"raster-dem":ve,geojson:de,video:Je,image:ye,canvas:Qe};function _t(d,b){var g=s.identity([]);return s.translate(g,g,[1,1,0]),s.scale(g,g,[.5*d.width,.5*d.height,1]),s.multiply(g,g,d.calculatePosMatrix(b.toUnwrapped()))}function Tt(d,b,g,S,N,z){var $=function(it,qe,rt){if(it)for(var ut=0,gt=it;ut<gt.length;ut+=1){var Ct=qe[gt[ut]];if(Ct&&Ct.source===rt&&Ct.type==="fill-extrusion")return!0}else for(var xt in qe){var St=qe[xt];if(St.source===rt&&St.type==="fill-extrusion")return!0}return!1}(N&&N.layers,b,d.id),X=z.maxPitchScaleFactor(),ue=d.tilesIn(S,X,$);ue.sort(Yt);for(var ge=[],Te=0,ke=ue;Te<ke.length;Te+=1){var De=ke[Te];ge.push({wrappedTileID:De.tileID.wrapped().key,queryResults:De.tile.queryRenderedFeatures(b,g,d._state,De.queryGeometry,De.cameraQueryGeometry,De.scale,N,z,X,_t(d.transform,De.tileID))})}var fe=function(it){for(var qe={},rt={},ut=0,gt=it;ut<gt.length;ut+=1){var Ct=gt[ut],xt=Ct.queryResults,St=Ct.wrappedTileID,Vt=rt[St]=rt[St]||{};for(var Gt in xt)for(var er=xt[Gt],wr=Vt[Gt]=Vt[Gt]||{},Yr=qe[Gt]=qe[Gt]||[],an=0,Wr=er;an<Wr.length;an+=1){var fi=Wr[an];wr[fi.featureIndex]||(wr[fi.featureIndex]=!0,Yr.push(fi))}}return qe}(ge);for(var He in fe)fe[He].forEach(function(it){var qe=it.feature,rt=d.getFeatureState(qe.layer["source-layer"],qe.id);qe.source=qe.layer.source,qe.layer["source-layer"]&&(qe.sourceLayer=qe.layer["source-layer"]),qe.state=rt});return fe}function Yt(d,b){var g=d.tileID,S=b.tileID;return g.overscaledZ-S.overscaledZ||g.canonical.y-S.canonical.y||g.wrap-S.wrap||g.canonical.x-S.canonical.x}var It=function(d,b){this.max=d,this.onRemove=b,this.reset()};It.prototype.reset=function(){for(var d in this.data)for(var b=0,g=this.data[d];b<g.length;b+=1){var S=g[b];S.timeout&&clearTimeout(S.timeout),this.onRemove(S.value)}return this.data={},this.order=[],this},It.prototype.add=function(d,b,g){var S=this,N=d.wrapped().key;this.data[N]===void 0&&(this.data[N]=[]);var z={value:b,timeout:void 0};if(g!==void 0&&(z.timeout=setTimeout(function(){S.remove(d,z)},g)),this.data[N].push(z),this.order.push(N),this.order.length>this.max){var $=this._getAndRemoveByKey(this.order[0]);$&&this.onRemove($)}return this},It.prototype.has=function(d){return d.wrapped().key in this.data},It.prototype.getAndRemove=function(d){return this.has(d)?this._getAndRemoveByKey(d.wrapped().key):null},It.prototype._getAndRemoveByKey=function(d){var b=this.data[d].shift();return b.timeout&&clearTimeout(b.timeout),this.data[d].length===0&&delete this.data[d],this.order.splice(this.order.indexOf(d),1),b.value},It.prototype.getByKey=function(d){var b=this.data[d];return b?b[0].value:null},It.prototype.get=function(d){return this.has(d)?this.data[d.wrapped().key][0].value:null},It.prototype.remove=function(d,b){if(!this.has(d))return this;var g=d.wrapped().key,S=b===void 0?0:this.data[g].indexOf(b),N=this.data[g][S];return this.data[g].splice(S,1),N.timeout&&clearTimeout(N.timeout),this.data[g].length===0&&delete this.data[g],this.onRemove(N.value),this.order.splice(this.order.indexOf(g),1),this},It.prototype.setMaxSize=function(d){for(this.max=d;this.order.length>this.max;){var b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this},It.prototype.filter=function(d){var b=[];for(var g in this.data)for(var S=0,N=this.data[g];S<N.length;S+=1){var z=N[S];d(z.value)||b.push(z)}for(var $=0,X=b;$<X.length;$+=1){var ue=X[$];this.remove(ue.value.tileID,ue)}};var Ut=function(d,b,g){this.context=d;var S=d.gl;this.buffer=S.createBuffer(),this.dynamicDraw=Boolean(g),this.context.unbindVAO(),d.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete b.arrayBuffer};Ut.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ut.prototype.updateData=function(d){var b=this.context.gl;this.context.unbindVAO(),this.bind(),b.bufferSubData(b.ELEMENT_ARRAY_BUFFER,0,d.arrayBuffer)},Ut.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Or={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Xt=function(d,b,g,S){this.length=b.length,this.attributes=g,this.itemSize=b.bytesPerElement,this.dynamicDraw=S,this.context=d;var N=d.gl;this.buffer=N.createBuffer(),d.bindVertexBuffer.set(this.buffer),N.bufferData(N.ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?N.DYNAMIC_DRAW:N.STATIC_DRAW),this.dynamicDraw||delete b.arrayBuffer};Xt.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Xt.prototype.updateData=function(d){var b=this.context.gl;this.bind(),b.bufferSubData(b.ARRAY_BUFFER,0,d.arrayBuffer)},Xt.prototype.enableAttributes=function(d,b){for(var g=0;g<this.attributes.length;g++){var S=b.attributes[this.attributes[g].name];S!==void 0&&d.enableVertexAttribArray(S)}},Xt.prototype.setVertexAttribPointers=function(d,b,g){for(var S=0;S<this.attributes.length;S++){var N=this.attributes[S],z=b.attributes[N.name];z!==void 0&&d.vertexAttribPointer(z,N.components,d[Or[N.type]],!1,this.itemSize,N.offset+this.itemSize*(g||0))}},Xt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ht=function(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ht.prototype.get=function(){return this.current},Ht.prototype.set=function(d){},Ht.prototype.getDefault=function(){return this.default},Ht.prototype.setDefault=function(){this.set(this.default)};var xr=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return s.Color.transparent},b.prototype.set=function(g){var S=this.current;(g.r!==S.r||g.g!==S.g||g.b!==S.b||g.a!==S.a||this.dirty)&&(this.gl.clearColor(g.r,g.g,g.b,g.a),this.current=g,this.dirty=!1)},b}(Ht),Lr=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return 1},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.clearDepth(g),this.current=g,this.dirty=!1)},b}(Ht),Xr=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return 0},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.clearStencil(g),this.current=g,this.dirty=!1)},b}(Ht),ea=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return[!0,!0,!0,!0]},b.prototype.set=function(g){var S=this.current;(g[0]!==S[0]||g[1]!==S[1]||g[2]!==S[2]||g[3]!==S[3]||this.dirty)&&(this.gl.colorMask(g[0],g[1],g[2],g[3]),this.current=g,this.dirty=!1)},b}(Ht),Mi=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return!0},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.depthMask(g),this.current=g,this.dirty=!1)},b}(Ht),pt=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return 255},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.stencilMask(g),this.current=g,this.dirty=!1)},b}(Ht),Le=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},b.prototype.set=function(g){var S=this.current;(g.func!==S.func||g.ref!==S.ref||g.mask!==S.mask||this.dirty)&&(this.gl.stencilFunc(g.func,g.ref,g.mask),this.current=g,this.dirty=!1)},b}(Ht),be=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){var g=this.gl;return[g.KEEP,g.KEEP,g.KEEP]},b.prototype.set=function(g){var S=this.current;(g[0]!==S[0]||g[1]!==S[1]||g[2]!==S[2]||this.dirty)&&(this.gl.stencilOp(g[0],g[1],g[2]),this.current=g,this.dirty=!1)},b}(Ht),Oe=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;g?S.enable(S.STENCIL_TEST):S.disable(S.STENCIL_TEST),this.current=g,this.dirty=!1}},b}(Ht),Ze=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return[0,1]},b.prototype.set=function(g){var S=this.current;(g[0]!==S[0]||g[1]!==S[1]||this.dirty)&&(this.gl.depthRange(g[0],g[1]),this.current=g,this.dirty=!1)},b}(Ht),st=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;g?S.enable(S.DEPTH_TEST):S.disable(S.DEPTH_TEST),this.current=g,this.dirty=!1}},b}(Ht),Pt=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.LESS},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.depthFunc(g),this.current=g,this.dirty=!1)},b}(Ht),Rt=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;g?S.enable(S.BLEND):S.disable(S.BLEND),this.current=g,this.dirty=!1}},b}(Ht),mt=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){var g=this.gl;return[g.ONE,g.ZERO]},b.prototype.set=function(g){var S=this.current;(g[0]!==S[0]||g[1]!==S[1]||this.dirty)&&(this.gl.blendFunc(g[0],g[1]),this.current=g,this.dirty=!1)},b}(Ht),Nr=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return s.Color.transparent},b.prototype.set=function(g){var S=this.current;(g.r!==S.r||g.g!==S.g||g.b!==S.b||g.a!==S.a||this.dirty)&&(this.gl.blendColor(g.r,g.g,g.b,g.a),this.current=g,this.dirty=!1)},b}(Ht),Qr=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.FUNC_ADD},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.blendEquation(g),this.current=g,this.dirty=!1)},b}(Ht),tr=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;g?S.enable(S.CULL_FACE):S.disable(S.CULL_FACE),this.current=g,this.dirty=!1}},b}(Ht),on=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.BACK},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.cullFace(g),this.current=g,this.dirty=!1)},b}(Ht),Bn=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.CCW},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.frontFace(g),this.current=g,this.dirty=!1)},b}(Ht),si=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.useProgram(g),this.current=g,this.dirty=!1)},b}(Ht),$n=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return this.gl.TEXTURE0},b.prototype.set=function(g){(g!==this.current||this.dirty)&&(this.gl.activeTexture(g),this.current=g,this.dirty=!1)},b}(Ht),Fn=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){var g=this.gl;return[0,0,g.drawingBufferWidth,g.drawingBufferHeight]},b.prototype.set=function(g){var S=this.current;(g[0]!==S[0]||g[1]!==S[1]||g[2]!==S[2]||g[3]!==S[3]||this.dirty)&&(this.gl.viewport(g[0],g[1],g[2],g[3]),this.current=g,this.dirty=!1)},b}(Ht),Vo=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;S.bindFramebuffer(S.FRAMEBUFFER,g),this.current=g,this.dirty=!1}},b}(Ht),ta=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;S.bindRenderbuffer(S.RENDERBUFFER,g),this.current=g,this.dirty=!1}},b}(Ht),Ea=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;S.bindTexture(S.TEXTURE_2D,g),this.current=g,this.dirty=!1}},b}(Ht),Go=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;S.bindBuffer(S.ARRAY_BUFFER,g),this.current=g,this.dirty=!1}},b}(Ht),ui=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(g){var S=this.gl;S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,g),this.current=g,this.dirty=!1},b}(Ht),Fa=function(d){function b(g){d.call(this,g),this.vao=g.extVertexArrayObject}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(g){this.vao&&(g!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(g),this.current=g,this.dirty=!1)},b}(Ht),to=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return 4},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;S.pixelStorei(S.UNPACK_ALIGNMENT,g),this.current=g,this.dirty=!1}},b}(Ht),Kt=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,g),this.current=g,this.dirty=!1}},b}(Ht),ms=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(g){if(g!==this.current||this.dirty){var S=this.gl;S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,g),this.current=g,this.dirty=!1}},b}(Ht),zi=function(d){function b(g,S){d.call(this,g),this.context=g,this.parent=S}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getDefault=function(){return null},b}(Ht),se=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.setDirty=function(){this.dirty=!0},b.prototype.set=function(g){if(g!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var S=this.gl;S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,g,0),this.current=g,this.dirty=!1}},b}(zi),Ee=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.set=function(g){if(g!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var S=this.gl;S.framebufferRenderbuffer(S.FRAMEBUFFER,S.DEPTH_ATTACHMENT,S.RENDERBUFFER,g),this.current=g,this.dirty=!1}},b}(zi),Ie=function(d,b,g,S){this.context=d,this.width=b,this.height=g;var N=this.framebuffer=d.gl.createFramebuffer();this.colorAttachment=new se(d,N),S&&(this.depthAttachment=new Ee(d,N))};Ie.prototype.destroy=function(){var d=this.context.gl,b=this.colorAttachment.get();if(b&&d.deleteTexture(b),this.depthAttachment){var g=this.depthAttachment.get();g&&d.deleteRenderbuffer(g)}d.deleteFramebuffer(this.framebuffer)};var Re=function(d,b,g){this.func=d,this.mask=b,this.range=g};Re.ReadOnly=!1,Re.ReadWrite=!0,Re.disabled=new Re(519,Re.ReadOnly,[0,1]);var We=function(d,b,g,S,N,z){this.test=d,this.ref=b,this.mask=g,this.fail=S,this.depthFail=N,this.pass=z};We.disabled=new We({func:519,mask:0},0,0,7680,7680,7680);var at=function(d,b,g){this.blendFunction=d,this.blendColor=b,this.mask=g};at.disabled=new at(at.Replace=[1,0],s.Color.transparent,[!1,!1,!1,!1]),at.unblended=new at(at.Replace,s.Color.transparent,[!0,!0,!0,!0]),at.alphaBlended=new at([1,771],s.Color.transparent,[!0,!0,!0,!0]);var lt=function(d,b,g){this.enable=d,this.mode=b,this.frontFace=g};lt.disabled=new lt(!1,1029,2305),lt.backCCW=new lt(!0,1029,2305);var Me=function(d){this.gl=d,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new xr(this),this.clearDepth=new Lr(this),this.clearStencil=new Xr(this),this.colorMask=new ea(this),this.depthMask=new Mi(this),this.stencilMask=new pt(this),this.stencilFunc=new Le(this),this.stencilOp=new be(this),this.stencilTest=new Oe(this),this.depthRange=new Ze(this),this.depthTest=new st(this),this.depthFunc=new Pt(this),this.blend=new Rt(this),this.blendFunc=new mt(this),this.blendColor=new Nr(this),this.blendEquation=new Qr(this),this.cullFace=new tr(this),this.cullFaceSide=new on(this),this.frontFace=new Bn(this),this.program=new si(this),this.activeTexture=new $n(this),this.viewport=new Fn(this),this.bindFramebuffer=new Vo(this),this.bindRenderbuffer=new ta(this),this.bindTexture=new Ea(this),this.bindVertexBuffer=new Go(this),this.bindElementBuffer=new ui(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Fa(this),this.pixelStoreUnpack=new to(this),this.pixelStoreUnpackPremultiplyAlpha=new Kt(this),this.pixelStoreUnpackFlipY=new ms(this),this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=d.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(d.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=d.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=d.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE)};Me.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Me.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Me.prototype.createIndexBuffer=function(d,b){return new Ut(this,d,b)},Me.prototype.createVertexBuffer=function(d,b,g){return new Xt(this,d,b,g)},Me.prototype.createRenderbuffer=function(d,b,g){var S=this.gl,N=S.createRenderbuffer();return this.bindRenderbuffer.set(N),S.renderbufferStorage(S.RENDERBUFFER,d,b,g),this.bindRenderbuffer.set(null),N},Me.prototype.createFramebuffer=function(d,b,g){return new Ie(this,d,b,g)},Me.prototype.clear=function(d){var b=d.color,g=d.depth,S=this.gl,N=0;b&&(N|=S.COLOR_BUFFER_BIT,this.clearColor.set(b),this.colorMask.set([!0,!0,!0,!0])),g!==void 0&&(N|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(g),this.depthMask.set(!0)),S.clear(N)},Me.prototype.setCullFace=function(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))},Me.prototype.setDepthMode=function(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)},Me.prototype.setStencilMode=function(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)},Me.prototype.setColorMode=function(d){s.deepEqual(d.blendFunction,at.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor)),this.colorMask.set(d.mask)},Me.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Xe=function(d){function b(g,S,N){var z=this;d.call(this),this.id=g,this.dispatcher=N,this.on("data",function($){$.dataType==="source"&&$.sourceDataType==="metadata"&&(z._sourceLoaded=!0),z._sourceLoaded&&!z._paused&&$.dataType==="source"&&$.sourceDataType==="content"&&(z.reload(),z.transform&&z.update(z.transform))}),this.on("error",function(){z._sourceErrored=!0}),this._source=function($,X,ue,ge){var Te=new yt[X.type]($,X,ue,ge);if(Te.id!==$)throw new Error("Expected Source id to be "+$+" instead of "+Te.id);return s.bindAll(["load","abort","unload","serialize","prepare"],Te),Te}(g,S,N,this),this._tiles={},this._cache=new It(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new s.SourceFeatureState}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.onAdd=function(g){this.map=g,this._maxTileCacheSize=g?g._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(g)},b.prototype.onRemove=function(g){this._source&&this._source.onRemove&&this._source.onRemove(g)},b.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var g in this._tiles){var S=this._tiles[g];if(S.state!=="loaded"&&S.state!=="errored")return!1}return!0},b.prototype.getSource=function(){return this._source},b.prototype.pause=function(){this._paused=!0},b.prototype.resume=function(){if(this._paused){var g=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,g&&this.reload(),this.transform&&this.update(this.transform)}},b.prototype._loadTile=function(g,S){return this._source.loadTile(g,S)},b.prototype._unloadTile=function(g){if(this._source.unloadTile)return this._source.unloadTile(g,function(){})},b.prototype._abortTile=function(g){if(this._source.abortTile)return this._source.abortTile(g,function(){})},b.prototype.serialize=function(){return this._source.serialize()},b.prototype.prepare=function(g){for(var S in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var N=this._tiles[S];N.upload(g),N.prepare(this.map.style.imageManager)}},b.prototype.getIds=function(){return s.values(this._tiles).map(function(g){return g.tileID}).sort(ht).map(function(g){return g.key})},b.prototype.getRenderableIds=function(g){var S=this,N=[];for(var z in this._tiles)this._isIdRenderable(z,g)&&N.push(this._tiles[z]);return g?N.sort(function($,X){var ue=$.tileID,ge=X.tileID,Te=new s.Point(ue.canonical.x,ue.canonical.y)._rotate(S.transform.angle),ke=new s.Point(ge.canonical.x,ge.canonical.y)._rotate(S.transform.angle);return ue.overscaledZ-ge.overscaledZ||ke.y-Te.y||ke.x-Te.x}).map(function($){return $.tileID.key}):N.map(function($){return $.tileID}).sort(ht).map(function($){return $.key})},b.prototype.hasRenderableParent=function(g){var S=this.findLoadedParent(g,0);return!!S&&this._isIdRenderable(S.tileID.key)},b.prototype._isIdRenderable=function(g,S){return this._tiles[g]&&this._tiles[g].hasData()&&!this._coveredTiles[g]&&(S||!this._tiles[g].holdingForFade())},b.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var g in this._cache.reset(),this._tiles)this._tiles[g].state!=="errored"&&this._reloadTile(g,"reloading")},b.prototype._reloadTile=function(g,S){var N=this._tiles[g];N&&(N.state!=="loading"&&(N.state=S),this._loadTile(N,this._tileLoaded.bind(this,N,g,S)))},b.prototype._tileLoaded=function(g,S,N,z){if(z)return g.state="errored",void(z.status!==404?this._source.fire(new s.ErrorEvent(z,{tile:g})):this.update(this.transform));g.timeAdded=s.browser.now(),N==="expired"&&(g.refreshedUponExpiration=!0),this._setTileReloadTimer(S,g),this.getSource().type==="raster-dem"&&g.dem&&this._backfillDEM(g),this._state.initializeTileState(g,this.map?this.map.painter:null),this._source.fire(new s.Event("data",{dataType:"source",tile:g,coord:g.tileID}))},b.prototype._backfillDEM=function(g){for(var S=this.getRenderableIds(),N=0;N<S.length;N++){var z=S[N];if(g.neighboringTiles&&g.neighboringTiles[z]){var $=this.getTileByID(z);X(g,$),X($,g)}}function X(ue,ge){ue.needsHillshadePrepare=!0;var Te=ge.tileID.canonical.x-ue.tileID.canonical.x,ke=ge.tileID.canonical.y-ue.tileID.canonical.y,De=Math.pow(2,ue.tileID.canonical.z),fe=ge.tileID.key;Te===0&&ke===0||Math.abs(ke)>1||(Math.abs(Te)>1&&(Math.abs(Te+De)===1?Te+=De:Math.abs(Te-De)===1&&(Te-=De)),ge.dem&&ue.dem&&(ue.dem.backfillBorder(ge.dem,Te,ke),ue.neighboringTiles&&ue.neighboringTiles[fe]&&(ue.neighboringTiles[fe].backfilled=!0)))}},b.prototype.getTile=function(g){return this.getTileByID(g.key)},b.prototype.getTileByID=function(g){return this._tiles[g]},b.prototype._retainLoadedChildren=function(g,S,N,z){for(var $ in this._tiles){var X=this._tiles[$];if(!(z[$]||!X.hasData()||X.tileID.overscaledZ<=S||X.tileID.overscaledZ>N)){for(var ue=X.tileID;X&&X.tileID.overscaledZ>S+1;){var ge=X.tileID.scaledTo(X.tileID.overscaledZ-1);(X=this._tiles[ge.key])&&X.hasData()&&(ue=ge)}for(var Te=ue;Te.overscaledZ>S;)if(g[(Te=Te.scaledTo(Te.overscaledZ-1)).key]){z[ue.key]=ue;break}}}},b.prototype.findLoadedParent=function(g,S){if(g.key in this._loadedParentTiles){var N=this._loadedParentTiles[g.key];return N&&N.tileID.overscaledZ>=S?N:null}for(var z=g.overscaledZ-1;z>=S;z--){var $=g.scaledTo(z),X=this._getLoadedTile($);if(X)return X}},b.prototype._getLoadedTile=function(g){var S=this._tiles[g.key];return S&&S.hasData()?S:this._cache.getByKey(g.wrapped().key)},b.prototype.updateCacheSize=function(g){var S=Math.ceil(g.width/this._source.tileSize)+1,N=Math.ceil(g.height/this._source.tileSize)+1,z=Math.floor(S*N*5),$=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,z):z;this._cache.setMaxSize($)},b.prototype.handleWrapJump=function(g){var S=Math.round((g-(this._prevLng===void 0?g:this._prevLng))/360);if(this._prevLng=g,S){var N={};for(var z in this._tiles){var $=this._tiles[z];$.tileID=$.tileID.unwrapTo($.tileID.wrap+S),N[$.tileID.key]=$}for(var X in this._tiles=N,this._timers)clearTimeout(this._timers[X]),delete this._timers[X];for(var ue in this._tiles)this._setTileReloadTimer(ue,this._tiles[ue])}},b.prototype.update=function(g){var S=this;if(this.transform=g,this._sourceLoaded&&!this._paused){var N;this.updateCacheSize(g),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?N=g.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Vt){return new s.OverscaledTileID(Vt.canonical.z,Vt.wrap,Vt.canonical.z,Vt.canonical.x,Vt.canonical.y)}):(N=g.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(N=N.filter(function(Vt){return S._source.hasTile(Vt)}))):N=[];var z=g.coveringZoomLevel(this._source),$=Math.max(z-b.maxOverzooming,this._source.minzoom),X=Math.max(z+b.maxUnderzooming,this._source.minzoom),ue=this._updateRetainedTiles(N,z);if($t(this._source.type)){for(var ge={},Te={},ke=0,De=Object.keys(ue);ke<De.length;ke+=1){var fe=De[ke],He=ue[fe],it=this._tiles[fe];if(it&&!(it.fadeEndTime&&it.fadeEndTime<=s.browser.now())){var qe=this.findLoadedParent(He,$);qe&&(this._addTile(qe.tileID),ge[qe.tileID.key]=qe.tileID),Te[fe]=He}}for(var rt in this._retainLoadedChildren(Te,z,X,ue),ge)ue[rt]||(this._coveredTiles[rt]=!0,ue[rt]=ge[rt])}for(var ut in ue)this._tiles[ut].clearFadeHold();for(var gt=0,Ct=s.keysDifference(this._tiles,ue);gt<Ct.length;gt+=1){var xt=Ct[gt],St=this._tiles[xt];St.hasSymbolBuckets&&!St.holdingForFade()?St.setHoldDuration(this.map._fadeDuration):St.hasSymbolBuckets&&!St.symbolFadeFinished()||this._removeTile(xt)}this._updateLoadedParentTileCache()}},b.prototype.releaseSymbolFadeTiles=function(){for(var g in this._tiles)this._tiles[g].holdingForFade()&&this._removeTile(g)},b.prototype._updateRetainedTiles=function(g,S){for(var N={},z={},$=Math.max(S-b.maxOverzooming,this._source.minzoom),X=Math.max(S+b.maxUnderzooming,this._source.minzoom),ue={},ge=0,Te=g;ge<Te.length;ge+=1){var ke=Te[ge],De=this._addTile(ke);N[ke.key]=ke,De.hasData()||S<this._source.maxzoom&&(ue[ke.key]=ke)}this._retainLoadedChildren(ue,S,X,N);for(var fe=0,He=g;fe<He.length;fe+=1){var it=He[fe],qe=this._tiles[it.key];if(!qe.hasData()){if(S+1>this._source.maxzoom){var rt=it.children(this._source.maxzoom)[0],ut=this.getTile(rt);if(ut&&ut.hasData()){N[rt.key]=rt;continue}}else{var gt=it.children(this._source.maxzoom);if(N[gt[0].key]&&N[gt[1].key]&&N[gt[2].key]&&N[gt[3].key])continue}for(var Ct=qe.wasRequested(),xt=it.overscaledZ-1;xt>=$;--xt){var St=it.scaledTo(xt);if(z[St.key]||(z[St.key]=!0,!(qe=this.getTile(St))&&Ct&&(qe=this._addTile(St)),qe&&(N[St.key]=St,Ct=qe.wasRequested(),qe.hasData())))break}}}return N},b.prototype._updateLoadedParentTileCache=function(){for(var g in this._loadedParentTiles={},this._tiles){for(var S=[],N=void 0,z=this._tiles[g].tileID;z.overscaledZ>0;){if(z.key in this._loadedParentTiles){N=this._loadedParentTiles[z.key];break}S.push(z.key);var $=z.scaledTo(z.overscaledZ-1);if(N=this._getLoadedTile($))break;z=$}for(var X=0,ue=S;X<ue.length;X+=1)this._loadedParentTiles[ue[X]]=N}},b.prototype._addTile=function(g){var S=this._tiles[g.key];if(S)return S;(S=this._cache.getAndRemove(g))&&(this._setTileReloadTimer(g.key,S),S.tileID=g,this._state.initializeTileState(S,this.map?this.map.painter:null),this._cacheTimers[g.key]&&(clearTimeout(this._cacheTimers[g.key]),delete this._cacheTimers[g.key],this._setTileReloadTimer(g.key,S)));var N=Boolean(S);return N||(S=new s.Tile(g,this._source.tileSize*g.overscaleFactor()),this._loadTile(S,this._tileLoaded.bind(this,S,g.key,S.state))),S?(S.uses++,this._tiles[g.key]=S,N||this._source.fire(new s.Event("dataloading",{tile:S,coord:S.tileID,dataType:"source"})),S):null},b.prototype._setTileReloadTimer=function(g,S){var N=this;g in this._timers&&(clearTimeout(this._timers[g]),delete this._timers[g]);var z=S.getExpiryTimeout();z&&(this._timers[g]=setTimeout(function(){N._reloadTile(g,"expired"),delete N._timers[g]},z))},b.prototype._removeTile=function(g){var S=this._tiles[g];S&&(S.uses--,delete this._tiles[g],this._timers[g]&&(clearTimeout(this._timers[g]),delete this._timers[g]),S.uses>0||(S.hasData()&&S.state!=="reloading"?this._cache.add(S.tileID,S,S.getExpiryTimeout()):(S.aborted=!0,this._abortTile(S),this._unloadTile(S))))},b.prototype.clearTiles=function(){for(var g in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(g);this._cache.reset()},b.prototype.tilesIn=function(g,S,N){var z=this,$=[],X=this.transform;if(!X)return $;for(var ue=N?X.getCameraQueryGeometry(g):g,ge=g.map(function(xt){return X.pointCoordinate(xt)}),Te=ue.map(function(xt){return X.pointCoordinate(xt)}),ke=this.getIds(),De=1/0,fe=1/0,He=-1/0,it=-1/0,qe=0,rt=Te;qe<rt.length;qe+=1){var ut=rt[qe];De=Math.min(De,ut.x),fe=Math.min(fe,ut.y),He=Math.max(He,ut.x),it=Math.max(it,ut.y)}for(var gt=function(xt){var St=z._tiles[ke[xt]];if(!St.holdingForFade()){var Vt=St.tileID,Gt=Math.pow(2,X.zoom-St.tileID.overscaledZ),er=S*St.queryPadding*s.EXTENT/St.tileSize/Gt,wr=[Vt.getTilePoint(new s.MercatorCoordinate(De,fe)),Vt.getTilePoint(new s.MercatorCoordinate(He,it))];if(wr[0].x-er<s.EXTENT&&wr[0].y-er<s.EXTENT&&wr[1].x+er>=0&&wr[1].y+er>=0){var Yr=ge.map(function(Wr){return Vt.getTilePoint(Wr)}),an=Te.map(function(Wr){return Vt.getTilePoint(Wr)});$.push({tile:St,tileID:Vt,queryGeometry:Yr,cameraQueryGeometry:an,scale:Gt})}}},Ct=0;Ct<ke.length;Ct++)gt(Ct);return $},b.prototype.getVisibleCoordinates=function(g){for(var S=this,N=this.getRenderableIds(g).map(function(ue){return S._tiles[ue].tileID}),z=0,$=N;z<$.length;z+=1){var X=$[z];X.posMatrix=this.transform.calculatePosMatrix(X.toUnwrapped())}return N},b.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if($t(this._source.type))for(var g in this._tiles){var S=this._tiles[g];if(S.fadeEndTime!==void 0&&S.fadeEndTime>=s.browser.now())return!0}return!1},b.prototype.setFeatureState=function(g,S,N){this._state.updateState(g=g||"_geojsonTileLayer",S,N)},b.prototype.removeFeatureState=function(g,S,N){this._state.removeFeatureState(g=g||"_geojsonTileLayer",S,N)},b.prototype.getFeatureState=function(g,S){return this._state.getState(g=g||"_geojsonTileLayer",S)},b.prototype.setDependencies=function(g,S,N){var z=this._tiles[g];z&&z.setDependencies(S,N)},b.prototype.reloadTilesForDependencies=function(g,S){for(var N in this._tiles)this._tiles[N].hasDependency(g,S)&&this._reloadTile(N,"reloading");this._cache.filter(function(z){return!z.hasDependency(g,S)})},b}(s.Evented);function ht(d,b){var g=Math.abs(2*d.wrap)-+(d.wrap<0),S=Math.abs(2*b.wrap)-+(b.wrap<0);return d.overscaledZ-b.overscaledZ||S-g||b.canonical.y-d.canonical.y||b.canonical.x-d.canonical.x}function $t(d){return d==="raster"||d==="image"||d==="video"}function jt(){return new s.window.Worker(ba.workerUrl)}Xe.maxOverzooming=10,Xe.maxUnderzooming=3;var dt="mapboxgl_preloaded_worker_pool",zt=function(){this.active={}};zt.prototype.acquire=function(d){if(!this.workers)for(this.workers=[];this.workers.length<zt.workerCount;)this.workers.push(new jt);return this.active[d]=!0,this.workers.slice()},zt.prototype.release=function(d){delete this.active[d],this.numActive()===0&&(this.workers.forEach(function(b){b.terminate()}),this.workers=null)},zt.prototype.isPreloaded=function(){return!!this.active[dt]},zt.prototype.numActive=function(){return Object.keys(this.active).length};var _r,cr=Math.floor(s.browser.hardwareConcurrency/2);function Et(){return _r||(_r=new zt),_r}function fr(d,b){var g={};for(var S in d)S!=="ref"&&(g[S]=d[S]);return s.refProperties.forEach(function(N){N in b&&(g[N]=b[N])}),g}function Zt(d){d=d.slice();for(var b=Object.create(null),g=0;g<d.length;g++)b[d[g].id]=d[g];for(var S=0;S<d.length;S++)"ref"in d[S]&&(d[S]=fr(d[S],b[d[S].ref]));return d}zt.workerCount=Math.max(Math.min(cr,6),1);var or={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function en(d,b,g){g.push({command:or.addSource,args:[d,b[d]]})}function dr(d,b,g){b.push({command:or.removeSource,args:[d]}),g[d]=!0}function Ur(d,b,g,S){dr(d,g,S),en(d,b,g)}function ln(d,b,g){var S;for(S in d[g])if(d[g].hasOwnProperty(S)&&S!=="data"&&!s.deepEqual(d[g][S],b[g][S]))return!1;for(S in b[g])if(b[g].hasOwnProperty(S)&&S!=="data"&&!s.deepEqual(d[g][S],b[g][S]))return!1;return!0}function Lt(d,b,g,S,N,z){var $;for($ in b=b||{},d=d||{})d.hasOwnProperty($)&&(s.deepEqual(d[$],b[$])||g.push({command:z,args:[S,$,b[$],N]}));for($ in b)b.hasOwnProperty($)&&!d.hasOwnProperty($)&&(s.deepEqual(d[$],b[$])||g.push({command:z,args:[S,$,b[$],N]}))}function cn(d){return d.id}function Ln(d,b){return d[b.id]=b,d}var yi=function(d,b){this.reset(d,b)};yi.prototype.reset=function(d,b){this.points=d||[],this._distances=[0];for(var g=1;g<this.points.length;g++)this._distances[g]=this._distances[g-1]+this.points[g].dist(this.points[g-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(b||0,.5*this.length),this.paddedLength=this.length-2*this.padding},yi.prototype.lerp=function(d){if(this.points.length===1)return this.points[0];d=s.clamp(d,0,1);for(var b=1,g=this._distances[b],S=d*this.paddedLength+this.padding;g<S&&b<this._distances.length;)g=this._distances[++b];var N=b-1,z=this._distances[N],$=g-z,X=$>0?(S-z)/$:0;return this.points[N].mult(1-X).add(this.points[b].mult(X))};var li=function(d,b,g){var S=this.boxCells=[],N=this.circleCells=[];this.xCellCount=Math.ceil(d/g),this.yCellCount=Math.ceil(b/g);for(var z=0;z<this.xCellCount*this.yCellCount;z++)S.push([]),N.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=b,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/b,this.boxUid=0,this.circleUid=0};function Fi(d,b,g,S,N){var z=s.create();return b?(s.scale(z,z,[1/N,1/N,1]),g||s.rotateZ(z,z,S.angle)):s.multiply(z,S.labelPlaneMatrix,d),z}function Jn(d,b,g,S,N){if(b){var z=s.clone(d);return s.scale(z,z,[N,N,1]),g||s.rotateZ(z,z,-S.angle),z}return S.glCoordMatrix}function fn(d,b){var g=[d.x,d.y,0,1];Ma(g,g,b);var S=g[3];return{point:new s.Point(g[0]/S,g[1]/S),signedDistanceFromCamera:S}}function hi(d,b){return .5+d/b*.5}function ja(d,b){var g=d[0]/d[3],S=d[1]/d[3];return g>=-b[0]&&g<=b[0]&&S>=-b[1]&&S<=b[1]}function bl(d,b,g,S,N,z,$,X){var ue=S?d.textSizeData:d.iconSizeData,ge=s.evaluateSizeForZoom(ue,g.transform.zoom),Te=[256/g.width*2+1,256/g.height*2+1],ke=S?d.text.dynamicLayoutVertexArray:d.icon.dynamicLayoutVertexArray;ke.clear();for(var De=d.lineVertexArray,fe=S?d.text.placedSymbolArray:d.icon.placedSymbolArray,He=g.transform.width/g.transform.height,it=!1,qe=0;qe<fe.length;qe++){var rt=fe.get(qe);if(rt.hidden||rt.writingMode===s.WritingMode.vertical&&!it)wn(rt.numGlyphs,ke);else{it=!1;var ut=[rt.anchorX,rt.anchorY,0,1];if(s.transformMat4(ut,ut,b),ja(ut,Te)){var gt=hi(g.transform.cameraToCenterDistance,ut[3]),Ct=s.evaluateSizeForFeature(ue,ge,rt),xt=$?Ct/gt:Ct*gt,St=new s.Point(rt.anchorX,rt.anchorY),Vt=fn(St,N).point,Gt={},er=If(rt,xt,!1,X,b,N,z,d.glyphOffsetArray,De,ke,Vt,St,Gt,He);it=er.useVertical,(er.notEnoughRoom||it||er.needsFlipping&&If(rt,xt,!0,X,b,N,z,d.glyphOffsetArray,De,ke,Vt,St,Gt,He).notEnoughRoom)&&wn(rt.numGlyphs,ke)}else wn(rt.numGlyphs,ke)}}S?d.text.dynamicLayoutVertexBuffer.updateData(ke):d.icon.dynamicLayoutVertexBuffer.updateData(ke)}function Yi(d,b,g,S,N,z,$,X,ue,ge,Te){var ke=X.glyphStartIndex+X.numGlyphs,De=X.lineStartIndex,fe=X.lineStartIndex+X.lineLength,He=b.getoffsetX(X.glyphStartIndex),it=b.getoffsetX(ke-1),qe=ra(d*He,g,S,N,z,$,X.segment,De,fe,ue,ge,Te);if(!qe)return null;var rt=ra(d*it,g,S,N,z,$,X.segment,De,fe,ue,ge,Te);return rt?{first:qe,last:rt}:null}function ti(d,b,g,S){return d===s.WritingMode.horizontal&&Math.abs(g.y-b.y)>Math.abs(g.x-b.x)*S?{useVertical:!0}:(d===s.WritingMode.vertical?b.y<g.y:b.x>g.x)?{needsFlipping:!0}:null}function If(d,b,g,S,N,z,$,X,ue,ge,Te,ke,De,fe){var He,it=b/24,qe=d.lineOffsetX*it,rt=d.lineOffsetY*it;if(d.numGlyphs>1){var ut=d.glyphStartIndex+d.numGlyphs,gt=d.lineStartIndex,Ct=d.lineStartIndex+d.lineLength,xt=Yi(it,X,qe,rt,g,Te,ke,d,ue,z,De);if(!xt)return{notEnoughRoom:!0};var St=fn(xt.first.point,$).point,Vt=fn(xt.last.point,$).point;if(S&&!g){var Gt=ti(d.writingMode,St,Vt,fe);if(Gt)return Gt}He=[xt.first];for(var er=d.glyphStartIndex+1;er<ut-1;er++)He.push(ra(it*X.getoffsetX(er),qe,rt,g,Te,ke,d.segment,gt,Ct,ue,z,De));He.push(xt.last)}else{if(S&&!g){var wr=fn(ke,N).point,Yr=d.lineStartIndex+d.segment+1,an=new s.Point(ue.getx(Yr),ue.gety(Yr)),Wr=fn(an,N),fi=Wr.signedDistanceFromCamera>0?Wr.point:Us(ke,an,wr,1,N),Ar=ti(d.writingMode,wr,fi,fe);if(Ar)return Ar}var sn=ra(it*X.getoffsetX(d.glyphStartIndex),qe,rt,g,Te,ke,d.segment,d.lineStartIndex,d.lineStartIndex+d.lineLength,ue,z,De);if(!sn)return{notEnoughRoom:!0};He=[sn]}for(var On=0,hn=He;On<hn.length;On+=1){var tn=hn[On];s.addDynamicAttributes(ge,tn.point,tn.angle)}return{}}function Us(d,b,g,S,N){var z=fn(d.add(d.sub(b)._unit()),N).point,$=g.sub(z);return g.add($._mult(S/$.mag()))}function ra(d,b,g,S,N,z,$,X,ue,ge,Te,ke){var De=S?d-b:d+b,fe=De>0?1:-1,He=0;S&&(fe*=-1,He=Math.PI),fe<0&&(He+=Math.PI);for(var it=fe>0?X+$:X+$+1,qe=N,rt=N,ut=0,gt=0,Ct=Math.abs(De),xt=[];ut+gt<=Ct;){if((it+=fe)<X||it>=ue)return null;if(rt=qe,xt.push(qe),(qe=ke[it])===void 0){var St=new s.Point(ge.getx(it),ge.gety(it)),Vt=fn(St,Te);if(Vt.signedDistanceFromCamera>0)qe=ke[it]=Vt.point;else{var Gt=it-fe;qe=Us(ut===0?z:new s.Point(ge.getx(Gt),ge.gety(Gt)),St,rt,Ct-ut+1,Te)}}ut+=gt,gt=rt.dist(qe)}var er=(Ct-ut)/gt,wr=qe.sub(rt),Yr=wr.mult(er)._add(rt);Yr._add(wr._unit()._perp()._mult(g*fe));var an=He+Math.atan2(qe.y-rt.y,qe.x-rt.x);return xt.push(Yr),{point:Yr,angle:an,path:xt}}li.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},li.prototype.insert=function(d,b,g,S,N){this._forEachCell(b,g,S,N,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(b),this.bboxes.push(g),this.bboxes.push(S),this.bboxes.push(N)},li.prototype.insertCircle=function(d,b,g,S){this._forEachCell(b-S,g-S,b+S,g+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(b),this.circles.push(g),this.circles.push(S)},li.prototype._insertBoxCell=function(d,b,g,S,N,z){this.boxCells[N].push(z)},li.prototype._insertCircleCell=function(d,b,g,S,N,z){this.circleCells[N].push(z)},li.prototype._query=function(d,b,g,S,N,z){if(g<0||d>this.width||S<0||b>this.height)return!N&&[];var $=[];if(d<=0&&b<=0&&this.width<=g&&this.height<=S){if(N)return!0;for(var X=0;X<this.boxKeys.length;X++)$.push({key:this.boxKeys[X],x1:this.bboxes[4*X],y1:this.bboxes[4*X+1],x2:this.bboxes[4*X+2],y2:this.bboxes[4*X+3]});for(var ue=0;ue<this.circleKeys.length;ue++){var ge=this.circles[3*ue],Te=this.circles[3*ue+1],ke=this.circles[3*ue+2];$.push({key:this.circleKeys[ue],x1:ge-ke,y1:Te-ke,x2:ge+ke,y2:Te+ke})}return z?$.filter(z):$}return this._forEachCell(d,b,g,S,this._queryCell,$,{hitTest:N,seenUids:{box:{},circle:{}}},z),N?$.length>0:$},li.prototype._queryCircle=function(d,b,g,S,N){var z=d-g,$=d+g,X=b-g,ue=b+g;if($<0||z>this.width||ue<0||X>this.height)return!S&&[];var ge=[];return this._forEachCell(z,X,$,ue,this._queryCellCircle,ge,{hitTest:S,circle:{x:d,y:b,radius:g},seenUids:{box:{},circle:{}}},N),S?ge.length>0:ge},li.prototype.query=function(d,b,g,S,N){return this._query(d,b,g,S,!1,N)},li.prototype.hitTest=function(d,b,g,S,N){return this._query(d,b,g,S,!0,N)},li.prototype.hitTestCircle=function(d,b,g,S){return this._queryCircle(d,b,g,!0,S)},li.prototype._queryCell=function(d,b,g,S,N,z,$,X){var ue=$.seenUids,ge=this.boxCells[N];if(ge!==null)for(var Te=this.bboxes,ke=0,De=ge;ke<De.length;ke+=1){var fe=De[ke];if(!ue.box[fe]){ue.box[fe]=!0;var He=4*fe;if(d<=Te[He+2]&&b<=Te[He+3]&&g>=Te[He+0]&&S>=Te[He+1]&&(!X||X(this.boxKeys[fe]))){if($.hitTest)return z.push(!0),!0;z.push({key:this.boxKeys[fe],x1:Te[He],y1:Te[He+1],x2:Te[He+2],y2:Te[He+3]})}}}var it=this.circleCells[N];if(it!==null)for(var qe=this.circles,rt=0,ut=it;rt<ut.length;rt+=1){var gt=ut[rt];if(!ue.circle[gt]){ue.circle[gt]=!0;var Ct=3*gt;if(this._circleAndRectCollide(qe[Ct],qe[Ct+1],qe[Ct+2],d,b,g,S)&&(!X||X(this.circleKeys[gt]))){if($.hitTest)return z.push(!0),!0;var xt=qe[Ct],St=qe[Ct+1],Vt=qe[Ct+2];z.push({key:this.circleKeys[gt],x1:xt-Vt,y1:St-Vt,x2:xt+Vt,y2:St+Vt})}}}},li.prototype._queryCellCircle=function(d,b,g,S,N,z,$,X){var ue=$.circle,ge=$.seenUids,Te=this.boxCells[N];if(Te!==null)for(var ke=this.bboxes,De=0,fe=Te;De<fe.length;De+=1){var He=fe[De];if(!ge.box[He]){ge.box[He]=!0;var it=4*He;if(this._circleAndRectCollide(ue.x,ue.y,ue.radius,ke[it+0],ke[it+1],ke[it+2],ke[it+3])&&(!X||X(this.boxKeys[He])))return z.push(!0),!0}}var qe=this.circleCells[N];if(qe!==null)for(var rt=this.circles,ut=0,gt=qe;ut<gt.length;ut+=1){var Ct=gt[ut];if(!ge.circle[Ct]){ge.circle[Ct]=!0;var xt=3*Ct;if(this._circlesCollide(rt[xt],rt[xt+1],rt[xt+2],ue.x,ue.y,ue.radius)&&(!X||X(this.circleKeys[Ct])))return z.push(!0),!0}}},li.prototype._forEachCell=function(d,b,g,S,N,z,$,X){for(var ue=this._convertToXCellCoord(d),ge=this._convertToYCellCoord(b),Te=this._convertToXCellCoord(g),ke=this._convertToYCellCoord(S),De=ue;De<=Te;De++)for(var fe=ge;fe<=ke;fe++)if(N.call(this,d,b,g,S,this.xCellCount*fe+De,z,$,X))return},li.prototype._convertToXCellCoord=function(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))},li.prototype._convertToYCellCoord=function(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))},li.prototype._circlesCollide=function(d,b,g,S,N,z){var $=S-d,X=N-b,ue=g+z;return ue*ue>$*$+X*X},li.prototype._circleAndRectCollide=function(d,b,g,S,N,z,$){var X=(z-S)/2,ue=Math.abs(d-(S+X));if(ue>X+g)return!1;var ge=($-N)/2,Te=Math.abs(b-(N+ge));if(Te>ge+g)return!1;if(ue<=X||Te<=ge)return!0;var ke=ue-X,De=Te-ge;return ke*ke+De*De<=g*g};var Tc=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function wn(d,b){for(var g=0;g<d;g++){var S=b.length;b.resize(S+4),b.float32.set(Tc,3*S)}}function Ma(d,b,g){var S=b[0],N=b[1];return d[0]=g[0]*S+g[4]*N+g[12],d[1]=g[1]*S+g[5]*N+g[13],d[3]=g[3]*S+g[7]*N+g[15],d}var ha=function(d,b,g){b===void 0&&(b=new li(d.width+200,d.height+200,25)),g===void 0&&(g=new li(d.width+200,d.height+200,25)),this.transform=d,this.grid=b,this.ignoredGrid=g,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+100,this.screenBottomBoundary=d.height+100,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200};function ro(d,b,g){return b*(s.EXTENT/(d.tileSize*Math.pow(2,g-d.tileID.overscaledZ)))}ha.prototype.placeCollisionBox=function(d,b,g,S,N){var z=this.projectAndGetPerspectiveRatio(S,d.anchorPointX,d.anchorPointY),$=g*z.perspectiveRatio,X=d.x1*$+z.point.x,ue=d.y1*$+z.point.y,ge=d.x2*$+z.point.x,Te=d.y2*$+z.point.y;return!this.isInsideGrid(X,ue,ge,Te)||!b&&this.grid.hitTest(X,ue,ge,Te,N)?{box:[],offscreen:!1}:{box:[X,ue,ge,Te],offscreen:this.isOffscreen(X,ue,ge,Te)}},ha.prototype.placeCollisionCircles=function(d,b,g,S,N,z,$,X,ue,ge,Te,ke,De){var fe=[],He=new s.Point(b.anchorX,b.anchorY),it=fn(He,z),qe=hi(this.transform.cameraToCenterDistance,it.signedDistanceFromCamera),rt=(ge?N/qe:N*qe)/s.ONE_EM,ut=fn(He,$).point,gt=Yi(rt,S,b.lineOffsetX*rt,b.lineOffsetY*rt,!1,ut,He,b,g,$,{}),Ct=!1,xt=!1,St=!0;if(gt){for(var Vt=.5*ke*qe+De,Gt=new s.Point(-100,-100),er=new s.Point(this.screenRightBoundary,this.screenBottomBoundary),wr=new yi,Yr=gt.first,an=gt.last,Wr=[],fi=Yr.path.length-1;fi>=1;fi--)Wr.push(Yr.path[fi]);for(var Ar=1;Ar<an.path.length;Ar++)Wr.push(an.path[Ar]);var sn=2.5*Vt;if(X){var On=Wr.map(function(gc){return fn(gc,X)});Wr=On.some(function(gc){return gc.signedDistanceFromCamera<=0})?[]:On.map(function(gc){return gc.point})}var hn=[];if(Wr.length>0){for(var tn=Wr[0].clone(),rn=Wr[0].clone(),_n=1;_n<Wr.length;_n++)tn.x=Math.min(tn.x,Wr[_n].x),tn.y=Math.min(tn.y,Wr[_n].y),rn.x=Math.max(rn.x,Wr[_n].x),rn.y=Math.max(rn.y,Wr[_n].y);hn=tn.x>=Gt.x&&rn.x<=er.x&&tn.y>=Gt.y&&rn.y<=er.y?[Wr]:rn.x<Gt.x||tn.x>er.x||rn.y<Gt.y||tn.y>er.y?[]:s.clipLine([Wr],Gt.x,Gt.y,er.x,er.y)}for(var qr=0,Ua=hn;qr<Ua.length;qr+=1){var mo;wr.reset(Ua[qr],.25*Vt),mo=wr.length<=.5*Vt?1:Math.ceil(wr.paddedLength/sn)+1;for(var us=0;us<mo;us++){var na=us/Math.max(mo-1,1),Qn=wr.lerp(na),ia=Qn.x+100,cl=Qn.y+100;fe.push(ia,cl,Vt,0);var fl=ia-Vt,Bi=cl-Vt,Yl=ia+Vt,nf=cl+Vt;if(St=St&&this.isOffscreen(fl,Bi,Yl,nf),xt=xt||this.isInsideGrid(fl,Bi,Yl,nf),!d&&this.grid.hitTestCircle(ia,cl,Vt,Te)&&(Ct=!0,!ue))return{circles:[],offscreen:!1,collisionDetected:Ct}}}}return{circles:!ue&&Ct||!xt?[]:fe,offscreen:St,collisionDetected:Ct}},ha.prototype.queryRenderedSymbols=function(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var b=[],g=1/0,S=1/0,N=-1/0,z=-1/0,$=0,X=d;$<X.length;$+=1){var ue=X[$],ge=new s.Point(ue.x+100,ue.y+100);g=Math.min(g,ge.x),S=Math.min(S,ge.y),N=Math.max(N,ge.x),z=Math.max(z,ge.y),b.push(ge)}for(var Te={},ke={},De=0,fe=this.grid.query(g,S,N,z).concat(this.ignoredGrid.query(g,S,N,z));De<fe.length;De+=1){var He=fe[De],it=He.key;if(Te[it.bucketInstanceId]===void 0&&(Te[it.bucketInstanceId]={}),!Te[it.bucketInstanceId][it.featureIndex]){var qe=[new s.Point(He.x1,He.y1),new s.Point(He.x2,He.y1),new s.Point(He.x2,He.y2),new s.Point(He.x1,He.y2)];s.polygonIntersectsPolygon(b,qe)&&(Te[it.bucketInstanceId][it.featureIndex]=!0,ke[it.bucketInstanceId]===void 0&&(ke[it.bucketInstanceId]=[]),ke[it.bucketInstanceId].push(it.featureIndex))}}return ke},ha.prototype.insertCollisionBox=function(d,b,g,S,N){(b?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:S,collisionGroupID:N},d[0],d[1],d[2],d[3])},ha.prototype.insertCollisionCircles=function(d,b,g,S,N){for(var z=b?this.ignoredGrid:this.grid,$={bucketInstanceId:g,featureIndex:S,collisionGroupID:N},X=0;X<d.length;X+=4)z.insertCircle($,d[X],d[X+1],d[X+2])},ha.prototype.projectAndGetPerspectiveRatio=function(d,b,g){var S=[b,g,0,1];return Ma(S,S,d),{point:new s.Point((S[0]/S[3]+1)/2*this.transform.width+100,(-S[1]/S[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/S[3]*.5}},ha.prototype.isOffscreen=function(d,b,g,S){return g<100||d>=this.screenRightBoundary||S<100||b>this.screenBottomBoundary},ha.prototype.isInsideGrid=function(d,b,g,S){return g>=0&&d<this.gridRightBoundary&&S>=0&&b<this.gridBottomBoundary},ha.prototype.getViewportMatrix=function(){var d=s.identity([]);return s.translate(d,d,[-100,-100,0]),d};var dn=function(d,b,g,S){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?b:-b))):S&&g?1:0,this.placed=g};dn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var su=function(d,b,g,S,N){this.text=new dn(d?d.text:null,b,g,N),this.icon=new dn(d?d.icon:null,b,S,N)};su.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var yp=function(d,b,g){this.text=d,this.icon=b,this.skipFade=g},Ts=function(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]},Nu=function(d,b,g,S,N){this.bucketInstanceId=d,this.featureIndex=b,this.sourceLayerIndex=g,this.bucketIndex=S,this.tileID=N},Ba=function(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}};function $a(d,b,g,S,N){var z=s.getAnchorAlignment(d),$=-(z.horizontalAlign-.5)*b,X=-(z.verticalAlign-.5)*g,ue=s.evaluateVariableOffset(d,S);return new s.Point($+ue[0]*N,X+ue[1]*N)}function rl(d,b,g,S,N,z){var $=d.x1,X=d.x2,ue=d.y1,ge=d.y2,Te=d.anchorPointX,ke=d.anchorPointY,De=new s.Point(b,g);return S&&De._rotate(N?z:-z),{x1:$+De.x,y1:ue+De.y,x2:X+De.x,y2:ge+De.y,anchorPointX:Te,anchorPointY:ke}}Ba.prototype.get=function(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){var b=++this.maxGroupID;this.collisionGroups[d]={ID:b,predicate:function(g){return g.collisionGroupID===b}}}return this.collisionGroups[d]};var Wt=function(d,b,g,S){this.transform=d.clone(),this.collisionIndex=new ha(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new Ba(g),this.collisionCircleArrays={},this.prevPlacement=S,S&&(S.prevPlacement=void 0),this.placedOrientations={}};function xl(d,b,g,S,N){d.emplaceBack(b?1:0,g?1:0,S||0,N||0),d.emplaceBack(b?1:0,g?1:0,S||0,N||0),d.emplaceBack(b?1:0,g?1:0,S||0,N||0),d.emplaceBack(b?1:0,g?1:0,S||0,N||0)}Wt.prototype.getBucketParts=function(d,b,g,S){var N=g.getBucket(b),z=g.latestFeatureIndex;if(N&&z&&b.id===N.layerIds[0]){var $=g.collisionBoxArray,X=N.layers[0].layout,ue=Math.pow(2,this.transform.zoom-g.tileID.overscaledZ),ge=g.tileSize/s.EXTENT,Te=this.transform.calculatePosMatrix(g.tileID.toUnwrapped()),ke=X.get("text-pitch-alignment")==="map",De=X.get("text-rotation-alignment")==="map",fe=ro(g,1,this.transform.zoom),He=Fi(Te,ke,De,this.transform,fe),it=null;if(ke){var qe=Jn(Te,ke,De,this.transform,fe);it=s.multiply([],this.transform.labelPlaneMatrix,qe)}this.retainedQueryData[N.bucketInstanceId]=new Nu(N.bucketInstanceId,z,N.sourceLayerIndex,N.index,g.tileID);var rt={bucket:N,layout:X,posMatrix:Te,textLabelPlaneMatrix:He,labelToScreenMatrix:it,scale:ue,textPixelRatio:ge,holdingForFade:g.holdingForFade(),collisionBoxArray:$,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(N.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(N.sourceID)};if(S)for(var ut=0,gt=N.sortKeyRanges;ut<gt.length;ut+=1){var Ct=gt[ut];d.push({sortKey:Ct.sortKey,symbolInstanceStart:Ct.symbolInstanceStart,symbolInstanceEnd:Ct.symbolInstanceEnd,parameters:rt})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:N.symbolInstances.length,parameters:rt})}},Wt.prototype.attemptAnchorPlacement=function(d,b,g,S,N,z,$,X,ue,ge,Te,ke,De,fe,He){var it,qe=[ke.textOffset0,ke.textOffset1],rt=$a(d,g,S,qe,N),ut=this.collisionIndex.placeCollisionBox(rl(b,rt.x,rt.y,z,$,this.transform.angle),Te,X,ue,ge.predicate);if(!He||this.collisionIndex.placeCollisionBox(rl(He,rt.x,rt.y,z,$,this.transform.angle),Te,X,ue,ge.predicate).box.length!==0)return ut.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[ke.crossTileID]&&this.prevPlacement.placements[ke.crossTileID]&&this.prevPlacement.placements[ke.crossTileID].text&&(it=this.prevPlacement.variableOffsets[ke.crossTileID].anchor),this.variableOffsets[ke.crossTileID]={textOffset:qe,width:g,height:S,anchor:d,textBoxScale:N,prevAnchor:it},this.markUsedJustification(De,d,ke,fe),De.allowVerticalPlacement&&(this.markUsedOrientation(De,fe,ke),this.placedOrientations[ke.crossTileID]=fe),{shift:rt,placedGlyphBoxes:ut}):void 0},Wt.prototype.placeLayerBucketPart=function(d,b,g){var S=this,N=d.parameters,z=N.bucket,$=N.layout,X=N.posMatrix,ue=N.textLabelPlaneMatrix,ge=N.labelToScreenMatrix,Te=N.textPixelRatio,ke=N.holdingForFade,De=N.collisionBoxArray,fe=N.partiallyEvaluatedTextSize,He=N.collisionGroup,it=$.get("text-optional"),qe=$.get("icon-optional"),rt=$.get("text-allow-overlap"),ut=$.get("icon-allow-overlap"),gt=$.get("text-rotation-alignment")==="map",Ct=$.get("text-pitch-alignment")==="map",xt=$.get("icon-text-fit")!=="none",St=$.get("symbol-z-order")==="viewport-y",Vt=rt&&(ut||!z.hasIconData()||qe),Gt=ut&&(rt||!z.hasTextData()||it);!z.collisionArrays&&De&&z.deserializeCollisionBoxes(De);var er=function(Ar,sn){if(!b[Ar.crossTileID])if(ke)S.placements[Ar.crossTileID]=new yp(!1,!1,!1);else{var On,hn=!1,tn=!1,rn=!0,_n=null,qr={box:null,offscreen:null},Ua={box:null,offscreen:null},mo=null,us=null,na=0,Qn=0,ia=0;sn.textFeatureIndex?na=sn.textFeatureIndex:Ar.useRuntimeCollisionCircles&&(na=Ar.featureIndex),sn.verticalTextFeatureIndex&&(Qn=sn.verticalTextFeatureIndex);var cl=sn.textBox;if(cl){var fl=function(In){var Uc=s.WritingMode.horizontal;if(z.allowVerticalPlacement&&!In&&S.prevPlacement){var Zl=S.prevPlacement.placedOrientations[Ar.crossTileID];Zl&&(S.placedOrientations[Ar.crossTileID]=Zl,S.markUsedOrientation(z,Uc=Zl,Ar))}return Uc},Bi=function(In,Uc){if(z.allowVerticalPlacement&&Ar.numVerticalGlyphVertices>0&&sn.verticalTextBox)for(var Zl=0,$h=z.writingModes;Zl<$h.length&&($h[Zl]===s.WritingMode.vertical?(qr=Uc(),Ua=qr):qr=In(),!(qr&&qr.box&&qr.box.length));Zl+=1);else qr=In()};if($.get("text-variable-anchor")){var Yl=$.get("text-variable-anchor");if(S.prevPlacement&&S.prevPlacement.variableOffsets[Ar.crossTileID]){var nf=S.prevPlacement.variableOffsets[Ar.crossTileID];Yl.indexOf(nf.anchor)>0&&(Yl=Yl.filter(function(In){return In!==nf.anchor})).unshift(nf.anchor)}var gc=function(In,Uc,Zl){for(var $h=In.x2-In.x1,yg=In.y2-In.y1,kf=Ar.textBoxScale,vg=xt&&!ut?Uc:null,Uh={box:[],offscreen:!1},Od=rt?2*Yl.length:Yl.length,Kl=0;Kl<Od;++Kl){var ep=S.attemptAnchorPlacement(Yl[Kl%Yl.length],In,$h,yg,kf,gt,Ct,Te,X,He,Kl>=Yl.length,Ar,z,Zl,vg);if(ep&&(Uh=ep.placedGlyphBoxes)&&Uh.box&&Uh.box.length){hn=!0,_n=ep.shift;break}}return Uh};Bi(function(){return gc(cl,sn.iconBox,s.WritingMode.horizontal)},function(){var In=sn.verticalTextBox;return z.allowVerticalPlacement&&!(qr&&qr.box&&qr.box.length)&&Ar.numVerticalGlyphVertices>0&&In?gc(In,sn.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}}),qr&&(hn=qr.box,rn=qr.offscreen);var Bh=fl(qr&&qr.box);if(!hn&&S.prevPlacement){var nh=S.prevPlacement.variableOffsets[Ar.crossTileID];nh&&(S.variableOffsets[Ar.crossTileID]=nh,S.markUsedJustification(z,nh.anchor,Ar,Bh))}}else{var ih=function(In,Uc){var Zl=S.collisionIndex.placeCollisionBox(In,rt,Te,X,He.predicate);return Zl&&Zl.box&&Zl.box.length&&(S.markUsedOrientation(z,Uc,Ar),S.placedOrientations[Ar.crossTileID]=Uc),Zl};Bi(function(){return ih(cl,s.WritingMode.horizontal)},function(){var In=sn.verticalTextBox;return z.allowVerticalPlacement&&Ar.numVerticalGlyphVertices>0&&In?ih(In,s.WritingMode.vertical):{box:null,offscreen:null}}),fl(qr&&qr.box&&qr.box.length)}}if(hn=(On=qr)&&On.box&&On.box.length>0,rn=On&&On.offscreen,Ar.useRuntimeCollisionCircles){var yc=z.text.placedSymbolArray.get(Ar.centerJustifiedTextSymbolIndex),oh=s.evaluateSizeForFeature(z.textSizeData,fe,yc),Hl=$.get("text-padding");mo=S.collisionIndex.placeCollisionCircles(rt,yc,z.lineVertexArray,z.glyphOffsetArray,oh,X,ue,ge,g,Ct,He.predicate,Ar.collisionCircleDiameter,Hl),hn=rt||mo.circles.length>0&&!mo.collisionDetected,rn=rn&&mo.offscreen}if(sn.iconFeatureIndex&&(ia=sn.iconFeatureIndex),sn.iconBox){var Ad=function(In){var Uc=xt&&_n?rl(In,_n.x,_n.y,gt,Ct,S.transform.angle):In;return S.collisionIndex.placeCollisionBox(Uc,ut,Te,X,He.predicate)};tn=Ua&&Ua.box&&Ua.box.length&&sn.verticalIconBox?(us=Ad(sn.verticalIconBox)).box.length>0:(us=Ad(sn.iconBox)).box.length>0,rn=rn&&us.offscreen}var Of=it||Ar.numHorizontalGlyphVertices===0&&Ar.numVerticalGlyphVertices===0,$i=qe||Ar.numIconVertices===0;if(Of||$i?$i?Of||(tn=tn&&hn):hn=tn&&hn:tn=hn=tn&&hn,hn&&On&&On.box&&S.collisionIndex.insertCollisionBox(On.box,$.get("text-ignore-placement"),z.bucketInstanceId,Ua&&Ua.box&&Qn?Qn:na,He.ID),tn&&us&&S.collisionIndex.insertCollisionBox(us.box,$.get("icon-ignore-placement"),z.bucketInstanceId,ia,He.ID),mo&&(hn&&S.collisionIndex.insertCollisionCircles(mo.circles,$.get("text-ignore-placement"),z.bucketInstanceId,na,He.ID),g)){var Ep=z.bucketInstanceId,Pp=S.collisionCircleArrays[Ep];Pp===void 0&&(Pp=S.collisionCircleArrays[Ep]=new Ts);for(var ah=0;ah<mo.circles.length;ah+=4)Pp.circles.push(mo.circles[ah+0]),Pp.circles.push(mo.circles[ah+1]),Pp.circles.push(mo.circles[ah+2]),Pp.circles.push(mo.collisionDetected?1:0)}S.placements[Ar.crossTileID]=new yp(hn||Vt,tn||Gt,rn||z.justReloaded),b[Ar.crossTileID]=!0}};if(St)for(var wr=z.getSortedSymbolIndexes(this.transform.angle),Yr=wr.length-1;Yr>=0;--Yr){var an=wr[Yr];er(z.symbolInstances.get(an),z.collisionArrays[an])}else for(var Wr=d.symbolInstanceStart;Wr<d.symbolInstanceEnd;Wr++)er(z.symbolInstances.get(Wr),z.collisionArrays[Wr]);if(g&&z.bucketInstanceId in this.collisionCircleArrays){var fi=this.collisionCircleArrays[z.bucketInstanceId];s.invert(fi.invProjMatrix,X),fi.viewportMatrix=this.collisionIndex.getViewportMatrix()}z.justReloaded=!1},Wt.prototype.markUsedJustification=function(d,b,g,S){var N;N=S===s.WritingMode.vertical?g.verticalPlacedTextSymbolIndex:{left:g.leftJustifiedTextSymbolIndex,center:g.centerJustifiedTextSymbolIndex,right:g.rightJustifiedTextSymbolIndex}[s.getAnchorJustification(b)];for(var z=0,$=[g.leftJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.rightJustifiedTextSymbolIndex,g.verticalPlacedTextSymbolIndex];z<$.length;z+=1){var X=$[z];X>=0&&(d.text.placedSymbolArray.get(X).crossTileID=N>=0&&X!==N?0:g.crossTileID)}},Wt.prototype.markUsedOrientation=function(d,b,g){for(var S=b===s.WritingMode.horizontal||b===s.WritingMode.horizontalOnly?b:0,N=b===s.WritingMode.vertical?b:0,z=0,$=[g.leftJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.rightJustifiedTextSymbolIndex];z<$.length;z+=1)d.text.placedSymbolArray.get($[z]).placedOrientation=S;g.verticalPlacedTextSymbolIndex&&(d.text.placedSymbolArray.get(g.verticalPlacedTextSymbolIndex).placedOrientation=N)},Wt.prototype.commit=function(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;var b=this.prevPlacement,g=!1;this.prevZoomAdjustment=b?b.zoomAdjustment(this.transform.zoom):0;var S=b?b.symbolFadeChange(d):1,N=b?b.opacities:{},z=b?b.variableOffsets:{},$=b?b.placedOrientations:{};for(var X in this.placements){var ue=this.placements[X],ge=N[X];ge?(this.opacities[X]=new su(ge,S,ue.text,ue.icon),g=g||ue.text!==ge.text.placed||ue.icon!==ge.icon.placed):(this.opacities[X]=new su(null,S,ue.text,ue.icon,ue.skipFade),g=g||ue.text||ue.icon)}for(var Te in N){var ke=N[Te];if(!this.opacities[Te]){var De=new su(ke,S,!1,!1);De.isHidden()||(this.opacities[Te]=De,g=g||ke.text.placed||ke.icon.placed)}}for(var fe in z)this.variableOffsets[fe]||!this.opacities[fe]||this.opacities[fe].isHidden()||(this.variableOffsets[fe]=z[fe]);for(var He in $)this.placedOrientations[He]||!this.opacities[He]||this.opacities[He].isHidden()||(this.placedOrientations[He]=$[He]);g?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=b?b.lastPlacementChangeTime:d)},Wt.prototype.updateLayerOpacities=function(d,b){for(var g={},S=0,N=b;S<N.length;S+=1){var z=N[S],$=z.getBucket(d);$&&z.latestFeatureIndex&&d.id===$.layerIds[0]&&this.updateBucketOpacities($,g,z.collisionBoxArray)}},Wt.prototype.updateBucketOpacities=function(d,b,g){var S=this;d.hasTextData()&&d.text.opacityVertexArray.clear(),d.hasIconData()&&d.icon.opacityVertexArray.clear(),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();var N=d.layers[0].layout,z=new su(null,0,!1,!1,!0),$=N.get("text-allow-overlap"),X=N.get("icon-allow-overlap"),ue=N.get("text-variable-anchor"),ge=N.get("text-rotation-alignment")==="map",Te=N.get("text-pitch-alignment")==="map",ke=N.get("icon-text-fit")!=="none",De=new su(null,0,$&&(X||!d.hasIconData()||N.get("icon-optional")),X&&($||!d.hasTextData()||N.get("text-optional")),!0);!d.collisionArrays&&g&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(g);for(var fe=function(rt,ut,gt){for(var Ct=0;Ct<ut/4;Ct++)rt.opacityVertexArray.emplaceBack(gt)},He=function(rt){var ut=d.symbolInstances.get(rt),gt=ut.numHorizontalGlyphVertices,Ct=ut.numVerticalGlyphVertices,xt=ut.crossTileID,St=S.opacities[xt];b[xt]?St=z:St||(S.opacities[xt]=St=De),b[xt]=!0;var Vt=ut.numIconVertices>0,Gt=S.placedOrientations[ut.crossTileID],er=Gt===s.WritingMode.vertical,wr=Gt===s.WritingMode.horizontal||Gt===s.WritingMode.horizontalOnly;if(gt>0||Ct>0){var Yr=vp(St.text);fe(d.text,gt,er?Lc:Yr),fe(d.text,Ct,wr?Lc:Yr);var an=St.text.isHidden();[ut.rightJustifiedTextSymbolIndex,ut.centerJustifiedTextSymbolIndex,ut.leftJustifiedTextSymbolIndex].forEach(function(qr){qr>=0&&(d.text.placedSymbolArray.get(qr).hidden=an||er?1:0)}),ut.verticalPlacedTextSymbolIndex>=0&&(d.text.placedSymbolArray.get(ut.verticalPlacedTextSymbolIndex).hidden=an||wr?1:0);var Wr=S.variableOffsets[ut.crossTileID];Wr&&S.markUsedJustification(d,Wr.anchor,ut,Gt);var fi=S.placedOrientations[ut.crossTileID];fi&&(S.markUsedJustification(d,"left",ut,fi),S.markUsedOrientation(d,fi,ut))}if(Vt){var Ar=vp(St.icon),sn=!(ke&&ut.verticalPlacedIconSymbolIndex&&er);ut.placedIconSymbolIndex>=0&&(fe(d.icon,ut.numIconVertices,sn?Ar:Lc),d.icon.placedSymbolArray.get(ut.placedIconSymbolIndex).hidden=St.icon.isHidden()),ut.verticalPlacedIconSymbolIndex>=0&&(fe(d.icon,ut.numVerticalIconVertices,sn?Lc:Ar),d.icon.placedSymbolArray.get(ut.verticalPlacedIconSymbolIndex).hidden=St.icon.isHidden())}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){var On=d.collisionArrays[rt];if(On){var hn=new s.Point(0,0);if(On.textBox||On.verticalTextBox){var tn=!0;if(ue){var rn=S.variableOffsets[xt];rn?(hn=$a(rn.anchor,rn.width,rn.height,rn.textOffset,rn.textBoxScale),ge&&hn._rotate(Te?S.transform.angle:-S.transform.angle)):tn=!1}On.textBox&&xl(d.textCollisionBox.collisionVertexArray,St.text.placed,!tn||er,hn.x,hn.y),On.verticalTextBox&&xl(d.textCollisionBox.collisionVertexArray,St.text.placed,!tn||wr,hn.x,hn.y)}var _n=Boolean(!wr&&On.verticalIconBox);On.iconBox&&xl(d.iconCollisionBox.collisionVertexArray,St.icon.placed,_n,ke?hn.x:0,ke?hn.y:0),On.verticalIconBox&&xl(d.iconCollisionBox.collisionVertexArray,St.icon.placed,!_n,ke?hn.x:0,ke?hn.y:0)}}},it=0;it<d.symbolInstances.length;it++)He(it);if(d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.bucketInstanceId in this.collisionCircleArrays){var qe=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=qe.invProjMatrix,d.placementViewportMatrix=qe.viewportMatrix,d.collisionCircleArray=qe.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}},Wt.prototype.symbolFadeChange=function(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Wt.prototype.zoomAdjustment=function(d){return Math.max(0,(this.transform.zoom-d)/1.5)},Wt.prototype.hasTransitions=function(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration},Wt.prototype.stillRecent=function(d,b){var g=this.zoomAtLastRecencyCheck===b?1-this.zoomAdjustment(b):1;return this.zoomAtLastRecencyCheck=b,this.commitTime+this.fadeDuration*g>d},Wt.prototype.setStale=function(){this.stale=!0};var Uu=Math.pow(2,25),wl=Math.pow(2,24),Jc=Math.pow(2,17),os=Math.pow(2,16),Hi=Math.pow(2,9),Ai=Math.pow(2,8),Wo=Math.pow(2,1);function vp(d){if(d.opacity===0&&!d.placed)return 0;if(d.opacity===1&&d.placed)return 4294967295;var b=d.placed?1:0,g=Math.floor(127*d.opacity);return g*Uu+b*wl+g*Jc+b*os+g*Hi+b*Ai+g*Wo+b}var Lc=0,gs=function(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&d.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};gs.prototype.continuePlacement=function(d,b,g,S,N){for(var z=this._bucketParts;this._currentTileIndex<d.length;)if(b.getBucketParts(z,S,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,N())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,z.sort(function($,X){return $.sortKey-X.sortKey}));this._currentPartIndex<z.length;)if(b.placeLayerBucketPart(z[this._currentPartIndex],this._seenCrossTileIDs,g),this._currentPartIndex++,N())return!0;return!1};var jl=function(d,b,g,S,N,z,$){this.placement=new Wt(d,N,z,$),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=S,this._done=!1};jl.prototype.isDone=function(){return this._done},jl.prototype.continuePlacement=function(d,b,g){for(var S=this,N=s.browser.now(),z=function(){var ue=s.browser.now()-N;return!S._forceFullPlacement&&ue>2};this._currentPlacementIndex>=0;){var $=b[d[this._currentPlacementIndex]],X=this.placement.collisionIndex.transform.zoom;if($.type==="symbol"&&(!$.minzoom||$.minzoom<=X)&&(!$.maxzoom||$.maxzoom>X)){if(this._inProgressLayer||(this._inProgressLayer=new gs($)),this._inProgressLayer.continuePlacement(g[$.source],this.placement,this._showCollisionBoxes,$,z))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},jl.prototype.commit=function(d){return this.placement.commit(d),this.placement};var mu=512/s.EXTENT/2,Ei=function(d,b,g){this.tileID=d,this.indexedSymbolInstances={},this.bucketInstanceId=g;for(var S=0;S<b.length;S++){var N=b.get(S),z=N.key;this.indexedSymbolInstances[z]||(this.indexedSymbolInstances[z]=[]),this.indexedSymbolInstances[z].push({crossTileID:N.crossTileID,coord:this.getScaledCoordinates(N,d)})}};Ei.prototype.getScaledCoordinates=function(d,b){var g=mu/Math.pow(2,b.canonical.z-this.tileID.canonical.z);return{x:Math.floor((b.canonical.x*s.EXTENT+d.anchorX)*g),y:Math.floor((b.canonical.y*s.EXTENT+d.anchorY)*g)}},Ei.prototype.findMatches=function(d,b,g){for(var S=this.tileID.canonical.z<b.canonical.z?1:Math.pow(2,this.tileID.canonical.z-b.canonical.z),N=0;N<d.length;N++){var z=d.get(N);if(!z.crossTileID){var $=this.indexedSymbolInstances[z.key];if($)for(var X=this.getScaledCoordinates(z,b),ue=0,ge=$;ue<ge.length;ue+=1){var Te=ge[ue];if(Math.abs(Te.coord.x-X.x)<=S&&Math.abs(Te.coord.y-X.y)<=S&&!g[Te.crossTileID]){g[Te.crossTileID]=!0,z.crossTileID=Te.crossTileID;break}}}}};var Ls=function(){this.maxCrossTileID=0};Ls.prototype.generate=function(){return++this.maxCrossTileID};var Xo=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Xo.prototype.handleWrapJump=function(d){var b=Math.round((d-this.lng)/360);if(b!==0)for(var g in this.indexes){var S=this.indexes[g],N={};for(var z in S){var $=S[z];$.tileID=$.tileID.unwrapTo($.tileID.wrap+b),N[$.tileID.key]=$}this.indexes[g]=N}this.lng=d},Xo.prototype.addBucket=function(d,b,g){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===b.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(var S=0;S<b.symbolInstances.length;S++)b.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]={});var N=this.usedCrossTileIDs[d.overscaledZ];for(var z in this.indexes){var $=this.indexes[z];if(Number(z)>d.overscaledZ)for(var X in $){var ue=$[X];ue.tileID.isChildOf(d)&&ue.findMatches(b.symbolInstances,d,N)}else{var ge=$[d.scaledTo(Number(z)).key];ge&&ge.findMatches(b.symbolInstances,d,N)}}for(var Te=0;Te<b.symbolInstances.length;Te++){var ke=b.symbolInstances.get(Te);ke.crossTileID||(ke.crossTileID=g.generate(),N[ke.crossTileID]=!0)}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new Ei(d,b.symbolInstances,b.bucketInstanceId),!0},Xo.prototype.removeBucketCrossTileIDs=function(d,b){for(var g in b.indexedSymbolInstances)for(var S=0,N=b.indexedSymbolInstances[g];S<N.length;S+=1)delete this.usedCrossTileIDs[d][N[S].crossTileID]},Xo.prototype.removeStaleBuckets=function(d){var b=!1;for(var g in this.indexes){var S=this.indexes[g];for(var N in S)d[S[N].bucketInstanceId]||(this.removeBucketCrossTileIDs(g,S[N]),delete S[N],b=!0)}return b};var nl=function(){this.layerIndexes={},this.crossTileIDs=new Ls,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};nl.prototype.addLayer=function(d,b,g){var S=this.layerIndexes[d.id];S===void 0&&(S=this.layerIndexes[d.id]=new Xo);var N=!1,z={};S.handleWrapJump(g);for(var $=0,X=b;$<X.length;$+=1){var ue=X[$],ge=ue.getBucket(d);ge&&d.id===ge.layerIds[0]&&(ge.bucketInstanceId||(ge.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(ue.tileID,ge,this.crossTileIDs)&&(N=!0),z[ge.bucketInstanceId]=!0)}return S.removeStaleBuckets(z)&&(N=!0),N},nl.prototype.pruneUnusedLayers=function(d){var b={};for(var g in d.forEach(function(S){b[S]=!0}),this.layerIndexes)b[g]||delete this.layerIndexes[g]};var Mu=function(d,b){return s.emitValidationErrors(d,b&&b.filter(function(g){return g.identifier!=="source.canvas"}))},Ri=s.pick(or,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),da=s.pick(or,["setCenter","setZoom","setBearing","setPitch"]),il=function(){var d={},b=s.styleSpec.$version;for(var g in s.styleSpec.$root){var S,N=s.styleSpec.$root[g];N.required&&(S=g==="version"?b:N.type==="array"?[]:{})!=null&&(d[g]=S)}return d}(),po=function(d){function b(g,S){var N=this;S===void 0&&(S={}),d.call(this),this.map=g,this.dispatcher=new ae(Et(),this),this.imageManager=new M,this.imageManager.setEventedParent(this),this.glyphManager=new ee(g._requestManager,S.localIdeographFontFamily),this.lineAtlas=new Pe(256,512),this.crossTileSymbolIndex=new nl,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());var z=this;this._rtlTextPluginCallback=b.registerForPluginStateChange(function($){z.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:$.pluginStatus,pluginURL:$.pluginURL},function(X,ue){if(s.triggerPluginCompletionEvent(X),ue&&ue.every(function(Te){return Te}))for(var ge in z.sourceCaches)z.sourceCaches[ge].reload()})}),this.on("data",function($){if($.dataType==="source"&&$.sourceDataType==="metadata"){var X=N.sourceCaches[$.sourceId];if(X){var ue=X.getSource();if(ue&&ue.vectorLayerIds)for(var ge in N._layers){var Te=N._layers[ge];Te.source===ue.id&&N._validateLayer(Te)}}}})}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.loadURL=function(g,S){var N=this;S===void 0&&(S={}),this.fire(new s.Event("dataloading",{dataType:"style"}));var z=typeof S.validate=="boolean"?S.validate:!s.isMapboxURL(g);g=this.map._requestManager.normalizeStyleURL(g,S.accessToken);var $=this.map._requestManager.transformRequest(g,s.ResourceType.Style);this._request=s.getJSON($,function(X,ue){N._request=null,X?N.fire(new s.ErrorEvent(X)):ue&&N._load(ue,z)})},b.prototype.loadJSON=function(g,S){var N=this;S===void 0&&(S={}),this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.browser.frame(function(){N._request=null,N._load(g,S.validate!==!1)})},b.prototype.loadEmpty=function(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(il,!1)},b.prototype._load=function(g,S){if(!S||!Mu(this,s.validateStyle(g))){for(var N in this._loaded=!0,this.stylesheet=g,g.sources)this.addSource(N,g.sources[N],{validate:!1});g.sprite?this._loadSprite(g.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(g.glyphs);var z=Zt(this.stylesheet.layers);this._order=z.map(function(ge){return ge.id}),this._layers={},this._serializedLayers={};for(var $=0,X=z;$<X.length;$+=1){var ue=X[$];(ue=s.createStyleLayer(ue)).setEventedParent(this,{layer:{id:ue.id}}),this._layers[ue.id]=ue,this._serializedLayers[ue.id]=ue.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Se(this.stylesheet.light),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}},b.prototype._loadSprite=function(g){var S=this;this._spriteRequest=function(N,z,$){var X,ue,ge,Te=s.browser.devicePixelRatio>1?"@2x":"",ke=s.getJSON(z.transformRequest(z.normalizeSpriteURL(N,Te,".json"),s.ResourceType.SpriteJSON),function(He,it){ke=null,ge||(ge=He,X=it,fe())}),De=s.getImage(z.transformRequest(z.normalizeSpriteURL(N,Te,".png"),s.ResourceType.SpriteImage),function(He,it){De=null,ge||(ge=He,ue=it,fe())});function fe(){if(ge)$(ge);else if(X&&ue){var He=s.browser.getImageData(ue),it={};for(var qe in X){var rt=X[qe],ut=rt.width,gt=rt.height,Ct=rt.x,xt=rt.y,St=rt.sdf,Vt=rt.pixelRatio,Gt=rt.stretchX,er=rt.stretchY,wr=rt.content,Yr=new s.RGBAImage({width:ut,height:gt});s.RGBAImage.copy(He,Yr,{x:Ct,y:xt},{x:0,y:0},{width:ut,height:gt}),it[qe]={data:Yr,pixelRatio:Vt,sdf:St,stretchX:Gt,stretchY:er,content:wr}}$(null,it)}}return{cancel:function(){ke&&(ke.cancel(),ke=null),De&&(De.cancel(),De=null)}}}(g,this.map._requestManager,function(N,z){if(S._spriteRequest=null,N)S.fire(new s.ErrorEvent(N));else if(z)for(var $ in z)S.imageManager.addImage($,z[$]);S.imageManager.setLoaded(!0),S._availableImages=S.imageManager.listImages(),S.dispatcher.broadcast("setImages",S._availableImages),S.fire(new s.Event("data",{dataType:"style"}))})},b.prototype._validateLayer=function(g){var S=this.sourceCaches[g.source];if(S){var N=g.sourceLayer;if(N){var z=S.getSource();(z.type==="geojson"||z.vectorLayerIds&&z.vectorLayerIds.indexOf(N)===-1)&&this.fire(new s.ErrorEvent(new Error('Source layer "'+N+'" does not exist on source "'+z.id+'" as specified by style layer "'+g.id+'"')))}}},b.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var g in this.sourceCaches)if(!this.sourceCaches[g].loaded())return!1;return!!this.imageManager.isLoaded()},b.prototype._serializeLayers=function(g){for(var S=[],N=0,z=g;N<z.length;N+=1){var $=this._layers[z[N]];$.type!=="custom"&&S.push($.serialize())}return S},b.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var g in this.sourceCaches)if(this.sourceCaches[g].hasTransition())return!0;for(var S in this._layers)if(this._layers[S].hasTransition())return!0;return!1},b.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},b.prototype.update=function(g){if(this._loaded){var S=this._changed;if(this._changed){var N=Object.keys(this._updatedLayers),z=Object.keys(this._removedLayers);for(var $ in(N.length||z.length)&&this._updateWorkerLayers(N,z),this._updatedSources){var X=this._updatedSources[$];X==="reload"?this._reloadSource($):X==="clear"&&this._clearSource($)}for(var ue in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ue].updateTransitions(g);this.light.updateTransitions(g),this._resetUpdates()}var ge={};for(var Te in this.sourceCaches){var ke=this.sourceCaches[Te];ge[Te]=ke.used,ke.used=!1}for(var De=0,fe=this._order;De<fe.length;De+=1){var He=this._layers[fe[De]];He.recalculate(g,this._availableImages),!He.isHidden(g.zoom)&&He.source&&(this.sourceCaches[He.source].used=!0)}for(var it in ge){var qe=this.sourceCaches[it];ge[it]!==qe.used&&qe.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:it}))}this.light.recalculate(g),this.z=g.zoom,S&&this.fire(new s.Event("data",{dataType:"style"}))}},b.prototype._updateTilesForChangedImages=function(){var g=Object.keys(this._changedImages);if(g.length){for(var S in this.sourceCaches)this.sourceCaches[S].reloadTilesForDependencies(["icons","patterns"],g);this._changedImages={}}},b.prototype._updateWorkerLayers=function(g,S){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(g),removedIds:S})},b.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},b.prototype.setState=function(g){var S=this;if(this._checkLoaded(),Mu(this,s.validateStyle(g)))return!1;(g=s.clone$1(g)).layers=Zt(g.layers);var N=function($,X){if(!$)return[{command:or.setStyle,args:[X]}];var ue=[];try{if(!s.deepEqual($.version,X.version))return[{command:or.setStyle,args:[X]}];s.deepEqual($.center,X.center)||ue.push({command:or.setCenter,args:[X.center]}),s.deepEqual($.zoom,X.zoom)||ue.push({command:or.setZoom,args:[X.zoom]}),s.deepEqual($.bearing,X.bearing)||ue.push({command:or.setBearing,args:[X.bearing]}),s.deepEqual($.pitch,X.pitch)||ue.push({command:or.setPitch,args:[X.pitch]}),s.deepEqual($.sprite,X.sprite)||ue.push({command:or.setSprite,args:[X.sprite]}),s.deepEqual($.glyphs,X.glyphs)||ue.push({command:or.setGlyphs,args:[X.glyphs]}),s.deepEqual($.transition,X.transition)||ue.push({command:or.setTransition,args:[X.transition]}),s.deepEqual($.light,X.light)||ue.push({command:or.setLight,args:[X.light]});var ge={},Te=[];(function(De,fe,He,it){var qe;for(qe in fe=fe||{},De=De||{})De.hasOwnProperty(qe)&&(fe.hasOwnProperty(qe)||dr(qe,He,it));for(qe in fe)fe.hasOwnProperty(qe)&&(De.hasOwnProperty(qe)?s.deepEqual(De[qe],fe[qe])||(De[qe].type==="geojson"&&fe[qe].type==="geojson"&&ln(De,fe,qe)?He.push({command:or.setGeoJSONSourceData,args:[qe,fe[qe].data]}):Ur(qe,fe,He,it)):en(qe,fe,He))})($.sources,X.sources,Te,ge);var ke=[];$.layers&&$.layers.forEach(function(De){ge[De.source]?ue.push({command:or.removeLayer,args:[De.id]}):ke.push(De)}),ue=ue.concat(Te),function(De,fe,He){fe=fe||[];var it,qe,rt,ut,gt,Ct,xt,St=(De=De||[]).map(cn),Vt=fe.map(cn),Gt=De.reduce(Ln,{}),er=fe.reduce(Ln,{}),wr=St.slice(),Yr=Object.create(null);for(it=0,qe=0;it<St.length;it++)er.hasOwnProperty(rt=St[it])?qe++:(He.push({command:or.removeLayer,args:[rt]}),wr.splice(wr.indexOf(rt,qe),1));for(it=0,qe=0;it<Vt.length;it++)wr[wr.length-1-it]!==(rt=Vt[Vt.length-1-it])&&(Gt.hasOwnProperty(rt)?(He.push({command:or.removeLayer,args:[rt]}),wr.splice(wr.lastIndexOf(rt,wr.length-qe),1)):qe++,He.push({command:or.addLayer,args:[er[rt],Ct=wr[wr.length-it]]}),wr.splice(wr.length-it,0,rt),Yr[rt]=!0);for(it=0;it<Vt.length;it++)if(ut=Gt[rt=Vt[it]],gt=er[rt],!Yr[rt]&&!s.deepEqual(ut,gt))if(s.deepEqual(ut.source,gt.source)&&s.deepEqual(ut["source-layer"],gt["source-layer"])&&s.deepEqual(ut.type,gt.type)){for(xt in Lt(ut.layout,gt.layout,He,rt,null,or.setLayoutProperty),Lt(ut.paint,gt.paint,He,rt,null,or.setPaintProperty),s.deepEqual(ut.filter,gt.filter)||He.push({command:or.setFilter,args:[rt,gt.filter]}),s.deepEqual(ut.minzoom,gt.minzoom)&&s.deepEqual(ut.maxzoom,gt.maxzoom)||He.push({command:or.setLayerZoomRange,args:[rt,gt.minzoom,gt.maxzoom]}),ut)ut.hasOwnProperty(xt)&&xt!=="layout"&&xt!=="paint"&&xt!=="filter"&&xt!=="metadata"&&xt!=="minzoom"&&xt!=="maxzoom"&&(xt.indexOf("paint.")===0?Lt(ut[xt],gt[xt],He,rt,xt.slice(6),or.setPaintProperty):s.deepEqual(ut[xt],gt[xt])||He.push({command:or.setLayerProperty,args:[rt,xt,gt[xt]]}));for(xt in gt)gt.hasOwnProperty(xt)&&!ut.hasOwnProperty(xt)&&xt!=="layout"&&xt!=="paint"&&xt!=="filter"&&xt!=="metadata"&&xt!=="minzoom"&&xt!=="maxzoom"&&(xt.indexOf("paint.")===0?Lt(ut[xt],gt[xt],He,rt,xt.slice(6),or.setPaintProperty):s.deepEqual(ut[xt],gt[xt])||He.push({command:or.setLayerProperty,args:[rt,xt,gt[xt]]}))}else He.push({command:or.removeLayer,args:[rt]}),Ct=wr[wr.lastIndexOf(rt)+1],He.push({command:or.addLayer,args:[gt,Ct]})}(ke,X.layers,ue)}catch(De){console.warn("Unable to compute style diff:",De),ue=[{command:or.setStyle,args:[X]}]}return ue}(this.serialize(),g).filter(function($){return!($.command in da)});if(N.length===0)return!1;var z=N.filter(function($){return!($.command in Ri)});if(z.length>0)throw new Error("Unimplemented: "+z.map(function($){return $.command}).join(", ")+".");return N.forEach(function($){$.command!=="setTransition"&&S[$.command].apply(S,$.args)}),this.stylesheet=g,!0},b.prototype.addImage=function(g,S){if(this.getImage(g))return this.fire(new s.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(g,S),this._afterImageUpdated(g)},b.prototype.updateImage=function(g,S){this.imageManager.updateImage(g,S)},b.prototype.getImage=function(g){return this.imageManager.getImage(g)},b.prototype.removeImage=function(g){if(!this.getImage(g))return this.fire(new s.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(g),this._afterImageUpdated(g)},b.prototype._afterImageUpdated=function(g){this._availableImages=this.imageManager.listImages(),this._changedImages[g]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))},b.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},b.prototype.addSource=function(g,S,N){var z=this;if(N===void 0&&(N={}),this._checkLoaded(),this.sourceCaches[g]!==void 0)throw new Error("There is already a source with this ID");if(!S.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(S).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(S.type)>=0&&this._validate(s.validateStyle.source,"sources."+g,S,null,N))){this.map&&this.map._collectResourceTiming&&(S.collectResourceTiming=!0);var $=this.sourceCaches[g]=new Xe(g,S,this.dispatcher);$.style=this,$.setEventedParent(this,function(){return{isSourceLoaded:z.loaded(),source:$.serialize(),sourceId:g}}),$.onAdd(this.map),this._changed=!0}},b.prototype.removeSource=function(g){if(this._checkLoaded(),this.sourceCaches[g]===void 0)throw new Error("There is no source with this ID");for(var S in this._layers)if(this._layers[S].source===g)return this.fire(new s.ErrorEvent(new Error('Source "'+g+'" cannot be removed while layer "'+S+'" is using it.')));var N=this.sourceCaches[g];delete this.sourceCaches[g],delete this._updatedSources[g],N.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:g})),N.setEventedParent(null),N.clearTiles(),N.onRemove&&N.onRemove(this.map),this._changed=!0},b.prototype.setGeoJSONSourceData=function(g,S){this._checkLoaded(),this.sourceCaches[g].getSource().setData(S),this._changed=!0},b.prototype.getSource=function(g){return this.sourceCaches[g]&&this.sourceCaches[g].getSource()},b.prototype.addLayer=function(g,S,N){N===void 0&&(N={}),this._checkLoaded();var z=g.id;if(this.getLayer(z))this.fire(new s.ErrorEvent(new Error('Layer with id "'+z+'" already exists on this map')));else{var $;if(g.type==="custom"){if(Mu(this,s.validateCustomStyleLayer(g)))return;$=s.createStyleLayer(g)}else{if(typeof g.source=="object"&&(this.addSource(z,g.source),g=s.clone$1(g),g=s.extend(g,{source:z})),this._validate(s.validateStyle.layer,"layers."+z,g,{arrayIndex:-1},N))return;$=s.createStyleLayer(g),this._validateLayer($),$.setEventedParent(this,{layer:{id:z}}),this._serializedLayers[$.id]=$.serialize()}var X=S?this._order.indexOf(S):this._order.length;if(S&&X===-1)this.fire(new s.ErrorEvent(new Error('Layer with id "'+S+'" does not exist on this map.')));else{if(this._order.splice(X,0,z),this._layerOrderChanged=!0,this._layers[z]=$,this._removedLayers[z]&&$.source&&$.type!=="custom"){var ue=this._removedLayers[z];delete this._removedLayers[z],ue.type!==$.type?this._updatedSources[$.source]="clear":(this._updatedSources[$.source]="reload",this.sourceCaches[$.source].pause())}this._updateLayer($),$.onAdd&&$.onAdd(this.map)}}},b.prototype.moveLayer=function(g,S){if(this._checkLoaded(),this._changed=!0,this._layers[g]){if(g!==S){var N=this._order.indexOf(g);this._order.splice(N,1);var z=S?this._order.indexOf(S):this._order.length;S&&z===-1?this.fire(new s.ErrorEvent(new Error('Layer with id "'+S+'" does not exist on this map.'))):(this._order.splice(z,0,g),this._layerOrderChanged=!0)}}else this.fire(new s.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be moved.")))},b.prototype.removeLayer=function(g){this._checkLoaded();var S=this._layers[g];if(S){S.setEventedParent(null);var N=this._order.indexOf(g);this._order.splice(N,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[g]=S,delete this._layers[g],delete this._serializedLayers[g],delete this._updatedLayers[g],delete this._updatedPaintProps[g],S.onRemove&&S.onRemove(this.map)}else this.fire(new s.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be removed.")))},b.prototype.getLayer=function(g){return this._layers[g]},b.prototype.hasLayer=function(g){return g in this._layers},b.prototype.setLayerZoomRange=function(g,S,N){this._checkLoaded();var z=this.getLayer(g);z?z.minzoom===S&&z.maxzoom===N||(S!=null&&(z.minzoom=S),N!=null&&(z.maxzoom=N),this._updateLayer(z)):this.fire(new s.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot have zoom extent.")))},b.prototype.setFilter=function(g,S,N){N===void 0&&(N={}),this._checkLoaded();var z=this.getLayer(g);if(z){if(!s.deepEqual(z.filter,S))return S==null?(z.filter=void 0,void this._updateLayer(z)):void(this._validate(s.validateStyle.filter,"layers."+z.id+".filter",S,null,N)||(z.filter=s.clone$1(S),this._updateLayer(z)))}else this.fire(new s.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be filtered.")))},b.prototype.getFilter=function(g){return s.clone$1(this.getLayer(g).filter)},b.prototype.setLayoutProperty=function(g,S,N,z){z===void 0&&(z={}),this._checkLoaded();var $=this.getLayer(g);$?s.deepEqual($.getLayoutProperty(S),N)||($.setLayoutProperty(S,N,z),this._updateLayer($)):this.fire(new s.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be styled.")))},b.prototype.getLayoutProperty=function(g,S){var N=this.getLayer(g);if(N)return N.getLayoutProperty(S);this.fire(new s.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style.")))},b.prototype.setPaintProperty=function(g,S,N,z){z===void 0&&(z={}),this._checkLoaded();var $=this.getLayer(g);$?s.deepEqual($.getPaintProperty(S),N)||($.setPaintProperty(S,N,z)&&this._updateLayer($),this._changed=!0,this._updatedPaintProps[g]=!0):this.fire(new s.ErrorEvent(new Error("The layer '"+g+"' does not exist in the map's style and cannot be styled.")))},b.prototype.getPaintProperty=function(g,S){return this.getLayer(g).getPaintProperty(S)},b.prototype.setFeatureState=function(g,S){this._checkLoaded();var N=g.source,z=g.sourceLayer,$=this.sourceCaches[N];if($!==void 0){var X=$.getSource().type;X==="geojson"&&z?this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):X!=="vector"||z?(g.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),$.setFeatureState(z,g.id,S)):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error("The source '"+N+"' does not exist in the map's style.")))},b.prototype.removeFeatureState=function(g,S){this._checkLoaded();var N=g.source,z=this.sourceCaches[N];if(z!==void 0){var $=z.getSource().type,X=$==="vector"?g.sourceLayer:void 0;$!=="vector"||X?S&&typeof g.id!="string"&&typeof g.id!="number"?this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):z.removeFeatureState(X,g.id,S):this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error("The source '"+N+"' does not exist in the map's style.")))},b.prototype.getFeatureState=function(g){this._checkLoaded();var S=g.source,N=g.sourceLayer,z=this.sourceCaches[S];if(z!==void 0){if(z.getSource().type!=="vector"||N)return g.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),z.getFeatureState(N,g.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error("The source '"+S+"' does not exist in the map's style.")))},b.prototype.getTransition=function(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},b.prototype.serialize=function(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,function(g){return g.serialize()}),layers:this._serializeLayers(this._order)},function(g){return g!==void 0})},b.prototype._updateLayer=function(g){this._updatedLayers[g.id]=!0,g.source&&!this._updatedSources[g.source]&&this.sourceCaches[g.source].getSource().type!=="raster"&&(this._updatedSources[g.source]="reload",this.sourceCaches[g.source].pause()),this._changed=!0},b.prototype._flattenAndSortRenderedFeatures=function(g){for(var S=this,N=function(Gt){return S._layers[Gt].type==="fill-extrusion"},z={},$=[],X=this._order.length-1;X>=0;X--){var ue=this._order[X];if(N(ue)){z[ue]=X;for(var ge=0,Te=g;ge<Te.length;ge+=1){var ke=Te[ge][ue];if(ke)for(var De=0,fe=ke;De<fe.length;De+=1)$.push(fe[De])}}}$.sort(function(Gt,er){return er.intersectionZ-Gt.intersectionZ});for(var He=[],it=this._order.length-1;it>=0;it--){var qe=this._order[it];if(N(qe))for(var rt=$.length-1;rt>=0;rt--){var ut=$[rt].feature;if(z[ut.layer.id]<it)break;He.push(ut),$.pop()}else for(var gt=0,Ct=g;gt<Ct.length;gt+=1){var xt=Ct[gt][qe];if(xt)for(var St=0,Vt=xt;St<Vt.length;St+=1)He.push(Vt[St].feature)}}return He},b.prototype.queryRenderedFeatures=function(g,S,N){S&&S.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",S.filter,null,S);var z={};if(S&&S.layers){if(!Array.isArray(S.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var $=0,X=S.layers;$<X.length;$+=1){var ue=X[$],ge=this._layers[ue];if(!ge)return this.fire(new s.ErrorEvent(new Error("The layer '"+ue+"' does not exist in the map's style and cannot be queried for features."))),[];z[ge.source]=!0}}var Te=[];for(var ke in S.availableImages=this._availableImages,this.sourceCaches)S.layers&&!z[ke]||Te.push(Tt(this.sourceCaches[ke],this._layers,this._serializedLayers,g,S,N));return this.placement&&Te.push(function(De,fe,He,it,qe,rt,ut){for(var gt={},Ct=rt.queryRenderedSymbols(it),xt=[],St=0,Vt=Object.keys(Ct).map(Number);St<Vt.length;St+=1)xt.push(ut[Vt[St]]);xt.sort(Yt);for(var Gt=function(){var Wr=wr[er],fi=Wr.featureIndex.lookupSymbolFeatures(Ct[Wr.bucketInstanceId],fe,Wr.bucketIndex,Wr.sourceLayerIndex,qe.filter,qe.layers,qe.availableImages,De);for(var Ar in fi){var sn=gt[Ar]=gt[Ar]||[],On=fi[Ar];On.sort(function(rn,_n){var qr=Wr.featureSortOrder;if(qr){var Ua=qr.indexOf(rn.featureIndex);return qr.indexOf(_n.featureIndex)-Ua}return _n.featureIndex-rn.featureIndex});for(var hn=0,tn=On;hn<tn.length;hn+=1)sn.push(tn[hn])}},er=0,wr=xt;er<wr.length;er+=1)Gt();var Yr=function(Wr){gt[Wr].forEach(function(fi){var Ar=fi.feature,sn=He[De[Wr].source].getFeatureState(Ar.layer["source-layer"],Ar.id);Ar.source=Ar.layer.source,Ar.layer["source-layer"]&&(Ar.sourceLayer=Ar.layer["source-layer"]),Ar.state=sn})};for(var an in gt)Yr(an);return gt}(this._layers,this._serializedLayers,this.sourceCaches,g,S,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Te)},b.prototype.querySourceFeatures=function(g,S){S&&S.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",S.filter,null,S);var N=this.sourceCaches[g];return N?function(z,$){for(var X=z.getRenderableIds().map(function(fe){return z.getTileByID(fe)}),ue=[],ge={},Te=0;Te<X.length;Te++){var ke=X[Te],De=ke.tileID.canonical.key;ge[De]||(ge[De]=!0,ke.querySourceFeatures(ue,$))}return ue}(N,S):[]},b.prototype.addSourceType=function(g,S,N){return b.getSourceType(g)?N(new Error('A source type called "'+g+'" already exists.')):(b.setSourceType(g,S),S.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:g,url:S.workerSourceURL},N):N(null,null))},b.prototype.getLight=function(){return this.light.getLight()},b.prototype.setLight=function(g,S){S===void 0&&(S={}),this._checkLoaded();var N=this.light.getLight(),z=!1;for(var $ in g)if(!s.deepEqual(g[$],N[$])){z=!0;break}if(z){var X={now:s.browser.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(g,S),this.light.updateTransitions(X)}},b.prototype._validate=function(g,S,N,z,$){return $===void 0&&($={}),(!$||$.validate!==!1)&&Mu(this,g.call(s.validateStyle,s.extend({key:S,style:this.serialize(),value:N,styleSpec:s.styleSpec},z)))},b.prototype._remove=function(){for(var g in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[g].setEventedParent(null);for(var S in this.sourceCaches)this.sourceCaches[S].clearTiles(),this.sourceCaches[S].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},b.prototype._clearSource=function(g){this.sourceCaches[g].clearTiles()},b.prototype._reloadSource=function(g){this.sourceCaches[g].resume(),this.sourceCaches[g].reload()},b.prototype._updateSources=function(g){for(var S in this.sourceCaches)this.sourceCaches[S].update(g)},b.prototype._generateCollisionBoxes=function(){for(var g in this.sourceCaches)this._reloadSource(g)},b.prototype._updatePlacement=function(g,S,N,z,$){$===void 0&&($=!1);for(var X=!1,ue=!1,ge={},Te=0,ke=this._order;Te<ke.length;Te+=1){var De=this._layers[ke[Te]];if(De.type==="symbol"){if(!ge[De.source]){var fe=this.sourceCaches[De.source];ge[De.source]=fe.getRenderableIds(!0).map(function(ut){return fe.getTileByID(ut)}).sort(function(ut,gt){return gt.tileID.overscaledZ-ut.tileID.overscaledZ||(ut.tileID.isLessThan(gt.tileID)?-1:1)})}var He=this.crossTileSymbolIndex.addLayer(De,ge[De.source],g.center.lng);X=X||He}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),(($=$||this._layerOrderChanged||N===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.browser.now(),g.zoom))&&(this.pauseablePlacement=new jl(g,this._order,$,S,N,z,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ge),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.browser.now()),ue=!0),X&&this.pauseablePlacement.placement.setStale()),ue||X)for(var it=0,qe=this._order;it<qe.length;it+=1){var rt=this._layers[qe[it]];rt.type==="symbol"&&this.placement.updateLayerOpacities(rt,ge[rt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.browser.now())},b.prototype._releaseSymbolFadeTiles=function(){for(var g in this.sourceCaches)this.sourceCaches[g].releaseSymbolFadeTiles()},b.prototype.getImages=function(g,S,N){this.imageManager.getImages(S.icons,N),this._updateTilesForChangedImages();var z=this.sourceCaches[S.source];z&&z.setDependencies(S.tileID.key,S.type,S.icons)},b.prototype.getGlyphs=function(g,S,N){this.glyphManager.getGlyphs(S.stacks,N)},b.prototype.getResource=function(g,S,N){return s.makeRequest(S,N)},b}(s.Evented);po.getSourceType=function(d){return yt[d]},po.setSourceType=function(d,b){yt[d]=b},po.registerForPluginStateChange=s.registerForPluginStateChange;var Zi=s.createLayout([{name:"a_pos",type:"Int16",components:2}]),uu=Ji(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),Bl=Ji(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),_a=Ji(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),bp=Ji(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),qs=Ji("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yo=Ji(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Pa=Ji(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Qc=Ji("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),rh=Ji("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Nc=Ji("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Mc=Ji(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),ol=Ji(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),ao=Ji(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Vs=Ji(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Vi=Ji(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Rc=Ji(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Gs=Ji(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Sl=Ji(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),so=Ji(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Rr=Ji(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),pc=Ji(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),El=Ji(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Ha=Ji(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ns=Ji(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Dc=Ji(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Xf=Ji(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Ji(d,b){var g=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,S=b.match(/attribute ([\w]+) ([\w]+)/g),N=d.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),z=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),$=z?z.concat(N):N,X={};return{fragmentSource:d=d.replace(g,function(ue,ge,Te,ke,De){return X[De]=!0,ge==="define"?`
#ifndef HAS_UNIFORM_u_`+De+`
varying `+Te+" "+ke+" "+De+`;
#else
uniform `+Te+" "+ke+" u_"+De+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+De+`
    `+Te+" "+ke+" "+De+" = u_"+De+`;
#endif
`}),vertexSource:b=b.replace(g,function(ue,ge,Te,ke,De){var fe=ke==="float"?"vec2":"vec4",He=De.match(/color/)?"color":fe;return X[De]?ge==="define"?`
#ifndef HAS_UNIFORM_u_`+De+`
uniform lowp float u_`+De+`_t;
attribute `+Te+" "+fe+" a_"+De+`;
varying `+Te+" "+ke+" "+De+`;
#else
uniform `+Te+" "+ke+" u_"+De+`;
#endif
`:He==="vec4"?`
#ifndef HAS_UNIFORM_u_`+De+`
    `+De+" = a_"+De+`;
#else
    `+Te+" "+ke+" "+De+" = u_"+De+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+De+`
    `+De+" = unpack_mix_"+He+"(a_"+De+", u_"+De+`_t);
#else
    `+Te+" "+ke+" "+De+" = u_"+De+`;
#endif
`:ge==="define"?`
#ifndef HAS_UNIFORM_u_`+De+`
uniform lowp float u_`+De+`_t;
attribute `+Te+" "+fe+" a_"+De+`;
#else
uniform `+Te+" "+ke+" u_"+De+`;
#endif
`:He==="vec4"?`
#ifndef HAS_UNIFORM_u_`+De+`
    `+Te+" "+ke+" "+De+" = a_"+De+`;
#else
    `+Te+" "+ke+" "+De+" = u_"+De+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+De+`
    `+Te+" "+ke+" "+De+" = unpack_mix_"+He+"(a_"+De+", u_"+De+`_t);
#else
    `+Te+" "+ke+" "+De+" = u_"+De+`;
#endif
`}),staticAttributes:S,staticUniforms:$}}var Ed=Object.freeze({__proto__:null,prelude:uu,background:Bl,backgroundPattern:_a,circle:bp,clippingMask:qs,heatmap:Yo,heatmapTexture:Pa,collisionBox:Qc,collisionCircle:rh,debug:Nc,fill:Mc,fillOutline:ol,fillOutlinePattern:ao,fillPattern:Vs,fillExtrusion:Vi,fillExtrusionPattern:Rc,hillshadePrepare:Gs,hillshade:Sl,line:so,lineGradient:Rr,linePattern:pc,lineSDF:El,raster:Ha,symbolIcon:Ns,symbolSDF:Dc,symbolTextAndIcon:Xf}),Si=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function $l(d){for(var b=[],g=0;g<d.length;g++)if(d[g]!==null){var S=d[g].split(" ");b.push(S.pop())}return b}Si.prototype.bind=function(d,b,g,S,N,z,$,X){this.context=d;for(var ue=this.boundPaintVertexBuffers.length!==S.length,ge=0;!ue&&ge<S.length;ge++)this.boundPaintVertexBuffers[ge]!==S[ge]&&(ue=!0);d.extVertexArrayObject&&this.vao&&this.boundProgram===b&&this.boundLayoutVertexBuffer===g&&!ue&&this.boundIndexBuffer===N&&this.boundVertexOffset===z&&this.boundDynamicVertexBuffer===$&&this.boundDynamicVertexBuffer2===X?(d.bindVertexArrayOES.set(this.vao),$&&$.bind(),N&&N.dynamicDraw&&N.bind(),X&&X.bind()):this.freshBind(b,g,S,N,z,$,X)},Si.prototype.freshBind=function(d,b,g,S,N,z,$){var X,ue=d.numAttributes,ge=this.context,Te=ge.gl;if(ge.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ge.extVertexArrayObject.createVertexArrayOES(),ge.bindVertexArrayOES.set(this.vao),X=0,this.boundProgram=d,this.boundLayoutVertexBuffer=b,this.boundPaintVertexBuffers=g,this.boundIndexBuffer=S,this.boundVertexOffset=N,this.boundDynamicVertexBuffer=z,this.boundDynamicVertexBuffer2=$;else{X=ge.currentNumAttributes||0;for(var ke=ue;ke<X;ke++)Te.disableVertexAttribArray(ke)}b.enableAttributes(Te,d);for(var De=0,fe=g;De<fe.length;De+=1)fe[De].enableAttributes(Te,d);z&&z.enableAttributes(Te,d),$&&$.enableAttributes(Te,d),b.bind(),b.setVertexAttribPointers(Te,d,N);for(var He=0,it=g;He<it.length;He+=1){var qe=it[He];qe.bind(),qe.setVertexAttribPointers(Te,d,N)}z&&(z.bind(),z.setVertexAttribPointers(Te,d,N)),S&&S.bind(),$&&($.bind(),$.setVertexAttribPointers(Te,d,N)),ge.currentNumAttributes=ue},Si.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ua=function(d,b,g,S,N,z){var $=d.gl;this.program=$.createProgram();for(var X=$l(g.staticAttributes),ue=S?S.getBinderAttributes():[],ge=X.concat(ue),Te=g.staticUniforms?$l(g.staticUniforms):[],ke=S?S.getBinderUniforms():[],De=[],fe=0,He=Te.concat(ke);fe<He.length;fe+=1){var it=He[fe];De.indexOf(it)<0&&De.push(it)}var qe=S?S.defines():[];z&&qe.push("#define OVERDRAW_INSPECTOR;");var rt=qe.concat(uu.fragmentSource,g.fragmentSource).join(`
`),ut=qe.concat(uu.vertexSource,g.vertexSource).join(`
`),gt=$.createShader($.FRAGMENT_SHADER);if($.isContextLost())this.failedToCreate=!0;else{$.shaderSource(gt,rt),$.compileShader(gt),$.attachShader(this.program,gt);var Ct=$.createShader($.VERTEX_SHADER);if($.isContextLost())this.failedToCreate=!0;else{$.shaderSource(Ct,ut),$.compileShader(Ct),$.attachShader(this.program,Ct),this.attributes={};var xt={};this.numAttributes=ge.length;for(var St=0;St<this.numAttributes;St++)ge[St]&&($.bindAttribLocation(this.program,St,ge[St]),this.attributes[ge[St]]=St);$.linkProgram(this.program),$.deleteShader(Ct),$.deleteShader(gt);for(var Vt=0;Vt<De.length;Vt++){var Gt=De[Vt];if(Gt&&!xt[Gt]){var er=$.getUniformLocation(this.program,Gt);er&&(xt[Gt]=er)}}this.fixedUniforms=N(d,xt),this.binderUniforms=S?S.getUniforms(d,xt):[]}}};function Yf(d,b,g){var S=1/ro(g,1,b.transform.tileZoom),N=Math.pow(2,g.tileID.overscaledZ),z=g.tileSize*Math.pow(2,b.transform.tileZoom)/N,$=z*(g.tileID.canonical.x+g.tileID.wrap*N),X=z*g.tileID.canonical.y;return{u_image:0,u_texsize:g.imageAtlasTexture.size,u_scale:[S,d.fromScale,d.toScale],u_fade:d.t,u_pixel_coord_upper:[$>>16,X>>16],u_pixel_coord_lower:[65535&$,65535&X]}}ua.prototype.draw=function(d,b,g,S,N,z,$,X,ue,ge,Te,ke,De,fe,He,it){var qe,rt=d.gl;if(!this.failedToCreate){for(var ut in d.program.set(this.program),d.setDepthMode(g),d.setStencilMode(S),d.setColorMode(N),d.setCullFace(z),this.fixedUniforms)this.fixedUniforms[ut].set($[ut]);fe&&fe.setUniforms(d,this.binderUniforms,ke,{zoom:De});for(var gt=(qe={},qe[rt.LINES]=2,qe[rt.TRIANGLES]=3,qe[rt.LINE_STRIP]=1,qe)[b],Ct=0,xt=Te.get();Ct<xt.length;Ct+=1){var St=xt[Ct],Vt=St.vaos||(St.vaos={});(Vt[X]||(Vt[X]=new Si)).bind(d,this,ue,fe?fe.getPaintVertexBuffers():[],ge,St.vertexOffset,He,it),rt.drawElements(b,St.primitiveLength*gt,rt.UNSIGNED_SHORT,St.primitiveOffset*gt*2)}}};var gu=function(d,b,g,S){var N=b.style.light,z=N.properties.get("position"),$=[z.x,z.y,z.z],X=s.create$1();N.properties.get("anchor")==="viewport"&&s.fromRotation(X,-b.transform.angle),s.transformMat3($,$,X);var ue=N.properties.get("color");return{u_matrix:d,u_lightpos:$,u_lightintensity:N.properties.get("intensity"),u_lightcolor:[ue.r,ue.g,ue.b],u_vertical_gradient:+g,u_opacity:S}},ef=function(d,b,g,S,N,z,$){return s.extend(gu(d,b,g,S),Yf(z,b,$),{u_height_factor:-Math.pow(2,N.overscaledZ)/$.tileSize/8})},Un=function(d){return{u_matrix:d}},al=function(d,b,g,S){return s.extend(Un(d),Yf(g,b,S))},ho=function(d,b){return{u_matrix:d,u_world:b}},Hf=function(d,b,g,S,N){return s.extend(al(d,b,g,S),{u_world:N})},Ms=function(d,b,g,S){var N,z,$=d.transform;if(S.paint.get("circle-pitch-alignment")==="map"){var X=ro(g,1,$.zoom);N=!0,z=[X,X]}else N=!1,z=$.pixelsToGLUnits;return{u_camera_to_center_distance:$.cameraToCenterDistance,u_scale_with_map:+(S.paint.get("circle-pitch-scale")==="map"),u_matrix:d.translatePosMatrix(b.posMatrix,g,S.paint.get("circle-translate"),S.paint.get("circle-translate-anchor")),u_pitch_with_map:+N,u_device_pixel_ratio:s.browser.devicePixelRatio,u_extrude_scale:z}},sl=function(d,b,g){var S=ro(g,1,b.zoom),N=Math.pow(2,b.zoom-g.tileID.overscaledZ),z=g.tileID.overscaleFactor();return{u_matrix:d,u_camera_to_center_distance:b.cameraToCenterDistance,u_pixels_to_tile_units:S,u_extrude_scale:[b.pixelsToGLUnits[0]/(S*N),b.pixelsToGLUnits[1]/(S*N)],u_overscale_factor:z}},Rh=function(d,b,g){return{u_matrix:d,u_inv_matrix:b,u_camera_to_center_distance:g.cameraToCenterDistance,u_viewport_size:[g.width,g.height]}},Ru=function(d,b,g){return g===void 0&&(g=1),{u_matrix:d,u_color:b,u_overlay:0,u_overlay_scale:g}},ci=function(d){return{u_matrix:d}},Du=function(d,b,g,S){return{u_matrix:d,u_extrude_scale:ro(b,1,g),u_intensity:S}},hc=function(d,b,g){var S=d.transform;return{u_matrix:Dh(d,b,g),u_ratio:1/ro(b,1,S.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},Pi=function(d,b,g,S){return s.extend(hc(d,b,g),{u_image:0,u_image_height:S})},Ws=function(d,b,g,S){var N=d.transform,z=Zf(b,N);return{u_matrix:Dh(d,b,g),u_texsize:b.imageAtlasTexture.size,u_ratio:1/ro(b,1,N.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_image:0,u_scale:[z,S.fromScale,S.toScale],u_fade:S.t,u_units_to_pixels:[1/N.pixelsToGLUnits[0],1/N.pixelsToGLUnits[1]]}},Rs=function(d,b,g,S,N){var z=d.lineAtlas,$=Zf(b,d.transform),X=g.layout.get("line-cap")==="round",ue=z.getDash(S.from,X),ge=z.getDash(S.to,X),Te=ue.width*N.fromScale,ke=ge.width*N.toScale;return s.extend(hc(d,b,g),{u_patternscale_a:[$/Te,-ue.height/2],u_patternscale_b:[$/ke,-ge.height/2],u_sdfgamma:z.width/(256*Math.min(Te,ke)*s.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:ue.y,u_tex_y_b:ge.y,u_mix:N.t})};function Zf(d,b){return 1/ro(d,1,b.tileZoom)}function Dh(d,b,g){return d.translatePosMatrix(b.tileID.posMatrix,b,g.paint.get("line-translate"),g.paint.get("line-translate-anchor"))}var zc=function(d,b,g,S,N){return{u_matrix:d,u_tl_parent:b,u_scale_parent:g,u_buffer_scale:1,u_fade_t:S.mix,u_opacity:S.opacity*N.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:N.paint.get("raster-brightness-min"),u_brightness_high:N.paint.get("raster-brightness-max"),u_saturation_factor:($=N.paint.get("raster-saturation"),$>0?1-1/(1.001-$):-$),u_contrast_factor:(z=N.paint.get("raster-contrast"),z>0?1/(1-z):1+z),u_spin_weights:qu(N.paint.get("raster-hue-rotate"))};var z,$};function qu(d){d*=Math.PI/180;var b=Math.sin(d),g=Math.cos(d);return[(2*g+1)/3,(-Math.sqrt(3)*b-g+1)/3,(Math.sqrt(3)*b-g+1)/3]}var Ul,ys=function(d,b,g,S,N,z,$,X,ue,ge){var Te=N.transform;return{u_is_size_zoom_constant:+(d==="constant"||d==="source"),u_is_size_feature_constant:+(d==="constant"||d==="camera"),u_size_t:b?b.uSizeT:0,u_size:b?b.uSize:0,u_camera_to_center_distance:Te.cameraToCenterDistance,u_pitch:Te.pitch/360*2*Math.PI,u_rotate_symbol:+g,u_aspect_ratio:Te.width/Te.height,u_fade_change:N.options.fadeDuration?N.symbolFadeChange:1,u_matrix:z,u_label_plane_matrix:$,u_coord_matrix:X,u_is_text:+ue,u_pitch_with_map:+S,u_texsize:ge,u_texture:0}},Pn=function(d,b,g,S,N,z,$,X,ue,ge,Te){var ke=N.transform;return s.extend(ys(d,b,g,S,N,z,$,X,ue,ge),{u_gamma_scale:S?Math.cos(ke._pitch)*ke.cameraToCenterDistance:1,u_device_pixel_ratio:s.browser.devicePixelRatio,u_is_halo:+Te})},lu=function(d,b,g,S,N,z,$,X,ue,ge){return s.extend(Pn(d,b,g,S,N,z,$,X,!0,ue,!0),{u_texsize_icon:ge,u_texture_icon:1})},yu=function(d,b,g){return{u_matrix:d,u_opacity:b,u_color:g}},cu=function(d,b,g,S,N,z){return s.extend(function($,X,ue,ge){var Te=ue.imageManager.getPattern($.from.toString()),ke=ue.imageManager.getPattern($.to.toString()),De=ue.imageManager.getPixelSize(),fe=De.width,He=De.height,it=Math.pow(2,ge.tileID.overscaledZ),qe=ge.tileSize*Math.pow(2,ue.transform.tileZoom)/it,rt=qe*(ge.tileID.canonical.x+ge.tileID.wrap*it),ut=qe*ge.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Te.tl,u_pattern_br_a:Te.br,u_pattern_tl_b:ke.tl,u_pattern_br_b:ke.br,u_texsize:[fe,He],u_mix:X.t,u_pattern_size_a:Te.displaySize,u_pattern_size_b:ke.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/ro(ge,1,ue.transform.tileZoom),u_pixel_coord_upper:[rt>>16,ut>>16],u_pixel_coord_lower:[65535&rt,65535&ut]}}(S,z,g,N),{u_matrix:d,u_opacity:b})},vs={fillExtrusion:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_lightpos:new s.Uniform3f(d,b.u_lightpos),u_lightintensity:new s.Uniform1f(d,b.u_lightintensity),u_lightcolor:new s.Uniform3f(d,b.u_lightcolor),u_vertical_gradient:new s.Uniform1f(d,b.u_vertical_gradient),u_opacity:new s.Uniform1f(d,b.u_opacity)}},fillExtrusionPattern:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_lightpos:new s.Uniform3f(d,b.u_lightpos),u_lightintensity:new s.Uniform1f(d,b.u_lightintensity),u_lightcolor:new s.Uniform3f(d,b.u_lightcolor),u_vertical_gradient:new s.Uniform1f(d,b.u_vertical_gradient),u_height_factor:new s.Uniform1f(d,b.u_height_factor),u_image:new s.Uniform1i(d,b.u_image),u_texsize:new s.Uniform2f(d,b.u_texsize),u_pixel_coord_upper:new s.Uniform2f(d,b.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(d,b.u_pixel_coord_lower),u_scale:new s.Uniform3f(d,b.u_scale),u_fade:new s.Uniform1f(d,b.u_fade),u_opacity:new s.Uniform1f(d,b.u_opacity)}},fill:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix)}},fillPattern:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_image:new s.Uniform1i(d,b.u_image),u_texsize:new s.Uniform2f(d,b.u_texsize),u_pixel_coord_upper:new s.Uniform2f(d,b.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(d,b.u_pixel_coord_lower),u_scale:new s.Uniform3f(d,b.u_scale),u_fade:new s.Uniform1f(d,b.u_fade)}},fillOutline:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_world:new s.Uniform2f(d,b.u_world)}},fillOutlinePattern:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_world:new s.Uniform2f(d,b.u_world),u_image:new s.Uniform1i(d,b.u_image),u_texsize:new s.Uniform2f(d,b.u_texsize),u_pixel_coord_upper:new s.Uniform2f(d,b.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(d,b.u_pixel_coord_lower),u_scale:new s.Uniform3f(d,b.u_scale),u_fade:new s.Uniform1f(d,b.u_fade)}},circle:function(d,b){return{u_camera_to_center_distance:new s.Uniform1f(d,b.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(d,b.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(d,b.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(d,b.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(d,b.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(d,b.u_matrix)}},collisionBox:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_camera_to_center_distance:new s.Uniform1f(d,b.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(d,b.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(d,b.u_extrude_scale),u_overscale_factor:new s.Uniform1f(d,b.u_overscale_factor)}},collisionCircle:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_inv_matrix:new s.UniformMatrix4f(d,b.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(d,b.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(d,b.u_viewport_size)}},debug:function(d,b){return{u_color:new s.UniformColor(d,b.u_color),u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_overlay:new s.Uniform1i(d,b.u_overlay),u_overlay_scale:new s.Uniform1f(d,b.u_overlay_scale)}},clippingMask:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix)}},heatmap:function(d,b){return{u_extrude_scale:new s.Uniform1f(d,b.u_extrude_scale),u_intensity:new s.Uniform1f(d,b.u_intensity),u_matrix:new s.UniformMatrix4f(d,b.u_matrix)}},heatmapTexture:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_world:new s.Uniform2f(d,b.u_world),u_image:new s.Uniform1i(d,b.u_image),u_color_ramp:new s.Uniform1i(d,b.u_color_ramp),u_opacity:new s.Uniform1f(d,b.u_opacity)}},hillshade:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_image:new s.Uniform1i(d,b.u_image),u_latrange:new s.Uniform2f(d,b.u_latrange),u_light:new s.Uniform2f(d,b.u_light),u_shadow:new s.UniformColor(d,b.u_shadow),u_highlight:new s.UniformColor(d,b.u_highlight),u_accent:new s.UniformColor(d,b.u_accent)}},hillshadePrepare:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_image:new s.Uniform1i(d,b.u_image),u_dimension:new s.Uniform2f(d,b.u_dimension),u_zoom:new s.Uniform1f(d,b.u_zoom),u_unpack:new s.Uniform4f(d,b.u_unpack)}},line:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_ratio:new s.Uniform1f(d,b.u_ratio),u_device_pixel_ratio:new s.Uniform1f(d,b.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(d,b.u_units_to_pixels)}},lineGradient:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_ratio:new s.Uniform1f(d,b.u_ratio),u_device_pixel_ratio:new s.Uniform1f(d,b.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(d,b.u_units_to_pixels),u_image:new s.Uniform1i(d,b.u_image),u_image_height:new s.Uniform1f(d,b.u_image_height)}},linePattern:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_texsize:new s.Uniform2f(d,b.u_texsize),u_ratio:new s.Uniform1f(d,b.u_ratio),u_device_pixel_ratio:new s.Uniform1f(d,b.u_device_pixel_ratio),u_image:new s.Uniform1i(d,b.u_image),u_units_to_pixels:new s.Uniform2f(d,b.u_units_to_pixels),u_scale:new s.Uniform3f(d,b.u_scale),u_fade:new s.Uniform1f(d,b.u_fade)}},lineSDF:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_ratio:new s.Uniform1f(d,b.u_ratio),u_device_pixel_ratio:new s.Uniform1f(d,b.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(d,b.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(d,b.u_patternscale_a),u_patternscale_b:new s.Uniform2f(d,b.u_patternscale_b),u_sdfgamma:new s.Uniform1f(d,b.u_sdfgamma),u_image:new s.Uniform1i(d,b.u_image),u_tex_y_a:new s.Uniform1f(d,b.u_tex_y_a),u_tex_y_b:new s.Uniform1f(d,b.u_tex_y_b),u_mix:new s.Uniform1f(d,b.u_mix)}},raster:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_tl_parent:new s.Uniform2f(d,b.u_tl_parent),u_scale_parent:new s.Uniform1f(d,b.u_scale_parent),u_buffer_scale:new s.Uniform1f(d,b.u_buffer_scale),u_fade_t:new s.Uniform1f(d,b.u_fade_t),u_opacity:new s.Uniform1f(d,b.u_opacity),u_image0:new s.Uniform1i(d,b.u_image0),u_image1:new s.Uniform1i(d,b.u_image1),u_brightness_low:new s.Uniform1f(d,b.u_brightness_low),u_brightness_high:new s.Uniform1f(d,b.u_brightness_high),u_saturation_factor:new s.Uniform1f(d,b.u_saturation_factor),u_contrast_factor:new s.Uniform1f(d,b.u_contrast_factor),u_spin_weights:new s.Uniform3f(d,b.u_spin_weights)}},symbolIcon:function(d,b){return{u_is_size_zoom_constant:new s.Uniform1i(d,b.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(d,b.u_is_size_feature_constant),u_size_t:new s.Uniform1f(d,b.u_size_t),u_size:new s.Uniform1f(d,b.u_size),u_camera_to_center_distance:new s.Uniform1f(d,b.u_camera_to_center_distance),u_pitch:new s.Uniform1f(d,b.u_pitch),u_rotate_symbol:new s.Uniform1i(d,b.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(d,b.u_aspect_ratio),u_fade_change:new s.Uniform1f(d,b.u_fade_change),u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(d,b.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(d,b.u_coord_matrix),u_is_text:new s.Uniform1i(d,b.u_is_text),u_pitch_with_map:new s.Uniform1i(d,b.u_pitch_with_map),u_texsize:new s.Uniform2f(d,b.u_texsize),u_texture:new s.Uniform1i(d,b.u_texture)}},symbolSDF:function(d,b){return{u_is_size_zoom_constant:new s.Uniform1i(d,b.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(d,b.u_is_size_feature_constant),u_size_t:new s.Uniform1f(d,b.u_size_t),u_size:new s.Uniform1f(d,b.u_size),u_camera_to_center_distance:new s.Uniform1f(d,b.u_camera_to_center_distance),u_pitch:new s.Uniform1f(d,b.u_pitch),u_rotate_symbol:new s.Uniform1i(d,b.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(d,b.u_aspect_ratio),u_fade_change:new s.Uniform1f(d,b.u_fade_change),u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(d,b.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(d,b.u_coord_matrix),u_is_text:new s.Uniform1i(d,b.u_is_text),u_pitch_with_map:new s.Uniform1i(d,b.u_pitch_with_map),u_texsize:new s.Uniform2f(d,b.u_texsize),u_texture:new s.Uniform1i(d,b.u_texture),u_gamma_scale:new s.Uniform1f(d,b.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(d,b.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(d,b.u_is_halo)}},symbolTextAndIcon:function(d,b){return{u_is_size_zoom_constant:new s.Uniform1i(d,b.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(d,b.u_is_size_feature_constant),u_size_t:new s.Uniform1f(d,b.u_size_t),u_size:new s.Uniform1f(d,b.u_size),u_camera_to_center_distance:new s.Uniform1f(d,b.u_camera_to_center_distance),u_pitch:new s.Uniform1f(d,b.u_pitch),u_rotate_symbol:new s.Uniform1i(d,b.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(d,b.u_aspect_ratio),u_fade_change:new s.Uniform1f(d,b.u_fade_change),u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(d,b.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(d,b.u_coord_matrix),u_is_text:new s.Uniform1i(d,b.u_is_text),u_pitch_with_map:new s.Uniform1i(d,b.u_pitch_with_map),u_texsize:new s.Uniform2f(d,b.u_texsize),u_texsize_icon:new s.Uniform2f(d,b.u_texsize_icon),u_texture:new s.Uniform1i(d,b.u_texture),u_texture_icon:new s.Uniform1i(d,b.u_texture_icon),u_gamma_scale:new s.Uniform1f(d,b.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(d,b.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(d,b.u_is_halo)}},background:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_opacity:new s.Uniform1f(d,b.u_opacity),u_color:new s.UniformColor(d,b.u_color)}},backgroundPattern:function(d,b){return{u_matrix:new s.UniformMatrix4f(d,b.u_matrix),u_opacity:new s.Uniform1f(d,b.u_opacity),u_image:new s.Uniform1i(d,b.u_image),u_pattern_tl_a:new s.Uniform2f(d,b.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(d,b.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(d,b.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(d,b.u_pattern_br_b),u_texsize:new s.Uniform2f(d,b.u_texsize),u_mix:new s.Uniform1f(d,b.u_mix),u_pattern_size_a:new s.Uniform2f(d,b.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(d,b.u_pattern_size_b),u_scale_a:new s.Uniform1f(d,b.u_scale_a),u_scale_b:new s.Uniform1f(d,b.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(d,b.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(d,b.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(d,b.u_tile_units_to_pixels)}}};function Kf(d,b,g,S,N,z,$){for(var X=d.context,ue=X.gl,ge=d.useProgram("collisionBox"),Te=[],ke=0,De=0,fe=0;fe<S.length;fe++){var He=S[fe],it=b.getTile(He),qe=it.getBucket(g);if(qe){var rt=He.posMatrix;N[0]===0&&N[1]===0||(rt=d.translatePosMatrix(He.posMatrix,it,N,z));var ut=$?qe.textCollisionBox:qe.iconCollisionBox,gt=qe.collisionCircleArray;if(gt.length>0){var Ct=s.create(),xt=rt;s.mul(Ct,qe.placementInvProjMatrix,d.transform.glCoordMatrix),s.mul(Ct,Ct,qe.placementViewportMatrix),Te.push({circleArray:gt,circleOffset:De,transform:xt,invTransform:Ct}),De=ke+=gt.length/4}ut&&ge.draw(X,ue.LINES,Re.disabled,We.disabled,d.colorModeForRenderPass(),lt.disabled,sl(rt,d.transform,it),g.id,ut.layoutVertexBuffer,ut.indexBuffer,ut.segments,null,d.transform.zoom,null,null,ut.collisionVertexBuffer)}}if($&&Te.length){var St=d.useProgram("collisionCircle"),Vt=new s.StructArrayLayout2f1f2i16;Vt.resize(4*ke),Vt._trim();for(var Gt=0,er=0,wr=Te;er<wr.length;er+=1)for(var Yr=wr[er],an=0;an<Yr.circleArray.length/4;an++){var Wr=4*an,fi=Yr.circleArray[Wr+0],Ar=Yr.circleArray[Wr+1],sn=Yr.circleArray[Wr+2],On=Yr.circleArray[Wr+3];Vt.emplace(Gt++,fi,Ar,sn,On,0),Vt.emplace(Gt++,fi,Ar,sn,On,1),Vt.emplace(Gt++,fi,Ar,sn,On,2),Vt.emplace(Gt++,fi,Ar,sn,On,3)}(!Ul||Ul.length<2*ke)&&(Ul=function(mo){var us=2*mo,na=new s.StructArrayLayout3ui6;na.resize(us),na._trim();for(var Qn=0;Qn<us;Qn++){var ia=6*Qn;na.uint16[ia+0]=4*Qn+0,na.uint16[ia+1]=4*Qn+1,na.uint16[ia+2]=4*Qn+2,na.uint16[ia+3]=4*Qn+2,na.uint16[ia+4]=4*Qn+3,na.uint16[ia+5]=4*Qn+0}return na}(ke));for(var hn=X.createIndexBuffer(Ul,!0),tn=X.createVertexBuffer(Vt,s.collisionCircleLayout.members,!0),rn=0,_n=Te;rn<_n.length;rn+=1){var qr=_n[rn],Ua=Rh(qr.transform,qr.invTransform,d.transform);St.draw(X,ue.TRIANGLES,Re.disabled,We.disabled,d.colorModeForRenderPass(),lt.disabled,Ua,g.id,tn,hn,s.SegmentVector.simpleSegment(0,2*qr.circleOffset,qr.circleArray.length,qr.circleArray.length/2),null,d.transform.zoom,null,null,null)}tn.destroy(),hn.destroy()}}var ul=s.identity(new Float32Array(16));function ma(d,b,g,S,N,z){var $=s.getAnchorAlignment(d),X=-($.horizontalAlign-.5)*b,ue=-($.verticalAlign-.5)*g,ge=s.evaluateVariableOffset(d,S);return new s.Point((X/N+ge[0])*z,(ue/N+ge[1])*z)}function dc(d,b,g,S,N,z,$,X,ue,ge,Te){var ke=d.text.placedSymbolArray,De=d.text.dynamicLayoutVertexArray,fe=d.icon.dynamicLayoutVertexArray,He={};De.clear();for(var it=0;it<ke.length;it++){var qe=ke.get(it),rt=qe.hidden||!qe.crossTileID||d.allowVerticalPlacement&&!qe.placedOrientation?null:S[qe.crossTileID];if(rt){var ut=new s.Point(qe.anchorX,qe.anchorY),gt=fn(ut,g?X:$),Ct=hi(z.cameraToCenterDistance,gt.signedDistanceFromCamera),xt=N.evaluateSizeForFeature(d.textSizeData,ge,qe)*Ct/s.ONE_EM;g&&(xt*=d.tilePixelRatio/ue);for(var St=ma(rt.anchor,rt.width,rt.height,rt.textOffset,rt.textBoxScale,xt),Vt=g?fn(ut.add(St),$).point:gt.point.add(b?St.rotate(-z.angle):St),Gt=d.allowVerticalPlacement&&qe.placedOrientation===s.WritingMode.vertical?Math.PI/2:0,er=0;er<qe.numGlyphs;er++)s.addDynamicAttributes(De,Vt,Gt);Te&&qe.associatedIconIndex>=0&&(He[qe.associatedIconIndex]={shiftedAnchor:Vt,angle:Gt})}else wn(qe.numGlyphs,De)}if(Te){fe.clear();for(var wr=d.icon.placedSymbolArray,Yr=0;Yr<wr.length;Yr++){var an=wr.get(Yr);if(an.hidden)wn(an.numGlyphs,fe);else{var Wr=He[Yr];if(Wr)for(var fi=0;fi<an.numGlyphs;fi++)s.addDynamicAttributes(fe,Wr.shiftedAnchor,Wr.angle);else wn(an.numGlyphs,fe)}}d.icon.dynamicLayoutVertexBuffer.updateData(fe)}d.text.dynamicLayoutVertexBuffer.updateData(De)}function ql(d,b,g){return g.iconsInText&&b?"symbolTextAndIcon":d?"symbolSDF":"symbolIcon"}function Jf(d,b,g,S,N,z,$,X,ue,ge,Te,ke){for(var De=d.context,fe=De.gl,He=d.transform,it=X==="map",qe=ue==="map",rt=it&&g.layout.get("symbol-placement")!=="point",ut=it&&!qe&&!rt,gt=g.layout.get("symbol-sort-key").constantOr(1)!==void 0,Ct=!1,xt=d.depthModeForSublayer(0,Re.ReadOnly),St=g.layout.get("text-variable-anchor"),Vt=[],Gt=0,er=S;Gt<er.length;Gt+=1){var wr=er[Gt],Yr=b.getTile(wr),an=Yr.getBucket(g);if(an){var Wr=N?an.text:an.icon;if(Wr&&Wr.segments.get().length){var fi=Wr.programConfigurations.get(g.id),Ar=N||an.sdfIcons,sn=N?an.textSizeData:an.iconSizeData,On=qe||He.pitch!==0,hn=d.useProgram(ql(Ar,N,an),fi),tn=s.evaluateSizeForZoom(sn,He.zoom),rn=void 0,_n=[0,0],qr=void 0,Ua=void 0,mo=null,us=void 0;if(N)qr=Yr.glyphAtlasTexture,Ua=fe.LINEAR,rn=Yr.glyphAtlasTexture.size,an.iconsInText&&(_n=Yr.imageAtlasTexture.size,mo=Yr.imageAtlasTexture,us=On||d.options.rotating||d.options.zooming||sn.kind==="composite"||sn.kind==="camera"?fe.LINEAR:fe.NEAREST);else{var na=g.layout.get("icon-size").constantOr(0)!==1||an.iconsNeedLinear;qr=Yr.imageAtlasTexture,Ua=Ar||d.options.rotating||d.options.zooming||na||On?fe.LINEAR:fe.NEAREST,rn=Yr.imageAtlasTexture.size}var Qn=ro(Yr,1,d.transform.zoom),ia=Fi(wr.posMatrix,qe,it,d.transform,Qn),cl=Jn(wr.posMatrix,qe,it,d.transform,Qn),fl=St&&an.hasTextData(),Bi=g.layout.get("icon-text-fit")!=="none"&&fl&&an.hasIconData();rt&&bl(an,wr.posMatrix,d,N,ia,cl,qe,ge);var Yl=d.translatePosMatrix(wr.posMatrix,Yr,z,$),nf=rt||N&&St||Bi?ul:ia,gc=d.translatePosMatrix(cl,Yr,z,$,!0),Bh=Ar&&g.paint.get(N?"text-halo-width":"icon-halo-width").constantOr(1)!==0,nh={program:hn,buffers:Wr,uniformValues:Ar?an.iconsInText?lu(sn.kind,tn,ut,qe,d,Yl,nf,gc,rn,_n):Pn(sn.kind,tn,ut,qe,d,Yl,nf,gc,N,rn,!0):ys(sn.kind,tn,ut,qe,d,Yl,nf,gc,N,rn),atlasTexture:qr,atlasTextureIcon:mo,atlasInterpolation:Ua,atlasInterpolationIcon:us,isSDF:Ar,hasHalo:Bh};if(gt&&an.canOverlap){Ct=!0;for(var ih=0,yc=Wr.segments.get();ih<yc.length;ih+=1){var oh=yc[ih];Vt.push({segments:new s.SegmentVector([oh]),sortKey:oh.sortKey,state:nh})}}else Vt.push({segments:Wr.segments,sortKey:0,state:nh})}}}Ct&&Vt.sort(function(Pp,ah){return Pp.sortKey-ah.sortKey});for(var Hl=0,Ad=Vt;Hl<Ad.length;Hl+=1){var Of=Ad[Hl],$i=Of.state;if(De.activeTexture.set(fe.TEXTURE0),$i.atlasTexture.bind($i.atlasInterpolation,fe.CLAMP_TO_EDGE),$i.atlasTextureIcon&&(De.activeTexture.set(fe.TEXTURE1),$i.atlasTextureIcon&&$i.atlasTextureIcon.bind($i.atlasInterpolationIcon,fe.CLAMP_TO_EDGE)),$i.isSDF){var Ep=$i.uniformValues;$i.hasHalo&&(Ep.u_is_halo=1,Za($i.buffers,Of.segments,g,d,$i.program,xt,Te,ke,Ep)),Ep.u_is_halo=0}Za($i.buffers,Of.segments,g,d,$i.program,xt,Te,ke,$i.uniformValues)}}function Za(d,b,g,S,N,z,$,X,ue){var ge=S.context;N.draw(ge,ge.gl.TRIANGLES,z,$,X,lt.disabled,ue,g.id,d.layoutVertexBuffer,d.indexBuffer,b,g.paint,S.transform.zoom,d.programConfigurations.get(g.id),d.dynamicLayoutVertexBuffer,d.opacityVertexBuffer)}function xp(d,b,g,S,N,z,$){var X,ue,ge,Te,ke,De=d.context.gl,fe=g.paint.get("fill-pattern"),He=fe&&fe.constantOr(1),it=g.getCrossfadeParameters();$?(ue=He&&!g.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=De.LINES):(ue=He?"fillPattern":"fill",X=De.TRIANGLES);for(var qe=0,rt=S;qe<rt.length;qe+=1){var ut=rt[qe],gt=b.getTile(ut);if(!He||gt.patternsLoaded()){var Ct=gt.getBucket(g);if(Ct){var xt=Ct.programConfigurations.get(g.id),St=d.useProgram(ue,xt);He&&(d.context.activeTexture.set(De.TEXTURE0),gt.imageAtlasTexture.bind(De.LINEAR,De.CLAMP_TO_EDGE),xt.updatePaintBuffers(it));var Vt=fe.constantOr(null);if(Vt&&gt.imageAtlas){var Gt=gt.imageAtlas,er=Gt.patternPositions[Vt.to.toString()],wr=Gt.patternPositions[Vt.from.toString()];er&&wr&&xt.setConstantPatternPositions(er,wr)}var Yr=d.translatePosMatrix(ut.posMatrix,gt,g.paint.get("fill-translate"),g.paint.get("fill-translate-anchor"));if($){Te=Ct.indexBuffer2,ke=Ct.segments2;var an=[De.drawingBufferWidth,De.drawingBufferHeight];ge=ue==="fillOutlinePattern"&&He?Hf(Yr,d,it,gt,an):ho(Yr,an)}else Te=Ct.indexBuffer,ke=Ct.segments,ge=He?al(Yr,d,it,gt):Un(Yr);St.draw(d.context,X,N,d.stencilModeForClipping(ut),z,lt.disabled,ge,g.id,Ct.layoutVertexBuffer,Te,ke,g.paint,d.transform.zoom,xt)}}}}function Pl(d,b,g,S,N,z,$){for(var X=d.context,ue=X.gl,ge=g.paint.get("fill-extrusion-pattern"),Te=ge.constantOr(1),ke=g.getCrossfadeParameters(),De=g.paint.get("fill-extrusion-opacity"),fe=0,He=S;fe<He.length;fe+=1){var it=He[fe],qe=b.getTile(it),rt=qe.getBucket(g);if(rt){var ut=rt.programConfigurations.get(g.id),gt=d.useProgram(Te?"fillExtrusionPattern":"fillExtrusion",ut);Te&&(d.context.activeTexture.set(ue.TEXTURE0),qe.imageAtlasTexture.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),ut.updatePaintBuffers(ke));var Ct=ge.constantOr(null);if(Ct&&qe.imageAtlas){var xt=qe.imageAtlas,St=xt.patternPositions[Ct.to.toString()],Vt=xt.patternPositions[Ct.from.toString()];St&&Vt&&ut.setConstantPatternPositions(St,Vt)}var Gt=d.translatePosMatrix(it.posMatrix,qe,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),er=g.paint.get("fill-extrusion-vertical-gradient"),wr=Te?ef(Gt,d,er,De,it,ke,qe):gu(Gt,d,er,De);gt.draw(X,X.gl.TRIANGLES,N,z,$,lt.backCCW,wr,g.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,g.paint,d.transform.zoom,ut)}}}function Fc(d,b,g,S,N,z){var $=d.context,X=$.gl,ue=b.fbo;if(ue){var ge=d.useProgram("hillshade");$.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,ue.colorAttachment.get());var Te=function(ke,De,fe){var He=fe.paint.get("hillshade-shadow-color"),it=fe.paint.get("hillshade-highlight-color"),qe=fe.paint.get("hillshade-accent-color"),rt=fe.paint.get("hillshade-illumination-direction")*(Math.PI/180);fe.paint.get("hillshade-illumination-anchor")==="viewport"&&(rt-=ke.transform.angle);var ut,gt,Ct,xt=!ke.options.moving;return{u_matrix:ke.transform.calculatePosMatrix(De.tileID.toUnwrapped(),xt),u_image:0,u_latrange:(ut=De.tileID,gt=Math.pow(2,ut.canonical.z),Ct=ut.canonical.y,[new s.MercatorCoordinate(0,Ct/gt).toLngLat().lat,new s.MercatorCoordinate(0,(Ct+1)/gt).toLngLat().lat]),u_light:[fe.paint.get("hillshade-exaggeration"),rt],u_shadow:He,u_highlight:it,u_accent:qe}}(d,b,g);ge.draw($,X.TRIANGLES,S,N,z,lt.disabled,Te,g.id,d.rasterBoundsBuffer,d.quadTriangleIndexBuffer,d.rasterBoundsSegments)}}function Il(d,b,g,S,N,z){var $=d.context,X=$.gl,ue=b.dem;if(ue&&ue.data){var ge=ue.dim,Te=ue.stride,ke=ue.getPixels();if($.activeTexture.set(X.TEXTURE1),$.pixelStoreUnpackPremultiplyAlpha.set(!1),b.demTexture=b.demTexture||d.getTileTexture(Te),b.demTexture){var De=b.demTexture;De.update(ke,{premultiply:!1}),De.bind(X.NEAREST,X.CLAMP_TO_EDGE)}else b.demTexture=new s.Texture($,ke,X.RGBA,{premultiply:!1}),b.demTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE);$.activeTexture.set(X.TEXTURE0);var fe=b.fbo;if(!fe){var He=new s.Texture($,{width:ge,height:ge,data:null},X.RGBA);He.bind(X.LINEAR,X.CLAMP_TO_EDGE),(fe=b.fbo=$.createFramebuffer(ge,ge,!0)).colorAttachment.set(He.texture)}$.bindFramebuffer.set(fe.framebuffer),$.viewport.set([0,0,ge,ge]),d.useProgram("hillshadePrepare").draw($,X.TRIANGLES,S,N,z,lt.disabled,function(it,qe){var rt=qe.stride,ut=s.create();return s.ortho(ut,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(ut,ut,[0,-s.EXTENT,0]),{u_matrix:ut,u_image:1,u_dimension:[rt,rt],u_zoom:it.overscaledZ,u_unpack:qe.getUnpackVector()}}(b.tileID,ue),g.id,d.rasterBoundsBuffer,d.quadTriangleIndexBuffer,d.rasterBoundsSegments),b.needsHillshadePrepare=!1}}function wp(d,b,g,S,N){var z=S.paint.get("raster-fade-duration");if(z>0){var $=s.browser.now(),X=($-d.timeAdded)/z,ue=b?($-b.timeAdded)/z:-1,ge=g.getSource(),Te=N.coveringZoomLevel({tileSize:ge.tileSize,roundZoom:ge.roundZoom}),ke=!b||Math.abs(b.tileID.overscaledZ-Te)>Math.abs(d.tileID.overscaledZ-Te),De=ke&&d.refreshedUponExpiration?1:s.clamp(ke?X:1-ue,0,1);return d.refreshedUponExpiration&&X>=1&&(d.refreshedUponExpiration=!1),b?{opacity:1,mix:1-De}:{opacity:De,mix:0}}return{opacity:1,mix:0}}var _c=new s.Color(1,0,0,1),vu=new s.Color(0,1,0,1),An=new s.Color(0,0,1,1),fu=new s.Color(1,0,1,1),bs=new s.Color(0,1,1,1);function ga(d,b,g,S){jc(d,0,b+g/2,d.transform.width,g,S)}function bu(d,b,g,S){jc(d,b-g/2,0,g,d.transform.height,S)}function jc(d,b,g,S,N,z){var $=d.context,X=$.gl;X.enable(X.SCISSOR_TEST),X.scissor(b*s.browser.devicePixelRatio,g*s.browser.devicePixelRatio,S*s.browser.devicePixelRatio,N*s.browser.devicePixelRatio),$.clear({color:z}),X.disable(X.SCISSOR_TEST)}function Cf(d,b,g){var S=d.context,N=S.gl,z=g.posMatrix,$=d.useProgram("debug"),X=Re.disabled,ue=We.disabled,ge=d.colorModeForRenderPass();S.activeTexture.set(N.TEXTURE0),d.emptyTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),$.draw(S,N.LINE_STRIP,X,ue,ge,lt.disabled,Ru(z,s.Color.red),"$debug",d.debugBuffer,d.tileBorderIndexBuffer,d.debugSegments);var Te=b.getTileByID(g.key).latestRawTileData,ke=Math.floor((Te&&Te.byteLength||0)/1024),De=b.getTile(g).tileSize,fe=512/Math.min(De,512)*(g.overscaledZ/d.transform.zoom)*.5,He=g.canonical.toString();g.overscaledZ!==g.canonical.z&&(He+=" => "+g.overscaledZ),function(it,qe){it.initDebugOverlayCanvas();var rt=it.debugOverlayCanvas,ut=it.context.gl,gt=it.debugOverlayCanvas.getContext("2d");gt.clearRect(0,0,rt.width,rt.height),gt.shadowColor="white",gt.shadowBlur=2,gt.lineWidth=1.5,gt.strokeStyle="white",gt.textBaseline="top",gt.font="bold 36px Open Sans, sans-serif",gt.fillText(qe,5,5),gt.strokeText(qe,5,5),it.debugOverlayTexture.update(rt),it.debugOverlayTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE)}(d,He+" "+ke+"kb"),$.draw(S,N.TRIANGLES,X,ue,at.alphaBlended,lt.disabled,Ru(z,s.Color.transparent,fe),"$debug",d.debugBuffer,d.quadTriangleIndexBuffer,d.debugSegments)}var ll={symbol:function(d,b,g,S,N){if(d.renderPass==="translucent"){var z=We.disabled,$=d.colorModeForRenderPass();g.layout.get("text-variable-anchor")&&function(X,ue,ge,Te,ke,De,fe){for(var He=ue.transform,it=ke==="map",qe=De==="map",rt=0,ut=X;rt<ut.length;rt+=1){var gt=ut[rt],Ct=Te.getTile(gt),xt=Ct.getBucket(ge);if(xt&&xt.text&&xt.text.segments.get().length){var St=s.evaluateSizeForZoom(xt.textSizeData,He.zoom),Vt=ro(Ct,1,ue.transform.zoom),Gt=Fi(gt.posMatrix,qe,it,ue.transform,Vt),er=ge.layout.get("icon-text-fit")!=="none"&&xt.hasIconData();if(St){var wr=Math.pow(2,He.zoom-Ct.tileID.overscaledZ);dc(xt,it,qe,fe,s.symbolSize,He,Gt,gt.posMatrix,wr,St,er)}}}}(S,d,g,b,g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),N),g.paint.get("icon-opacity").constantOr(1)!==0&&Jf(d,b,g,S,!1,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),g.layout.get("icon-rotation-alignment"),g.layout.get("icon-pitch-alignment"),g.layout.get("icon-keep-upright"),z,$),g.paint.get("text-opacity").constantOr(1)!==0&&Jf(d,b,g,S,!0,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),g.layout.get("text-keep-upright"),z,$),b.map.showCollisionBoxes&&(Kf(d,b,g,S,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),!0),Kf(d,b,g,S,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),!1))}},circle:function(d,b,g,S){if(d.renderPass==="translucent"){var N=g.paint.get("circle-opacity"),z=g.paint.get("circle-stroke-width"),$=g.paint.get("circle-stroke-opacity"),X=g.layout.get("circle-sort-key").constantOr(1)!==void 0;if(N.constantOr(1)!==0||z.constantOr(1)!==0&&$.constantOr(1)!==0){for(var ue=d.context,ge=ue.gl,Te=d.depthModeForSublayer(0,Re.ReadOnly),ke=We.disabled,De=d.colorModeForRenderPass(),fe=[],He=0;He<S.length;He++){var it=S[He],qe=b.getTile(it),rt=qe.getBucket(g);if(rt){var ut=rt.programConfigurations.get(g.id),gt={programConfiguration:ut,program:d.useProgram("circle",ut),layoutVertexBuffer:rt.layoutVertexBuffer,indexBuffer:rt.indexBuffer,uniformValues:Ms(d,it,qe,g)};if(X)for(var Ct=0,xt=rt.segments.get();Ct<xt.length;Ct+=1){var St=xt[Ct];fe.push({segments:new s.SegmentVector([St]),sortKey:St.sortKey,state:gt})}else fe.push({segments:rt.segments,sortKey:0,state:gt})}}X&&fe.sort(function(Yr,an){return Yr.sortKey-an.sortKey});for(var Vt=0,Gt=fe;Vt<Gt.length;Vt+=1){var er=Gt[Vt],wr=er.state;wr.program.draw(ue,ge.TRIANGLES,Te,ke,De,lt.disabled,wr.uniformValues,g.id,wr.layoutVertexBuffer,wr.indexBuffer,er.segments,g.paint,d.transform.zoom,wr.programConfiguration)}}}},heatmap:function(d,b,g,S){if(g.paint.get("heatmap-opacity")!==0)if(d.renderPass==="offscreen"){var N=d.context,z=N.gl,$=We.disabled,X=new at([z.ONE,z.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(fe,He,it){var qe=fe.gl;fe.activeTexture.set(qe.TEXTURE1),fe.viewport.set([0,0,He.width/4,He.height/4]);var rt=it.heatmapFbo;if(rt)qe.bindTexture(qe.TEXTURE_2D,rt.colorAttachment.get()),fe.bindFramebuffer.set(rt.framebuffer);else{var ut=qe.createTexture();qe.bindTexture(qe.TEXTURE_2D,ut),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_S,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_T,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MIN_FILTER,qe.LINEAR),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MAG_FILTER,qe.LINEAR),rt=it.heatmapFbo=fe.createFramebuffer(He.width/4,He.height/4,!1),function(gt,Ct,xt,St){var Vt=gt.gl;Vt.texImage2D(Vt.TEXTURE_2D,0,Vt.RGBA,Ct.width/4,Ct.height/4,0,Vt.RGBA,gt.extRenderToTextureHalfFloat?gt.extTextureHalfFloat.HALF_FLOAT_OES:Vt.UNSIGNED_BYTE,null),St.colorAttachment.set(xt)}(fe,He,ut,rt)}})(N,d,g),N.clear({color:s.Color.transparent});for(var ue=0;ue<S.length;ue++){var ge=S[ue];if(!b.hasRenderableParent(ge)){var Te=b.getTile(ge),ke=Te.getBucket(g);if(ke){var De=ke.programConfigurations.get(g.id);d.useProgram("heatmap",De).draw(N,z.TRIANGLES,Re.disabled,$,X,lt.disabled,Du(ge.posMatrix,Te,d.transform.zoom,g.paint.get("heatmap-intensity")),g.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,g.paint,d.transform.zoom,De)}}}N.viewport.set([0,0,d.width,d.height])}else d.renderPass==="translucent"&&(d.context.setColorMode(d.colorModeForRenderPass()),function(fe,He){var it=fe.context,qe=it.gl,rt=He.heatmapFbo;if(rt){it.activeTexture.set(qe.TEXTURE0),qe.bindTexture(qe.TEXTURE_2D,rt.colorAttachment.get()),it.activeTexture.set(qe.TEXTURE1);var ut=He.colorRampTexture;ut||(ut=He.colorRampTexture=new s.Texture(it,He.colorRamp,qe.RGBA)),ut.bind(qe.LINEAR,qe.CLAMP_TO_EDGE),fe.useProgram("heatmapTexture").draw(it,qe.TRIANGLES,Re.disabled,We.disabled,fe.colorModeForRenderPass(),lt.disabled,function(gt,Ct,xt,St){var Vt=s.create();s.ortho(Vt,0,gt.width,gt.height,0,0,1);var Gt=gt.context.gl;return{u_matrix:Vt,u_world:[Gt.drawingBufferWidth,Gt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Ct.paint.get("heatmap-opacity")}}(fe,He),He.id,fe.viewportBuffer,fe.quadTriangleIndexBuffer,fe.viewportSegments,He.paint,fe.transform.zoom)}}(d,g))},line:function(d,b,g,S){if(d.renderPass==="translucent"){var N=g.paint.get("line-opacity"),z=g.paint.get("line-width");if(N.constantOr(1)!==0&&z.constantOr(1)!==0)for(var $=d.depthModeForSublayer(0,Re.ReadOnly),X=d.colorModeForRenderPass(),ue=g.paint.get("line-dasharray"),ge=g.paint.get("line-pattern"),Te=ge.constantOr(1),ke=g.paint.get("line-gradient"),De=g.getCrossfadeParameters(),fe=Te?"linePattern":ue?"lineSDF":ke?"lineGradient":"line",He=d.context,it=He.gl,qe=!0,rt=0,ut=S;rt<ut.length;rt+=1){var gt=ut[rt],Ct=b.getTile(gt);if(!Te||Ct.patternsLoaded()){var xt=Ct.getBucket(g);if(xt){var St=xt.programConfigurations.get(g.id),Vt=d.context.program.get(),Gt=d.useProgram(fe,St),er=qe||Gt.program!==Vt,wr=ge.constantOr(null);if(wr&&Ct.imageAtlas){var Yr=Ct.imageAtlas,an=Yr.patternPositions[wr.to.toString()],Wr=Yr.patternPositions[wr.from.toString()];an&&Wr&&St.setConstantPatternPositions(an,Wr)}var fi=Te?Ws(d,Ct,g,De):ue?Rs(d,Ct,g,ue,De):ke?Pi(d,Ct,g,xt.lineClipsArray.length):hc(d,Ct,g);if(Te)He.activeTexture.set(it.TEXTURE0),Ct.imageAtlasTexture.bind(it.LINEAR,it.CLAMP_TO_EDGE),St.updatePaintBuffers(De);else if(ue&&(er||d.lineAtlas.dirty))He.activeTexture.set(it.TEXTURE0),d.lineAtlas.bind(He);else if(ke){var Ar=xt.gradients[g.id],sn=Ar.texture;if(g.gradientVersion!==Ar.version){var On=256;if(g.stepInterpolant){var hn=b.getSource().maxzoom,tn=gt.canonical.z===hn?Math.ceil(1<<d.transform.maxZoom-gt.canonical.z):1;On=s.clamp(s.nextPowerOfTwo(xt.maxLineLength/s.EXTENT*1024*tn),256,He.maxTextureSize)}Ar.gradient=s.renderColorRamp({expression:g.gradientExpression(),evaluationKey:"lineProgress",resolution:On,image:Ar.gradient||void 0,clips:xt.lineClipsArray}),Ar.texture?Ar.texture.update(Ar.gradient):Ar.texture=new s.Texture(He,Ar.gradient,it.RGBA),Ar.version=g.gradientVersion,sn=Ar.texture}He.activeTexture.set(it.TEXTURE0),sn.bind(g.stepInterpolant?it.NEAREST:it.LINEAR,it.CLAMP_TO_EDGE)}Gt.draw(He,it.TRIANGLES,$,d.stencilModeForClipping(gt),X,lt.disabled,fi,g.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,g.paint,d.transform.zoom,St,xt.layoutVertexBuffer2),qe=!1}}}}},fill:function(d,b,g,S){var N=g.paint.get("fill-color"),z=g.paint.get("fill-opacity");if(z.constantOr(1)!==0){var $=d.colorModeForRenderPass(),X=g.paint.get("fill-pattern"),ue=d.opaquePassEnabledForLayer()&&!X.constantOr(1)&&N.constantOr(s.Color.transparent).a===1&&z.constantOr(0)===1?"opaque":"translucent";if(d.renderPass===ue){var ge=d.depthModeForSublayer(1,d.renderPass==="opaque"?Re.ReadWrite:Re.ReadOnly);xp(d,b,g,S,ge,$,!1)}if(d.renderPass==="translucent"&&g.paint.get("fill-antialias")){var Te=d.depthModeForSublayer(g.getPaintProperty("fill-outline-color")?2:0,Re.ReadOnly);xp(d,b,g,S,Te,$,!0)}}},"fill-extrusion":function(d,b,g,S){var N=g.paint.get("fill-extrusion-opacity");if(N!==0&&d.renderPass==="translucent"){var z=new Re(d.context.gl.LEQUAL,Re.ReadWrite,d.depthRangeFor3D);if(N!==1||g.paint.get("fill-extrusion-pattern").constantOr(1))Pl(d,b,g,S,z,We.disabled,at.disabled),Pl(d,b,g,S,z,d.stencilModeFor3D(),d.colorModeForRenderPass());else{var $=d.colorModeForRenderPass();Pl(d,b,g,S,z,We.disabled,$)}}},hillshade:function(d,b,g,S){if(d.renderPass==="offscreen"||d.renderPass==="translucent"){for(var N=d.context,z=d.depthModeForSublayer(0,Re.ReadOnly),$=d.colorModeForRenderPass(),X=d.renderPass==="translucent"?d.stencilConfigForOverlap(S):[{},S],ue=X[0],ge=0,Te=X[1];ge<Te.length;ge+=1){var ke=Te[ge],De=b.getTile(ke);De.needsHillshadePrepare&&d.renderPass==="offscreen"?Il(d,De,g,z,We.disabled,$):d.renderPass==="translucent"&&Fc(d,De,g,z,ue[ke.overscaledZ],$)}N.viewport.set([0,0,d.width,d.height])}},raster:function(d,b,g,S){if(d.renderPass==="translucent"&&g.paint.get("raster-opacity")!==0&&S.length)for(var N=d.context,z=N.gl,$=b.getSource(),X=d.useProgram("raster"),ue=d.colorModeForRenderPass(),ge=$ instanceof ye?[{},S]:d.stencilConfigForOverlap(S),Te=ge[0],ke=ge[1],De=ke[ke.length-1].overscaledZ,fe=!d.options.moving,He=0,it=ke;He<it.length;He+=1){var qe=it[He],rt=d.depthModeForSublayer(qe.overscaledZ-De,g.paint.get("raster-opacity")===1?Re.ReadWrite:Re.ReadOnly,z.LESS),ut=b.getTile(qe),gt=d.transform.calculatePosMatrix(qe.toUnwrapped(),fe);ut.registerFadeDuration(g.paint.get("raster-fade-duration"));var Ct=b.findLoadedParent(qe,0),xt=wp(ut,Ct,b,g,d.transform),St=void 0,Vt=void 0,Gt=g.paint.get("raster-resampling")==="nearest"?z.NEAREST:z.LINEAR;N.activeTexture.set(z.TEXTURE0),ut.texture.bind(Gt,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),N.activeTexture.set(z.TEXTURE1),Ct?(Ct.texture.bind(Gt,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),St=Math.pow(2,Ct.tileID.overscaledZ-ut.tileID.overscaledZ),Vt=[ut.tileID.canonical.x*St%1,ut.tileID.canonical.y*St%1]):ut.texture.bind(Gt,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST);var er=zc(gt,Vt||[0,0],St||1,xt,g);$ instanceof ye?X.draw(N,z.TRIANGLES,rt,We.disabled,ue,lt.disabled,er,g.id,$.boundsBuffer,d.quadTriangleIndexBuffer,$.boundsSegments):X.draw(N,z.TRIANGLES,rt,Te[qe.overscaledZ],ue,lt.disabled,er,g.id,d.rasterBoundsBuffer,d.quadTriangleIndexBuffer,d.rasterBoundsSegments)}},background:function(d,b,g){var S=g.paint.get("background-color"),N=g.paint.get("background-opacity");if(N!==0){var z=d.context,$=z.gl,X=d.transform,ue=X.tileSize,ge=g.paint.get("background-pattern");if(!d.isPatternMissing(ge)){var Te=!ge&&S.a===1&&N===1&&d.opaquePassEnabledForLayer()?"opaque":"translucent";if(d.renderPass===Te){var ke=We.disabled,De=d.depthModeForSublayer(0,Te==="opaque"?Re.ReadWrite:Re.ReadOnly),fe=d.colorModeForRenderPass(),He=d.useProgram(ge?"backgroundPattern":"background"),it=X.coveringTiles({tileSize:ue});ge&&(z.activeTexture.set($.TEXTURE0),d.imageManager.bind(d.context));for(var qe=g.getCrossfadeParameters(),rt=0,ut=it;rt<ut.length;rt+=1){var gt=ut[rt],Ct=d.transform.calculatePosMatrix(gt.toUnwrapped()),xt=ge?cu(Ct,N,d,ge,{tileID:gt,tileSize:ue},qe):yu(Ct,N,S);He.draw(z,$.TRIANGLES,De,ke,fe,lt.disabled,xt,g.id,d.tileExtentBuffer,d.quadTriangleIndexBuffer,d.tileExtentSegments)}}}}},debug:function(d,b,g){for(var S=0;S<g.length;S++)Cf(d,b,g[S])},custom:function(d,b,g){var S=d.context,N=g.implementation;if(d.renderPass==="offscreen"){var z=N.prerender;z&&(d.setCustomLayerDefaults(),S.setColorMode(d.colorModeForRenderPass()),z.call(N,S.gl,d.transform.customLayerMatrix()),S.setDirty(),d.setBaseState())}else if(d.renderPass==="translucent"){d.setCustomLayerDefaults(),S.setColorMode(d.colorModeForRenderPass()),S.setStencilMode(We.disabled);var $=N.renderingMode==="3d"?new Re(d.context.gl.LEQUAL,Re.ReadWrite,d.depthRangeFor3D):d.depthModeForSublayer(0,Re.ReadOnly);S.setDepthMode($),N.render(S.gl,d.transform.customLayerMatrix()),S.setDirty(),d.setBaseState(),S.bindFramebuffer.set(null)}}},Ii=function(d,b){this.context=new Me(d),this.transform=b,this._tileTextures={},this.setup(),this.numSublayers=Xe.maxUnderzooming+Xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new nl,this.gpuTimers={}};Ii.prototype.resize=function(d,b){if(this.width=d*s.browser.devicePixelRatio,this.height=b*s.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var g=0,S=this.style._order;g<S.length;g+=1)this.style._layers[S[g]].resize()},Ii.prototype.setup=function(){var d=this.context,b=new s.StructArrayLayout2i4;b.emplaceBack(0,0),b.emplaceBack(s.EXTENT,0),b.emplaceBack(0,s.EXTENT),b.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=d.createVertexBuffer(b,Zi.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);var g=new s.StructArrayLayout2i4;g.emplaceBack(0,0),g.emplaceBack(s.EXTENT,0),g.emplaceBack(0,s.EXTENT),g.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=d.createVertexBuffer(g,Zi.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);var S=new s.StructArrayLayout4i8;S.emplaceBack(0,0,0,0),S.emplaceBack(s.EXTENT,0,s.EXTENT,0),S.emplaceBack(0,s.EXTENT,0,s.EXTENT),S.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=d.createVertexBuffer(S,ze.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);var N=new s.StructArrayLayout2i4;N.emplaceBack(0,0),N.emplaceBack(1,0),N.emplaceBack(0,1),N.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(N,Zi.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);var z=new s.StructArrayLayout1ui2;z.emplaceBack(0),z.emplaceBack(1),z.emplaceBack(3),z.emplaceBack(2),z.emplaceBack(0),this.tileBorderIndexBuffer=d.createIndexBuffer(z);var $=new s.StructArrayLayout3ui6;$.emplaceBack(0,1,2),$.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer($),this.emptyTexture=new s.Texture(d,{width:1,height:1,data:new Uint8Array([0,0,0,0])},d.gl.RGBA);var X=this.context.gl;this.stencilClearMode=new We({func:X.ALWAYS,mask:0},0,255,X.ZERO,X.ZERO,X.ZERO)},Ii.prototype.clearStencil=function(){var d=this.context,b=d.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var g=s.create();s.ortho(g,0,this.width,this.height,0,0,1),s.scale(g,g,[b.drawingBufferWidth,b.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(d,b.TRIANGLES,Re.disabled,this.stencilClearMode,at.disabled,lt.disabled,ci(g),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ii.prototype._renderTileClippingMasks=function(d,b){if(this.currentStencilSource!==d.source&&d.isTileClipped()&&b&&b.length){this.currentStencilSource=d.source;var g=this.context,S=g.gl;this.nextStencilID+b.length>256&&this.clearStencil(),g.setColorMode(at.disabled),g.setDepthMode(Re.disabled);var N=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var z=0,$=b;z<$.length;z+=1){var X=$[z],ue=this._tileClippingMaskIDs[X.key]=this.nextStencilID++;N.draw(g,S.TRIANGLES,Re.disabled,new We({func:S.ALWAYS,mask:0},ue,255,S.KEEP,S.KEEP,S.REPLACE),at.disabled,lt.disabled,ci(X.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ii.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var d=this.nextStencilID++,b=this.context.gl;return new We({func:b.NOTEQUAL,mask:255},d,255,b.KEEP,b.KEEP,b.REPLACE)},Ii.prototype.stencilModeForClipping=function(d){var b=this.context.gl;return new We({func:b.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,b.KEEP,b.KEEP,b.REPLACE)},Ii.prototype.stencilConfigForOverlap=function(d){var b,g=this.context.gl,S=d.sort(function(ue,ge){return ge.overscaledZ-ue.overscaledZ}),N=S[S.length-1].overscaledZ,z=S[0].overscaledZ-N+1;if(z>1){this.currentStencilSource=void 0,this.nextStencilID+z>256&&this.clearStencil();for(var $={},X=0;X<z;X++)$[X+N]=new We({func:g.GEQUAL,mask:255},X+this.nextStencilID,255,g.KEEP,g.KEEP,g.REPLACE);return this.nextStencilID+=z,[$,S]}return[(b={},b[N]=We.disabled,b),S]},Ii.prototype.colorModeForRenderPass=function(){var d=this.context.gl;return this._showOverdrawInspector?new at([d.CONSTANT_COLOR,d.ONE],new s.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?at.unblended:at.alphaBlended},Ii.prototype.depthModeForSublayer=function(d,b,g){if(!this.opaquePassEnabledForLayer())return Re.disabled;var S=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new Re(g||this.context.gl.LEQUAL,b,[S,S])},Ii.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ii.prototype.render=function(d,b){var g=this;this.style=d,this.options=b,this.lineAtlas=d.lineAtlas,this.imageManager=d.imageManager,this.glyphManager=d.glyphManager,this.symbolFadeChange=d.placement.symbolFadeChange(s.browser.now()),this.imageManager.beginFrame();var S=this.style._order,N=this.style.sourceCaches;for(var z in N){var $=N[z];$.used&&$.prepare(this.context)}var X,ue,ge={},Te={},ke={};for(var De in N){var fe=N[De];ge[De]=fe.getVisibleCoordinates(),Te[De]=ge[De].slice().reverse(),ke[De]=fe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var He=0;He<S.length;He++)if(this.style._layers[S[He]].is3D()){this.opaquePassCutoff=He;break}this.renderPass="offscreen";for(var it=0,qe=S;it<qe.length;it+=1){var rt=this.style._layers[qe[it]];if(rt.hasOffscreenPass()&&!rt.isHidden(this.transform.zoom)){var ut=Te[rt.source];(rt.type==="custom"||ut.length)&&this.renderLayer(this,N[rt.source],rt,ut)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:b.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=b.showOverdrawInspector,this.depthRangeFor3D=[0,1-(d._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=S.length-1;this.currentLayer>=0;this.currentLayer--){var gt=this.style._layers[S[this.currentLayer]],Ct=N[gt.source],xt=ge[gt.source];this._renderTileClippingMasks(gt,xt),this.renderLayer(this,Ct,gt,xt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<S.length;this.currentLayer++){var St=this.style._layers[S[this.currentLayer]],Vt=N[St.source],Gt=(St.type==="symbol"?ke:Te)[St.source];this._renderTileClippingMasks(St,ge[St.source]),this.renderLayer(this,Vt,St,Gt)}this.options.showTileBoundaries&&(s.values(this.style._layers).forEach(function(er){er.source&&!er.isHidden(g.transform.zoom)&&(er.source!==(ue&&ue.id)&&(ue=g.style.sourceCaches[er.source]),(!X||X.getSource().maxzoom<ue.getSource().maxzoom)&&(X=ue))}),X&&ll.debug(this,X,X.getVisibleCoordinates())),this.options.showPadding&&function(er){var wr=er.transform.padding;ga(er,er.transform.height-(wr.top||0),3,_c),ga(er,wr.bottom||0,3,vu),bu(er,wr.left||0,3,An),bu(er,er.transform.width-(wr.right||0),3,fu);var Yr=er.transform.centerPoint;(function(an,Wr,fi,Ar){jc(an,Wr-1,fi-10,2,20,Ar),jc(an,Wr-10,fi-1,20,2,Ar)})(er,Yr.x,er.transform.height-Yr.y,bs)}(this),this.context.setDefault()},Ii.prototype.renderLayer=function(d,b,g,S){g.isHidden(this.transform.zoom)||(g.type==="background"||g.type==="custom"||S.length)&&(this.id=g.id,this.gpuTimingStart(g),ll[g.type](d,b,g,S,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ii.prototype.gpuTimingStart=function(d){if(this.options.gpuTiming){var b=this.context.extTimerQuery,g=this.gpuTimers[d.id];g||(g=this.gpuTimers[d.id]={calls:0,cpuTime:0,query:b.createQueryEXT()}),g.calls++,b.beginQueryEXT(b.TIME_ELAPSED_EXT,g.query)}},Ii.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var d=this.context.extTimerQuery;d.endQueryEXT(d.TIME_ELAPSED_EXT)}},Ii.prototype.collectGpuTimers=function(){var d=this.gpuTimers;return this.gpuTimers={},d},Ii.prototype.queryGpuTimers=function(d){var b={};for(var g in d){var S=d[g],N=this.context.extTimerQuery,z=N.getQueryObjectEXT(S.query,N.QUERY_RESULT_EXT)/1e6;N.deleteQueryEXT(S.query),b[g]=z}return b},Ii.prototype.translatePosMatrix=function(d,b,g,S,N){if(!g[0]&&!g[1])return d;var z=N?S==="map"?this.transform.angle:0:S==="viewport"?-this.transform.angle:0;if(z){var $=Math.sin(z),X=Math.cos(z);g=[g[0]*X-g[1]*$,g[0]*$+g[1]*X]}var ue=[N?g[0]:ro(b,g[0],this.transform.zoom),N?g[1]:ro(b,g[1],this.transform.zoom),0],ge=new Float32Array(16);return s.translate(ge,d,ue),ge},Ii.prototype.saveTileTexture=function(d){var b=this._tileTextures[d.size[0]];b?b.push(d):this._tileTextures[d.size[0]]=[d]},Ii.prototype.getTileTexture=function(d){var b=this._tileTextures[d];return b&&b.length>0?b.pop():null},Ii.prototype.isPatternMissing=function(d){if(!d)return!1;if(!d.from||!d.to)return!0;var b=this.imageManager.getPattern(d.from.toString()),g=this.imageManager.getPattern(d.to.toString());return!b||!g},Ii.prototype.useProgram=function(d,b){this.cache=this.cache||{};var g=""+d+(b?b.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[g]||(this.cache[g]=new ua(this.context,d,Ed[d],b,vs[d],this._showOverdrawInspector)),this.cache[g]},Ii.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ii.prototype.setBaseState=function(){var d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)},Ii.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Ii.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xs=function(d,b){this.points=d,this.planes=b};xs.fromInvProjectionMatrix=function(d,b,g){var S=Math.pow(2,g),N=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function($){return s.transformMat4([],$,d)}).map(function($){return s.scale$1([],$,1/$[3]/b*S)}),z=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function($){var X=s.sub([],N[$[0]],N[$[1]]),ue=s.sub([],N[$[2]],N[$[1]]),ge=s.normalize([],s.cross([],X,ue)),Te=-s.dot(ge,N[$[1]]);return ge.concat(Te)});return new xs(N,z)};var Xs=function(d,b){this.min=d,this.max=b,this.center=s.scale$2([],s.add([],this.min,this.max),.5)};Xs.prototype.quadrant=function(d){for(var b=[d%2==0,d<2],g=s.clone$2(this.min),S=s.clone$2(this.max),N=0;N<b.length;N++)g[N]=b[N]?this.min[N]:this.center[N],S[N]=b[N]?this.center[N]:this.max[N];return S[2]=this.max[2],new Xs(g,S)},Xs.prototype.distanceX=function(d){return Math.max(Math.min(this.max[0],d[0]),this.min[0])-d[0]},Xs.prototype.distanceY=function(d){return Math.max(Math.min(this.max[1],d[1]),this.min[1])-d[1]},Xs.prototype.intersects=function(d){for(var b=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],g=!0,S=0;S<d.planes.length;S++){for(var N=d.planes[S],z=0,$=0;$<b.length;$++)z+=s.dot$1(N,b[$])>=0;if(z===0)return 0;z!==b.length&&(g=!1)}if(g)return 2;for(var X=0;X<3;X++){for(var ue=Number.MAX_VALUE,ge=-Number.MAX_VALUE,Te=0;Te<d.points.length;Te++){var ke=d.points[Te][X]-this.min[X];ue=Math.min(ue,ke),ge=Math.max(ge,ke)}if(ge<0||ue>this.max[X]-this.min[X])return 0}return 1};var uo=function(d,b,g,S){if(d===void 0&&(d=0),b===void 0&&(b=0),g===void 0&&(g=0),S===void 0&&(S=0),isNaN(d)||d<0||isNaN(b)||b<0||isNaN(g)||g<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=b,this.left=g,this.right=S};uo.prototype.interpolate=function(d,b,g){return b.top!=null&&d.top!=null&&(this.top=s.number(d.top,b.top,g)),b.bottom!=null&&d.bottom!=null&&(this.bottom=s.number(d.bottom,b.bottom,g)),b.left!=null&&d.left!=null&&(this.left=s.number(d.left,b.left,g)),b.right!=null&&d.right!=null&&(this.right=s.number(d.right,b.right,g)),this},uo.prototype.getCenter=function(d,b){var g=s.clamp((this.left+d-this.right)/2,0,d),S=s.clamp((this.top+b-this.bottom)/2,0,b);return new s.Point(g,S)},uo.prototype.equals=function(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right},uo.prototype.clone=function(){return new uo(this.top,this.bottom,this.left,this.right)},uo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var di=function(d,b,g,S,N){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=N===void 0||N,this._minZoom=d||0,this._maxZoom=b||22,this._minPitch=g==null?0:g,this._maxPitch=S==null?60:S,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new uo,this._posMatrixCache={},this._alignedPosMatrixCache={}},Gi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};di.prototype.clone=function(){var d=new di(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return d.tileSize=this.tileSize,d.latRange=this.latRange,d.width=this.width,d.height=this.height,d._center=this._center,d.zoom=this.zoom,d.angle=this.angle,d._fov=this._fov,d._pitch=this._pitch,d._unmodified=this._unmodified,d._edgeInsets=this._edgeInsets.clone(),d._calcMatrices(),d},Gi.minZoom.get=function(){return this._minZoom},Gi.minZoom.set=function(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))},Gi.maxZoom.get=function(){return this._maxZoom},Gi.maxZoom.set=function(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))},Gi.minPitch.get=function(){return this._minPitch},Gi.minPitch.set=function(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))},Gi.maxPitch.get=function(){return this._maxPitch},Gi.maxPitch.set=function(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))},Gi.renderWorldCopies.get=function(){return this._renderWorldCopies},Gi.renderWorldCopies.set=function(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d},Gi.worldSize.get=function(){return this.tileSize*this.scale},Gi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Gi.size.get=function(){return new s.Point(this.width,this.height)},Gi.bearing.get=function(){return-this.angle/Math.PI*180},Gi.bearing.set=function(d){var b=-s.wrap(d,-180,180)*Math.PI/180;this.angle!==b&&(this._unmodified=!1,this.angle=b,this._calcMatrices(),this.rotationMatrix=s.create$2(),s.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Gi.pitch.get=function(){return this._pitch/Math.PI*180},Gi.pitch.set=function(d){var b=s.clamp(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==b&&(this._unmodified=!1,this._pitch=b,this._calcMatrices())},Gi.fov.get=function(){return this._fov/Math.PI*180},Gi.fov.set=function(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=d/180*Math.PI,this._calcMatrices())},Gi.zoom.get=function(){return this._zoom},Gi.zoom.set=function(d){var b=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==b&&(this._unmodified=!1,this._zoom=b,this.scale=this.zoomScale(b),this.tileZoom=Math.floor(b),this.zoomFraction=b-this.tileZoom,this._constrain(),this._calcMatrices())},Gi.center.get=function(){return this._center},Gi.center.set=function(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._constrain(),this._calcMatrices())},Gi.padding.get=function(){return this._edgeInsets.toJSON()},Gi.padding.set=function(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())},Gi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},di.prototype.isPaddingEqual=function(d){return this._edgeInsets.equals(d)},di.prototype.interpolatePadding=function(d,b,g){this._unmodified=!1,this._edgeInsets.interpolate(d,b,g),this._constrain(),this._calcMatrices()},di.prototype.coveringZoomLevel=function(d){var b=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,b)},di.prototype.getVisibleUnwrappedCoordinates=function(d){var b=[new s.UnwrappedTileID(0,d)];if(this._renderWorldCopies)for(var g=this.pointCoordinate(new s.Point(0,0)),S=this.pointCoordinate(new s.Point(this.width,0)),N=this.pointCoordinate(new s.Point(this.width,this.height)),z=this.pointCoordinate(new s.Point(0,this.height)),$=Math.floor(Math.min(g.x,S.x,N.x,z.x)),X=Math.floor(Math.max(g.x,S.x,N.x,z.x)),ue=$-1;ue<=X+1;ue++)ue!==0&&b.push(new s.UnwrappedTileID(ue,d));return b},di.prototype.coveringTiles=function(d){var b=this.coveringZoomLevel(d),g=b;if(d.minzoom!==void 0&&b<d.minzoom)return[];d.maxzoom!==void 0&&b>d.maxzoom&&(b=d.maxzoom);var S=s.MercatorCoordinate.fromLngLat(this.center),N=Math.pow(2,b),z=[N*S.x,N*S.y,0],$=xs.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,b),X=d.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(X=b);var ue=function(er){return{aabb:new Xs([er*N,0,0],[(er+1)*N,N,0]),zoom:0,x:0,y:0,wrap:er,fullyVisible:!1}},ge=[],Te=[],ke=b,De=d.reparseOverscaled?g:b;if(this._renderWorldCopies)for(var fe=1;fe<=3;fe++)ge.push(ue(-fe)),ge.push(ue(fe));for(ge.push(ue(0));ge.length>0;){var He=ge.pop(),it=He.x,qe=He.y,rt=He.fullyVisible;if(!rt){var ut=He.aabb.intersects($);if(ut===0)continue;rt=ut===2}var gt=He.aabb.distanceX(z),Ct=He.aabb.distanceY(z),xt=Math.max(Math.abs(gt),Math.abs(Ct));if(He.zoom===ke||xt>3+(1<<ke-He.zoom)-2&&He.zoom>=X)Te.push({tileID:new s.OverscaledTileID(He.zoom===ke?De:He.zoom,He.wrap,He.zoom,it,qe),distanceSq:s.sqrLen([z[0]-.5-it,z[1]-.5-qe])});else for(var St=0;St<4;St++){var Vt=(it<<1)+St%2,Gt=(qe<<1)+(St>>1);ge.push({aabb:He.aabb.quadrant(St),zoom:He.zoom+1,x:Vt,y:Gt,wrap:He.wrap,fullyVisible:rt})}}return Te.sort(function(er,wr){return er.distanceSq-wr.distanceSq}).map(function(er){return er.tileID})},di.prototype.resize=function(d,b){this.width=d,this.height=b,this.pixelsToGLUnits=[2/d,-2/b],this._constrain(),this._calcMatrices()},Gi.unmodified.get=function(){return this._unmodified},di.prototype.zoomScale=function(d){return Math.pow(2,d)},di.prototype.scaleZoom=function(d){return Math.log(d)/Math.LN2},di.prototype.project=function(d){var b=s.clamp(d.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.Point(s.mercatorXfromLng(d.lng)*this.worldSize,s.mercatorYfromLat(b)*this.worldSize)},di.prototype.unproject=function(d){return new s.MercatorCoordinate(d.x/this.worldSize,d.y/this.worldSize).toLngLat()},Gi.point.get=function(){return this.project(this.center)},di.prototype.setLocationAtPoint=function(d,b){var g=this.pointCoordinate(b),S=this.pointCoordinate(this.centerPoint),N=this.locationCoordinate(d),z=new s.MercatorCoordinate(N.x-(g.x-S.x),N.y-(g.y-S.y));this.center=this.coordinateLocation(z),this._renderWorldCopies&&(this.center=this.center.wrap())},di.prototype.locationPoint=function(d){return this.coordinatePoint(this.locationCoordinate(d))},di.prototype.pointLocation=function(d){return this.coordinateLocation(this.pointCoordinate(d))},di.prototype.locationCoordinate=function(d){return s.MercatorCoordinate.fromLngLat(d)},di.prototype.coordinateLocation=function(d){return d.toLngLat()},di.prototype.pointCoordinate=function(d){var b=[d.x,d.y,0,1],g=[d.x,d.y,1,1];s.transformMat4(b,b,this.pixelMatrixInverse),s.transformMat4(g,g,this.pixelMatrixInverse);var S=b[3],N=g[3],z=b[1]/S,$=g[1]/N,X=b[2]/S,ue=g[2]/N,ge=X===ue?0:(0-X)/(ue-X);return new s.MercatorCoordinate(s.number(b[0]/S,g[0]/N,ge)/this.worldSize,s.number(z,$,ge)/this.worldSize)},di.prototype.coordinatePoint=function(d){var b=[d.x*this.worldSize,d.y*this.worldSize,0,1];return s.transformMat4(b,b,this.pixelMatrix),new s.Point(b[0]/b[3],b[1]/b[3])},di.prototype.getBounds=function(){return new s.LngLatBounds().extend(this.pointLocation(new s.Point(0,0))).extend(this.pointLocation(new s.Point(this.width,0))).extend(this.pointLocation(new s.Point(this.width,this.height))).extend(this.pointLocation(new s.Point(0,this.height)))},di.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},di.prototype.setMaxBounds=function(d){d?(this.lngRange=[d.getWest(),d.getEast()],this.latRange=[d.getSouth(),d.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},di.prototype.calculatePosMatrix=function(d,b){b===void 0&&(b=!1);var g=d.key,S=b?this._alignedPosMatrixCache:this._posMatrixCache;if(S[g])return S[g];var N=d.canonical,z=this.worldSize/this.zoomScale(N.z),$=N.x+Math.pow(2,N.z)*d.wrap,X=s.identity(new Float64Array(16));return s.translate(X,X,[$*z,N.y*z,0]),s.scale(X,X,[z/s.EXTENT,z/s.EXTENT,1]),s.multiply(X,b?this.alignedProjMatrix:this.projMatrix,X),S[g]=new Float32Array(X),S[g]},di.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},di.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var d,b,g,S,N=-90,z=90,$=-180,X=180,ue=this.size,ge=this._unmodified;if(this.latRange){var Te=this.latRange;N=s.mercatorYfromLat(Te[1])*this.worldSize,d=(z=s.mercatorYfromLat(Te[0])*this.worldSize)-N<ue.y?ue.y/(z-N):0}if(this.lngRange){var ke=this.lngRange;$=s.mercatorXfromLng(ke[0])*this.worldSize,b=(X=s.mercatorXfromLng(ke[1])*this.worldSize)-$<ue.x?ue.x/(X-$):0}var De=this.point,fe=Math.max(b||0,d||0);if(fe)return this.center=this.unproject(new s.Point(b?(X+$)/2:De.x,d?(z+N)/2:De.y)),this.zoom+=this.scaleZoom(fe),this._unmodified=ge,void(this._constraining=!1);if(this.latRange){var He=De.y,it=ue.y/2;He-it<N&&(S=N+it),He+it>z&&(S=z-it)}if(this.lngRange){var qe=De.x,rt=ue.x/2;qe-rt<$&&(g=$+rt),qe+rt>X&&(g=X-rt)}g===void 0&&S===void 0||(this.center=this.unproject(new s.Point(g!==void 0?g:De.x,S!==void 0?S:De.y))),this._unmodified=ge,this._constraining=!1}},di.prototype._calcMatrices=function(){if(this.height){var d=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var b=Math.PI/2+this._pitch,g=this._fov*(.5+d.y/this.height),S=Math.sin(g)*this.cameraToCenterDistance/Math.sin(s.clamp(Math.PI-b-g,.01,Math.PI-.01)),N=this.point,z=N.x,$=N.y,X=1.01*(Math.cos(Math.PI/2-this._pitch)*S+this.cameraToCenterDistance),ue=this.height/50,ge=new Float64Array(16);s.perspective(ge,this._fov,this.width/this.height,ue,X),ge[8]=2*-d.x/this.width,ge[9]=2*d.y/this.height,s.scale(ge,ge,[1,-1,1]),s.translate(ge,ge,[0,0,-this.cameraToCenterDistance]),s.rotateX(ge,ge,this._pitch),s.rotateZ(ge,ge,this.angle),s.translate(ge,ge,[-z,-$,0]),this.mercatorMatrix=s.scale([],ge,[this.worldSize,this.worldSize,this.worldSize]),s.scale(ge,ge,[1,1,s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ge,this.invProjMatrix=s.invert([],this.projMatrix);var Te=this.width%2/2,ke=this.height%2/2,De=Math.cos(this.angle),fe=Math.sin(this.angle),He=z-Math.round(z)+De*Te+fe*ke,it=$-Math.round($)+De*ke+fe*Te,qe=new Float64Array(ge);if(s.translate(qe,qe,[He>.5?He-1:He,it>.5?it-1:it,0]),this.alignedProjMatrix=qe,ge=s.create(),s.scale(ge,ge,[this.width/2,-this.height/2,1]),s.translate(ge,ge,[1,-1,0]),this.labelPlaneMatrix=ge,ge=s.create(),s.scale(ge,ge,[1,-1,1]),s.translate(ge,ge,[-1,-1,0]),s.scale(ge,ge,[2/this.width,2/this.height,1]),this.glCoordMatrix=ge,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ge=s.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ge,this._posMatrixCache={},this._alignedPosMatrixCache={}}},di.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var d=this.pointCoordinate(new s.Point(0,0)),b=[d.x*this.worldSize,d.y*this.worldSize,0,1];return s.transformMat4(b,b,this.pixelMatrix)[3]/this.cameraToCenterDistance},di.prototype.getCameraPoint=function(){var d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.Point(0,d))},di.prototype.getCameraQueryGeometry=function(d){var b=this.getCameraPoint();if(d.length===1)return[d[0],b];for(var g=b.x,S=b.y,N=b.x,z=b.y,$=0,X=d;$<X.length;$+=1){var ue=X[$];g=Math.min(g,ue.x),S=Math.min(S,ue.y),N=Math.max(N,ue.x),z=Math.max(z,ue.y)}return[new s.Point(g,S),new s.Point(N,S),new s.Point(N,z),new s.Point(g,z),new s.Point(g,S)]},Object.defineProperties(di.prototype,Gi);var Ys=function(d){var b,g,S,N;this._hashName=d&&encodeURIComponent(d),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(b=this._updateHashUnthrottled.bind(this),g=!1,S=null,N=function(){S=null,g&&(b(),S=setTimeout(N,300),g=!1)},function(){return g=!0,S||N(),S})};Ys.prototype.addTo=function(d){return this._map=d,s.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ys.prototype.remove=function(){return s.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ys.prototype.getHashString=function(d){var b=this._map.getCenter(),g=Math.round(100*this._map.getZoom())/100,S=Math.ceil((g*Math.LN2+Math.log(512/360/.5))/Math.LN10),N=Math.pow(10,S),z=Math.round(b.lng*N)/N,$=Math.round(b.lat*N)/N,X=this._map.getBearing(),ue=this._map.getPitch(),ge="";if(ge+=d?"/"+z+"/"+$+"/"+g:g+"/"+$+"/"+z,(X||ue)&&(ge+="/"+Math.round(10*X)/10),ue&&(ge+="/"+Math.round(ue)),this._hashName){var Te=this._hashName,ke=!1,De=s.window.location.hash.slice(1).split("&").map(function(fe){var He=fe.split("=")[0];return He===Te?(ke=!0,He+"="+ge):fe}).filter(function(fe){return fe});return ke||De.push(Te+"="+ge),"#"+De.join("&")}return"#"+ge},Ys.prototype._getCurrentHash=function(){var d,b=this,g=s.window.location.hash.replace("#","");return this._hashName?(g.split("&").map(function(S){return S.split("=")}).forEach(function(S){S[0]===b._hashName&&(d=S)}),(d&&d[1]||"").split("/")):g.split("/")},Ys.prototype._onHashChange=function(){var d=this._getCurrentHash();if(d.length>=3&&!d.some(function(g){return isNaN(g)})){var b=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:b,pitch:+(d[4]||0)}),!0}return!1},Ys.prototype._updateHashUnthrottled=function(){var d=s.window.location.href.replace(/(#.+)?$/,this.getHashString());try{s.window.history.replaceState(s.window.history.state,null,d)}catch{}};var Qi={linearity:.3,easing:s.bezier(0,0,.3,1)},Ia=s.extend({deceleration:2500,maxSpeed:1400},Qi),Ca=s.extend({deceleration:20,maxSpeed:1400},Qi),Cl=s.extend({deceleration:1e3,maxSpeed:360},Qi),Pd=s.extend({deceleration:1e3,maxSpeed:90},Qi),Vl=function(d){this._map=d,this.clear()};function Gl(d,b){(!d.duration||d.duration<b.duration)&&(d.duration=b.duration,d.easing=b.easing)}function Ka(d,b,g){var S=g.maxSpeed,N=g.linearity,z=g.deceleration,$=s.clamp(d*N/(b/1e3),-S,S),X=Math.abs($)/(z*N);return{easing:g.easing,duration:1e3*X,amount:$*(X/2)}}Vl.prototype.clear=function(){this._inertiaBuffer=[]},Vl.prototype.record=function(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.browser.now(),settings:d})},Vl.prototype._drainInertiaBuffer=function(){for(var d=this._inertiaBuffer,b=s.browser.now();d.length>0&&b-d[0].time>160;)d.shift()},Vl.prototype._onMoveEnd=function(d){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var b={zoom:0,bearing:0,pitch:0,pan:new s.Point(0,0),pinchAround:void 0,around:void 0},g=0,S=this._inertiaBuffer;g<S.length;g+=1){var N=S[g].settings;b.zoom+=N.zoomDelta||0,b.bearing+=N.bearingDelta||0,b.pitch+=N.pitchDelta||0,N.panDelta&&b.pan._add(N.panDelta),N.around&&(b.around=N.around),N.pinchAround&&(b.pinchAround=N.pinchAround)}var z=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,$={};if(b.pan.mag()){var X=Ka(b.pan.mag(),z,s.extend({},Ia,d||{}));$.offset=b.pan.mult(X.amount/b.pan.mag()),$.center=this._map.transform.center,Gl($,X)}if(b.zoom){var ue=Ka(b.zoom,z,Ca);$.zoom=this._map.transform.zoom+ue.amount,Gl($,ue)}if(b.bearing){var ge=Ka(b.bearing,z,Cl);$.bearing=this._map.transform.bearing+s.clamp(ge.amount,-179,179),Gl($,ge)}if(b.pitch){var Te=Ka(b.pitch,z,Pd);$.pitch=this._map.transform.pitch+Te.amount,Gl($,Te)}if($.zoom||$.bearing){var ke=b.pinchAround===void 0?b.around:b.pinchAround;$.around=ke?this._map.unproject(ke):this._map.getCenter()}return this.clear(),s.extend($,{noMoveStart:!0})}};var Ja=function(d){function b(S,N,z,$){$===void 0&&($={});var X=v.mousePos(N.getCanvasContainer(),z),ue=N.unproject(X);d.call(this,S,s.extend({point:X,lngLat:ue,originalEvent:z},$)),this._defaultPrevented=!1,this.target=N}d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b;var g={defaultPrevented:{configurable:!0}};return b.prototype.preventDefault=function(){this._defaultPrevented=!0},g.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(b.prototype,g),b}(s.Event),Ra=function(d){function b(S,N,z){var $=S==="touchend"?z.changedTouches:z.touches,X=v.touchPos(N.getCanvasContainer(),$),ue=X.map(function(ke){return N.unproject(ke)}),ge=X.reduce(function(ke,De,fe,He){return ke.add(De.div(He.length))},new s.Point(0,0)),Te=N.unproject(ge);d.call(this,S,{points:X,point:ge,lngLats:ue,lngLat:Te,originalEvent:z}),this._defaultPrevented=!1}d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b;var g={defaultPrevented:{configurable:!0}};return b.prototype.preventDefault=function(){this._defaultPrevented=!0},g.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(b.prototype,g),b}(s.Event),zh=function(d){function b(S,N,z){d.call(this,S,{originalEvent:z}),this._defaultPrevented=!1}d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b;var g={defaultPrevented:{configurable:!0}};return b.prototype.preventDefault=function(){this._defaultPrevented=!0},g.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(b.prototype,g),b}(s.Event),vi=function(d,b){this._map=d,this._clickTolerance=b.clickTolerance};vi.prototype.reset=function(){delete this._mousedownPos},vi.prototype.wheel=function(d){return this._firePreventable(new zh(d.type,this._map,d))},vi.prototype.mousedown=function(d,b){return this._mousedownPos=b,this._firePreventable(new Ja(d.type,this._map,d))},vi.prototype.mouseup=function(d){this._map.fire(new Ja(d.type,this._map,d))},vi.prototype.click=function(d,b){this._mousedownPos&&this._mousedownPos.dist(b)>=this._clickTolerance||this._map.fire(new Ja(d.type,this._map,d))},vi.prototype.dblclick=function(d){return this._firePreventable(new Ja(d.type,this._map,d))},vi.prototype.mouseover=function(d){this._map.fire(new Ja(d.type,this._map,d))},vi.prototype.mouseout=function(d){this._map.fire(new Ja(d.type,this._map,d))},vi.prototype.touchstart=function(d){return this._firePreventable(new Ra(d.type,this._map,d))},vi.prototype.touchmove=function(d){this._map.fire(new Ra(d.type,this._map,d))},vi.prototype.touchend=function(d){this._map.fire(new Ra(d.type,this._map,d))},vi.prototype.touchcancel=function(d){this._map.fire(new Ra(d.type,this._map,d))},vi.prototype._firePreventable=function(d){if(this._map.fire(d),d.defaultPrevented)return{}},vi.prototype.isEnabled=function(){return!0},vi.prototype.isActive=function(){return!1},vi.prototype.enable=function(){},vi.prototype.disable=function(){};var rr=function(d){this._map=d};rr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},rr.prototype.mousemove=function(d){this._map.fire(new Ja(d.type,this._map,d))},rr.prototype.mousedown=function(){this._delayContextMenu=!0},rr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ja("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},rr.prototype.contextmenu=function(d){this._delayContextMenu?this._contextMenuEvent=d:this._map.fire(new Ja(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()},rr.prototype.isEnabled=function(){return!0},rr.prototype.isActive=function(){return!1},rr.prototype.enable=function(){},rr.prototype.disable=function(){};var Aa=function(d,b){this._map=d,this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=b.clickTolerance||1};function Bc(d,b){for(var g={},S=0;S<d.length;S++)g[d[S].identifier]=b[S];return g}Aa.prototype.isEnabled=function(){return!!this._enabled},Aa.prototype.isActive=function(){return!!this._active},Aa.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Aa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Aa.prototype.mousedown=function(d,b){this.isEnabled()&&d.shiftKey&&d.button===0&&(v.disableDrag(),this._startPos=this._lastPos=b,this._active=!0)},Aa.prototype.mousemoveWindow=function(d,b){if(this._active){var g=b;if(!(this._lastPos.equals(g)||!this._box&&g.dist(this._startPos)<this._clickTolerance)){var S=this._startPos;this._lastPos=g,this._box||(this._box=v.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",d));var N=Math.min(S.x,g.x),z=Math.max(S.x,g.x),$=Math.min(S.y,g.y),X=Math.max(S.y,g.y);v.setTransform(this._box,"translate("+N+"px,"+$+"px)"),this._box.style.width=z-N+"px",this._box.style.height=X-$+"px"}}},Aa.prototype.mouseupWindow=function(d,b){var g=this;if(this._active&&d.button===0){var S=this._startPos,N=b;if(this.reset(),v.suppressClick(),S.x!==N.x||S.y!==N.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:d})),{cameraAnimation:function(z){return z.fitScreenCoordinates(S,N,g._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",d)}},Aa.prototype.keydown=function(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))},Aa.prototype.blur=function(){this.reset()},Aa.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(v.remove(this._box),this._box=null),v.enableDrag(),delete this._startPos,delete this._lastPos},Aa.prototype._fireEvent=function(d,b){return this._map.fire(new s.Event(d,{originalEvent:b}))};var Wl=function(d){this.reset(),this.numTouches=d.numTouches};Wl.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Wl.prototype.touchstart=function(d,b,g){(this.centroid||g.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=d.timeStamp),g.length===this.numTouches&&(this.centroid=function(S){for(var N=new s.Point(0,0),z=0,$=S;z<$.length;z+=1)N._add($[z]);return N.div(S.length)}(b),this.touches=Bc(g,b)))},Wl.prototype.touchmove=function(d,b,g){if(!this.aborted&&this.centroid){var S=Bc(g,b);for(var N in this.touches){var z=S[N];(!z||z.dist(this.touches[N])>30)&&(this.aborted=!0)}}},Wl.prototype.touchend=function(d,b,g){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),g.length===0){var S=!this.aborted&&this.centroid;if(this.reset(),S)return S}};var ws=function(d){this.singleTap=new Wl(d),this.numTaps=d.numTaps,this.reset()};ws.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ws.prototype.touchstart=function(d,b,g){this.singleTap.touchstart(d,b,g)},ws.prototype.touchmove=function(d,b,g){this.singleTap.touchmove(d,b,g)},ws.prototype.touchend=function(d,b,g){var S=this.singleTap.touchend(d,b,g);if(S){var N=d.timeStamp-this.lastTime<500,z=!this.lastTap||this.lastTap.dist(S)<30;if(N&&z||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}};var Oa=function(){this._zoomIn=new ws({numTouches:1,numTaps:2}),this._zoomOut=new ws({numTouches:2,numTaps:1}),this.reset()};Oa.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Oa.prototype.touchstart=function(d,b,g){this._zoomIn.touchstart(d,b,g),this._zoomOut.touchstart(d,b,g)},Oa.prototype.touchmove=function(d,b,g){this._zoomIn.touchmove(d,b,g),this._zoomOut.touchmove(d,b,g)},Oa.prototype.touchend=function(d,b,g){var S=this,N=this._zoomIn.touchend(d,b,g),z=this._zoomOut.touchend(d,b,g);return N?(this._active=!0,d.preventDefault(),setTimeout(function(){return S.reset()},0),{cameraAnimation:function($){return $.easeTo({duration:300,zoom:$.getZoom()+1,around:$.unproject(N)},{originalEvent:d})}}):z?(this._active=!0,d.preventDefault(),setTimeout(function(){return S.reset()},0),{cameraAnimation:function($){return $.easeTo({duration:300,zoom:$.getZoom()-1,around:$.unproject(z)},{originalEvent:d})}}):void 0},Oa.prototype.touchcancel=function(){this.reset()},Oa.prototype.enable=function(){this._enabled=!0},Oa.prototype.disable=function(){this._enabled=!1,this.reset()},Oa.prototype.isEnabled=function(){return this._enabled},Oa.prototype.isActive=function(){return this._active};var Hs={0:1,2:2},Jt=function(d){this.reset(),this._clickTolerance=d.clickTolerance||1};Jt.prototype.blur=function(){this.reset()},Jt.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Jt.prototype._correctButton=function(d,b){return!1},Jt.prototype._move=function(d,b){return{}},Jt.prototype.mousedown=function(d,b){if(!this._lastPoint){var g=v.mouseButton(d);this._correctButton(d,g)&&(this._lastPoint=b,this._eventButton=g)}},Jt.prototype.mousemoveWindow=function(d,b){var g=this._lastPoint;if(g){if(d.preventDefault(),function(S,N){var z=Hs[N];return S.buttons===void 0||(S.buttons&z)!==z}(d,this._eventButton))this.reset();else if(this._moved||!(b.dist(g)<this._clickTolerance))return this._moved=!0,this._lastPoint=b,this._move(g,b)}},Jt.prototype.mouseupWindow=function(d){this._lastPoint&&v.mouseButton(d)===this._eventButton&&(this._moved&&v.suppressClick(),this.reset())},Jt.prototype.enable=function(){this._enabled=!0},Jt.prototype.disable=function(){this._enabled=!1,this.reset()},Jt.prototype.isEnabled=function(){return this._enabled},Jt.prototype.isActive=function(){return this._active};var ya=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.mousedown=function(g,S){d.prototype.mousedown.call(this,g,S),this._lastPoint&&(this._active=!0)},b.prototype._correctButton=function(g,S){return S===0&&!g.ctrlKey},b.prototype._move=function(g,S){return{around:S,panDelta:S.sub(g)}},b}(Jt),Fh=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype._correctButton=function(g,S){return S===0&&g.ctrlKey||S===2},b.prototype._move=function(g,S){var N=.8*(S.x-g.x);if(N)return this._active=!0,{bearingDelta:N}},b.prototype.contextmenu=function(g){g.preventDefault()},b}(Jt),Id=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype._correctButton=function(g,S){return S===0&&g.ctrlKey||S===2},b.prototype._move=function(g,S){var N=-.5*(S.y-g.y);if(N)return this._active=!0,{pitchDelta:N}},b.prototype.contextmenu=function(g){g.preventDefault()},b}(Jt),la=function(d){this._minTouches=1,this._clickTolerance=d.clickTolerance||1,this.reset()};la.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new s.Point(0,0)},la.prototype.touchstart=function(d,b,g){return this._calculateTransform(d,b,g)},la.prototype.touchmove=function(d,b,g){if(this._active&&!(g.length<this._minTouches))return d.preventDefault(),this._calculateTransform(d,b,g)},la.prototype.touchend=function(d,b,g){this._calculateTransform(d,b,g),this._active&&g.length<this._minTouches&&this.reset()},la.prototype.touchcancel=function(){this.reset()},la.prototype._calculateTransform=function(d,b,g){g.length>0&&(this._active=!0);var S=Bc(g,b),N=new s.Point(0,0),z=new s.Point(0,0),$=0;for(var X in S){var ue=S[X],ge=this._touches[X];ge&&(N._add(ue),z._add(ue.sub(ge)),$++,S[X]=ue)}if(this._touches=S,!($<this._minTouches)&&z.mag()){var Te=z.div($);if(this._sum._add(Te),!(this._sum.mag()<this._clickTolerance))return{around:N.div($),panDelta:Te}}},la.prototype.enable=function(){this._enabled=!0},la.prototype.disable=function(){this._enabled=!1,this.reset()},la.prototype.isEnabled=function(){return this._enabled},la.prototype.isActive=function(){return this._active};var Ss=function(){this.reset()};function jh(d,b,g){for(var S=0;S<d.length;S++)if(d[S].identifier===g)return b[S]}function Af(d,b){return Math.log(d/b)/Math.LN2}Ss.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Ss.prototype._start=function(d){},Ss.prototype._move=function(d,b,g){return{}},Ss.prototype.touchstart=function(d,b,g){this._firstTwoTouches||g.length<2||(this._firstTwoTouches=[g[0].identifier,g[1].identifier],this._start([b[0],b[1]]))},Ss.prototype.touchmove=function(d,b,g){if(this._firstTwoTouches){d.preventDefault();var S=this._firstTwoTouches,N=S[1],z=jh(g,b,S[0]),$=jh(g,b,N);if(z&&$){var X=this._aroundCenter?null:z.add($).div(2);return this._move([z,$],X,d)}}},Ss.prototype.touchend=function(d,b,g){if(this._firstTwoTouches){var S=this._firstTwoTouches,N=S[1],z=jh(g,b,S[0]),$=jh(g,b,N);z&&$||(this._active&&v.suppressClick(),this.reset())}},Ss.prototype.touchcancel=function(){this.reset()},Ss.prototype.enable=function(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"},Ss.prototype.disable=function(){this._enabled=!1,this.reset()},Ss.prototype.isEnabled=function(){return this._enabled},Ss.prototype.isActive=function(){return this._active};var Qa=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.reset=function(){d.prototype.reset.call(this),delete this._distance,delete this._startDistance},b.prototype._start=function(g){this._startDistance=this._distance=g[0].dist(g[1])},b.prototype._move=function(g,S){var N=this._distance;if(this._distance=g[0].dist(g[1]),this._active||!(Math.abs(Af(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Af(this._distance,N),pinchAround:S}},b}(Ss);function Ho(d,b){return 180*d.angleWith(b)/Math.PI}var Zs=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.reset=function(){d.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},b.prototype._start=function(g){this._startVector=this._vector=g[0].sub(g[1]),this._minDiameter=g[0].dist(g[1])},b.prototype._move=function(g,S){var N=this._vector;if(this._vector=g[0].sub(g[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ho(this._vector,N),pinchAround:S}},b.prototype._isBelowThreshold=function(g){this._minDiameter=Math.min(this._minDiameter,g.mag());var S=25/(Math.PI*this._minDiameter)*360,N=Ho(g,this._startVector);return Math.abs(N)<S},b}(Ss);function Al(d){return Math.abs(d.y)>Math.abs(d.x)}var xu=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.reset=function(){d.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},b.prototype._start=function(g){this._lastPoints=g,Al(g[0].sub(g[1]))&&(this._valid=!1)},b.prototype._move=function(g,S,N){var z=g[0].sub(this._lastPoints[0]),$=g[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(z,$,N.timeStamp),this._valid)return this._lastPoints=g,this._active=!0,{pitchDelta:(z.y+$.y)/2*-.5}},b.prototype.gestureBeginsVertically=function(g,S,N){if(this._valid!==void 0)return this._valid;var z=g.mag()>=2,$=S.mag()>=2;if(z||$){if(!z||!$)return this._firstMove===void 0&&(this._firstMove=N),N-this._firstMove<100&&void 0;var X=g.y>0==S.y>0;return Al(g)&&Al(S)&&X}},b}(Ss),Cd={panStep:100,bearingStep:15,pitchStep:10},pu=function(){var d=Cd;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1};function _o(d){return d*(2-d)}pu.prototype.blur=function(){this.reset()},pu.prototype.reset=function(){this._active=!1},pu.prototype.keydown=function(d){var b=this;if(!(d.altKey||d.ctrlKey||d.metaKey)){var g=0,S=0,N=0,z=0,$=0;switch(d.keyCode){case 61:case 107:case 171:case 187:g=1;break;case 189:case 109:case 173:g=-1;break;case 37:d.shiftKey?S=-1:(d.preventDefault(),z=-1);break;case 39:d.shiftKey?S=1:(d.preventDefault(),z=1);break;case 38:d.shiftKey?N=1:(d.preventDefault(),$=-1);break;case 40:d.shiftKey?N=-1:(d.preventDefault(),$=1);break;default:return}return this._rotationDisabled&&(S=0,N=0),{cameraAnimation:function(X){var ue=X.getZoom();X.easeTo({duration:300,easeId:"keyboardHandler",easing:_o,zoom:g?Math.round(ue)+g*(d.shiftKey?2:1):ue,bearing:X.getBearing()+S*b._bearingStep,pitch:X.getPitch()+N*b._pitchStep,offset:[-z*b._panStep,-$*b._panStep],center:X.getCenter()},{originalEvent:d})}}}},pu.prototype.enable=function(){this._enabled=!0},pu.prototype.disable=function(){this._enabled=!1,this.reset()},pu.prototype.isEnabled=function(){return this._enabled},pu.prototype.isActive=function(){return this._active},pu.prototype.disableRotation=function(){this._rotationDisabled=!0},pu.prototype.enableRotation=function(){this._rotationDisabled=!1};var _i=function(d,b){this._map=d,this._el=d.getCanvasContainer(),this._handler=b,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,s.bindAll(["_onTimeout"],this)};_i.prototype.setZoomRate=function(d){this._defaultZoomRate=d},_i.prototype.setWheelZoomRate=function(d){this._wheelZoomRate=d},_i.prototype.isEnabled=function(){return!!this._enabled},_i.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},_i.prototype.isZooming=function(){return!!this._zooming},_i.prototype.enable=function(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=d&&d.around==="center")},_i.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_i.prototype.wheel=function(d){if(this.isEnabled()){var b=d.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY,g=s.browser.now(),S=g-(this._lastWheelEventTime||0);this._lastWheelEventTime=g,b!==0&&b%4.000244140625==0?this._type="wheel":b!==0&&Math.abs(b)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=b,this._timeout=setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(S*b)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,b+=this._lastValue)),d.shiftKey&&b&&(b/=4),this._type&&(this._lastWheelEvent=d,this._delta-=b,this._active||this._start(d)),d.preventDefault()}},_i.prototype._onTimeout=function(d){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)},_i.prototype._start=function(d){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var b=v.mousePos(this._el,d);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(b)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},_i.prototype.renderFrame=function(){var d=this;if(this._frameId&&(this._frameId=null,this.isActive())){var b=this._map.transform;if(this._delta!==0){var g=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,S=2/(1+Math.exp(-Math.abs(this._delta*g)));this._delta<0&&S!==0&&(S=1/S);var N=typeof this._targetZoom=="number"?b.zoomScale(this._targetZoom):b.scale;this._targetZoom=Math.min(b.maxZoom,Math.max(b.minZoom,b.scaleZoom(N*S))),this._type==="wheel"&&(this._startZoom=b.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var z,$=typeof this._targetZoom=="number"?this._targetZoom:b.zoom,X=this._startZoom,ue=this._easing,ge=!1;if(this._type==="wheel"&&X&&ue){var Te=Math.min((s.browser.now()-this._lastWheelEventTime)/200,1),ke=ue(Te);z=s.number(X,$,ke),Te<1?this._frameId||(this._frameId=!0):ge=!0}else z=$,ge=!0;return this._active=!0,ge&&(this._active=!1,this._finishTimeout=setTimeout(function(){d._zooming=!1,d._handler._triggerRenderFrame(),delete d._targetZoom,delete d._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ge,zoomDelta:z-b.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},_i.prototype._smoothOutEasing=function(d){var b=s.ease;if(this._prevEase){var g=this._prevEase,S=(s.browser.now()-g.start)/g.duration,N=g.easing(S+.01)-g.easing(S),z=.27/Math.sqrt(N*N+1e-4)*.01,$=Math.sqrt(.0729-z*z);b=s.bezier(z,$,.25,1)}return this._prevEase={start:s.browser.now(),duration:d,easing:b},b},_i.prototype.blur=function(){this.reset()},_i.prototype.reset=function(){this._active=!1};var Ds=function(d,b){this._clickZoom=d,this._tapZoom=b};Ds.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ds.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ds.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ds.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Xl=function(){this.reset()};Xl.prototype.reset=function(){this._active=!1},Xl.prototype.blur=function(){this.reset()},Xl.prototype.dblclick=function(d,b){return d.preventDefault(),{cameraAnimation:function(g){g.easeTo({duration:300,zoom:g.getZoom()+(d.shiftKey?-1:1),around:g.unproject(b)},{originalEvent:d})}}},Xl.prototype.enable=function(){this._enabled=!0},Xl.prototype.disable=function(){this._enabled=!1,this.reset()},Xl.prototype.isEnabled=function(){return this._enabled},Xl.prototype.isActive=function(){return this._active};var es=function(){this._tap=new ws({numTouches:1,numTaps:1}),this.reset()};es.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},es.prototype.touchstart=function(d,b,g){this._swipePoint||(this._tapTime&&d.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?g.length>0&&(this._swipePoint=b[0],this._swipeTouch=g[0].identifier):this._tap.touchstart(d,b,g))},es.prototype.touchmove=function(d,b,g){if(this._tapTime){if(this._swipePoint){if(g[0].identifier!==this._swipeTouch)return;var S=b[0],N=S.y-this._swipePoint.y;return this._swipePoint=S,d.preventDefault(),this._active=!0,{zoomDelta:N/128}}}else this._tap.touchmove(d,b,g)},es.prototype.touchend=function(d,b,g){this._tapTime?this._swipePoint&&g.length===0&&this.reset():this._tap.touchend(d,b,g)&&(this._tapTime=d.timeStamp)},es.prototype.touchcancel=function(){this.reset()},es.prototype.enable=function(){this._enabled=!0},es.prototype.disable=function(){this._enabled=!1,this.reset()},es.prototype.isEnabled=function(){return this._enabled},es.prototype.isActive=function(){return this._active};var Qf=function(d,b,g){this._el=d,this._mousePan=b,this._touchPan=g};Qf.prototype.enable=function(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Qf.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Qf.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Qf.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Sp=function(d,b,g){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=b,this._mousePitch=g};Sp.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Sp.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Sp.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Sp.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var as=function(d,b,g,S){this._el=d,this._touchZoom=b,this._touchRotate=g,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0};as.prototype.enable=function(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},as.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},as.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},as.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},as.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},as.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ss=function(d){return d.zoom||d.drag||d.pitch||d.rotate},tf=function(d){function b(){d.apply(this,arguments)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b}(s.Event);function Fr(d){return d.panDelta&&d.panDelta.mag()||d.zoomDelta||d.bearingDelta||d.pitchDelta}var Er=function(d,b){this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Vl(d),this._bearingSnap=b.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(b),s.bindAll(["handleEvent","handleWindowEvent"],this);var g=this._el;this._listeners=[[g,"touchstart",{passive:!0}],[g,"touchmove",{passive:!1}],[g,"touchend",void 0],[g,"touchcancel",void 0],[g,"mousedown",void 0],[g,"mousemove",void 0],[g,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[g,"mouseover",void 0],[g,"mouseout",void 0],[g,"dblclick",void 0],[g,"click",void 0],[g,"keydown",{capture:!1}],[g,"keyup",void 0],[g,"wheel",{passive:!1}],[g,"contextmenu",void 0],[s.window,"blur",void 0]];for(var S=0,N=this._listeners;S<N.length;S+=1){var z=N[S],$=z[0];v.addEventListener($,z[1],$===s.window.document?this.handleWindowEvent:this.handleEvent,z[2])}};Er.prototype.destroy=function(){for(var d=0,b=this._listeners;d<b.length;d+=1){var g=b[d],S=g[0];v.removeEventListener(S,g[1],S===s.window.document?this.handleWindowEvent:this.handleEvent,g[2])}},Er.prototype._addDefaultHandlers=function(d){var b=this._map,g=b.getCanvasContainer();this._add("mapEvent",new vi(b,d));var S=b.boxZoom=new Aa(b,d);this._add("boxZoom",S);var N=new Oa,z=new Xl;b.doubleClickZoom=new Ds(z,N),this._add("tapZoom",N),this._add("clickZoom",z);var $=new es;this._add("tapDragZoom",$);var X=b.touchPitch=new xu;this._add("touchPitch",X);var ue=new Fh(d),ge=new Id(d);b.dragRotate=new Sp(d,ue,ge),this._add("mouseRotate",ue,["mousePitch"]),this._add("mousePitch",ge,["mouseRotate"]);var Te=new ya(d),ke=new la(d);b.dragPan=new Qf(g,Te,ke),this._add("mousePan",Te),this._add("touchPan",ke,["touchZoom","touchRotate"]);var De=new Zs,fe=new Qa;b.touchZoomRotate=new as(g,fe,De,$),this._add("touchRotate",De,["touchPan","touchZoom"]),this._add("touchZoom",fe,["touchPan","touchRotate"]);var He=b.scrollZoom=new _i(b,this);this._add("scrollZoom",He,["mousePan"]);var it=b.keyboard=new pu;this._add("keyboard",it),this._add("blockableMapEvent",new rr(b));for(var qe=0,rt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];qe<rt.length;qe+=1){var ut=rt[qe];d.interactive&&d[ut]&&b[ut].enable(d[ut])}},Er.prototype._add=function(d,b,g){this._handlers.push({handlerName:d,handler:b,allowed:g}),this._handlersById[d]=b},Er.prototype.stop=function(d){if(!this._updatingCamera){for(var b=0,g=this._handlers;b<g.length;b+=1)g[b].handler.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[]}},Er.prototype.isActive=function(){for(var d=0,b=this._handlers;d<b.length;d+=1)if(b[d].handler.isActive())return!0;return!1},Er.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Er.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Er.prototype.isMoving=function(){return Boolean(ss(this._eventsInProgress))||this.isZooming()},Er.prototype._blockedByActive=function(d,b,g){for(var S in d)if(S!==g&&(!b||b.indexOf(S)<0))return!0;return!1},Er.prototype.handleWindowEvent=function(d){this.handleEvent(d,d.type+"Window")},Er.prototype._getMapTouches=function(d){for(var b=[],g=0,S=d;g<S.length;g+=1){var N=S[g];this._el.contains(N.target)&&b.push(N)}return b},Er.prototype.handleEvent=function(d,b){this._updatingCamera=!0;for(var g=d.type==="renderFrame"?void 0:d,S={needsRenderFrame:!1},N={},z={},$=d.touches?this._getMapTouches(d.touches):void 0,X=$?v.touchPos(this._el,$):v.mousePos(this._el,d),ue=0,ge=this._handlers;ue<ge.length;ue+=1){var Te=ge[ue],ke=Te.handlerName,De=Te.handler,fe=Te.allowed;if(De.isEnabled()){var He=void 0;this._blockedByActive(z,fe,ke)?De.reset():De[b||d.type]&&(He=De[b||d.type](d,X,$),this.mergeHandlerResult(S,N,He,ke,g),He&&He.needsRenderFrame&&this._triggerRenderFrame()),(He||De.isActive())&&(z[ke]=De)}}var it={};for(var qe in this._previousActiveHandlers)z[qe]||(it[qe]=g);this._previousActiveHandlers=z,(Object.keys(it).length||Fr(S))&&(this._changes.push([S,N,it]),this._triggerRenderFrame()),(Object.keys(z).length||Fr(S))&&this._map._stop(!0),this._updatingCamera=!1;var rt=S.cameraAnimation;rt&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],rt(this._map))},Er.prototype.mergeHandlerResult=function(d,b,g,S,N){if(g){s.extend(d,g);var z={handlerName:S,originalEvent:g.originalEvent||N};g.zoomDelta!==void 0&&(b.zoom=z),g.panDelta!==void 0&&(b.drag=z),g.pitchDelta!==void 0&&(b.pitch=z),g.bearingDelta!==void 0&&(b.rotate=z)}},Er.prototype._applyChanges=function(){for(var d={},b={},g={},S=0,N=this._changes;S<N.length;S+=1){var z=N[S],$=z[0],X=z[1],ue=z[2];$.panDelta&&(d.panDelta=(d.panDelta||new s.Point(0,0))._add($.panDelta)),$.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+$.zoomDelta),$.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+$.bearingDelta),$.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+$.pitchDelta),$.around!==void 0&&(d.around=$.around),$.pinchAround!==void 0&&(d.pinchAround=$.pinchAround),$.noInertia&&(d.noInertia=$.noInertia),s.extend(b,X),s.extend(g,ue)}this._updateMapTransform(d,b,g),this._changes=[]},Er.prototype._updateMapTransform=function(d,b,g){var S=this._map,N=S.transform;if(!Fr(d))return this._fireEvents(b,g,!0);var z=d.panDelta,$=d.zoomDelta,X=d.bearingDelta,ue=d.pitchDelta,ge=d.around,Te=d.pinchAround;Te!==void 0&&(ge=Te),S._stop(!0),ge=ge||S.transform.centerPoint;var ke=N.pointLocation(z?ge.sub(z):ge);X&&(N.bearing+=X),ue&&(N.pitch+=ue),$&&(N.zoom+=$),N.setLocationAtPoint(ke,ge),this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(b,g,!0)},Er.prototype._fireEvents=function(d,b,g){var S=this,N=ss(this._eventsInProgress),z=ss(d),$={};for(var X in d)this._eventsInProgress[X]||($[X+"start"]=d[X].originalEvent),this._eventsInProgress[X]=d[X];for(var ue in!N&&z&&this._fireEvent("movestart",z.originalEvent),$)this._fireEvent(ue,$[ue]);for(var ge in z&&this._fireEvent("move",z.originalEvent),d)this._fireEvent(ge,d[ge].originalEvent);var Te,ke={};for(var De in this._eventsInProgress){var fe=this._eventsInProgress[De],He=fe.handlerName,it=fe.originalEvent;this._handlersById[He].isActive()||(delete this._eventsInProgress[De],ke[De+"end"]=Te=b[He]||it)}for(var qe in ke)this._fireEvent(qe,ke[qe]);var rt=ss(this._eventsInProgress);if(g&&(N||z)&&!rt){this._updatingCamera=!0;var ut=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),gt=function(Ct){return Ct!==0&&-S._bearingSnap<Ct&&Ct<S._bearingSnap};ut?(gt(ut.bearing||this._map.getBearing())&&(ut.bearing=0),this._map.easeTo(ut,{originalEvent:Te})):(this._map.fire(new s.Event("moveend",{originalEvent:Te})),gt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Er.prototype._fireEvent=function(d,b){this._map.fire(new s.Event(d,b?{originalEvent:b}:{}))},Er.prototype._requestFrame=function(){var d=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(b){delete d._frameId,d.handleEvent(new tf("renderFrame",{timeStamp:b})),d._applyChanges()})},Er.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var mc=function(d){function b(g,S){d.call(this),this._moving=!1,this._zooming=!1,this.transform=g,this._bearingSnap=S.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.getCenter=function(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)},b.prototype.setCenter=function(g,S){return this.jumpTo({center:g},S)},b.prototype.panBy=function(g,S,N){return g=s.Point.convert(g).mult(-1),this.panTo(this.transform.center,s.extend({offset:g},S),N)},b.prototype.panTo=function(g,S,N){return this.easeTo(s.extend({center:g},S),N)},b.prototype.getZoom=function(){return this.transform.zoom},b.prototype.setZoom=function(g,S){return this.jumpTo({zoom:g},S),this},b.prototype.zoomTo=function(g,S,N){return this.easeTo(s.extend({zoom:g},S),N)},b.prototype.zoomIn=function(g,S){return this.zoomTo(this.getZoom()+1,g,S),this},b.prototype.zoomOut=function(g,S){return this.zoomTo(this.getZoom()-1,g,S),this},b.prototype.getBearing=function(){return this.transform.bearing},b.prototype.setBearing=function(g,S){return this.jumpTo({bearing:g},S),this},b.prototype.getPadding=function(){return this.transform.padding},b.prototype.setPadding=function(g,S){return this.jumpTo({padding:g},S),this},b.prototype.rotateTo=function(g,S,N){return this.easeTo(s.extend({bearing:g},S),N)},b.prototype.resetNorth=function(g,S){return this.rotateTo(0,s.extend({duration:1e3},g),S),this},b.prototype.resetNorthPitch=function(g,S){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},g),S),this},b.prototype.snapToNorth=function(g,S){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(g,S):this},b.prototype.getPitch=function(){return this.transform.pitch},b.prototype.setPitch=function(g,S){return this.jumpTo({pitch:g},S),this},b.prototype.cameraForBounds=function(g,S){g=s.LngLatBounds.convert(g);var N=S&&S.bearing||0;return this._cameraForBoxAndBearing(g.getNorthWest(),g.getSouthEast(),N,S)},b.prototype._cameraForBoxAndBearing=function(g,S,N,z){var $={top:0,bottom:0,right:0,left:0};if(typeof(z=s.extend({padding:$,offset:[0,0],maxZoom:this.transform.maxZoom},z)).padding=="number"){var X=z.padding;z.padding={top:X,bottom:X,right:X,left:X}}z.padding=s.extend($,z.padding);var ue=this.transform,ge=ue.padding,Te=ue.project(s.LngLat.convert(g)),ke=ue.project(s.LngLat.convert(S)),De=Te.rotate(-N*Math.PI/180),fe=ke.rotate(-N*Math.PI/180),He=new s.Point(Math.max(De.x,fe.x),Math.max(De.y,fe.y)),it=new s.Point(Math.min(De.x,fe.x),Math.min(De.y,fe.y)),qe=He.sub(it),rt=(ue.width-(ge.left+ge.right+z.padding.left+z.padding.right))/qe.x,ut=(ue.height-(ge.top+ge.bottom+z.padding.top+z.padding.bottom))/qe.y;if(!(ut<0||rt<0)){var gt=Math.min(ue.scaleZoom(ue.scale*Math.min(rt,ut)),z.maxZoom),Ct=typeof z.offset.x=="number"?new s.Point(z.offset.x,z.offset.y):s.Point.convert(z.offset),xt=new s.Point((z.padding.left-z.padding.right)/2,(z.padding.top-z.padding.bottom)/2).rotate(N*Math.PI/180),St=Ct.add(xt).mult(ue.scale/ue.zoomScale(gt));return{center:ue.unproject(Te.add(ke).div(2).sub(St)),zoom:gt,bearing:N}}s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},b.prototype.fitBounds=function(g,S,N){return this._fitInternal(this.cameraForBounds(g,S),S,N)},b.prototype.fitScreenCoordinates=function(g,S,N,z,$){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.Point.convert(g)),this.transform.pointLocation(s.Point.convert(S)),N,z),z,$)},b.prototype._fitInternal=function(g,S,N){return g?(delete(S=s.extend(g,S)).padding,S.linear?this.easeTo(S,N):this.flyTo(S,N)):this},b.prototype.jumpTo=function(g,S){this.stop();var N=this.transform,z=!1,$=!1,X=!1;return"zoom"in g&&N.zoom!==+g.zoom&&(z=!0,N.zoom=+g.zoom),g.center!==void 0&&(N.center=s.LngLat.convert(g.center)),"bearing"in g&&N.bearing!==+g.bearing&&($=!0,N.bearing=+g.bearing),"pitch"in g&&N.pitch!==+g.pitch&&(X=!0,N.pitch=+g.pitch),g.padding==null||N.isPaddingEqual(g.padding)||(N.padding=g.padding),this.fire(new s.Event("movestart",S)).fire(new s.Event("move",S)),z&&this.fire(new s.Event("zoomstart",S)).fire(new s.Event("zoom",S)).fire(new s.Event("zoomend",S)),$&&this.fire(new s.Event("rotatestart",S)).fire(new s.Event("rotate",S)).fire(new s.Event("rotateend",S)),X&&this.fire(new s.Event("pitchstart",S)).fire(new s.Event("pitch",S)).fire(new s.Event("pitchend",S)),this.fire(new s.Event("moveend",S))},b.prototype.easeTo=function(g,S){var N=this;this._stop(!1,g.easeId),((g=s.extend({offset:[0,0],duration:500,easing:s.ease},g)).animate===!1||!g.essential&&s.browser.prefersReducedMotion)&&(g.duration=0);var z=this.transform,$=this.getZoom(),X=this.getBearing(),ue=this.getPitch(),ge=this.getPadding(),Te="zoom"in g?+g.zoom:$,ke="bearing"in g?this._normalizeBearing(g.bearing,X):X,De="pitch"in g?+g.pitch:ue,fe="padding"in g?g.padding:z.padding,He=s.Point.convert(g.offset),it=z.centerPoint.add(He),qe=z.pointLocation(it),rt=s.LngLat.convert(g.center||qe);this._normalizeCenter(rt);var ut,gt,Ct=z.project(qe),xt=z.project(rt).sub(Ct),St=z.zoomScale(Te-$);g.around&&(ut=s.LngLat.convert(g.around),gt=z.locationPoint(ut));var Vt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Te!==$,this._rotating=this._rotating||X!==ke,this._pitching=this._pitching||De!==ue,this._padding=!z.isPaddingEqual(fe),this._easeId=g.easeId,this._prepareEase(S,g.noMoveStart,Vt),this._ease(function(Gt){if(N._zooming&&(z.zoom=s.number($,Te,Gt)),N._rotating&&(z.bearing=s.number(X,ke,Gt)),N._pitching&&(z.pitch=s.number(ue,De,Gt)),N._padding&&(z.interpolatePadding(ge,fe,Gt),it=z.centerPoint.add(He)),ut)z.setLocationAtPoint(ut,gt);else{var er=z.zoomScale(z.zoom-$),wr=Te>$?Math.min(2,St):Math.max(.5,St),Yr=Math.pow(wr,1-Gt),an=z.unproject(Ct.add(xt.mult(Gt*Yr)).mult(er));z.setLocationAtPoint(z.renderWorldCopies?an.wrap():an,it)}N._fireMoveEvents(S)},function(Gt){N._afterEase(S,Gt)},g),this},b.prototype._prepareEase=function(g,S,N){N===void 0&&(N={}),this._moving=!0,S||N.moving||this.fire(new s.Event("movestart",g)),this._zooming&&!N.zooming&&this.fire(new s.Event("zoomstart",g)),this._rotating&&!N.rotating&&this.fire(new s.Event("rotatestart",g)),this._pitching&&!N.pitching&&this.fire(new s.Event("pitchstart",g))},b.prototype._fireMoveEvents=function(g){this.fire(new s.Event("move",g)),this._zooming&&this.fire(new s.Event("zoom",g)),this._rotating&&this.fire(new s.Event("rotate",g)),this._pitching&&this.fire(new s.Event("pitch",g))},b.prototype._afterEase=function(g,S){if(!this._easeId||!S||this._easeId!==S){delete this._easeId;var N=this._zooming,z=this._rotating,$=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,N&&this.fire(new s.Event("zoomend",g)),z&&this.fire(new s.Event("rotateend",g)),$&&this.fire(new s.Event("pitchend",g)),this.fire(new s.Event("moveend",g))}},b.prototype.flyTo=function(g,S){var N=this;if(!g.essential&&s.browser.prefersReducedMotion){var z=s.pick(g,["center","zoom","bearing","pitch","around"]);return this.jumpTo(z,S)}this.stop(),g=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},g);var $=this.transform,X=this.getZoom(),ue=this.getBearing(),ge=this.getPitch(),Te=this.getPadding(),ke="zoom"in g?s.clamp(+g.zoom,$.minZoom,$.maxZoom):X,De="bearing"in g?this._normalizeBearing(g.bearing,ue):ue,fe="pitch"in g?+g.pitch:ge,He="padding"in g?g.padding:$.padding,it=$.zoomScale(ke-X),qe=s.Point.convert(g.offset),rt=$.centerPoint.add(qe),ut=$.pointLocation(rt),gt=s.LngLat.convert(g.center||ut);this._normalizeCenter(gt);var Ct=$.project(ut),xt=$.project(gt).sub(Ct),St=g.curve,Vt=Math.max($.width,$.height),Gt=Vt/it,er=xt.mag();if("minZoom"in g){var wr=s.clamp(Math.min(g.minZoom,X,ke),$.minZoom,$.maxZoom),Yr=Vt/$.zoomScale(wr-X);St=Math.sqrt(Yr/er*2)}var an=St*St;function Wr(_n){var qr=(Gt*Gt-Vt*Vt+(_n?-1:1)*an*an*er*er)/(2*(_n?Gt:Vt)*an*er);return Math.log(Math.sqrt(qr*qr+1)-qr)}function fi(_n){return(Math.exp(_n)-Math.exp(-_n))/2}function Ar(_n){return(Math.exp(_n)+Math.exp(-_n))/2}var sn=Wr(0),On=function(_n){return Ar(sn)/Ar(sn+St*_n)},hn=function(_n){return Vt*((Ar(sn)*(fi(qr=sn+St*_n)/Ar(qr))-fi(sn))/an)/er;var qr},tn=(Wr(1)-sn)/St;if(Math.abs(er)<1e-6||!isFinite(tn)){if(Math.abs(Vt-Gt)<1e-6)return this.easeTo(g,S);var rn=Gt<Vt?-1:1;tn=Math.abs(Math.log(Gt/Vt))/St,hn=function(){return 0},On=function(_n){return Math.exp(rn*St*_n)}}return g.duration="duration"in g?+g.duration:1e3*tn/("screenSpeed"in g?+g.screenSpeed/St:+g.speed),g.maxDuration&&g.duration>g.maxDuration&&(g.duration=0),this._zooming=!0,this._rotating=ue!==De,this._pitching=fe!==ge,this._padding=!$.isPaddingEqual(He),this._prepareEase(S,!1),this._ease(function(_n){var qr=_n*tn,Ua=1/On(qr);$.zoom=_n===1?ke:X+$.scaleZoom(Ua),N._rotating&&($.bearing=s.number(ue,De,_n)),N._pitching&&($.pitch=s.number(ge,fe,_n)),N._padding&&($.interpolatePadding(Te,He,_n),rt=$.centerPoint.add(qe));var mo=_n===1?gt:$.unproject(Ct.add(xt.mult(hn(qr))).mult(Ua));$.setLocationAtPoint($.renderWorldCopies?mo.wrap():mo,rt),N._fireMoveEvents(S)},function(){return N._afterEase(S)},g),this},b.prototype.isEasing=function(){return!!this._easeFrameId},b.prototype.stop=function(){return this._stop()},b.prototype._stop=function(g,S){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var N=this._onEaseEnd;delete this._onEaseEnd,N.call(this,S)}if(!g){var z=this.handlers;z&&z.stop(!1)}return this},b.prototype._ease=function(g,S,N){N.animate===!1||N.duration===0?(g(1),S()):(this._easeStart=s.browser.now(),this._easeOptions=N,this._onEaseFrame=g,this._onEaseEnd=S,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},b.prototype._renderFrameCallback=function(){var g=Math.min((s.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(g)),g<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},b.prototype._normalizeBearing=function(g,S){g=s.wrap(g,-180,180);var N=Math.abs(g-S);return Math.abs(g-360-S)<N&&(g-=360),Math.abs(g+360-S)<N&&(g+=360),g},b.prototype._normalizeCenter=function(g){var S=this.transform;if(S.renderWorldCopies&&!S.lngRange){var N=g.lng-S.center.lng;g.lng+=N>180?-360:N<-180?360:0}},b}(s.Evented),Rn=function(d){d===void 0&&(d={}),this.options=d,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Rn.prototype.getDefaultPosition=function(){return"bottom-right"},Rn.prototype.onAdd=function(d){var b=this.options&&this.options.compact;return this._map=d,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=v.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=v.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),b&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),b===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Rn.prototype.onRemove=function(){v.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Rn.prototype._setElementTitle=function(d,b){var g=this._map._getUIString("AttributionControl."+b);d.title=g,d.setAttribute("aria-label",g)},Rn.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Rn.prototype._updateEditLink=function(){var d=this._editLink;d||(d=this._editLink=this._container.querySelector(".mapbox-improve-map"));var b=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(d){var g=b.reduce(function(S,N,z){return N.value&&(S+=N.key+"="+N.value+(z<b.length-1?"&":"")),S},"?");d.href=s.config.FEEDBACK_URL+"/"+g+(this._map._hash?this._map._hash.getHashString(!0):""),d.rel="noopener nofollow",this._setElementTitle(d,"MapFeedback")}},Rn.prototype._updateData=function(d){!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Rn.prototype._updateAttributions=function(){if(this._map.style){var d=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=d.concat(this.options.customAttribution.map(function(X){return typeof X!="string"?"":X})):typeof this.options.customAttribution=="string"&&d.push(this.options.customAttribution)),this._map.style.stylesheet){var b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}var g=this._map.style.sourceCaches;for(var S in g){var N=g[S];if(N.used){var z=N.getSource();z.attribution&&d.indexOf(z.attribution)<0&&d.push(z.attribution)}}d.sort(function(X,ue){return X.length-ue.length});var $=(d=d.filter(function(X,ue){for(var ge=ue+1;ge<d.length;ge++)if(d[ge].indexOf(X)>=0)return!1;return!0})).join(" | ");$!==this._attribHTML&&(this._attribHTML=$,d.length?(this._innerContainer.innerHTML=$,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Rn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var ji=function(){s.bindAll(["_updateLogo"],this),s.bindAll(["_updateCompact"],this)};ji.prototype.onAdd=function(d){this._map=d,this._container=v.create("div","mapboxgl-ctrl");var b=v.create("a","mapboxgl-ctrl-logo");return b.target="_blank",b.rel="noopener nofollow",b.href="https://www.mapbox.com/",b.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),b.setAttribute("rel","noopener nofollow"),this._container.appendChild(b),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ji.prototype.onRemove=function(){v.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ji.prototype.getDefaultPosition=function(){return"bottom-left"},ji.prototype._updateLogo=function(d){d&&d.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},ji.prototype._logoRequired=function(){if(this._map.style){var d=this._map.style.sourceCaches;for(var b in d)if(d[b].getSource().mapbox_logo)return!0;return!1}},ji.prototype._updateCompact=function(){var d=this._container.children;if(d.length){var b=d[0];this._map.getCanvasContainer().offsetWidth<250?b.classList.add("mapboxgl-compact"):b.classList.remove("mapboxgl-compact")}};var lo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};lo.prototype.add=function(d){var b=++this._id;return this._queue.push({callback:d,id:b,cancelled:!1}),b},lo.prototype.remove=function(d){for(var b=this._currentlyRunning,g=0,S=b?this._queue.concat(b):this._queue;g<S.length;g+=1){var N=S[g];if(N.id===d)return void(N.cancelled=!0)}},lo.prototype.run=function(d){d===void 0&&(d=0);var b=this._currentlyRunning=this._queue;this._queue=[];for(var g=0,S=b;g<S.length;g+=1){var N=S[g];if(!N.cancelled&&(N.callback(d),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},lo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var pn={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},$c=s.window.HTMLImageElement,hu=s.window.HTMLElement,Ci=s.window.ImageBitmap,co={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},zu=function(d){function b(S){var N=this;if((S=s.extend({},co,S)).minZoom!=null&&S.maxZoom!=null&&S.minZoom>S.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(S.minPitch!=null&&S.maxPitch!=null&&S.minPitch>S.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(S.minPitch!=null&&S.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(S.maxPitch!=null&&S.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var z=new di(S.minZoom,S.maxZoom,S.minPitch,S.maxPitch,S.renderWorldCopies);if(d.call(this,z,S),this._interactive=S.interactive,this._maxTileCacheSize=S.maxTileCacheSize,this._failIfMajorPerformanceCaveat=S.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=S.preserveDrawingBuffer,this._antialias=S.antialias,this._trackResize=S.trackResize,this._bearingSnap=S.bearingSnap,this._refreshExpiredTiles=S.refreshExpiredTiles,this._fadeDuration=S.fadeDuration,this._crossSourceCollisions=S.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=S.collectResourceTiming,this._renderTaskQueue=new lo,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},pn,S.locale),this._clickTolerance=S.clickTolerance,this._requestManager=new s.RequestManager(S.transformRequest,S.accessToken),typeof S.container=="string"){if(this._container=s.window.document.getElementById(S.container),!this._container)throw new Error("Container '"+S.container+"' not found.")}else{if(!(S.container instanceof hu))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=S.container}if(S.maxBounds&&this.setMaxBounds(S.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return N._update(!1)}),this.on("moveend",function(){return N._update(!1)}),this.on("zoom",function(){return N._update(!0)}),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Er(this,S),this._hash=S.hash&&new Ys(typeof S.hash=="string"&&S.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch}),S.bounds&&(this.resize(),this.fitBounds(S.bounds,s.extend({},S.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=S.localIdeographFontFamily,S.style&&this.setStyle(S.style,{localIdeographFontFamily:S.localIdeographFontFamily}),S.attributionControl&&this.addControl(new Rn({customAttribution:S.customAttribution})),this.addControl(new ji,S.logoPosition),this.on("style.load",function(){N.transform.unmodified&&N.jumpTo(N.style.stylesheet)}),this.on("data",function($){N._update($.dataType==="style"),N.fire(new s.Event($.dataType+"data",$))}),this.on("dataloading",function($){N.fire(new s.Event($.dataType+"dataloading",$))})}d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b;var g={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return b.prototype._getMapId=function(){return this._mapId},b.prototype.addControl=function(S,N){if(N===void 0&&(N=S.getDefaultPosition?S.getDefaultPosition():"top-right"),!S||!S.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var z=S.onAdd(this);this._controls.push(S);var $=this._controlPositions[N];return N.indexOf("bottom")!==-1?$.insertBefore(z,$.firstChild):$.appendChild(z),this},b.prototype.removeControl=function(S){if(!S||!S.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var N=this._controls.indexOf(S);return N>-1&&this._controls.splice(N,1),S.onRemove(this),this},b.prototype.hasControl=function(S){return this._controls.indexOf(S)>-1},b.prototype.resize=function(S){var N=this._containerDimensions(),z=N[0],$=N[1];if(z===this.transform.width&&$===this.transform.height)return this;this._resizeCanvas(z,$),this.transform.resize(z,$),this.painter.resize(z,$);var X=!this._moving;return X&&this.fire(new s.Event("movestart",S)).fire(new s.Event("move",S)),this.fire(new s.Event("resize",S)),X&&this.fire(new s.Event("moveend",S)),this},b.prototype.getBounds=function(){return this.transform.getBounds()},b.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},b.prototype.setMaxBounds=function(S){return this.transform.setMaxBounds(s.LngLatBounds.convert(S)),this._update()},b.prototype.setMinZoom=function(S){if((S=S==null?-2:S)>=-2&&S<=this.transform.maxZoom)return this.transform.minZoom=S,this._update(),this.getZoom()<S&&this.setZoom(S),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},b.prototype.getMinZoom=function(){return this.transform.minZoom},b.prototype.setMaxZoom=function(S){if((S=S==null?22:S)>=this.transform.minZoom)return this.transform.maxZoom=S,this._update(),this.getZoom()>S&&this.setZoom(S),this;throw new Error("maxZoom must be greater than the current minZoom")},b.prototype.getMaxZoom=function(){return this.transform.maxZoom},b.prototype.setMinPitch=function(S){if((S=S==null?0:S)<0)throw new Error("minPitch must be greater than or equal to 0");if(S>=0&&S<=this.transform.maxPitch)return this.transform.minPitch=S,this._update(),this.getPitch()<S&&this.setPitch(S),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},b.prototype.getMinPitch=function(){return this.transform.minPitch},b.prototype.setMaxPitch=function(S){if((S=S==null?60:S)>60)throw new Error("maxPitch must be less than or equal to 60");if(S>=this.transform.minPitch)return this.transform.maxPitch=S,this._update(),this.getPitch()>S&&this.setPitch(S),this;throw new Error("maxPitch must be greater than the current minPitch")},b.prototype.getMaxPitch=function(){return this.transform.maxPitch},b.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},b.prototype.setRenderWorldCopies=function(S){return this.transform.renderWorldCopies=S,this._update()},b.prototype.project=function(S){return this.transform.locationPoint(s.LngLat.convert(S))},b.prototype.unproject=function(S){return this.transform.pointLocation(s.Point.convert(S))},b.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},b.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},b.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},b.prototype._createDelegatedListener=function(S,N,z){var $,X=this;if(S==="mouseenter"||S==="mouseover"){var ue=!1;return{layer:N,listener:z,delegates:{mousemove:function(Te){var ke=X.getLayer(N)?X.queryRenderedFeatures(Te.point,{layers:[N]}):[];ke.length?ue||(ue=!0,z.call(X,new Ja(S,X,Te.originalEvent,{features:ke}))):ue=!1},mouseout:function(){ue=!1}}}}if(S==="mouseleave"||S==="mouseout"){var ge=!1;return{layer:N,listener:z,delegates:{mousemove:function(Te){(X.getLayer(N)?X.queryRenderedFeatures(Te.point,{layers:[N]}):[]).length?ge=!0:ge&&(ge=!1,z.call(X,new Ja(S,X,Te.originalEvent)))},mouseout:function(Te){ge&&(ge=!1,z.call(X,new Ja(S,X,Te.originalEvent)))}}}}return{layer:N,listener:z,delegates:($={},$[S]=function(Te){var ke=X.getLayer(N)?X.queryRenderedFeatures(Te.point,{layers:[N]}):[];ke.length&&(Te.features=ke,z.call(X,Te),delete Te.features)},$)}},b.prototype.on=function(S,N,z){if(z===void 0)return d.prototype.on.call(this,S,N);var $=this._createDelegatedListener(S,N,z);for(var X in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[S]=this._delegatedListeners[S]||[],this._delegatedListeners[S].push($),$.delegates)this.on(X,$.delegates[X]);return this},b.prototype.once=function(S,N,z){if(z===void 0)return d.prototype.once.call(this,S,N);var $=this._createDelegatedListener(S,N,z);for(var X in $.delegates)this.once(X,$.delegates[X]);return this},b.prototype.off=function(S,N,z){var $=this;return z===void 0?d.prototype.off.call(this,S,N):(this._delegatedListeners&&this._delegatedListeners[S]&&function(X){for(var ue=X[S],ge=0;ge<ue.length;ge++){var Te=ue[ge];if(Te.layer===N&&Te.listener===z){for(var ke in Te.delegates)$.off(ke,Te.delegates[ke]);return ue.splice(ge,1),$}}}(this._delegatedListeners),this)},b.prototype.queryRenderedFeatures=function(S,N){if(!this.style)return[];var z;if(N!==void 0||S===void 0||S instanceof s.Point||Array.isArray(S)||(N=S,S=void 0),N=N||{},(S=S||[[0,0],[this.transform.width,this.transform.height]])instanceof s.Point||typeof S[0]=="number")z=[s.Point.convert(S)];else{var $=s.Point.convert(S[0]),X=s.Point.convert(S[1]);z=[$,new s.Point(X.x,$.y),X,new s.Point($.x,X.y),$]}return this.style.queryRenderedFeatures(z,N,this.transform)},b.prototype.querySourceFeatures=function(S,N){return this.style.querySourceFeatures(S,N)},b.prototype.setStyle=function(S,N){return(N=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},N)).diff!==!1&&N.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&S?(this._diffStyle(S,N),this):(this._localIdeographFontFamily=N.localIdeographFontFamily,this._updateStyle(S,N))},b.prototype._getUIString=function(S){var N=this._locale[S];if(N==null)throw new Error("Missing UI string '"+S+"'");return N},b.prototype._updateStyle=function(S,N){return this.style&&(this.style.setEventedParent(null),this.style._remove()),S?(this.style=new po(this,N||{}),this.style.setEventedParent(this,{style:this.style}),typeof S=="string"?this.style.loadURL(S):this.style.loadJSON(S),this):(delete this.style,this)},b.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new po(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},b.prototype._diffStyle=function(S,N){var z=this;if(typeof S=="string"){var $=this._requestManager.normalizeStyleURL(S),X=this._requestManager.transformRequest($,s.ResourceType.Style);s.getJSON(X,function(ue,ge){ue?z.fire(new s.ErrorEvent(ue)):ge&&z._updateDiff(ge,N)})}else typeof S=="object"&&this._updateDiff(S,N)},b.prototype._updateDiff=function(S,N){try{this.style.setState(S)&&this._update(!0)}catch(z){s.warnOnce("Unable to perform style diff: "+(z.message||z.error||z)+".  Rebuilding the style from scratch."),this._updateStyle(S,N)}},b.prototype.getStyle=function(){if(this.style)return this.style.serialize()},b.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")},b.prototype.addSource=function(S,N){return this._lazyInitEmptyStyle(),this.style.addSource(S,N),this._update(!0)},b.prototype.isSourceLoaded=function(S){var N=this.style&&this.style.sourceCaches[S];if(N!==void 0)return N.loaded();this.fire(new s.ErrorEvent(new Error("There is no source with ID '"+S+"'")))},b.prototype.areTilesLoaded=function(){var S=this.style&&this.style.sourceCaches;for(var N in S){var z=S[N]._tiles;for(var $ in z){var X=z[$];if(X.state!=="loaded"&&X.state!=="errored")return!1}}return!0},b.prototype.addSourceType=function(S,N,z){return this._lazyInitEmptyStyle(),this.style.addSourceType(S,N,z)},b.prototype.removeSource=function(S){return this.style.removeSource(S),this._update(!0)},b.prototype.getSource=function(S){return this.style.getSource(S)},b.prototype.addImage=function(S,N,z){z===void 0&&(z={});var $=z.pixelRatio;$===void 0&&($=1);var X=z.sdf;X===void 0&&(X=!1);var ue=z.stretchX,ge=z.stretchY,Te=z.content;if(this._lazyInitEmptyStyle(),N instanceof $c||Ci&&N instanceof Ci){var ke=s.browser.getImageData(N);this.style.addImage(S,{data:new s.RGBAImage({width:ke.width,height:ke.height},ke.data),pixelRatio:$,stretchX:ue,stretchY:ge,content:Te,sdf:X,version:0})}else{if(N.width===void 0||N.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var De=N;this.style.addImage(S,{data:new s.RGBAImage({width:N.width,height:N.height},new Uint8Array(N.data)),pixelRatio:$,stretchX:ue,stretchY:ge,content:Te,sdf:X,version:0,userImage:De}),De.onAdd&&De.onAdd(this,S)}},b.prototype.updateImage=function(S,N){var z=this.style.getImage(S);if(!z)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var $=N instanceof $c||Ci&&N instanceof Ci?s.browser.getImageData(N):N,X=$.width,ue=$.height,ge=$.data;return X===void 0||ue===void 0?this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):X!==z.data.width||ue!==z.data.height?this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(z.data.replace(ge,!(N instanceof $c||Ci&&N instanceof Ci)),void this.style.updateImage(S,z))},b.prototype.hasImage=function(S){return S?!!this.style.getImage(S):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)},b.prototype.removeImage=function(S){this.style.removeImage(S)},b.prototype.loadImage=function(S,N){s.getImage(this._requestManager.transformRequest(S,s.ResourceType.Image),N)},b.prototype.listImages=function(){return this.style.listImages()},b.prototype.addLayer=function(S,N){return this._lazyInitEmptyStyle(),this.style.addLayer(S,N),this._update(!0)},b.prototype.moveLayer=function(S,N){return this.style.moveLayer(S,N),this._update(!0)},b.prototype.removeLayer=function(S){return this.style.removeLayer(S),this._update(!0)},b.prototype.getLayer=function(S){return this.style.getLayer(S)},b.prototype.setLayerZoomRange=function(S,N,z){return this.style.setLayerZoomRange(S,N,z),this._update(!0)},b.prototype.setFilter=function(S,N,z){return z===void 0&&(z={}),this.style.setFilter(S,N,z),this._update(!0)},b.prototype.getFilter=function(S){return this.style.getFilter(S)},b.prototype.setPaintProperty=function(S,N,z,$){return $===void 0&&($={}),this.style.setPaintProperty(S,N,z,$),this._update(!0)},b.prototype.getPaintProperty=function(S,N){return this.style.getPaintProperty(S,N)},b.prototype.setLayoutProperty=function(S,N,z,$){return $===void 0&&($={}),this.style.setLayoutProperty(S,N,z,$),this._update(!0)},b.prototype.getLayoutProperty=function(S,N){return this.style.getLayoutProperty(S,N)},b.prototype.setLight=function(S,N){return N===void 0&&(N={}),this._lazyInitEmptyStyle(),this.style.setLight(S,N),this._update(!0)},b.prototype.getLight=function(){return this.style.getLight()},b.prototype.setFeatureState=function(S,N){return this.style.setFeatureState(S,N),this._update()},b.prototype.removeFeatureState=function(S,N){return this.style.removeFeatureState(S,N),this._update()},b.prototype.getFeatureState=function(S){return this.style.getFeatureState(S)},b.prototype.getContainer=function(){return this._container},b.prototype.getCanvasContainer=function(){return this._canvasContainer},b.prototype.getCanvas=function(){return this._canvas},b.prototype._containerDimensions=function(){var S=0,N=0;return this._container&&(S=this._container.clientWidth||400,N=this._container.clientHeight||300),[S,N]},b.prototype._detectMissingCSS=function(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},b.prototype._setupContainer=function(){var S=this._container;S.classList.add("mapboxgl-map"),(this._missingCSSCanary=v.create("div","mapboxgl-canary",S)).style.visibility="hidden",this._detectMissingCSS();var N=this._canvasContainer=v.create("div","mapboxgl-canvas-container",S);this._interactive&&N.classList.add("mapboxgl-interactive"),this._canvas=v.create("canvas","mapboxgl-canvas",N),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var z=this._containerDimensions();this._resizeCanvas(z[0],z[1]);var $=this._controlContainer=v.create("div","mapboxgl-control-container",S),X=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ue){X[ue]=v.create("div","mapboxgl-ctrl-"+ue,$)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},b.prototype._resizeCanvas=function(S,N){var z=s.browser.devicePixelRatio||1;this._canvas.width=z*S,this._canvas.height=z*N,this._canvas.style.width=S+"px",this._canvas.style.height=N+"px"},b.prototype._setupPainter=function(){var S=s.extend({},m.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),N=this._canvas.getContext("webgl",S)||this._canvas.getContext("experimental-webgl",S);N?(this.painter=new Ii(N,this.transform),s.webpSupported.testSupport(N)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))},b.prototype._contextLost=function(S){S.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:S}))},b.prototype._contextRestored=function(S){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:S}))},b.prototype._onMapScroll=function(S){if(S.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},b.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},b.prototype._update=function(S){return this.style?(this._styleDirty=this._styleDirty||S,this._sourcesDirty=!0,this.triggerRepaint(),this):this},b.prototype._requestRenderFrame=function(S){return this._update(),this._renderTaskQueue.add(S)},b.prototype._cancelRenderFrame=function(S){this._renderTaskQueue.remove(S)},b.prototype._render=function(S){var N,z=this,$=0,X=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(N=X.createQueryEXT(),X.beginQueryEXT(X.TIME_ELAPSED_EXT,N),$=s.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(S),!this._removed){var ue=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ge=this.transform.zoom,Te=s.browser.now();this.style.zoomHistory.update(ge,Te);var ke=new s.EvaluationParameters(ge,{now:Te,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),De=ke.crossFadingFactor();De===1&&De===this._crossFadingFactor||(ue=!0,this._crossFadingFactor=De),this.style.update(ke)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||ue)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var fe=s.browser.now()-$;X.endQueryEXT(X.TIME_ELAPSED_EXT,N),setTimeout(function(){var qe=X.getQueryObjectEXT(N,X.QUERY_RESULT_EXT)/1e6;X.deleteQueryEXT(N),z.fire(new s.Event("gpu-timing-frame",{cpuTime:fe,gpuTime:qe}))},50)}if(this.listens("gpu-timing-layer")){var He=this.painter.collectGpuTimers();setTimeout(function(){var qe=z.painter.queryGpuTimers(He);z.fire(new s.Event("gpu-timing-layer",{layerTimes:qe}))},50)}var it=this._sourcesDirty||this._styleDirty||this._placementDirty;return it||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),!this._loaded||this._fullyLoaded||it||(this._fullyLoaded=!0),this}},b.prototype.remove=function(){this._hash&&this._hash.remove();for(var S=0,N=this._controls;S<N.length;S+=1)N[S].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1));var z=this.painter.context.gl.getExtension("WEBGL_lose_context");z&&z.loseContext(),zs(this._canvasContainer),zs(this._controlContainer),zs(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new s.Event("remove"))},b.prototype.triggerRepaint=function(){var S=this;this.style&&!this._frame&&(this._frame=s.browser.frame(function(N){S._frame=null,S._render(N)}))},b.prototype._onWindowOnline=function(){this._update()},b.prototype._onWindowResize=function(S){this._trackResize&&this.resize({originalEvent:S})._update()},g.showTileBoundaries.get=function(){return!!this._showTileBoundaries},g.showTileBoundaries.set=function(S){this._showTileBoundaries!==S&&(this._showTileBoundaries=S,this._update())},g.showPadding.get=function(){return!!this._showPadding},g.showPadding.set=function(S){this._showPadding!==S&&(this._showPadding=S,this._update())},g.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},g.showCollisionBoxes.set=function(S){this._showCollisionBoxes!==S&&(this._showCollisionBoxes=S,S?this.style._generateCollisionBoxes():this._update())},g.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},g.showOverdrawInspector.set=function(S){this._showOverdrawInspector!==S&&(this._showOverdrawInspector=S,this._update())},g.repaint.get=function(){return!!this._repaint},g.repaint.set=function(S){this._repaint!==S&&(this._repaint=S,this.triggerRepaint())},g.vertices.get=function(){return!!this._vertices},g.vertices.set=function(S){this._vertices=S,this._update()},b.prototype._setCacheLimits=function(S,N){s.setCacheLimits(S,N)},g.version.get=function(){return s.version},Object.defineProperties(b.prototype,g),b}(mc);function zs(d){d.parentNode&&d.parentNode.removeChild(d)}var va={showCompass:!0,showZoom:!0,visualizePitch:!1},rf=function(d){var b=this;this.options=s.extend({},va,d),this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(g){return g.preventDefault()}),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(g){return b._map.zoomIn({},{originalEvent:g})}),v.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(g){return b._map.zoomOut({},{originalEvent:g})}),v.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(g){b.options.visualizePitch?b._map.resetNorthPitch({},{originalEvent:g}):b._map.resetNorth({},{originalEvent:g})}),this._compassIcon=v.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};rf.prototype._updateZoomButtons=function(){var d=this._map.getZoom(),b=d===this._map.getMaxZoom(),g=d===this._map.getMinZoom();this._zoomInButton.disabled=b,this._zoomOutButton.disabled=g,this._zoomInButton.setAttribute("aria-disabled",b.toString()),this._zoomOutButton.setAttribute("aria-disabled",g.toString())},rf.prototype._rotateCompassArrow=function(){var d=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=d},rf.prototype.onAdd=function(d){return this._map=d,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new wu(this._map,this._compass,this.options.visualizePitch)),this._container},rf.prototype.onRemove=function(){v.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},rf.prototype._createButton=function(d,b){var g=v.create("button",d,this._container);return g.type="button",g.addEventListener("click",b),g},rf.prototype._setButtonTitle=function(d,b){var g=this._map._getUIString("NavigationControl."+b);d.title=g,d.setAttribute("aria-label",g)};var wu=function(d,b,g){g===void 0&&(g=!1),this._clickTolerance=10,this.element=b,this.mouseRotate=new Fh({clickTolerance:d.dragRotate._mouseRotate._clickTolerance}),this.map=d,g&&(this.mousePitch=new Id({clickTolerance:d.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),v.addEventListener(b,"mousedown",this.mousedown),v.addEventListener(b,"touchstart",this.touchstart,{passive:!1}),v.addEventListener(b,"touchmove",this.touchmove),v.addEventListener(b,"touchend",this.touchend),v.addEventListener(b,"touchcancel",this.reset)};function l(d,b,g){if(d=new s.LngLat(d.lng,d.lat),b){var S=new s.LngLat(d.lng-360,d.lat),N=new s.LngLat(d.lng+360,d.lat),z=g.locationPoint(d).distSqr(b);g.locationPoint(S).distSqr(b)<z?d=S:g.locationPoint(N).distSqr(b)<z&&(d=N)}for(;Math.abs(d.lng-g.center.lng)>180;){var $=g.locationPoint(d);if($.x>=0&&$.y>=0&&$.x<=g.width&&$.y<=g.height)break;d.lng>g.center.lng?d.lng-=360:d.lng+=360}return d}wu.prototype.down=function(d,b){this.mouseRotate.mousedown(d,b),this.mousePitch&&this.mousePitch.mousedown(d,b),v.disableDrag()},wu.prototype.move=function(d,b){var g=this.map,S=this.mouseRotate.mousemoveWindow(d,b);if(S&&S.bearingDelta&&g.setBearing(g.getBearing()+S.bearingDelta),this.mousePitch){var N=this.mousePitch.mousemoveWindow(d,b);N&&N.pitchDelta&&g.setPitch(g.getPitch()+N.pitchDelta)}},wu.prototype.off=function(){var d=this.element;v.removeEventListener(d,"mousedown",this.mousedown),v.removeEventListener(d,"touchstart",this.touchstart,{passive:!1}),v.removeEventListener(d,"touchmove",this.touchmove),v.removeEventListener(d,"touchend",this.touchend),v.removeEventListener(d,"touchcancel",this.reset),this.offTemp()},wu.prototype.offTemp=function(){v.enableDrag(),v.removeEventListener(s.window,"mousemove",this.mousemove),v.removeEventListener(s.window,"mouseup",this.mouseup)},wu.prototype.mousedown=function(d){this.down(s.extend({},d,{ctrlKey:!0,preventDefault:function(){return d.preventDefault()}}),v.mousePos(this.element,d)),v.addEventListener(s.window,"mousemove",this.mousemove),v.addEventListener(s.window,"mouseup",this.mouseup)},wu.prototype.mousemove=function(d){this.move(d,v.mousePos(this.element,d))},wu.prototype.mouseup=function(d){this.mouseRotate.mouseupWindow(d),this.mousePitch&&this.mousePitch.mouseupWindow(d),this.offTemp()},wu.prototype.touchstart=function(d){d.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=v.touchPos(this.element,d.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return d.preventDefault()}},this._startPos))},wu.prototype.touchmove=function(d){d.targetTouches.length!==1?this.reset():(this._lastPos=v.touchPos(this.element,d.targetTouches)[0],this.move({preventDefault:function(){return d.preventDefault()}},this._lastPos))},wu.prototype.touchend=function(d){d.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},wu.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var f={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function y(d,b,g){var S=d.classList;for(var N in f)S.remove("mapboxgl-"+g+"-anchor-"+N);S.add("mapboxgl-"+g+"-anchor-"+b)}var x,O=function(d){function b(g,S){if(d.call(this),(g instanceof s.window.HTMLElement||S)&&(g=s.extend({element:g},S)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=g&&g.anchor||"center",this._color=g&&g.color||"#3FB1CE",this._scale=g&&g.scale||1,this._draggable=g&&g.draggable||!1,this._clickTolerance=g&&g.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=g&&g.rotation||0,this._rotationAlignment=g&&g.rotationAlignment||"auto",this._pitchAlignment=g&&g.pitchAlignment&&g.pitchAlignment!=="auto"?g.pitchAlignment:this._rotationAlignment,g&&g.element)this._element=g.element,this._offset=s.Point.convert(g&&g.offset||[0,0]);else{this._defaultMarker=!0,this._element=v.create("div"),this._element.setAttribute("aria-label","Map marker");var N=v.createNS("http://www.w3.org/2000/svg","svg");N.setAttributeNS(null,"display","block"),N.setAttributeNS(null,"height","41px"),N.setAttributeNS(null,"width","27px"),N.setAttributeNS(null,"viewBox","0 0 27 41");var z=v.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"stroke","none"),z.setAttributeNS(null,"stroke-width","1"),z.setAttributeNS(null,"fill","none"),z.setAttributeNS(null,"fill-rule","evenodd");var $=v.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"fill-rule","nonzero");var X=v.createNS("http://www.w3.org/2000/svg","g");X.setAttributeNS(null,"transform","translate(3.0, 29.0)"),X.setAttributeNS(null,"fill","#000000");for(var ue=0,ge=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ue<ge.length;ue+=1){var Te=ge[ue],ke=v.createNS("http://www.w3.org/2000/svg","ellipse");ke.setAttributeNS(null,"opacity","0.04"),ke.setAttributeNS(null,"cx","10.5"),ke.setAttributeNS(null,"cy","5.80029008"),ke.setAttributeNS(null,"rx",Te.rx),ke.setAttributeNS(null,"ry",Te.ry),X.appendChild(ke)}var De=v.createNS("http://www.w3.org/2000/svg","g");De.setAttributeNS(null,"fill",this._color);var fe=v.createNS("http://www.w3.org/2000/svg","path");fe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),De.appendChild(fe);var He=v.createNS("http://www.w3.org/2000/svg","g");He.setAttributeNS(null,"opacity","0.25"),He.setAttributeNS(null,"fill","#000000");var it=v.createNS("http://www.w3.org/2000/svg","path");it.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),He.appendChild(it);var qe=v.createNS("http://www.w3.org/2000/svg","g");qe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),qe.setAttributeNS(null,"fill","#FFFFFF");var rt=v.createNS("http://www.w3.org/2000/svg","g");rt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var ut=v.createNS("http://www.w3.org/2000/svg","circle");ut.setAttributeNS(null,"fill","#000000"),ut.setAttributeNS(null,"opacity","0.25"),ut.setAttributeNS(null,"cx","5.5"),ut.setAttributeNS(null,"cy","5.5"),ut.setAttributeNS(null,"r","5.4999962");var gt=v.createNS("http://www.w3.org/2000/svg","circle");gt.setAttributeNS(null,"fill","#FFFFFF"),gt.setAttributeNS(null,"cx","5.5"),gt.setAttributeNS(null,"cy","5.5"),gt.setAttributeNS(null,"r","5.4999962"),rt.appendChild(ut),rt.appendChild(gt),$.appendChild(X),$.appendChild(De),$.appendChild(He),$.appendChild(qe),$.appendChild(rt),N.appendChild($),N.setAttributeNS(null,"height",41*this._scale+"px"),N.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(N),this._offset=s.Point.convert(g&&g.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Ct){Ct.preventDefault()}),this._element.addEventListener("mousedown",function(Ct){Ct.preventDefault()}),y(this._element,this._anchor,"marker"),this._popup=null}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.addTo=function(g){return this.remove(),this._map=g,g.getCanvasContainer().appendChild(this._element),g.on("move",this._update),g.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},b.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),v.remove(this._element),this._popup&&this._popup.remove(),this},b.prototype.getLngLat=function(){return this._lngLat},b.prototype.setLngLat=function(g){return this._lngLat=s.LngLat.convert(g),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},b.prototype.getElement=function(){return this._element},b.prototype.setPopup=function(g){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),g){if(!("offset"in g.options)){var S=Math.sqrt(Math.pow(13.5,2)/2);g.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[S,-1*(24.6+S)],"bottom-right":[-S,-1*(24.6+S)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=g,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},b.prototype._onKeyPress=function(g){var S=g.code,N=g.charCode||g.keyCode;S!=="Space"&&S!=="Enter"&&N!==32&&N!==13||this.togglePopup()},b.prototype._onMapClick=function(g){var S=g.originalEvent.target,N=this._element;this._popup&&(S===N||N.contains(S))&&this.togglePopup()},b.prototype.getPopup=function(){return this._popup},b.prototype.togglePopup=function(){var g=this._popup;return g?(g.isOpen()?g.remove():g.addTo(this._map),this):this},b.prototype._update=function(g){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=l(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var S="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?S="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(S="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var N="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?N="rotateX(0deg)":this._pitchAlignment==="map"&&(N="rotateX("+this._map.getPitch()+"deg)"),g&&g.type!=="moveend"||(this._pos=this._pos.round()),v.setTransform(this._element,f[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+N+" "+S)}},b.prototype.getOffset=function(){return this._offset},b.prototype.setOffset=function(g){return this._offset=s.Point.convert(g),this._update(),this},b.prototype._onMove=function(g){if(!this._isDragging){var S=this._clickTolerance||this._map._clickTolerance;this._isDragging=g.point.dist(this._pointerdownPos)>=S}this._isDragging&&(this._pos=g.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))},b.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"},b.prototype._addDragHandler=function(g){this._element.contains(g.originalEvent.target)&&(g.preventDefault(),this._positionDelta=g.point.sub(this._pos).add(this._offset),this._pointerdownPos=g.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},b.prototype.setDraggable=function(g){return this._draggable=!!g,this._map&&(g?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},b.prototype.isDraggable=function(){return this._draggable},b.prototype.setRotation=function(g){return this._rotation=g||0,this._update(),this},b.prototype.getRotation=function(){return this._rotation},b.prototype.setRotationAlignment=function(g){return this._rotationAlignment=g||"auto",this._update(),this},b.prototype.getRotationAlignment=function(){return this._rotationAlignment},b.prototype.setPitchAlignment=function(g){return this._pitchAlignment=g&&g!=="auto"?g:this._rotationAlignment,this._update(),this},b.prototype.getPitchAlignment=function(){return this._pitchAlignment},b}(s.Evented),U={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},H=0,me=!1,je=function(d){function b(g){d.call(this),this.options=s.extend({},U,g),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.onAdd=function(g){var S;return this._map=g,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),S=this._setupUI,x!==void 0?S(x):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(function(N){S(x=N.state!=="denied")}):S(x=!!s.window.navigator.geolocation),this._container},b.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),v.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,H=0,me=!1},b.prototype._isOutOfMapMaxBounds=function(g){var S=this._map.getMaxBounds(),N=g.coords;return S&&(N.longitude<S.getWest()||N.longitude>S.getEast()||N.latitude<S.getSouth()||N.latitude>S.getNorth())},b.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},b.prototype._onSuccess=function(g){if(this._map){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(g),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",g)),this._finish()}},b.prototype._updateCamera=function(g){var S=new s.LngLat(g.coords.longitude,g.coords.latitude),N=g.coords.accuracy,z=this._map.getBearing(),$=s.extend({bearing:z},this.options.fitBoundsOptions);this._map.fitBounds(S.toBounds(N),$,{geolocateSource:!0})},b.prototype._updateMarker=function(g){if(g){var S=new s.LngLat(g.coords.longitude,g.coords.latitude);this._accuracyCircleMarker.setLngLat(S).addTo(this._map),this._userLocationDotMarker.setLngLat(S).addTo(this._map),this._accuracy=g.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},b.prototype._updateCircleRadius=function(){var g=this._map._container.clientHeight/2,S=this._map.unproject([0,g]),N=this._map.unproject([1,g]),z=S.distanceTo(N),$=Math.ceil(2*this._accuracy/z);this._circleElement.style.width=$+"px",this._circleElement.style.height=$+"px"},b.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},b.prototype._onError=function(g){if(this._map){if(this.options.trackUserLocation)if(g.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var S=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=S,this._geolocateButton.setAttribute("aria-label",S),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(g.code===3&&me)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",g)),this._finish()}},b.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},b.prototype._setupUI=function(g){var S=this;if(this._container.addEventListener("contextmenu",function($){return $.preventDefault()}),this._geolocateButton=v.create("button","mapboxgl-ctrl-geolocate",this._container),v.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",g===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var N=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=N,this._geolocateButton.setAttribute("aria-label",N)}else{var z=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=z,this._geolocateButton.setAttribute("aria-label",z)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=v.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new O(this._dotElement),this._circleElement=v.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new O({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function($){$.geolocateSource||S._watchState!=="ACTIVE_LOCK"||$.originalEvent&&$.originalEvent.type==="resize"||(S._watchState="BACKGROUND",S._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),S._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),S.fire(new s.Event("trackuserlocationend")))})},b.prototype.trigger=function(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":H--,me=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var g;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++H>1?(g={maximumAge:6e5,timeout:0},me=!0):(g=this.options.positionOptions,me=!1),this._geolocationWatchID=s.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,g)}}else s.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},b.prototype._clearWatch=function(){s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},b}(s.Evented),nt={maxWidth:100,unit:"metric"},wt=function(d){this.options=s.extend({},nt,d),s.bindAll(["_onMove","setUnit"],this)};function kt(d,b,g){var S=g&&g.maxWidth||100,N=d._container.clientHeight/2,z=d.unproject([0,N]),$=d.unproject([S,N]),X=z.distanceTo($);if(g&&g.unit==="imperial"){var ue=3.2808*X;ue>5280?ar(b,S,ue/5280,d._getUIString("ScaleControl.Miles")):ar(b,S,ue,d._getUIString("ScaleControl.Feet"))}else g&&g.unit==="nautical"?ar(b,S,X/1852,d._getUIString("ScaleControl.NauticalMiles")):X>=1e3?ar(b,S,X/1e3,d._getUIString("ScaleControl.Kilometers")):ar(b,S,X,d._getUIString("ScaleControl.Meters"))}function ar(d,b,g,S){var N,z,$,X=(N=g,(z=Math.pow(10,(""+Math.floor(N)).length-1))*($=($=N/z)>=10?10:$>=5?5:$>=3?3:$>=2?2:$>=1?1:function(ue){var ge=Math.pow(10,Math.ceil(-Math.log(ue)/Math.LN10));return Math.round(ue*ge)/ge}($)));d.style.width=b*(X/g)+"px",d.innerHTML=X+"&nbsp;"+S}wt.prototype.getDefaultPosition=function(){return"bottom-left"},wt.prototype._onMove=function(){kt(this._map,this._container,this.options)},wt.prototype.onAdd=function(d){return this._map=d,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",d.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},wt.prototype.onRemove=function(){v.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},wt.prototype.setUnit=function(d){this.options.unit=d,kt(this._map,this._container,this.options)};var nr=function(d){this._fullscreen=!1,d&&d.container&&(d.container instanceof s.window.HTMLElement?this._container=d.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in s.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in s.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in s.window.document&&(this._fullscreenchange="MSFullscreenChange")};nr.prototype.onAdd=function(d){return this._map=d,this._container||(this._container=this._map.getContainer()),this._controlContainer=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},nr.prototype.onRemove=function(){v.remove(this._controlContainer),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},nr.prototype._checkFullscreenSupport=function(){return!!(s.window.document.fullscreenEnabled||s.window.document.mozFullScreenEnabled||s.window.document.msFullscreenEnabled||s.window.document.webkitFullscreenEnabled)},nr.prototype._setupUI=function(){var d=this._fullscreenButton=v.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);v.create("span","mapboxgl-ctrl-icon",d).setAttribute("aria-hidden",!0),d.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},nr.prototype._updateTitle=function(){var d=this._getTitle();this._fullscreenButton.setAttribute("aria-label",d),this._fullscreenButton.title=d},nr.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},nr.prototype._isFullscreen=function(){return this._fullscreen},nr.prototype._changeIcon=function(){(s.window.document.fullscreenElement||s.window.document.mozFullScreenElement||s.window.document.webkitFullscreenElement||s.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},nr.prototype._onClickFullscreen=function(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.mozCancelFullScreen?s.window.document.mozCancelFullScreen():s.window.document.msExitFullscreen?s.window.document.msExitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Tr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Br=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),ri=function(d){function b(g){d.call(this),this.options=s.extend(Object.create(Tr),g),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return d&&(b.__proto__=d),(b.prototype=Object.create(d&&d.prototype)).constructor=b,b.prototype.addTo=function(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this},b.prototype.isOpen=function(){return!!this._map},b.prototype.remove=function(){return this._content&&v.remove(this._content),this._container&&(v.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this},b.prototype.getLngLat=function(){return this._lngLat},b.prototype.setLngLat=function(g){return this._lngLat=s.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},b.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},b.prototype.getElement=function(){return this._container},b.prototype.setText=function(g){return this.setDOMContent(s.window.document.createTextNode(g))},b.prototype.setHTML=function(g){var S,N=s.window.document.createDocumentFragment(),z=s.window.document.createElement("body");for(z.innerHTML=g;S=z.firstChild;)N.appendChild(S);return this.setDOMContent(N)},b.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},b.prototype.setMaxWidth=function(g){return this.options.maxWidth=g,this._update(),this},b.prototype.setDOMContent=function(g){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=v.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(g),this._createCloseButton(),this._update(),this._focusFirstElement(),this},b.prototype.addClassName=function(g){this._container&&this._container.classList.add(g)},b.prototype.removeClassName=function(g){this._container&&this._container.classList.remove(g)},b.prototype.setOffset=function(g){return this.options.offset=g,this._update(),this},b.prototype.toggleClassName=function(g){if(this._container)return this._container.classList.toggle(g)},b.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=v.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},b.prototype._onMouseUp=function(g){this._update(g.point)},b.prototype._onMouseMove=function(g){this._update(g.point)},b.prototype._onDrag=function(g){this._update(g.point)},b.prototype._update=function(g){var S=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=v.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=v.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(ke){return S._container.classList.add(ke)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=l(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||g)){var N=this._pos=this._trackPointer&&g?g:this._map.project(this._lngLat),z=this.options.anchor,$=function ke(De){if(De){if(typeof De=="number"){var fe=Math.round(Math.sqrt(.5*Math.pow(De,2)));return{center:new s.Point(0,0),top:new s.Point(0,De),"top-left":new s.Point(fe,fe),"top-right":new s.Point(-fe,fe),bottom:new s.Point(0,-De),"bottom-left":new s.Point(fe,-fe),"bottom-right":new s.Point(-fe,-fe),left:new s.Point(De,0),right:new s.Point(-De,0)}}if(De instanceof s.Point||Array.isArray(De)){var He=s.Point.convert(De);return{center:He,top:He,"top-left":He,"top-right":He,bottom:He,"bottom-left":He,"bottom-right":He,left:He,right:He}}return{center:s.Point.convert(De.center||[0,0]),top:s.Point.convert(De.top||[0,0]),"top-left":s.Point.convert(De["top-left"]||[0,0]),"top-right":s.Point.convert(De["top-right"]||[0,0]),bottom:s.Point.convert(De.bottom||[0,0]),"bottom-left":s.Point.convert(De["bottom-left"]||[0,0]),"bottom-right":s.Point.convert(De["bottom-right"]||[0,0]),left:s.Point.convert(De.left||[0,0]),right:s.Point.convert(De.right||[0,0])}}return ke(new s.Point(0,0))}(this.options.offset);if(!z){var X,ue=this._container.offsetWidth,ge=this._container.offsetHeight;X=N.y+$.bottom.y<ge?["top"]:N.y>this._map.transform.height-ge?["bottom"]:[],N.x<ue/2?X.push("left"):N.x>this._map.transform.width-ue/2&&X.push("right"),z=X.length===0?"bottom":X.join("-")}var Te=N.add($[z]).round();v.setTransform(this._container,f[z]+" translate("+Te.x+"px,"+Te.y+"px)"),y(this._container,z,"popup")}},b.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var g=this._container.querySelector(Br);g&&g.focus()}},b.prototype._onClose=function(){this.remove()},b}(s.Evented),ba={version:s.version,supported:m,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:zu,NavigationControl:rf,GeolocateControl:je,AttributionControl:Rn,ScaleControl:wt,FullscreenControl:nr,Popup:ri,Marker:O,Style:po,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.Point,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,config:s.config,prewarm:function(){Et().acquire(dt)},clearPrewarmedResources:function(){var d=_r;d&&(d.isPreloaded()&&d.numActive()===1?(d.release(dt),_r=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(d){s.config.ACCESS_TOKEN=d},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(d){s.config.API_URL=d},get workerCount(){return zt.workerCount},set workerCount(d){zt.workerCount=d},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(d){s.config.MAX_PARALLEL_IMAGE_REQUESTS=d},clearStorage:function(d){s.clearTileCache(d)},workerUrl:""};return ba}),i})})(cq);var fq={},Uy={},vA={},eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.Serializable=void 0;var Vee=a_,Gee=function(){function e(){}return Object.defineProperty(e.prototype,"json",{get:function(){return Vee.kebabize(this)},enumerable:!1,configurable:!0}),e}();eh.Serializable=Gee;var Wee=function(){function e(t){this.id=t.id,this.type=t.type,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.metadata=t.metadata}return Object.defineProperty(e.prototype,"json",{get:function(){var t=this,r=t.id,n=t.type,i=t.source,u=t.sourceLayer,s=t.minzoom,m=t.maxzoom,v=t.filter,_=t.metadata,P={id:r,type:n};return i&&(P.source=i),u&&(P["source-layer"]=u),s&&(P.minzoom=s),m&&(P.maxzoom=m),v&&(P.filter=v),this.metadata&&(P.metadata=_),this.paint&&(P.paint=this.paint.json),this.layout&&(P.layout=this.layout.json),P},enumerable:!1,configurable:!0}),e.prototype.setFilterLevel=function(t){var r=this;this.filter.forEach(function(n,i){if(r.id==="proximiio-levelchangers"){var u="__level_"+t;i===3&&(n[1]=u),i===4&&(n[1][1]=u)}if(Array.isArray(n)){var s=!1;if(n[0]==="=="){var m=n[1];m[0]==="to-number"&&m[1][0]==="get"&&m[1][1]==="level"&&(n[2]=t,s=!0),m[0]==="get"&&m[1]==="level"&&(n[2]=t,s=!0)}if(n[0]==="<="){var m=n[1];m[0]==="to-number"&&m[1][0]==="get"&&m[1][1]==="level_min"&&(n[2]=t,s=!0),m[0]==="get"&&m[1]==="level_min"&&(n[2]=t,s=!0)}if(n[0]===">="){var m=n[1];m[0]==="to-number"&&m[1][0]==="get"&&m[1][1]==="level_max"&&(n[2]=t,s=!0),m[0]==="get"&&m[1]==="level_max"&&(n[2]=t,s=!0)}s&&(r.filter[i]=n)}})},e}();eh.default=Wee;var w0={},Z4=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(w0,"__esModule",{value:!0});w0.LayoutProperties=w0.PaintProperties=void 0;var K4=eh,pq=function(e){Z4(t,e);function t(r){var n=e.call(this)||this;return n.backgroundColor=r["background-color"]||"#000000",n.backgroundPattern=r["background-pattern"],n.backgroundOpacity=r["background-opacity"]||1,n}return t}(K4.Serializable);w0.PaintProperties=pq;var hq=function(e){Z4(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n}return t}(K4.Serializable);w0.LayoutProperties=hq;var Xee=function(e){Z4(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new pq(r.paint||{}),n.layout=new hq(r.layout||{}),n}return t}(K4.default);w0.default=Xee;var S0={},J4=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(S0,"__esModule",{value:!0});S0.LayoutProperties=S0.PaintProperties=void 0;var Q4=eh,dq=function(e){J4(t,e);function t(r){var n=e.call(this)||this;return n.rasterOpacity=r["raster-opacity"]||1,n.rasterHueRotate=r["raster-hue-rotate"]||0,n.rasterBrightnessMin=r["raster-brightness-min"]||0,n.rasterBrightnessMax=r["raster-brightness-max"]||1,n.rasterSaturation=r["raster-saturation"]||0,n.rasterContrast=r["raster-contrast"]||0,n.rasterResampling=r["raster-resampling"]||"linear",n.rasterFadeDuration=r["raster-fade-duration"]||300,n}return t}(Q4.Serializable);S0.PaintProperties=dq;var _q=function(e){J4(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n}return t}(Q4.Serializable);S0.LayoutProperties=_q;var Yee=function(e){J4(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new dq(r.paint||{}),n.layout=new _q(r.layout||{}),n}return t}(Q4.default);S0.default=Yee;var E0={},eR=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(E0,"__esModule",{value:!0});E0.LayoutProperties=E0.PaintProperties=void 0;var tR=eh,mq=function(e){eR(t,e);function t(r){var n=e.call(this)||this;return n.fillAntialias=r["fill-antialias"]||!0,n.fillOpacity=r["fill-opacity"]||1,n.fillColor=r["fill-color"]||"#000000",n.fillOutlineColor=r["fill-outline-color"],n.fillTranslate=r["fill-translate"]||[0,0],n.fillTranslateAnchor=r["fill-translate-anchor"]||"map",n.fillPattern=r["fill-pattern"],n}return t}(tR.Serializable);E0.PaintProperties=mq;var gq=function(e){eR(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n}return t}(tR.Serializable);E0.LayoutProperties=gq;var Hee=function(e){eR(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new mq(r.paint||{}),n.layout=new gq(r.layout||{}),n}return t}(tR.default);E0.default=Hee;var P0={},rR=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(P0,"__esModule",{value:!0});P0.LayoutProperties=P0.PaintProperties=void 0;var nR=eh,yq=function(e){rR(t,e);function t(r){var n=e.call(this)||this;return n.lineColor=r["line-color"]||"#000000",n.lineOpacity=r["line-opacity"]||1,n.lineTranslate=r["line-translate"]||[0,0],n.lineTranslateAnchor=r["line-translate-anchor"]||"map",n.lineWidth=r["line-width"]||1,n.lineGapWidth=r["line-gap-width"]||0,n.lineOffset=r["line-offset"]||0,n.lineBlur=r["line-blur"]||0,n.lineDashArray=r["line-dash-array"],n.linePattern=r["line-pattern"],n.lineGradient=r["line-gradient"],n}return t}(nR.Serializable);P0.PaintProperties=yq;var vq=function(e){rR(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n.lineCap=r["line-cap"]||"butt",n.lineJoin=r["line-join"]||"miter",n.lineMiterLimit=r["line-miter-limit"]||2,n.lineRoundLimit=r["line-round-limit"]||1.05,n}return t}(nR.Serializable);P0.LayoutProperties=vq;var Zee=function(e){rR(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new yq(r.paint||{}),n.layout=new vq(r.layout||{}),n}return t}(nR.default);P0.default=Zee;var Xy={},iR=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Xy,"__esModule",{value:!0});Xy.LayoutProperties=Xy.PaintProperties=void 0;var oR=eh,bq=function(e){iR(t,e);function t(r){var n=e.call(this)||this;return n.fillExtrusionColor=r["fill-extrusion-color"]||"#000000",n.fillExtrusionOpacity=r["fill-extrusion-opacity"]||1,n.fillExtrusionTranslate=r["fill-extrusion-translate"]||[0,0],n.fillExtrusionTranslateAnchor=r["fill-extrusion-translate-anchor"]||"map",n.fillExtrusionPattern=r["fill-extrusion-pattern"],n.fillExtrusionHeight=r["fill-extrusion-height"]||0,n.fillExtrusionBase=r["fill-extrusion-base"]||0,n.fillExtrusionVerticalGradient=r["fill-extrusion-vertical-gradient"]||!0,n}return t}(oR.Serializable);Xy.PaintProperties=bq;var xq=function(e){iR(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n}return t}(oR.Serializable);Xy.LayoutProperties=xq;var Kee=function(e){iR(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new bq(r.paint||{}),n.layout=new xq(r.layout||{}),n}return t}(oR.default);Xy.default=Kee;var Yy={},aR=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.LayoutProperties=Yy.PaintProperties=void 0;var sR=eh,Jee=a_,wq=function(e){aR(t,e);function t(r){var n=e.call(this)||this;return n.iconColor=r["icon-color"]||"#000000",n.iconOpacity=r["icon-opacity"]||1,n.iconHaloColor=r["icon-halo-color"]||"rgba(0, 0, 0, 0)",n.iconHaloWidth=r["icon-halo-width"]||0,n.iconHaloBlur=r["icon-halo-blur"]||0,n.iconTranslate=r["icon-translate"]||[0,0],n.iconTranslateAnchor=r["icon-translate-anchor"]||"map",n.textOpacity=r["text-opacity"]||1,n.textColor=r["text-color"]||"#000000",n.textHaloColor=r["text-halo-color"]||"rgba(0, 0, 0, 0)",n.textHaloWidth=r["text-halo-width"]||0,n.textHaloBlur=r["text-halo-blur"]||0,n.textTranslate=r["text-translate"]||[0,0],n.textTranslateAnchor=r["text-translate-anchor"]||"map",n}return t}(sR.Serializable);Yy.PaintProperties=wq;var Sq=function(e){aR(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n.symbolPlacement=r["symbol-placement"]||"point",n.symbolSpacing=r["symbol-spacing"]||250,n.symbolAvoidEdges=r["symbol-avoid-edges"]||!1,n.symbolSortKey=r["symbol-sort-key"],n.symbolZOrder=r["symbol-z-order"]||"auto",n.iconAllowOverlap=r["icon-allow-overlap"]||!1,n.iconIgnorePlacement=r["icon-ignore-placement"]||!1,n.iconOptional=r["icon-optional"]||!1,n.iconRotationAlignment=r["icon-rotation-alignment"]||"auto",n.iconSize=r["icon-size"]||1,n.iconTextFit=r["icon-text-fit"]||"none",n.iconTextFitPadding=r["icon-text-fit-padding"]||[0,0,0,0],n.iconImage=r["icon-image"],n.iconRotate=r["icon-rotate"]||0,n.iconPadding=r["icon-padding"]||2,n.iconKeepUpright=r["icon-keep-upright"]||!1,n.iconOffset=r["icon-offset"]||[0,0],n.iconAnchor=r["icon-anchor"]||"center",n.iconPitchAlignment=r["icon-pitch-alignment"]||"auto",n.textPitchAlignment=r["text-pitch-alignment"]||"auto",n.textRotationAlignment=r["text-rotation-alignment"]||"auto",typeof r["text-font"]=="string"&&r["text-font"]==="{textFont}"||typeof r["text-font"]=="object"&&r["text-font"].property==="textFont"?n.textFont=["match",["string",["get","textFont"]],"Klokantech Noto Sans Bold",["literal",["Klokantech Noto Sans Bold"]],"Klokantech Noto Sans CJK Bold",["literal",["Klokantech Noto Sans CJK Bold"]],"Klokantech Noto Sans CJK Regular",["literal",["Klokantech Noto Sans CJK Regular"]],"Klokantech Noto Sans Italic",["literal",["Klokantech Noto Sans Italic"]],"Klokantech Noto Sans Regular",["literal",["Klokantech Noto Sans Regular"]],"Noto Sans Bold",["literal",["Noto Sans Bold"]],"Noto Sans Bold Italic",["literal",["Noto Sans Bold Italic"]],"Noto Sans Italic",["literal",["Noto Sans Italic"]],"Noto Sans Regular",["literal",["Noto Sans Regular"]],"Open Sans Bold",["literal",["Open Sans Bold"]],"Open Sans Italic",["literal",["Open Sans Italic"]],"Open Sans Regular",["literal",["Open Sans Regular"]],"Open Sans Semibold",["literal",["Open Sans Semibold"]],"Open Sans Semibold Italic",["literal",["Open Sans Semibold Italic"]],["literal",["Klokantech Noto Sans Bold"]]]:n.textFont=r["text-font"],n.textField=r["text-field"]||"",n.textSize=r["text-size"]||16,n.textMaxWidth=r["text-max-width"]||10,n.textLineHeight=r["text-line-height"]||1.2,n.textLetterSpacing=r["text-letter-spacing"]||0,n.textJustify=r["text-justify"]||"center",n.textRadialOffset=r["text-radial-offset"]||0,n.textVariableAnchor=r["text-variable-anchor"],n.textAnchor=r["text-anchor"]||"center",n.textMaxAngle=r["text-max-angle"]||45,n.textWritingMode=r["text-writing-mode"],n.textRotate=r["text-rotate"]||0,n.textPadding=r["text-padding"]||2,n.textKeepUpright=r["text-keep-upright"]||!0,n.textTransform=r["text-transform"]||"none",n.textOffset=r["text-offset"]||[0,0],n.textAllowOverlap=r["text-allow-overlap"]||!1,n.textIgnorePlacement=r["text-ignore-placement"]||!1,n.textOptional=r["text-optional"]||!1,n}return Object.defineProperty(t.prototype,"json",{get:function(){var r=Jee.kebabize(this);return r["symbol-z-order"]=this.symbolZOrder,delete r["symbol-zorder"],r},enumerable:!1,configurable:!0}),t}(sR.Serializable);Yy.LayoutProperties=Sq;var Qee=function(e){aR(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new wq(r.paint||{}),n.layout=new Sq(r.layout||{}),n}return t}(sR.default);Yy.default=Qee;var I0={},uR=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(I0,"__esModule",{value:!0});I0.LayoutProperties=I0.PaintProperties=void 0;var lR=eh,Eq=function(e){uR(t,e);function t(r){var n=e.call(this)||this;return n.heatmapRadius=r["heatmap-radius"]||30,n.heatmapWeight=r["heatmap-weight"]||1,n.heatmapIntensity=r["heatmap-intensity"]||1,n.heatmapOpacity=r["heatmap-opacity"]||1,n.heatmapColor=r["heatmap-color"]||"",n}return t}(lR.Serializable);I0.PaintProperties=Eq;var Pq=function(e){uR(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n}return t}(lR.Serializable);I0.LayoutProperties=Pq;var ete=function(e){uR(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new Eq(r.paint||{}),n.layout=new Pq(r.layout||{}),n}return t}(lR.default);I0.default=ete;var C0={},cR=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(C0,"__esModule",{value:!0});C0.LayoutProperties=C0.PaintProperties=void 0;var fR=eh,Iq=function(e){cR(t,e);function t(r){var n=e.call(this)||this;return n.circleRadius=r["circle-radius"]||5,n.circleColor=r["circle-color"]||"#000000",n.circleBlur=r["circle-blur"]||0,n.circleOpacity=r["circle-opacity"]||1,n.circleTranslate=r["circle-translate"]||[0,0],n.circleTranslateAnchor=r["circle-translate-anchor"]||"map",n.circlePitchScale=r["circle-pitch-scale"]||"map",n.circlePitchAlignment=r["circle-pitch-alignment"]||"viewport",n.circleStrokeWidth=r["circle-stroke-width"]||1,n.circleStrokeColor=r["circle-stroke-color"]||"#000000",n.circleStrokeOpacity=r["circle-stroke-opacity"]||1,n}return t}(fR.Serializable);C0.PaintProperties=Iq;var Cq=function(e){cR(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n.circleSortKey=r["circle-sort-key"]||0,n}return t}(fR.Serializable);C0.LayoutProperties=Cq;var tte=function(e){cR(t,e);function t(r){var n=e.call(this,r)||this;return n.type="circle",n.paint=new Iq(r.paint||{}),n.layout=new Cq(r.layout||{}),n}return t}(fR.default);C0.default=tte;var A0={},pR=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(A0,"__esModule",{value:!0});A0.LayoutProperties=A0.PaintProperties=void 0;var hR=eh,Aq=function(e){pR(t,e);function t(r){var n=e.call(this)||this;return n.hillshadeIlluminationDirection=r["hillshade-illumination-direction"]||335,n.hillshadeIlluminationAnchor=r["hillshade-illumination-anchor"]||"viewport",n.hillshadeExaggeration=r["hillshade-exaggeration"]||.5,n.hillshadeShadowColor=r["hillshade-shadow-color"]||'#000000"',n.hillshadeHighlightColor=r["hillshade-highlight-color"]||"#ffffff",n.hillshadeAccentColor=r["hillshade-accent-color"]||"#000000",n}return t}(hR.Serializable);A0.PaintProperties=Aq;var Oq=function(e){pR(t,e);function t(r){var n=e.call(this)||this;return n.visibility=r.visibility||"visible",n}return t}(hR.Serializable);A0.LayoutProperties=Oq;var rte=function(e){pR(t,e);function t(r){var n=e.call(this,r)||this;return n.paint=new Aq(r.paint||{}),n.layout=new Oq(r.layout||{}),n}return t}(hR.default);A0.default=rte;var kq={exports:{}};(function(e,t){(function(r,n){var i=n(r);e.exports=i})(Ne,function(r){var n=["N","E","A","D"];function i(ne,ee){ne.super_=ee,ne.prototype=Object.create(ee.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}})}function u(ne,ee){Object.defineProperty(this,"kind",{value:ne,enumerable:!0}),ee&&ee.length&&Object.defineProperty(this,"path",{value:ee,enumerable:!0})}function s(ne,ee,ie){s.super_.call(this,"E",ne),Object.defineProperty(this,"lhs",{value:ee,enumerable:!0}),Object.defineProperty(this,"rhs",{value:ie,enumerable:!0})}i(s,u);function m(ne,ee){m.super_.call(this,"N",ne),Object.defineProperty(this,"rhs",{value:ee,enumerable:!0})}i(m,u);function v(ne,ee){v.super_.call(this,"D",ne),Object.defineProperty(this,"lhs",{value:ee,enumerable:!0})}i(v,u);function _(ne,ee,ie){_.super_.call(this,"A",ne),Object.defineProperty(this,"index",{value:ee,enumerable:!0}),Object.defineProperty(this,"item",{value:ie,enumerable:!0})}i(_,u);function P(ne,ee,ie){var we=ne.slice((ie||ee)+1||ne.length);return ne.length=ee<0?ne.length+ee:ee,ne.push.apply(ne,we),ne}function C(ne){var ee=typeof ne;return ee!=="object"?ee:ne===Math?"math":ne===null?"null":Array.isArray(ne)?"array":Object.prototype.toString.call(ne)==="[object Date]"?"date":typeof ne.toString=="function"&&/^\/.*\//.test(ne.toString())?"regexp":"object"}function I(ne){var ee=0;if(ne.length===0)return ee;for(var ie=0;ie<ne.length;ie++){var we=ne.charCodeAt(ie);ee=(ee<<5)-ee+we,ee=ee&ee}return ee}function k(ne){var ee=0,ie=C(ne);if(ie==="array"){ne.forEach(function(Be){ee+=k(Be)});var we="[type: array, hash: "+ee+"]";return ee+I(we)}if(ie==="object"){for(var Se in ne)if(ne.hasOwnProperty(Se)){var Pe="[ type: object, key: "+Se+", value hash: "+k(ne[Se])+"]";ee+=I(Pe)}return ee}var ae="[ type: "+ie+" ; value: "+ne+"]";return ee+I(ae)}function F(ne,ee,ie,we,Se,Pe,ae,Be){ie=ie||[],Se=Se||[],ae=ae||[];var Q=Se.slice(0);if(typeof Pe!="undefined"&&Pe!==null){if(we){if(typeof we=="function"&&we(Q,Pe))return;if(typeof we=="object"){if(we.prefilter&&we.prefilter(Q,Pe))return;if(we.normalize){var te=we.normalize(Q,Pe,ne,ee);te&&(ne=te[0],ee=te[1])}}}Q.push(Pe)}C(ne)==="regexp"&&C(ee)==="regexp"&&(ne=ne.toString(),ee=ee.toString());var oe=typeof ne,ve=typeof ee,de,ze,ye,Je,Qe=oe!=="undefined"||ae&&ae.length>0&&ae[ae.length-1].lhs&&Object.getOwnPropertyDescriptor(ae[ae.length-1].lhs,Pe),yt=ve!=="undefined"||ae&&ae.length>0&&ae[ae.length-1].rhs&&Object.getOwnPropertyDescriptor(ae[ae.length-1].rhs,Pe);if(!Qe&&yt)ie.push(new m(Q,ee));else if(!yt&&Qe)ie.push(new v(Q,ne));else if(C(ne)!==C(ee))ie.push(new s(Q,ne,ee));else if(C(ne)==="date"&&ne-ee!==0)ie.push(new s(Q,ne,ee));else if(oe==="object"&&ne!==null&&ee!==null){for(de=ae.length-1;de>-1;--de)if(ae[de].lhs===ne){Je=!0;break}if(Je)ne!==ee&&ie.push(new s(Q,ne,ee));else{if(ae.push({lhs:ne,rhs:ee}),Array.isArray(ne)){for(Be&&(ne.sort(function(Yt,It){return k(Yt)-k(It)}),ee.sort(function(Yt,It){return k(Yt)-k(It)})),de=ee.length-1,ze=ne.length-1;de>ze;)ie.push(new _(Q,de,new m(void 0,ee[de--])));for(;ze>de;)ie.push(new _(Q,ze,new v(void 0,ne[ze--])));for(;de>=0;--de)F(ne[de],ee[de],ie,we,Q,de,ae,Be)}else{var _t=Object.keys(ne),Tt=Object.keys(ee);for(de=0;de<_t.length;++de)ye=_t[de],Je=Tt.indexOf(ye),Je>=0?(F(ne[ye],ee[ye],ie,we,Q,ye,ae,Be),Tt[Je]=null):F(ne[ye],void 0,ie,we,Q,ye,ae,Be);for(de=0;de<Tt.length;++de)ye=Tt[de],ye&&F(void 0,ee[ye],ie,we,Q,ye,ae,Be)}ae.length=ae.length-1}}else ne!==ee&&(oe==="number"&&isNaN(ne)&&isNaN(ee)||ie.push(new s(Q,ne,ee)))}function V(ne,ee,ie,we,Se){var Pe=[];if(F(ne,ee,Pe,we,null,null,null,Se),ie)for(var ae=0;ae<Pe.length;++ae)ie(Pe[ae]);return Pe}function Y(ne,ee,ie,we,Se,Pe,ae){return F(ne,ee,ie,we,Se,Pe,ae,!0)}function q(ne,ee,ie,we){var Se=we?function(ae){ae&&we.push(ae)}:void 0,Pe=V(ne,ee,Se,ie);return we||(Pe.length?Pe:void 0)}function M(ne,ee,ie,we){var Se=we?function(ae){ae&&we.push(ae)}:void 0,Pe=V(ne,ee,Se,ie,!0);return we||(Pe.length?Pe:void 0)}function j(ne,ee,ie){if(ie.path&&ie.path.length){var we=ne[ee],Se,Pe=ie.path.length-1;for(Se=0;Se<Pe;Se++)we=we[ie.path[Se]];switch(ie.kind){case"A":j(we[ie.path[Se]],ie.index,ie.item);break;case"D":delete we[ie.path[Se]];break;case"E":case"N":we[ie.path[Se]]=ie.rhs;break}}else switch(ie.kind){case"A":j(ne[ee],ie.index,ie.item);break;case"D":ne=P(ne,ee);break;case"E":case"N":ne[ee]=ie.rhs;break}return ne}function G(ne,ee,ie){if(typeof ie=="undefined"&&ee&&~n.indexOf(ee.kind)&&(ie=ee),ne&&ie&&ie.kind){for(var we=ne,Se=-1,Pe=ie.path?ie.path.length-1:0;++Se<Pe;)typeof we[ie.path[Se]]=="undefined"&&(we[ie.path[Se]]=typeof ie.path[Se+1]!="undefined"&&typeof ie.path[Se+1]=="number"?[]:{}),we=we[ie.path[Se]];switch(ie.kind){case"A":ie.path&&typeof we[ie.path[Se]]=="undefined"&&(we[ie.path[Se]]=[]),j(ie.path?we[ie.path[Se]]:we,ie.index,ie.item);break;case"D":delete we[ie.path[Se]];break;case"E":case"N":we[ie.path[Se]]=ie.rhs;break}}}function J(ne,ee,ie){if(ie.path&&ie.path.length){var we=ne[ee],Se,Pe=ie.path.length-1;for(Se=0;Se<Pe;Se++)we=we[ie.path[Se]];switch(ie.kind){case"A":J(we[ie.path[Se]],ie.index,ie.item);break;case"D":we[ie.path[Se]]=ie.lhs;break;case"E":we[ie.path[Se]]=ie.lhs;break;case"N":delete we[ie.path[Se]];break}}else switch(ie.kind){case"A":J(ne[ee],ie.index,ie.item);break;case"D":ne[ee]=ie.lhs;break;case"E":ne[ee]=ie.lhs;break;case"N":ne=P(ne,ee);break}return ne}function he(ne,ee,ie){if(ne&&ee&&ie&&ie.kind){var we=ne,Se,Pe;for(Pe=ie.path.length-1,Se=0;Se<Pe;Se++)typeof we[ie.path[Se]]=="undefined"&&(we[ie.path[Se]]={}),we=we[ie.path[Se]];switch(ie.kind){case"A":J(we[ie.path[Se]],ie.index,ie.item);break;case"D":we[ie.path[Se]]=ie.lhs;break;case"E":we[ie.path[Se]]=ie.lhs;break;case"N":delete we[ie.path[Se]];break}}}function pe(ne,ee,ie){if(ne&&ee){var we=function(Se){(!ie||ie(ne,ee,Se))&&G(ne,ee,Se)};V(ne,ee,we)}}return Object.defineProperties(q,{diff:{value:q,enumerable:!0},orderIndependentDiff:{value:M,enumerable:!0},observableDiff:{value:V,enumerable:!0},orderIndependentObservableDiff:{value:Y,enumerable:!0},orderIndepHash:{value:k,enumerable:!0},applyDiff:{value:pe,enumerable:!0},applyChange:{value:G,enumerable:!0},revertChange:{value:he,enumerable:!0},isConflict:{value:function(){return typeof $conflict!="undefined"},enumerable:!0}}),q.DeepDiff=q,r&&(r.DeepDiff=q),q})})(kq);var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.EDIT_FEATURE_DIALOG=Ph.NEW_FEATURE_DIALOG=Ph.METADATA_POLYGON_EDITING=Ph.DEFAULT_FONT=Ph.FONTS=void 0;Ph.FONTS=["Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular","Noto Sans Bold","Noto Sans Bold Italic","Noto Sans Italic","Noto Sans Regular","Open Sans Bold","Open Sans Italic","Open Sans Regular","Open Sans Semibold","Open Sans Semibold Italic"];Ph.DEFAULT_FONT="Klokantech Noto Sans Regular";Ph.METADATA_POLYGON_EDITING="proximiio:polygon-editing";var nte=function(e,t){return`
    <h1>Add New Feature</h1>
    <form name="form" id="modal-form" class="modal-form" autocomplete="off" role="main">
      <div>
        <label class="label-id">
          <input type="text" class="text" name="id" placeholder="ID" />
          <span>ID</span>
        </label>
      </div>
      
      <div>
        <label class="label-title">
          <input type="text" class="text" name="title" placeholder="Title" required />
          <span class="required">Title</span>
        </label>
      </div>
      
      <div>
        <label class="label-level">
          <input type="number" class="text" name="level" placeholder="Level" value='`+(t||0)+`' required />
          <span class="required">Level</span>
        </label>
      </div>
  
      <div>
        <label class="label-lat">
          <input type="text" class="text" name="lat" placeholder="Latitude" value='`+e.lngLat.lat+`' required />
          <span class="required">Latitude</span>
        </label>
      </div>
      
      <div>
        <label class="label-lng">
          <input type="text" class="text" name="lng" placeholder="Longitude" value='`+e.lngLat.lng+`' required />
          <span class="required">Longitude</span>
        </label>
      </div>
      
      <div>
        <label class="label-icon">
          <input type="file" class="text" name="icon" placeholder="Icon" accept="image/*"/>
          <span>Icon</span>
        </label>
      </div>
    </form>
  `};Ph.NEW_FEATURE_DIALOG=nte;var ite=function(e,t){var r,n,i;return`
    <h1>Edit Feature</h1>
    <form name="form" id="modal-form" class="modal-form" autocomplete="off" role="main">
      <div>
        <label class="label-id">
          <input type="text" class="text" name="id" placeholder="ID" value='`+((r=t==null?void 0:t.properties)===null||r===void 0?void 0:r.id)+`' readonly style="pointer-events: none;background-color: #E9ECEF"/>
          <span>ID</span>
        </label>
      </div>
      
      <div>
        <label class="label-title">
          <input type="text" class="text" name="title" placeholder="Title" value='`+((n=t==null?void 0:t.properties)===null||n===void 0?void 0:n.title)+`' required />
          <span class="required">Title</span>
        </label>
      </div>
      
      <div>
        <label class="label-level">
          <input type="number" class="text" name="level" placeholder="Level" value='`+((i=t==null?void 0:t.properties)===null||i===void 0?void 0:i.level)+`' required />
          <span class="required">Level</span>
        </label>
      </div>
  
      <div>
        <label class="label-lat">
          <input type="text" class="text" name="lat" placeholder="Latitude" value='`+e.lngLat.lat+`' required />
          <span class="required">Latitude</span>
        </label>
      </div>
      
      <div>
        <label class="label-lng">
          <input type="text" class="text" name="lng" placeholder="Longitude" value='`+e.lngLat.lng+`' required />
          <span class="required">Longitude</span>
        </label>
      </div>
      
      <div>
        <label class="label-icon">
          <input type="file" class="text" name="icon" placeholder="Icon" accept="image/*"/>
          <span>Icon</span>
        </label>
      </div>
    </form>
  `};Ph.EDIT_FEATURE_DIALOG=ite;var dR={};Object.defineProperty(dR,"__esModule",{value:!0});dR.default={"proximiio:languages":{en:{title:"English",level:{zero:"levels",one:"level",two:"levels",few:"levels",many:"levels",other:"levels"},meter:{zero:"meters",one:"meter",two:"meters",few:"meters",many:"meters",other:"meters"},turn_before:"In %d %s %s.",turn_prepare:"Prepare to %s in %d %s.",turn_now:"%s.",continue:"Continue %d %s.",levelchange:"Use %s to get to %d %s.",turn_left_hard:"turn hard left",turn_left:"turn left",turn_left_slight:"turn slight left",turn_straight:"continue straight",turn_right_slight:"turn slight right",turn_right:"turn right",turn_right_hard:"turn right",turn_around:"turn around",destination_nearing:"In %d %s you will arrive at your destination.",destination_reached:"You have reached your destination",canceled:"Navigation was canceled.",calculating:"Calculating route...",recalculating:"Recalculating route...",path_not_found:"Unable to find path.",level_change_down:"go %d %s up to %s %d.",level_change_up:"go %d %s up to %s %d.",passing_poi:"Passing %s on your %s",left:"left",right:"right"},fi:{title:"English",level:{zero:"levels",one:"level",two:"levels",few:"levels",many:"levels",other:"levels"},meter:{zero:"meters",one:"meter",two:"meters",few:"meters",many:"meters",other:"meters"},turn_before:"In %d %s %s.",turn_prepare:"Prepare to %s in %d %s.",turn_now:"%s.",continue:"Continue %d %s.",levelchange:"Use %s to get to %d %s.",turn_left_hard:"turn hard left",turn_left:"turn left",turn_left_slight:"turn slight left",turn_straight:"continue straight",turn_right_slight:"turn slight right",turn_right:"turn right",turn_right_hard:"turn right",turn_around:"turn around",destination_nearing:"In %d %s you will arrive at your destination.",destination_reached:"You have reached your destination",canceled:"Navigation was canceled.",calculating:"Calculating route...",recalculating:"Recalculating route...",path_not_found:"Unable to find path.",level_change_down:"go %d %s up to %s %d.",level_change_up:"go %d %s up to %s %d.",passing_poi:"Passing %s on your %s",left:"left",right:"right"}},en:{title:"English",level:{zero:"levels",one:"level",two:"levels",few:"levels",many:"levels",other:"levels"},meter:{zero:"meters",one:"meter",two:"meters",few:"meters",many:"meters",other:"meters"},turn_before:"In %d %s %s.",turn_prepare:"Prepare to %s in %d %s.",turn_now:"%s.",continue:"Continue %d %s.",levelchange:"Use %s to get to %d %s.",turn_left_hard:"turn hard left",turn_left:"turn left",turn_left_slight:"turn slight left",turn_straight:"continue straight",turn_right_slight:"turn slight right",turn_right:"turn right",turn_right_hard:"turn right",turn_around:"turn around",destination_nearing:"In %d %s you will arrive at your destination.",destination_reached:"You have reached your destination",canceled:"Navigation was canceled.",calculating:"Calculating route...",recalculating:"Recalculating route...",path_not_found:"Unable to find path.",level_change_down:"go %d %s up to %s %d.",level_change_up:"go %d %s up to %s %d.",passing_poi:"Passing %s on your %s",left:"left",right:"right"}};var Yc=Ne&&Ne.__assign||function(){return Yc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yc.apply(this,arguments)},zF=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(vA,"__esModule",{value:!0});var ote=eh,ate=w0,ste=S0,db=E0,Qv=P0,ute=Xy,lte=Yy,cte=I0,fte=C0,pte=A0,hte=kq.exports,_b=Ph,dte=dR,_te=function(){function e(t){this._observers=[],this.overlay=!1,this.segments=!1,this.routable=!1,this.cluster=!0,this.rooms=!0,this.id=t.id,this.organization_id=t.organization_id,this.version=t.version||1,this.name=t.name||"New Style",this.metadata=Object.assign(dte.default,t.metadata||{}),this.center=t.center||[18.555,48.4437],this.zoom=t.zoom||8,this.bearing=t.bearing||0,this.pitch=t.pitch||0,this.sources=t.sources||[],this.glyphs=t.glyphs||"",this.layers=(t.layers||[]).map(function(r){return r.type==="background"?new ate.default(r).json:r.type==="raster"?new ste.default(r).json:r.type==="fill"?new db.default(r).json:r.type==="line"?new Qv.default(r).json:r.type==="fill-extrusion"?new ute.default(r).json:r.type==="symbol"?new lte.default(r).json:r.type==="heatmap"?new cte.default(r).json:r.type==="circle"?new fte.default(r).json:r.type==="hillshade"?new pte.default(r).json:new ote.default(r)}).concat(this.getUniversalLayers("main")).concat(this.getSyntheticLayers())}return e.prototype.on=function(t){this._observers&&this._observers.push(t)},e.prototype.off=function(t){var r=this._observers?this._observers.findIndex(function(n){return n===t}):0;r>=0&&this._observers&&this._observers.splice(r,1)},e.prototype.notify=function(t,r){var n=this;this._observers&&this._observers.forEach(function(i){return i(t,r,n)})},e.prototype.getUniversalLayers=function(t){var r=["all",["==",["geometry-type"],"Polygon"],["any",["==",["get","segment"],!1],["!",["has","segment"]]],["any",["==",["get","routable"],!1],["!",["has","routable"]]],["==",["get","level"],0]],n=["all",["==",["geometry-type"],"Polygon"],["has","segment"],["==",["get","segment"],!0],["==",["get","level"],0]],i=["all",["==",["geometry-type"],"Polygon"],["has","routable"],["==",["get","routable"],!0],["==",["get","level"],0]],u=["all",["==",["geometry-type"],"Polygon"],["has","room"],["==",["get","room"],!0],["==",["get","level"],0]],s={minzoom:1,maxzoom:24,source:t};return[new db.default(Yc(Yc({},s),{id:t+"-polygon-fill",type:"fill",filter:r,layout:{visibility:"none"},paint:{"fill-color":"#08c","fill-opacity":.3}})).json,new Qv.default(Yc(Yc({},s),{id:t+"-polygon-outline",type:"line",filter:r,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":"#08c","line-width":1,"line-opacity":1}})).json,new Qv.default(Yc(Yc({},s),{id:t+"-room-outline",type:"line",roomFilter:u,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":["get","color"],"line-width":1,"line-opacity":1}})).json,new db.default(Yc(Yc({},s),{id:t+"-room-fill",type:"fill",filter:u,layout:{visibility:"none"},paint:{"fill-color":["get","color"],"fill-opacity":.3}})).json,new db.default(Yc(Yc({},s),{id:t+"-segment-fill",type:"fill",filter:n,layout:{visibility:"none"},paint:{"fill-color":"#0c8","fill-opacity":.3}})).json,new Qv.default(Yc(Yc({},s),{id:t+"-segment-outline",type:"line",filter:n,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":"#0c8","line-width":1,"line-opacity":1}})).json,new db.default(Yc(Yc({},s),{id:t+"-routable-fill",type:"fill",filter:i,layout:{visibility:"none"},paint:{"fill-color":"#c80","fill-opacity":.3}})).json,new Qv.default(Yc(Yc({},s),{id:t+"-routable-outline",type:"line",filter:i,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":"#c80","line-width":1,"line-opacity":1}})).json]},e.prototype.getSyntheticLayers=function(){var t=new db.default({type:"fill",minzoom:1,maxzoom:24,source:"synthetic",id:"synthetic-polygon-fill",filter:["all",["==",["geometry-type"],"Polygon"]],layout:{visibility:"visible"},paint:{"fill-color":"#08c","fill-opacity":.3}}).json,r=new Qv.default({type:"line",minzoom:1,maxzoom:24,source:"synthetic",id:"synthetic-polygon-outline",filter:["all",["==",["geometry-type"],"Polygon"]],layout:{"line-join":"bevel",visibility:"visible"},paint:{"line-color":"#08c","line-width":1,"line-opacity":1}}).json;return[t,r]},e.prototype.usesPrefixes=function(){return typeof this.layers.find(function(t){return t.id==="proximiio-paths"})!="undefined"},e.prototype.addLayer=function(t,r){r?this.layers.splice(this.getLayerIndex(r)+1,0,t):this.layers.push(t)},e.prototype.getLayer=function(t){return this.layers.find(function(r){return r.id===t})},e.prototype.getLayerIndex=function(t){return this.layers.findIndex(function(r){return r.id===t})},e.prototype.getLayers=function(t){return this.layers.filter(function(r){return r.source&&r.source===t})},e.prototype.addSource=function(t,r){this.sources[t]=r},e.prototype.getSources=function(){var t=this,r=[];return Object.keys(this.sources).forEach(function(n){var i=t.sources[n];i.id=n,r.push(i)}),r},e.prototype.setSource=function(t,r){this.sources[t]=r.source},e.prototype.getSource=function(t){return this.sources[t]},e.prototype.setLevel=function(t){zF(zF([],this.getLayers("main")),this.getLayers("route")).forEach(function(r){!r.filter||r.filter.forEach(function(n,i){if(r.id==="proximiio-levelchangers"){var u="__level_"+t;i===3&&(n[1]=u),i===4&&(n[1][1]=u)}if(Array.isArray(n)){var s=!1;if(n[0]==="=="){var m=n[1];m[0]==="to-number"&&m[1][0]==="get"&&m[1][1]==="level"&&(n[2]=t,s=!0),m[0]==="get"&&m[1]==="level"&&(n[2]=t,s=!0)}if(n[0]==="<="){var m=n[1];m[0]==="to-number"&&m[1][0]==="get"&&m[1][1]==="level_min"&&(n[2]=t,s=!0),m[0]==="get"&&m[1]==="level_min"&&(n[2]=t,s=!0)}if(n[0]===">="){var m=n[1];m[0]==="to-number"&&m[1][0]==="get"&&m[1][1]==="level_max"&&(n[2]=t,s=!0),m[0]==="get"&&m[1]==="level_max"&&(n[2]=t,s=!0)}s&&(r.filter[i]=n)}})}),this.notify("filter-change")},Object.defineProperty(e.prototype,"polygonEditing",{get:function(){return this.metadata[_b.METADATA_POLYGON_EDITING]||!1},enumerable:!1,configurable:!0}),e.prototype.toggleCluster=function(){this.cluster=!this.cluster,this.notify("cluster-toggled")},e.prototype.togglePolygonEditing=function(){this.metadata[_b.METADATA_POLYGON_EDITING]?this.metadata[_b.METADATA_POLYGON_EDITING]=!this.metadata[_b.METADATA_POLYGON_EDITING]:this.metadata[_b.METADATA_POLYGON_EDITING]=!0,console.log("polygon-editing-toggled",this.metadata[_b.METADATA_POLYGON_EDITING]),this.notify("polygon-editing-toggled")},e.prototype.toggleRooms=function(){this.rooms=!this.rooms,this.notify("roomsss-toggled")},e.prototype.toggleOverlay=function(){this.overlay=!this.overlay,this.notify("overlay-toggled")},e.prototype.toggleSegments=function(){this.segments=!this.segments,this.notify("segments-toggled")},e.prototype.toggleRoutable=function(){this.routable=!this.routable,this.notify("routable-toggled")},e.prototype.togglePaths=function(t){var r=this.layers.find(function(i){return i.id==="proximiio-paths"||i.id==="paths"});if(r){var n=new Qv.default(Object.assign({},r.json));n.layout.visibility=t?"visible":"none",this.updateLayer(n)}},e.prototype.updateLayer=function(t){var r=this.getLayerIndex(t.id),n=[];if(r>=0){var i=this.layers[r],u=hte.diff(i.json,t.json);console.log("change",u),u&&(n.push(u),this.layers.splice(r,1,t),this.notify("layer-update",{layer:t,changes:n.length>0?n[0]:[]}))}},e.prototype.setMetadata=function(t,r,n){this.metadata[t+":"+r]=n,this.notify("metadata-update")},Object.defineProperty(e.prototype,"namespaces",{get:function(){var t=Object.keys(this.metadata),r=t.filter(function(i){return i.indexOf(":")>0}),n=new Set(r.map(function(i){return i.split(":")[0]}));return Array.from(n).sort(function(i,u){return i.localeCompare(u)})},enumerable:!1,configurable:!0}),e.prototype.namespaceItems=function(t){return Object.keys(this.metadata).filter(function(r){return r.indexOf(t+":")===0}).map(function(r){return r.split(":").slice(1).join(":")})},Object.defineProperty(e.prototype,"json",{get:function(){var t=Object.assign({},this);return delete t._observers,delete t.overlay,t.layers=this.layers.map(function(r){return r.json}),JSON.parse(JSON.stringify(t))},enumerable:!1,configurable:!0}),e}();vA.default=_te;var Tq=Ne&&Ne.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(s){s(u)})}return new(r||(r=Promise))(function(u,s){function m(P){try{_(n.next(P))}catch(C){s(C)}}function v(P){try{_(n.throw(P))}catch(C){s(C)}}function _(P){P.done?u(P.value):i(P.value).then(m,v)}_((n=n.apply(e,t||[])).next())})},Lq=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.getStyleUrl=Uy.getStyles=Uy.getStyle=void 0;var _R=a_,Nq=vA,mte=function(e){return Tq(void 0,void 0,void 0,function(){var t,r;return Lq(this,function(n){switch(n.label){case 0:return t="/v5/geo/style",e&&(t+="s/"+e),[4,_R.axios.get(t)];case 1:return r=n.sent(),[2,new Nq.default(r.data)]}})})};Uy.getStyle=mte;var gte=function(){return Tq(void 0,void 0,void 0,function(){var e,t;return Lq(this,function(r){switch(r.label){case 0:return e="/v5/geo/styles",[4,_R.axios.get(e)];case 1:return t=r.sent(),[2,t.data.map(function(n){return new Nq.default(n)})]}})})};Uy.getStyles=gte;var yte=function(){return"https://api.proximi.fi/v5/geo/style?token="+_R.axios.defaults.headers.common.Authorization};Uy.getStyleUrl=yte;var mR={},Jp={},SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.POI_TYPE=void 0;SE.POI_TYPE={POI:"poi",HAZARD:"hazard",DOOR:"door",ENTRANCE:"entrance",TICKET_GATE:"ticket_gate",DECISION:"decision",LANDMARK:"landmark",ELEVATOR:"elevator",ESCALATOR:"escalator",STAIRCASE:"staircase",TEXT:"text"};var vte=function(){function e(t,r,n){this.type=t,this.title=r,this.icon=n}return e}();SE.default=vte;var bte=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.FeatureCollection=Jp.Geometry=void 0;var xte=gx,Xm=SE,Mq=function(){function e(t){this.type=t.type,this.coordinates=t.coordinates}return e}();Jp.Geometry=Mq;var wte=function(){function e(t){this.type="FeatureCollection",this.features=(t.features||[]).map(function(r){return new Rq(r).json})}return Object.defineProperty(e.prototype,"json",{get:function(){return{type:"FeatureCollection",features:this.features.map(function(t){return t.json})}},enumerable:!1,configurable:!0}),e}();Jp.FeatureCollection=wte;var Rq=function(e){bte(t,e);function t(r){var n=e.call(this,r)||this;return n.type="Feature",n.id=r.id,n.geometry=new Mq(r.geometry),n.properties=r.properties||{},typeof n.properties.title_i18n=="string"&&(n.properties.title_i18n=JSON.parse(n.properties.title_i18n)),n.isPoint&&(n.properties.images||(n.properties.images=[]),n.properties.range||(n.properties.range=3)),typeof n.properties.images=="string"&&(n.properties.images=JSON.parse(n.properties.images)),n.isLevelChanger&&Array.isArray(n.properties.levels)&&n.properties.levels.forEach(function(i){return n.properties["__level_"+i]=!0}),n.properties.type==="text"&&Array.isArray(n.properties.textFont)&&(n.properties.textFont=n.properties.textFont[0]),n}return Object.defineProperty(t.prototype,"isEditable",{get:function(){return this.isPoint||this.isLineString||this.isPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPoint",{get:function(){return this.geometry.type==="Point"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPolygon",{get:function(){return this.geometry.type==="Polygon"||this.geometry.type==="MultiPolygon"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLineString",{get:function(){return this.geometry.type==="LineString"||this.geometry.type==="MultiLineString"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHazard",{get:function(){return this.properties.type===Xm.POI_TYPE.HAZARD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLandmark",{get:function(){return this.properties.type===Xm.POI_TYPE.LANDMARK},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDoor",{get:function(){return this.properties.type===Xm.POI_TYPE.DOOR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEntrance",{get:function(){return this.properties.type===Xm.POI_TYPE.ENTRANCE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDecisionPoint",{get:function(){return this.properties.type===Xm.POI_TYPE.DECISION},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTicketGate",{get:function(){return this.properties.type===Xm.POI_TYPE.TICKET_GATE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isElevator",{get:function(){return this.properties.type===Xm.POI_TYPE.ELEVATOR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEscalator",{get:function(){return this.properties.type===Xm.POI_TYPE.ESCALATOR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStairCase",{get:function(){return this.properties.type===Xm.POI_TYPE.STAIRCASE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLevelChanger",{get:function(){return this.isElevator||this.isEscalator||this.isStairCase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isText",{get:function(){return this.properties.type==="text"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSynthetic",{get:function(){var r=["id","place_id","floor_id","level"];return(this.geometry.type==="LineString"||this.geometry.type==="MultiLineString")&&r.push("class"),Object.keys(this.properties).map(function(n){return!r.includes(n)}).filter(function(n){return n}).length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoom",{get:function(){return this.properties.room},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRouting",{get:function(){return this.properties.usecase==="routing"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getTitle",{get:function(){return this.properties.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getTitleWithLevel",{get:function(){return this.properties.title+" - Level: "+this.properties.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){this.properties.cameFrom&&delete this.properties.cameFrom,this.properties.fixedPointMap&&delete this.properties.fixedPointMap;var r=JSON.parse(JSON.stringify(this));if(r.properties.metadata&&typeof r.properties.metadata!="object")try{r.properties.metadata=JSON.parse(r.properties.metadata)}catch{console.log("feature parsing failed:",r.properties.metadata)}return Object.keys(r.properties).forEach(function(n){n.match("__level")&&delete r.properties.key}),r},enumerable:!1,configurable:!0}),t.point=function(r,n,i,u){return new t({id:r,geometry:{type:"Point",coordinates:[i,n]},properties:u})},t.prototype.setTitle=function(r,n){n===void 0&&(n="en"),typeof this.properties.title_18n=="undefined"&&(this.properties.title_18n={}),this.properties.title_18n[n]=r},t.prototype.hasLevel=function(r){return this.isLevelChanger?this.properties.levels.includes(r):this.properties.level===r},t}(xte.default);Jp.default=Rq;var bA={},Ste=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(bA,"__esModule",{value:!0});bA.AmenityModel=void 0;var Ete=gx,Pte=function(e){Ste(t,e);function t(r){var n=e.call(this,r)||this;return n.category=r.category,n.iconOffset=r.iconOffset,n.list=r.list,n.title=r.title,n.description=r.description,n.icon=r.icon,n}return Object.defineProperty(t.prototype,"hasIcon",{get:function(){return!!this.icon},enumerable:!1,configurable:!0}),t}(Ete.default);bA.AmenityModel=Pte;(function(e){var t=Ne&&Ne.__awaiter||function(C,I,k,F){function V(Y){return Y instanceof k?Y:new k(function(q){q(Y)})}return new(k||(k=Promise))(function(Y,q){function M(J){try{G(F.next(J))}catch(he){q(he)}}function j(J){try{G(F.throw(J))}catch(he){q(he)}}function G(J){J.done?Y(J.value):V(J.value).then(M,j)}G((F=F.apply(C,I||[])).next())})},r=Ne&&Ne.__generator||function(C,I){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},F,V,Y,q;return q={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function M(G){return function(J){return j([G,J])}}function j(G){if(F)throw new TypeError("Generator is already executing.");for(;k;)try{if(F=1,V&&(Y=G[0]&2?V.return:G[0]?V.throw||((Y=V.return)&&Y.call(V),0):V.next)&&!(Y=Y.call(V,G[1])).done)return Y;switch(V=0,Y&&(G=[G[0]&2,Y.value]),G[0]){case 0:case 1:Y=G;break;case 4:return k.label++,{value:G[1],done:!1};case 5:k.label++,V=G[1],G=[0];continue;case 7:G=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(G[0]===6||G[0]===2)){k=0;continue}if(G[0]===3&&(!Y||G[1]>Y[0]&&G[1]<Y[3])){k.label=G[1];break}if(G[0]===6&&k.label<Y[1]){k.label=Y[1],Y=G;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(G);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}G=I.call(C,k)}catch(J){G=[6,J],V=0}finally{F=Y=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},n=Ne&&Ne.__spreadArray||function(C,I){for(var k=0,F=I.length,V=C.length;k<F;k++,V++)C[V]=I[k];return C};Object.defineProperty(e,"__esModule",{value:!0}),e.getPois=e.getAmenities=e.getFeatures=void 0;var i=a_,u=Jp,s=bA,m=H4,v=function(C){return t(void 0,void 0,void 0,function(){var I,k,F;return r(this,function(V){switch(V.label){case 0:return I="/v5/geo/features",[4,i.axios.get(I)];case 1:return k=V.sent(),C&&(F=[],k.data.features=k.data.features.map(function(Y,q){if(Y.properties.type==="poi"&&Y.properties.metadata&&Y.properties.metadata.polygon_id){Y.properties.type="poi-custom";var M=k.data.features.find(function(J){return J.properties.id===Y.properties.metadata.polygon_id});if(M){var j=JSON.parse(JSON.stringify(M));if(j.properties.type="shop-custom",j.properties.poi_id=Y.properties.id,j.properties.amenity=Y.properties.amenity,j.id=JSON.stringify(q),F.push(j),j.properties["label-line"]&&j.properties["label-line"][0]instanceof Array&&j.properties["label-line"][1]instanceof Array){var G=JSON.parse(JSON.stringify(Y));G.geometry={coordinates:j.properties["label-line"],type:"LineString"},G.properties.id=JSON.stringify(q+9999),G.id=JSON.stringify(q+9999),G.properties.type="shop-label",j.properties.label_id=G.properties.id,F.push(G)}}}return Y}),k.data.features=k.data.features.concat(F)),[2,new u.FeatureCollection(k.data)]}})})};e.getFeatures=v;var _=function(){return t(void 0,void 0,void 0,function(){var C,I;return r(this,function(k){switch(k.label){case 0:return C="/v5/geo/amenities",[4,i.axios.get(C)];case 1:return I=k.sent(),[2,I.data.map(function(F){return new s.AmenityModel(F)})]}})})};e.getAmenities=_;var P=function(){return t(void 0,void 0,void 0,function(){var C,I,k,F;return r(this,function(V){switch(V.label){case 0:return C="/v5/geo/features",[4,i.axios.get(C)];case 1:return I=V.sent(),k=m.globalState.dynamicFeatures,F=n(n([],I.data.features),k.features).filter(function(Y){return Y.properties.usecase==="poi"||Y.properties.type==="poi"}).sort(function(Y,q){return Y.properties.title>q.properties.title?-1:1}).sort(function(Y,q){return Y.properties.level>q.properties.level?1:-1}).map(function(Y){return new u.default(Y)}),[2,F]}})})};e.getPois=P,e.default={getFeatures:e.getFeatures,getAmenities:e.getAmenities,getPois:e.getPois}})(mR);(function(e){var t=Ne&&Ne.__awaiter||function(v,_,P,C){function I(k){return k instanceof P?k:new P(function(F){F(k)})}return new(P||(P=Promise))(function(k,F){function V(M){try{q(C.next(M))}catch(j){F(j)}}function Y(M){try{q(C.throw(M))}catch(j){F(j)}}function q(M){M.done?k(M.value):I(M.value).then(V,Y)}q((C=C.apply(v,_||[])).next())})},r=Ne&&Ne.__generator||function(v,_){var P={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},C,I,k,F;return F={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function V(q){return function(M){return Y([q,M])}}function Y(q){if(C)throw new TypeError("Generator is already executing.");for(;P;)try{if(C=1,I&&(k=q[0]&2?I.return:q[0]?I.throw||((k=I.return)&&k.call(I),0):I.next)&&!(k=k.call(I,q[1])).done)return k;switch(I=0,k&&(q=[q[0]&2,k.value]),q[0]){case 0:case 1:k=q;break;case 4:return P.label++,{value:q[1],done:!1};case 5:P.label++,I=q[1],q=[0];continue;case 7:q=P.ops.pop(),P.trys.pop();continue;default:if(k=P.trys,!(k=k.length>0&&k[k.length-1])&&(q[0]===6||q[0]===2)){P=0;continue}if(q[0]===3&&(!k||q[1]>k[0]&&q[1]<k[3])){P.label=q[1];break}if(q[0]===6&&P.label<k[1]){P.label=k[1],k=q;break}if(k&&P.label<k[2]){P.label=k[2],P.ops.push(q);break}k[2]&&P.ops.pop(),P.trys.pop();continue}q=_.call(v,P)}catch(M){q=[6,M],I=0}finally{C=k=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPackage=void 0;var n=bE,i=yx,u=Uy,s=mR,m=function(v){return t(void 0,void 0,void 0,function(){var _,P;return r(this,function(C){switch(C.label){case 0:return _={},P=[n.getPlaces().then(function(I){return _.places=I.data}),i.getFloors().then(function(I){return _.floors=I.data}),u.getStyle().then(function(I){return _.style=I}),u.getStyles().then(function(I){return _.styles=I}),s.getFeatures(v).then(function(I){return _.features=I}),s.getAmenities().then(function(I){return _.amenities=I})],[4,Promise.all(P)];case 1:return C.sent(),[2,_]}})})};e.getPackage=m,e.default={getPackage:e.getPackage}})(fq);var gR={},vx={},yR={},EE={};Object.defineProperty(EE,"__esModule",{value:!0});EE.Eventable=void 0;var Ite=function(){function e(){this._observers=[]}return e.prototype.on=function(t){this._observers&&this._observers.push(t)},e.prototype.off=function(t){var r=this._observers?this._observers.findIndex(function(n){return n===t}):0;r>=0&&this._observers&&this._observers.splice(r,1)},e.prototype.notify=function(t,r){var n=this;this._observers&&this._observers.forEach(function(i){return i(t,r,n)})},e}();EE.Eventable=Ite;var Cte=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yR,"__esModule",{value:!0});var Ate=EE,Ote=function(e){Cte(t,e);function t(r,n){var i=e.call(this)||this;return i.id=r,i.type=n,i}return Object.defineProperty(t.prototype,"source",{get:function(){return{type:this.type}},enumerable:!1,configurable:!0}),t}(Ate.Eventable);yR.default=Ote;var kte=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(vx,"__esModule",{value:!0});var Tte=yR,Lte=Jp,Nte=function(e){kte(t,e);function t(r,n){var i=e.call(this,r,"geojson")||this;return i.cluster=!1,i.clusterRadius=50,i.clusterMaxZoom=19,i.isEditable=!0,i.data=n||new Lte.FeatureCollection({}),i}return Object.defineProperty(t.prototype,"source",{get:function(){return{type:this.type,data:this.data,cluster:this.cluster,clusterMaxZoom:this.clusterMaxZoom,clusterRadius:this.clusterRadius}},enumerable:!1,configurable:!0}),t}(Tte.default);vx.default=Nte;var Mte=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(gR,"__esModule",{value:!0});var Rte=vx,Dte=Jp,zte=function(e){Mte(t,e);function t(r){var n=e.call(this,"main")||this;return n.language="en",n}return t.prototype.fetch=function(r){this.data=new Dte.FeatureCollection(r),this.mapLanguage()},t.prototype.create=function(r){this.data.features.push(r)},t.prototype.update=function(r){var n=this.data.features.findIndex(function(i){return i.id===r.id||i.properties.id===r.id});this.data.features[n]=r},t.prototype.delete=function(r){var n=this.data.features.findIndex(function(i){return i.id===r||i.properties.id===r});this.data.features.splice(n,1)},t.prototype.mapLanguage=function(){var r=this,n=this.data.features.filter(function(i){return typeof i.properties.title_i18n=="object"});n.forEach(function(i){return r.mapFeatureLanguage(i,r.language)})},t.prototype.mapFeatureLanguage=function(r,n){typeof r.properties.title_i18n=="string"&&(r.properties.title_i18n=JSON.parse(r.properties.title_i18n)),typeof r.properties.title_i18n=="object"&&(r.properties.title=r.properties.title_i18n[n]?r.properties.title_i18n[n]:r.properties.title)},t.prototype.query=function(r,n){return this.data.features.filter(function(i){return i.properties.title&&i.properties.title.toLowerCase().match(r.toLowerCase())})},t.prototype.get=function(r){return this.data.features.find(function(n){return n.id===r})},t.prototype.getInternal=function(r){return this.data.features.find(function(n){return n.properties.id===r})},Object.defineProperty(t.prototype,"collection",{get:function(){return{type:"FeatureCollection",features:this.data.features.map(function(r){return r.json})}},enumerable:!1,configurable:!0}),t}(Rte.default);gR.default=zte;var vR={},Fte=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(vR,"__esModule",{value:!0});var jte=vx,Bte=Jp,$te=function(e){Fte(t,e);function t(r){var n=e.call(this,"synthetic")||this;return n.data=r||new Bte.FeatureCollection({}),n}return t.prototype.get=function(r){return this.data.features.find(function(n){return n.properties.id===r})},t}(jte.default);vR.default=$te;var bR={},xR={},Tn={},wR={exports:{}},Pf={},Jr={},Cr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=63710088e-1,e.factors={centimeters:e.earthRadius*100,centimetres:e.earthRadius*100,degrees:e.earthRadius/111325,feet:e.earthRadius*3.28084,inches:e.earthRadius*39.37,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:e.earthRadius*1e3,millimetres:e.earthRadius*1e3,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius*1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(we,Se,Pe){Pe===void 0&&(Pe={});var ae={type:"Feature"};return(Pe.id===0||Pe.id)&&(ae.id=Pe.id),Pe.bbox&&(ae.bbox=Pe.bbox),ae.properties=Se||{},ae.geometry=we,ae}e.feature=t;function r(we,Se,Pe){switch(we){case"Point":return n(Se).geometry;case"LineString":return m(Se).geometry;case"Polygon":return u(Se).geometry;case"MultiPoint":return C(Se).geometry;case"MultiLineString":return P(Se).geometry;case"MultiPolygon":return I(Se).geometry;default:throw new Error(we+" is invalid")}}e.geometry=r;function n(we,Se,Pe){if(Pe===void 0&&(Pe={}),!we)throw new Error("coordinates is required");if(!Array.isArray(we))throw new Error("coordinates must be an Array");if(we.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!pe(we[0])||!pe(we[1]))throw new Error("coordinates must contain numbers");var ae={type:"Point",coordinates:we};return t(ae,Se,Pe)}e.point=n;function i(we,Se,Pe){return Pe===void 0&&(Pe={}),_(we.map(function(ae){return n(ae,Se)}),Pe)}e.points=i;function u(we,Se,Pe){Pe===void 0&&(Pe={});for(var ae=0,Be=we;ae<Be.length;ae++){var Q=Be[ae];if(Q.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var te=0;te<Q[Q.length-1].length;te++)if(Q[Q.length-1][te]!==Q[0][te])throw new Error("First and last Position are not equivalent.")}var oe={type:"Polygon",coordinates:we};return t(oe,Se,Pe)}e.polygon=u;function s(we,Se,Pe){return Pe===void 0&&(Pe={}),_(we.map(function(ae){return u(ae,Se)}),Pe)}e.polygons=s;function m(we,Se,Pe){if(Pe===void 0&&(Pe={}),we.length<2)throw new Error("coordinates must be an array of two or more positions");var ae={type:"LineString",coordinates:we};return t(ae,Se,Pe)}e.lineString=m;function v(we,Se,Pe){return Pe===void 0&&(Pe={}),_(we.map(function(ae){return m(ae,Se)}),Pe)}e.lineStrings=v;function _(we,Se){Se===void 0&&(Se={});var Pe={type:"FeatureCollection"};return Se.id&&(Pe.id=Se.id),Se.bbox&&(Pe.bbox=Se.bbox),Pe.features=we,Pe}e.featureCollection=_;function P(we,Se,Pe){Pe===void 0&&(Pe={});var ae={type:"MultiLineString",coordinates:we};return t(ae,Se,Pe)}e.multiLineString=P;function C(we,Se,Pe){Pe===void 0&&(Pe={});var ae={type:"MultiPoint",coordinates:we};return t(ae,Se,Pe)}e.multiPoint=C;function I(we,Se,Pe){Pe===void 0&&(Pe={});var ae={type:"MultiPolygon",coordinates:we};return t(ae,Se,Pe)}e.multiPolygon=I;function k(we,Se,Pe){Pe===void 0&&(Pe={});var ae={type:"GeometryCollection",geometries:we};return t(ae,Se,Pe)}e.geometryCollection=k;function F(we,Se){if(Se===void 0&&(Se=0),Se&&!(Se>=0))throw new Error("precision must be a positive number");var Pe=Math.pow(10,Se||0);return Math.round(we*Pe)/Pe}e.round=F;function V(we,Se){Se===void 0&&(Se="kilometers");var Pe=e.factors[Se];if(!Pe)throw new Error(Se+" units is invalid");return we*Pe}e.radiansToLength=V;function Y(we,Se){Se===void 0&&(Se="kilometers");var Pe=e.factors[Se];if(!Pe)throw new Error(Se+" units is invalid");return we/Pe}e.lengthToRadians=Y;function q(we,Se){return j(Y(we,Se))}e.lengthToDegrees=q;function M(we){var Se=we%360;return Se<0&&(Se+=360),Se}e.bearingToAzimuth=M;function j(we){var Se=we%(2*Math.PI);return Se*180/Math.PI}e.radiansToDegrees=j;function G(we){var Se=we%360;return Se*Math.PI/180}e.degreesToRadians=G;function J(we,Se,Pe){if(Se===void 0&&(Se="kilometers"),Pe===void 0&&(Pe="kilometers"),!(we>=0))throw new Error("length must be a positive number");return V(Y(we,Se),Pe)}e.convertLength=J;function he(we,Se,Pe){if(Se===void 0&&(Se="meters"),Pe===void 0&&(Pe="kilometers"),!(we>=0))throw new Error("area must be a positive number");var ae=e.areaFactors[Se];if(!ae)throw new Error("invalid original units");var Be=e.areaFactors[Pe];if(!Be)throw new Error("invalid final units");return we/ae*Be}e.convertArea=he;function pe(we){return!isNaN(we)&&we!==null&&!Array.isArray(we)}e.isNumber=pe;function ne(we){return!!we&&we.constructor===Object}e.isObject=ne;function ee(we){if(!we)throw new Error("bbox is required");if(!Array.isArray(we))throw new Error("bbox must be an Array");if(we.length!==4&&we.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");we.forEach(function(Se){if(!pe(Se))throw new Error("bbox must only contain numbers")})}e.validateBBox=ee;function ie(we){if(!we)throw new Error("id is required");if(["string","number"].indexOf(typeof we)===-1)throw new Error("id must be a number or a string")}e.validateId=ie})(Cr);Object.defineProperty(Jr,"__esModule",{value:!0});var qf=Cr;function PE(e,t,r){if(e!==null)for(var n,i,u,s,m,v,_,P=0,C=0,I,k=e.type,F=k==="FeatureCollection",V=k==="Feature",Y=F?e.features.length:1,q=0;q<Y;q++){_=F?e.features[q].geometry:V?e.geometry:e,I=_?_.type==="GeometryCollection":!1,m=I?_.geometries.length:1;for(var M=0;M<m;M++){var j=0,G=0;if(s=I?_.geometries[M]:_,s!==null){v=s.coordinates;var J=s.type;switch(P=r&&(J==="Polygon"||J==="MultiPolygon")?1:0,J){case null:break;case"Point":if(t(v,C,q,j,G)===!1)return!1;C++,j++;break;case"LineString":case"MultiPoint":for(n=0;n<v.length;n++){if(t(v[n],C,q,j,G)===!1)return!1;C++,J==="MultiPoint"&&j++}J==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(n=0;n<v.length;n++){for(i=0;i<v[n].length-P;i++){if(t(v[n][i],C,q,j,G)===!1)return!1;C++}J==="MultiLineString"&&j++,J==="Polygon"&&G++}J==="Polygon"&&j++;break;case"MultiPolygon":for(n=0;n<v.length;n++){for(G=0,i=0;i<v[n].length;i++){for(u=0;u<v[n][i].length-P;u++){if(t(v[n][i][u],C,q,j,G)===!1)return!1;C++}G++}j++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(PE(s.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ute(e,t,r,n){var i=r;return PE(e,function(u,s,m,v,_){s===0&&r===void 0?i=u:i=t(i,u,s,m,v,_)},n),i}function Dq(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&t(e.features[r].properties,r)!==!1;r++);break;case"Feature":t(e.properties,0);break}}function qte(e,t,r){var n=r;return Dq(e,function(i,u){u===0&&r===void 0?n=i:n=t(n,i,u)}),n}function zq(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function Vte(e,t,r){var n=r;return zq(e,function(i,u){u===0&&r===void 0?n=i:n=t(n,i,u)}),n}function Gte(e){var t=[];return PE(e,function(r){t.push(r)}),t}function SR(e,t){var r,n,i,u,s,m,v,_,P,C,I=0,k=e.type==="FeatureCollection",F=e.type==="Feature",V=k?e.features.length:1;for(r=0;r<V;r++){for(m=k?e.features[r].geometry:F?e.geometry:e,_=k?e.features[r].properties:F?e.properties:{},P=k?e.features[r].bbox:F?e.bbox:void 0,C=k?e.features[r].id:F?e.id:void 0,v=m?m.type==="GeometryCollection":!1,s=v?m.geometries.length:1,i=0;i<s;i++){if(u=v?m.geometries[i]:m,u===null){if(t(null,I,_,P,C)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(u,I,_,P,C)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<u.geometries.length;n++)if(t(u.geometries[n],I,_,P,C)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function Wte(e,t,r){var n=r;return SR(e,function(i,u,s,m,v){u===0&&r===void 0?n=i:n=t(n,i,u,s,m,v)}),n}function xA(e,t){SR(e,function(r,n,i,u,s){var m=r===null?null:r.type;switch(m){case null:case"Point":case"LineString":case"Polygon":return t(qf.feature(r,i,{bbox:u,id:s}),n,0)===!1?!1:void 0}var v;switch(m){case"MultiPoint":v="Point";break;case"MultiLineString":v="LineString";break;case"MultiPolygon":v="Polygon";break}for(var _=0;_<r.coordinates.length;_++){var P=r.coordinates[_],C={type:v,coordinates:P};if(t(qf.feature(C,i),n,_)===!1)return!1}})}function Xte(e,t,r){var n=r;return xA(e,function(i,u,s){u===0&&s===0&&r===void 0?n=i:n=t(n,i,u,s)}),n}function Fq(e,t){xA(e,function(r,n,i){var u=0;if(!!r.geometry){var s=r.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var m,v=0,_=0,P=0;if(PE(r,function(C,I,k,F,V){if(m===void 0||n>v||F>_||V>P){m=C,v=n,_=F,P=V,u=0;return}var Y=qf.lineString([m,C],r.properties);if(t(Y,n,i,V,u)===!1)return!1;u++,m=C})===!1)return!1}}})}function Yte(e,t,r){var n=r,i=!1;return Fq(e,function(u,s,m,v,_){i===!1&&r===void 0?n=u:n=t(n,u,s,m,v,_),i=!0}),n}function jq(e,t){if(!e)throw new Error("geojson is required");xA(e,function(r,n,i){if(r.geometry!==null){var u=r.geometry.type,s=r.geometry.coordinates;switch(u){case"LineString":if(t(r,n,i,0,0)===!1)return!1;break;case"Polygon":for(var m=0;m<s.length;m++)if(t(qf.lineString(s[m],r.properties),n,i,m)===!1)return!1;break}}})}function Hte(e,t,r){var n=r;return jq(e,function(i,u,s,m){u===0&&r===void 0?n=i:n=t(n,i,u,s,m)}),n}function Zte(e,t){if(t=t||{},!qf.isObject(t))throw new Error("options is invalid");var r=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,u=t.segmentIndex||0,s=t.properties,m;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,m=e.features[r].geometry;break;case"Feature":s=s||e.properties,m=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=e;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var v=m.coordinates;switch(m.type){case"Point":case"MultiPoint":return null;case"LineString":return u<0&&(u=v.length+u-1),qf.lineString([v[u],v[u+1]],s,t);case"Polygon":return i<0&&(i=v.length+i),u<0&&(u=v[i].length+u-1),qf.lineString([v[i][u],v[i][u+1]],s,t);case"MultiLineString":return n<0&&(n=v.length+n),u<0&&(u=v[n].length+u-1),qf.lineString([v[n][u],v[n][u+1]],s,t);case"MultiPolygon":return n<0&&(n=v.length+n),i<0&&(i=v[n].length+i),u<0&&(u=v[n][i].length-u-1),qf.lineString([v[n][i][u],v[n][i][u+1]],s,t)}throw new Error("geojson is invalid")}function Kte(e,t){if(t=t||{},!qf.isObject(t))throw new Error("options is invalid");var r=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,u=t.coordIndex||0,s=t.properties,m;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,m=e.features[r].geometry;break;case"Feature":s=s||e.properties,m=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=e;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var v=m.coordinates;switch(m.type){case"Point":return qf.point(v,s,t);case"MultiPoint":return n<0&&(n=v.length+n),qf.point(v[n],s,t);case"LineString":return u<0&&(u=v.length+u),qf.point(v[u],s,t);case"Polygon":return i<0&&(i=v.length+i),u<0&&(u=v[i].length+u),qf.point(v[i][u],s,t);case"MultiLineString":return n<0&&(n=v.length+n),u<0&&(u=v[n].length+u),qf.point(v[n][u],s,t);case"MultiPolygon":return n<0&&(n=v.length+n),i<0&&(i=v[n].length+i),u<0&&(u=v[n][i].length-u),qf.point(v[n][i][u],s,t)}throw new Error("geojson is invalid")}Jr.coordAll=Gte;Jr.coordEach=PE;Jr.coordReduce=Ute;Jr.featureEach=zq;Jr.featureReduce=Vte;Jr.findPoint=Kte;Jr.findSegment=Zte;Jr.flattenEach=xA;Jr.flattenReduce=Xte;Jr.geomEach=SR;Jr.geomReduce=Wte;Jr.lineEach=jq;Jr.lineReduce=Hte;Jr.propEach=Dq;Jr.propReduce=qte;Jr.segmentEach=Fq;Jr.segmentReduce=Yte;Object.defineProperty(Pf,"__esModule",{value:!0});var Jte=Jr;function GM(e){var t=[1/0,1/0,-1/0,-1/0];return Jte.coordEach(e,function(r){t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}GM.default=GM;Pf.default=GM;var En={};Object.defineProperty(En,"__esModule",{value:!0});var FF=Cr;function Qte(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}En.getCoord=Qte;function ere(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}En.getCoords=ere;function Bq(e){if(e.length>1&&FF.isNumber(e[0])&&FF.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return Bq(e[0]);throw new Error("coordinates must only contain numbers")}En.containsNumber=Bq;function tre(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}En.geojsonType=tre;function rre(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}En.featureOf=rre;function nre(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0,i=e.features;n<i.length;n++){var u=i[n];if(!u||u.type!=="Feature"||!u.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!u.geometry||u.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+u.geometry.type)}}En.collectionOf=nre;function ire(e){return e.type==="Feature"?e.geometry:e}En.getGeom=ire;function ore(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}En.getType=ore;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var jF=Object.getOwnPropertySymbols,are=Object.prototype.hasOwnProperty,sre=Object.prototype.propertyIsEnumerable;function ure(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function lre(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(u){return t[u]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(u){i[u]=u}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ER=lre()?Object.assign:function(e,t){for(var r,n=ure(e),i,u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var s in r)are.call(r,s)&&(n[s]=r[s]);if(jF){i=jF(r);for(var m=0;m<i.length;m++)sre.call(r,i[m])&&(n[i[m]]=r[i[m]])}}return n},cre=Pf,$q=Jr,Zm=En,PS=Cr,fre=ER;function Uq(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var pre=Uq(cre),hre=Uq(fre);/**
 * @license GNU Affero General Public License.
 * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
 * v. 1.2.0
 * https://github.com/RaumZeit/MarchingSquares.js
 *
 * MarchingSquaresJS is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * MarchingSquaresJS is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * As additional permission under GNU Affero General Public License version 3
 * section 7, third-party projects (personal or commercial) may distribute,
 * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
 * requirement that said third-party project for that reason alone becomes
 * subject to any requirement of the GNU Affero General Public License version 3.
 * Any modifications to MarchingSquaresJS, however, must be shared with the public
 * and made available.
 *
 * In summary this:
 * - allows you to use MarchingSquaresJS at no cost
 * - allows you to use MarchingSquaresJS for both personal and commercial purposes
 * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
 *   license as long as this license notice is included
 * - enables you to keep the source code of your program that uses MarchingSquaresJS
 *   undisclosed
 * - forces you to share any modifications you have made to MarchingSquaresJS,
 *   e.g. bug-fixes
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
 */var BF={successCallback:null,verbose:!1},BP={};function dre(e,t,r){r=r||{};for(var n=Object.keys(BF),i=0;i<n.length;i++){var u=n[i],s=r[u];s=typeof s!="undefined"&&s!==null?s:BF[u],BP[u]=s}BP.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var m=gre(_re(e,t));return typeof BP.successCallback=="function"&&BP.successCallback(m),m}function Ya(e,t,r){return(e-t)/(r-t)}function _re(e,t){for(var r=e.length-1,n=e[0].length-1,i={rows:r,cols:n,cells:[]},u=0;u<r;++u){i.cells[u]=[];for(var s=0;s<n;++s){var m=0,v=e[u+1][s],_=e[u+1][s+1],P=e[u][s+1],C=e[u][s];if(!(isNaN(v)||isNaN(_)||isNaN(P)||isNaN(C))){m|=v>=t?8:0,m|=_>=t?4:0,m|=P>=t?2:0,m|=C>=t?1:0;var I=!1;if(m===5||m===10){var k=(v+_+P+C)/4;m===5&&k<t?(m=10,I=!0):m===10&&k<t&&(m=5,I=!0)}if(m!==0&&m!==15){var F,V,Y,q;F=V=Y=q=.5,m===1?(Y=1-Ya(t,v,C),V=1-Ya(t,P,C)):m===2?(V=Ya(t,C,P),q=1-Ya(t,_,P)):m===3?(Y=1-Ya(t,v,C),q=1-Ya(t,_,P)):m===4?(F=Ya(t,v,_),q=Ya(t,P,_)):m===5?(F=Ya(t,v,_),q=Ya(t,P,_),V=1-Ya(t,P,C),Y=1-Ya(t,v,C)):m===6?(V=Ya(t,C,P),F=Ya(t,v,_)):m===7?(Y=1-Ya(t,v,C),F=Ya(t,v,_)):m===8?(Y=Ya(t,C,v),F=1-Ya(t,_,v)):m===9?(V=1-Ya(t,P,C),F=1-Ya(t,_,v)):m===10?(F=1-Ya(t,_,v),q=1-Ya(t,_,P),V=Ya(t,C,P),Y=Ya(t,C,v)):m===11?(F=1-Ya(t,_,v),q=1-Ya(t,_,P)):m===12?(Y=Ya(t,C,v),q=Ya(t,P,_)):m===13?(V=1-Ya(t,P,C),q=Ya(t,P,_)):m===14?(Y=Ya(t,C,v),V=Ya(t,C,P)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+m),i.cells[u][s]={cval:m,flipped:I,top:F,right:q,bottom:V,left:Y}}}}}return i}function mre(e){return e.cval===5||e.cval===10}function qq(e){return e.cval===0||e.cval===15}function $F(e){!qq(e)&&e.cval!==5&&e.cval!==10&&(e.cval=15)}function KL(e,t){if(t==="top")return[e.top,1];if(t==="bottom")return[e.bottom,0];if(t==="right")return[1,e.right];if(t==="left")return[0,e.left]}function gre(e){var t=[],r=0,n=1e-7;return e.cells.forEach(function(i,u){i.forEach(function(s,m){if(typeof s!="undefined"&&!mre(s)&&!qq(s)){var v=yre(e.cells,u,m),_=!1;if(v.info==="mergeable"){for(var P=v.path[v.path.length-1][0],C=v.path[v.path.length-1][1],I=r-1;I>=0;I--)if(Math.abs(t[I][0][0]-P)<=n&&Math.abs(t[I][0][1]-C)<=n){for(var k=v.path.length-2;k>=0;--k)t[I].unshift(v.path[k]);_=!0;break}}_||(t[r++]=v.path)}})}),t}function yre(e,t,r){var n=e.length,i=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],s=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],m,v,_=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],P=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],k,C=e[t][r],I=C.cval,k=_[I],F=KL(C,k);i.push([r+F[0],t+F[1]]),k=P[I],F=KL(C,k),i.push([r+F[0],t+F[1]]),$F(C);for(var V=r+u[I],Y=t+s[I],q=I;V>=0&&Y>=0&&Y<n&&(V!=r||Y!=t)&&(C=e[Y][V],typeof C!="undefined");){if(I=C.cval,I===0||I===15)return{path:i,info:"mergeable"};k=P[I],m=u[I],v=s[I],(I===5||I===10)&&(I===5?C.flipped?s[q]===-1?(k="left",m=-1,v=0):(k="right",m=1,v=0):u[q]===-1&&(k="bottom",m=0,v=-1):I===10&&(C.flipped?u[q]===-1?(k="top",m=0,v=1):(k="bottom",m=0,v=-1):s[q]===1&&(k="left",m=-1,v=0))),F=KL(C,k),i.push([V+F[0],Y+F[1]]),$F(C),V+=m,Y+=v,q=I}return{path:i,info:"closed"}}function vre(e,t){if(t=t||{},!PS.isObject(t))throw new Error("options is invalid");var r=t.zProperty||"elevation",n=t.flip,i=t.flags;Zm.collectionOf(e,"Point","input must contain Points");for(var u=bre(e,n),s=[],m=0;m<u.length;m++){for(var v=u[m],_=[],P=0;P<v.length;P++){var C=v[P];C.properties[r]?_.push(C.properties[r]):_.push(0),i===!0&&(C.properties.matrixPosition=[m,P])}s.push(_)}return s}function bre(e,t){var r={};$q.featureEach(e,function(u){var s=Zm.getCoords(u)[1];r[s]||(r[s]=[]),r[s].push(u)});var n=Object.keys(r).map(function(u){var s=r[u],m=s.sort(function(v,_){return Zm.getCoords(v)[0]-Zm.getCoords(_)[0]});return m}),i=n.sort(function(u,s){return t?Zm.getCoords(u[0])[1]-Zm.getCoords(s[0])[1]:Zm.getCoords(s[0])[1]-Zm.getCoords(u[0])[1]});return i}function Vq(e,t,r){if(r=r||{},!PS.isObject(r))throw new Error("options is invalid");var n=r.zProperty||"elevation",i=r.commonProperties||{},u=r.breaksProperties||[];if(Zm.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!PS.isObject(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(u))throw new Error("breaksProperties must be an Array");var s=vre(e,{zProperty:n,flip:!0}),m=xre(s,t,n,i,u),v=wre(m,s,e);return PS.featureCollection(v)}function xre(e,t,r,n,i){for(var u=[],s=1;s<t.length;s++){var m=+t[s],v=hre.default({},n,i[s]);v[r]=m;var _=PS.multiLineString(dre(e,m),v);u.push(_)}return u}function wre(e,t,r){var n=pre.default(r),i=n[2]-n[0],u=n[3]-n[1],s=n[0],m=n[1],v=t[0].length-1,_=t.length-1,P=i/v,C=u/_,I=function(k){k[0]=k[0]*P+s,k[1]=k[1]*C+m};return e.forEach(function(k){$q.coordEach(k,I)}),e}wR.exports=Vq;wR.exports.default=Vq;var wA={},PR={exports:{}},Gq={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){function r(M,j,G,J,he){(function pe(ne,ee,ie,we,Se){for(;we>ie;){if(we-ie>600){var Pe=we-ie+1,ae=ee-ie+1,Be=Math.log(Pe),Q=.5*Math.exp(2*Be/3),te=.5*Math.sqrt(Be*Q*(Pe-Q)/Pe)*(ae-Pe/2<0?-1:1),oe=Math.max(ie,Math.floor(ee-ae*Q/Pe+te)),ve=Math.min(we,Math.floor(ee+(Pe-ae)*Q/Pe+te));pe(ne,ee,oe,ve,Se)}var de=ne[ee],ze=ie,ye=we;for(n(ne,ie,ee),Se(ne[we],de)>0&&n(ne,ie,we);ze<ye;){for(n(ne,ze,ye),ze++,ye--;Se(ne[ze],de)<0;)ze++;for(;Se(ne[ye],de)>0;)ye--}Se(ne[ie],de)===0?n(ne,ie,ye):n(ne,++ye,we),ye<=ee&&(ie=ye+1),ee<=ye&&(we=ye-1)}})(M,j,G||0,J||M.length-1,he||i)}function n(M,j,G){var J=M[j];M[j]=M[G],M[G]=J}function i(M,j){return M<j?-1:M>j?1:0}var u=function(M){M===void 0&&(M=9),this._maxEntries=Math.max(4,M),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(M,j,G){if(!G)return j.indexOf(M);for(var J=0;J<j.length;J++)if(G(M,j[J]))return J;return-1}function m(M,j){v(M,0,M.children.length,j,M)}function v(M,j,G,J,he){he||(he=Y(null)),he.minX=1/0,he.minY=1/0,he.maxX=-1/0,he.maxY=-1/0;for(var pe=j;pe<G;pe++){var ne=M.children[pe];_(he,M.leaf?J(ne):ne)}return he}function _(M,j){return M.minX=Math.min(M.minX,j.minX),M.minY=Math.min(M.minY,j.minY),M.maxX=Math.max(M.maxX,j.maxX),M.maxY=Math.max(M.maxY,j.maxY),M}function P(M,j){return M.minX-j.minX}function C(M,j){return M.minY-j.minY}function I(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function k(M){return M.maxX-M.minX+(M.maxY-M.minY)}function F(M,j){return M.minX<=j.minX&&M.minY<=j.minY&&j.maxX<=M.maxX&&j.maxY<=M.maxY}function V(M,j){return j.minX<=M.maxX&&j.minY<=M.maxY&&j.maxX>=M.minX&&j.maxY>=M.minY}function Y(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function q(M,j,G,J,he){for(var pe=[j,G];pe.length;)if(!((G=pe.pop())-(j=pe.pop())<=J)){var ne=j+Math.ceil((G-j)/J/2)*J;r(M,ne,j,G,he),pe.push(j,ne,ne,G)}}return u.prototype.all=function(){return this._all(this.data,[])},u.prototype.search=function(M){var j=this.data,G=[];if(!V(M,j))return G;for(var J=this.toBBox,he=[];j;){for(var pe=0;pe<j.children.length;pe++){var ne=j.children[pe],ee=j.leaf?J(ne):ne;V(M,ee)&&(j.leaf?G.push(ne):F(M,ee)?this._all(ne,G):he.push(ne))}j=he.pop()}return G},u.prototype.collides=function(M){var j=this.data;if(!V(M,j))return!1;for(var G=[];j;){for(var J=0;J<j.children.length;J++){var he=j.children[J],pe=j.leaf?this.toBBox(he):he;if(V(M,pe)){if(j.leaf||F(M,pe))return!0;G.push(he)}}j=G.pop()}return!1},u.prototype.load=function(M){if(!M||!M.length)return this;if(M.length<this._minEntries){for(var j=0;j<M.length;j++)this.insert(M[j]);return this}var G=this._build(M.slice(),0,M.length-1,0);if(this.data.children.length)if(this.data.height===G.height)this._splitRoot(this.data,G);else{if(this.data.height<G.height){var J=this.data;this.data=G,G=J}this._insert(G,this.data.height-G.height-1,!0)}else this.data=G;return this},u.prototype.insert=function(M){return M&&this._insert(M,this.data.height-1),this},u.prototype.clear=function(){return this.data=Y([]),this},u.prototype.remove=function(M,j){if(!M)return this;for(var G,J,he,pe=this.data,ne=this.toBBox(M),ee=[],ie=[];pe||ee.length;){if(pe||(pe=ee.pop(),J=ee[ee.length-1],G=ie.pop(),he=!0),pe.leaf){var we=s(M,pe.children,j);if(we!==-1)return pe.children.splice(we,1),ee.push(pe),this._condense(ee),this}he||pe.leaf||!F(pe,ne)?J?(G++,pe=J.children[G],he=!1):pe=null:(ee.push(pe),ie.push(G),G=0,J=pe,pe=pe.children[0])}return this},u.prototype.toBBox=function(M){return M},u.prototype.compareMinX=function(M,j){return M.minX-j.minX},u.prototype.compareMinY=function(M,j){return M.minY-j.minY},u.prototype.toJSON=function(){return this.data},u.prototype.fromJSON=function(M){return this.data=M,this},u.prototype._all=function(M,j){for(var G=[];M;)M.leaf?j.push.apply(j,M.children):G.push.apply(G,M.children),M=G.pop();return j},u.prototype._build=function(M,j,G,J){var he,pe=G-j+1,ne=this._maxEntries;if(pe<=ne)return m(he=Y(M.slice(j,G+1)),this.toBBox),he;J||(J=Math.ceil(Math.log(pe)/Math.log(ne)),ne=Math.ceil(pe/Math.pow(ne,J-1))),(he=Y([])).leaf=!1,he.height=J;var ee=Math.ceil(pe/ne),ie=ee*Math.ceil(Math.sqrt(ne));q(M,j,G,ie,this.compareMinX);for(var we=j;we<=G;we+=ie){var Se=Math.min(we+ie-1,G);q(M,we,Se,ee,this.compareMinY);for(var Pe=we;Pe<=Se;Pe+=ee){var ae=Math.min(Pe+ee-1,Se);he.children.push(this._build(M,Pe,ae,J-1))}}return m(he,this.toBBox),he},u.prototype._chooseSubtree=function(M,j,G,J){for(;J.push(j),!j.leaf&&J.length-1!==G;){for(var he=1/0,pe=1/0,ne=void 0,ee=0;ee<j.children.length;ee++){var ie=j.children[ee],we=I(ie),Se=(Pe=M,ae=ie,(Math.max(ae.maxX,Pe.maxX)-Math.min(ae.minX,Pe.minX))*(Math.max(ae.maxY,Pe.maxY)-Math.min(ae.minY,Pe.minY))-we);Se<pe?(pe=Se,he=we<he?we:he,ne=ie):Se===pe&&we<he&&(he=we,ne=ie)}j=ne||j.children[0]}var Pe,ae;return j},u.prototype._insert=function(M,j,G){var J=G?M:this.toBBox(M),he=[],pe=this._chooseSubtree(J,this.data,j,he);for(pe.children.push(M),_(pe,J);j>=0&&he[j].children.length>this._maxEntries;)this._split(he,j),j--;this._adjustParentBBoxes(J,he,j)},u.prototype._split=function(M,j){var G=M[j],J=G.children.length,he=this._minEntries;this._chooseSplitAxis(G,he,J);var pe=this._chooseSplitIndex(G,he,J),ne=Y(G.children.splice(pe,G.children.length-pe));ne.height=G.height,ne.leaf=G.leaf,m(G,this.toBBox),m(ne,this.toBBox),j?M[j-1].children.push(ne):this._splitRoot(G,ne)},u.prototype._splitRoot=function(M,j){this.data=Y([M,j]),this.data.height=M.height+1,this.data.leaf=!1,m(this.data,this.toBBox)},u.prototype._chooseSplitIndex=function(M,j,G){for(var J,he,pe,ne,ee,ie,we,Se=1/0,Pe=1/0,ae=j;ae<=G-j;ae++){var Be=v(M,0,ae,this.toBBox),Q=v(M,ae,G,this.toBBox),te=(he=Be,pe=Q,ne=void 0,ee=void 0,ie=void 0,we=void 0,ne=Math.max(he.minX,pe.minX),ee=Math.max(he.minY,pe.minY),ie=Math.min(he.maxX,pe.maxX),we=Math.min(he.maxY,pe.maxY),Math.max(0,ie-ne)*Math.max(0,we-ee)),oe=I(Be)+I(Q);te<Se?(Se=te,J=ae,Pe=oe<Pe?oe:Pe):te===Se&&oe<Pe&&(Pe=oe,J=ae)}return J||G-j},u.prototype._chooseSplitAxis=function(M,j,G){var J=M.leaf?this.compareMinX:P,he=M.leaf?this.compareMinY:C;this._allDistMargin(M,j,G,J)<this._allDistMargin(M,j,G,he)&&M.children.sort(J)},u.prototype._allDistMargin=function(M,j,G,J){M.children.sort(J);for(var he=this.toBBox,pe=v(M,0,j,he),ne=v(M,G-j,G,he),ee=k(pe)+k(ne),ie=j;ie<G-j;ie++){var we=M.children[ie];_(pe,M.leaf?he(we):we),ee+=k(pe)}for(var Se=G-j-1;Se>=j;Se--){var Pe=M.children[Se];_(ne,M.leaf?he(Pe):Pe),ee+=k(ne)}return ee},u.prototype._adjustParentBBoxes=function(M,j,G){for(var J=G;J>=0;J--)_(j[J],M)},u.prototype._condense=function(M){for(var j=M.length-1,G=void 0;j>=0;j--)M[j].children.length===0?j>0?(G=M[j-1].children).splice(G.indexOf(M[j]),1):this.clear():m(M[j],this.toBBox)},u})})(Gq);class Sre{constructor(t=[],r=Ere){if(this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:r,compare:n}=this,i=r[t];for(;t>0;){const u=t-1>>1,s=r[u];if(n(i,s)>=0)break;r[t]=s,t=u}r[t]=i}_down(t){const{data:r,compare:n}=this,i=this.length>>1,u=r[t];for(;t<i;){let s=(t<<1)+1,m=r[s];const v=s+1;if(v<this.length&&n(r[v],m)<0&&(s=v,m=r[v]),n(m,u)>=0)break;r[t]=m,t=s}r[t]=u}}function Ere(e,t){return e<t?-1:e>t?1:0}var Pre=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sre}),Ire=R0(Pre),SA={exports:{}},Cre=function(t,r,n,i){var u=t[0],s=t[1],m=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var v=(i-n)/2,_=0,P=v-1;_<v;P=_++){var C=r[n+_*2+0],I=r[n+_*2+1],k=r[n+P*2+0],F=r[n+P*2+1],V=I>s!=F>s&&u<(k-C)*(s-I)/(F-I)+C;V&&(m=!m)}return m},Are=function(t,r,n,i){var u=t[0],s=t[1],m=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var v=i-n,_=0,P=v-1;_<v;P=_++){var C=r[_+n][0],I=r[_+n][1],k=r[P+n][0],F=r[P+n][1],V=I>s!=F>s&&u<(k-C)*(s-I)/(F-I)+C;V&&(m=!m)}return m},Wq=Cre,Xq=Are;SA.exports=function(t,r,n,i){return r.length>0&&Array.isArray(r[0])?Xq(t,r,n,i):Wq(t,r,n,i)};SA.exports.nested=Xq;SA.exports.flat=Wq;var WM={exports:{}};(function(e,t){(function(r,n){n(t)})(Ne,function(r){const i=33306690738754706e-32;function u(V,Y,q,M,j){let G,J,he,pe,ne=Y[0],ee=M[0],ie=0,we=0;ee>ne==ee>-ne?(G=ne,ne=Y[++ie]):(G=ee,ee=M[++we]);let Se=0;if(ie<V&&we<q)for(ee>ne==ee>-ne?(he=G-((J=ne+G)-ne),ne=Y[++ie]):(he=G-((J=ee+G)-ee),ee=M[++we]),G=J,he!==0&&(j[Se++]=he);ie<V&&we<q;)ee>ne==ee>-ne?(he=G-((J=G+ne)-(pe=J-G))+(ne-pe),ne=Y[++ie]):(he=G-((J=G+ee)-(pe=J-G))+(ee-pe),ee=M[++we]),G=J,he!==0&&(j[Se++]=he);for(;ie<V;)he=G-((J=G+ne)-(pe=J-G))+(ne-pe),ne=Y[++ie],G=J,he!==0&&(j[Se++]=he);for(;we<q;)he=G-((J=G+ee)-(pe=J-G))+(ee-pe),ee=M[++we],G=J,he!==0&&(j[Se++]=he);return G===0&&Se!==0||(j[Se++]=G),Se}function s(V){return new Float64Array(V)}const m=33306690738754716e-32,v=22204460492503146e-32,_=11093356479670487e-47,P=s(4),C=s(8),I=s(12),k=s(16),F=s(4);r.orient2d=function(V,Y,q,M,j,G){const J=(Y-G)*(q-j),he=(V-j)*(M-G),pe=J-he;if(J===0||he===0||J>0!=he>0)return pe;const ne=Math.abs(J+he);return Math.abs(pe)>=m*ne?pe:-function(ee,ie,we,Se,Pe,ae,Be){let Q,te,oe,ve,de,ze,ye,Je,Qe,yt,_t,Tt,Yt,It,Ut,Or,Xt,Ht;const xr=ee-Pe,Lr=we-Pe,Xr=ie-ae,ea=Se-ae;de=(Ut=(Je=xr-(ye=(ze=134217729*xr)-(ze-xr)))*(yt=ea-(Qe=(ze=134217729*ea)-(ze-ea)))-((It=xr*ea)-ye*Qe-Je*Qe-ye*yt))-(_t=Ut-(Xt=(Je=Xr-(ye=(ze=134217729*Xr)-(ze-Xr)))*(yt=Lr-(Qe=(ze=134217729*Lr)-(ze-Lr)))-((Or=Xr*Lr)-ye*Qe-Je*Qe-ye*yt))),P[0]=Ut-(_t+de)+(de-Xt),de=(Yt=It-((Tt=It+_t)-(de=Tt-It))+(_t-de))-(_t=Yt-Or),P[1]=Yt-(_t+de)+(de-Or),de=(Ht=Tt+_t)-Tt,P[2]=Tt-(Ht-de)+(_t-de),P[3]=Ht;let Mi=function(Ze,st){let Pt=st[0];for(let Rt=1;Rt<Ze;Rt++)Pt+=st[Rt];return Pt}(4,P),pt=v*Be;if(Mi>=pt||-Mi>=pt||(Q=ee-(xr+(de=ee-xr))+(de-Pe),oe=we-(Lr+(de=we-Lr))+(de-Pe),te=ie-(Xr+(de=ie-Xr))+(de-ae),ve=Se-(ea+(de=Se-ea))+(de-ae),Q===0&&te===0&&oe===0&&ve===0)||(pt=_*Be+i*Math.abs(Mi),(Mi+=xr*ve+ea*Q-(Xr*oe+Lr*te))>=pt||-Mi>=pt))return Mi;de=(Ut=(Je=Q-(ye=(ze=134217729*Q)-(ze-Q)))*(yt=ea-(Qe=(ze=134217729*ea)-(ze-ea)))-((It=Q*ea)-ye*Qe-Je*Qe-ye*yt))-(_t=Ut-(Xt=(Je=te-(ye=(ze=134217729*te)-(ze-te)))*(yt=Lr-(Qe=(ze=134217729*Lr)-(ze-Lr)))-((Or=te*Lr)-ye*Qe-Je*Qe-ye*yt))),F[0]=Ut-(_t+de)+(de-Xt),de=(Yt=It-((Tt=It+_t)-(de=Tt-It))+(_t-de))-(_t=Yt-Or),F[1]=Yt-(_t+de)+(de-Or),de=(Ht=Tt+_t)-Tt,F[2]=Tt-(Ht-de)+(_t-de),F[3]=Ht;const Le=u(4,P,4,F,C);de=(Ut=(Je=xr-(ye=(ze=134217729*xr)-(ze-xr)))*(yt=ve-(Qe=(ze=134217729*ve)-(ze-ve)))-((It=xr*ve)-ye*Qe-Je*Qe-ye*yt))-(_t=Ut-(Xt=(Je=Xr-(ye=(ze=134217729*Xr)-(ze-Xr)))*(yt=oe-(Qe=(ze=134217729*oe)-(ze-oe)))-((Or=Xr*oe)-ye*Qe-Je*Qe-ye*yt))),F[0]=Ut-(_t+de)+(de-Xt),de=(Yt=It-((Tt=It+_t)-(de=Tt-It))+(_t-de))-(_t=Yt-Or),F[1]=Yt-(_t+de)+(de-Or),de=(Ht=Tt+_t)-Tt,F[2]=Tt-(Ht-de)+(_t-de),F[3]=Ht;const be=u(Le,C,4,F,I);de=(Ut=(Je=Q-(ye=(ze=134217729*Q)-(ze-Q)))*(yt=ve-(Qe=(ze=134217729*ve)-(ze-ve)))-((It=Q*ve)-ye*Qe-Je*Qe-ye*yt))-(_t=Ut-(Xt=(Je=te-(ye=(ze=134217729*te)-(ze-te)))*(yt=oe-(Qe=(ze=134217729*oe)-(ze-oe)))-((Or=te*oe)-ye*Qe-Je*Qe-ye*yt))),F[0]=Ut-(_t+de)+(de-Xt),de=(Yt=It-((Tt=It+_t)-(de=Tt-It))+(_t-de))-(_t=Yt-Or),F[1]=Yt-(_t+de)+(de-Or),de=(Ht=Tt+_t)-Tt,F[2]=Tt-(Ht-de)+(_t-de),F[3]=Ht;const Oe=u(be,I,4,F,k);return k[Oe-1]}(V,Y,q,M,j,G,ne)},r.orient2dfast=function(V,Y,q,M,j,G){return(Y-G)*(q-j)-(V-j)*(M-G)},Object.defineProperty(r,"__esModule",{value:!0})})})(WM,WM.exports);var UF=Gq.exports,TI=Ire,Ore=SA.exports,kre=WM.exports.orient2d;TI.default&&(TI=TI.default);PR.exports=Yq;PR.exports.default=Yq;function Yq(e,t,r){t=Math.max(0,t===void 0?2:t),r=r||0;var n=Rre(e),i=new UF(16);i.toBBox=function(M){return{minX:M[0],minY:M[1],maxX:M[0],maxY:M[1]}},i.compareMinX=function(M,j){return M[0]-j[0]},i.compareMinY=function(M,j){return M[1]-j[1]},i.load(e);for(var u=[],s=0,m;s<n.length;s++){var v=n[s];i.remove(v),m=GF(v,m),u.push(m)}var _=new UF(16);for(s=0;s<u.length;s++)_.insert(JL(u[s]));for(var P=t*t,C=r*r;u.length;){var I=u.shift(),k=I.p,F=I.next.p,V=QL(k,F);if(!(V<C)){var Y=V/P;v=Tre(i,I.prev.p,k,F,I.next.next.p,Y,_),v&&Math.min(QL(v,k),QL(v,F))<=Y&&(u.push(I),u.push(GF(v,I)),i.remove(v),_.remove(I),_.insert(JL(I)),_.insert(JL(I.next)))}}I=m;var q=[];do q.push(I.p),I=I.next;while(I!==m);return q.push(I.p),q}function Tre(e,t,r,n,i,u,s){for(var m=new TI([],Lre),v=e.data;v;){for(var _=0;_<v.children.length;_++){var P=v.children[_],C=v.leaf?eN(P,r,n):Nre(r,n,P);C>u||m.push({node:P,dist:C})}for(;m.length&&!m.peek().node.children;){var I=m.pop(),k=I.node,F=eN(k,t,r),V=eN(k,n,i);if(I.dist<F&&I.dist<V&&VF(r,k,s)&&VF(n,k,s))return k}v=m.pop(),v&&(v=v.node)}return null}function Lre(e,t){return e.dist-t.dist}function Nre(e,t,r){if(qF(e,r)||qF(t,r))return 0;var n=$P(e[0],e[1],t[0],t[1],r.minX,r.minY,r.maxX,r.minY);if(n===0)return 0;var i=$P(e[0],e[1],t[0],t[1],r.minX,r.minY,r.minX,r.maxY);if(i===0)return 0;var u=$P(e[0],e[1],t[0],t[1],r.maxX,r.minY,r.maxX,r.maxY);if(u===0)return 0;var s=$P(e[0],e[1],t[0],t[1],r.minX,r.maxY,r.maxX,r.maxY);return s===0?0:Math.min(n,i,u,s)}function qF(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function VF(e,t,r){for(var n=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),u=Math.max(e[0],t[0]),s=Math.max(e[1],t[1]),m=r.search({minX:n,minY:i,maxX:u,maxY:s}),v=0;v<m.length;v++)if(Mre(m[v].p,m[v].next.p,e,t))return!1;return!0}function Db(e,t,r){return kre(e[0],e[1],t[0],t[1],r[0],r[1])}function Mre(e,t,r,n){return e!==n&&t!==r&&Db(e,t,r)>0!=Db(e,t,n)>0&&Db(r,n,e)>0!=Db(r,n,t)>0}function JL(e){var t=e.p,r=e.next.p;return e.minX=Math.min(t[0],r[0]),e.minY=Math.min(t[1],r[1]),e.maxX=Math.max(t[0],r[0]),e.maxY=Math.max(t[1],r[1]),e}function Rre(e){for(var t=e[0],r=e[0],n=e[0],i=e[0],u=0;u<e.length;u++){var s=e[u];s[0]<t[0]&&(t=s),s[0]>n[0]&&(n=s),s[1]<r[1]&&(r=s),s[1]>i[1]&&(i=s)}var m=[t,r,n,i],v=m.slice();for(u=0;u<e.length;u++)Ore(e[u],m)||v.push(e[u]);return zre(v)}function GF(e,t){var r={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(r.next=t.next,r.prev=t,t.next.prev=r,t.next=r):(r.prev=r,r.next=r),r}function QL(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function eN(e,t,r){var n=t[0],i=t[1],u=r[0]-n,s=r[1]-i;if(u!==0||s!==0){var m=((e[0]-n)*u+(e[1]-i)*s)/(u*u+s*s);m>1?(n=r[0],i=r[1]):m>0&&(n+=u*m,i+=s*m)}return u=e[0]-n,s=e[1]-i,u*u+s*s}function $P(e,t,r,n,i,u,s,m){var v=r-e,_=n-t,P=s-i,C=m-u,I=e-i,k=t-u,F=v*v+_*_,V=v*P+_*C,Y=P*P+C*C,q=v*I+_*k,M=P*I+C*k,j=F*Y-V*V,G,J,he,pe,ne=j,ee=j;j===0?(J=0,ne=1,pe=M,ee=Y):(J=V*M-Y*q,pe=F*M-V*q,J<0?(J=0,pe=M,ee=Y):J>ne&&(J=ne,pe=M+V,ee=Y)),pe<0?(pe=0,-q<0?J=0:-q>F?J=ne:(J=-q,ne=F)):pe>ee&&(pe=ee,-q+V<0?J=0:-q+V>F?J=ne:(J=-q+V,ne=F)),G=J===0?0:J/ne,he=pe===0?0:pe/ee;var ie=(1-G)*e+G*r,we=(1-G)*t+G*n,Se=(1-he)*i+he*s,Pe=(1-he)*u+he*m,ae=Se-ie,Be=Pe-we;return ae*ae+Be*Be}function Dre(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}function zre(e){e.sort(Dre);for(var t=[],r=0;r<e.length;r++){for(;t.length>=2&&Db(t[t.length-2],t[t.length-1],e[r])<=0;)t.pop();t.push(e[r])}for(var n=[],i=e.length-1;i>=0;i--){for(;n.length>=2&&Db(n[n.length-2],n[n.length-1],e[i])<=0;)n.pop();n.push(e[i])}return n.pop(),t.pop(),t.concat(n)}var Fre=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wA,"__esModule",{value:!0});var jre=Cr,Bre=Jr,$re=Fre(PR.exports);function Ure(e,t){t===void 0&&(t={}),t.concavity=t.concavity||1/0;var r=[];if(Bre.coordEach(e,function(i){r.push([i[0],i[1]])}),!r.length)return null;var n=$re.default(r,t.concavity);return n.length>3?jre.polygon([n]):null}wA.default=Ure;var EA={exports:{}},Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});var WF=En;function qre(e,t,r){if(r===void 0&&(r={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var n=WF.getCoord(e),i=WF.getGeom(t),u=i.type,s=t.bbox,m=i.coordinates;if(s&&Vre(n,s)===!1)return!1;u==="Polygon"&&(m=[m]);for(var v=!1,_=0;_<m.length&&!v;_++)if(XF(n,m[_][0],r.ignoreBoundary)){for(var P=!1,C=1;C<m[_].length&&!P;)XF(n,m[_][C],!r.ignoreBoundary)&&(P=!0),C++;P||(v=!0)}return v}Wf.default=qre;function XF(e,t,r){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,u=t.length-1;i<t.length;u=i++){var s=t[i][0],m=t[i][1],v=t[u][0],_=t[u][1],P=e[1]*(s-v)+m*(v-e[0])+_*(e[0]-s)===0&&(s-e[0])*(v-e[0])<=0&&(m-e[1])*(_-e[1])<=0;if(P)return!r;var C=m>e[1]!=_>e[1]&&e[0]<(v-s)*(e[1]-m)/(_-m)+s;C&&(n=!n)}return n}function Vre(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}var Gre=Wf,YF=Cr,UP=Jr;function Wre(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var HF=Wre(Gre);function Hq(e,t){var r=[];return UP.featureEach(e,function(n){var i=!1;if(n.geometry.type==="Point")UP.geomEach(t,function(s){HF.default(n,s)&&(i=!0)}),i&&r.push(n);else if(n.geometry.type==="MultiPoint"){var u=[];UP.geomEach(t,function(s){UP.coordEach(n,function(m){HF.default(m,s)&&(i=!0,u.push(m))})}),i&&r.push(YF.multiPoint(u))}else throw new Error("Input geometry must be a Point or MultiPoint")}),YF.featureCollection(r)}EA.exports=Hq;EA.exports.default=Hq;var IR={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});var ZF=En,Fw=Cr;function Xre(e,t,r){r===void 0&&(r={});var n=ZF.getCoord(e),i=ZF.getCoord(t),u=Fw.degreesToRadians(i[1]-n[1]),s=Fw.degreesToRadians(i[0]-n[0]),m=Fw.degreesToRadians(n[1]),v=Fw.degreesToRadians(i[1]),_=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(m)*Math.cos(v);return Fw.radiansToLength(2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_)),r.units)}fc.default=Xre;var PA={};Object.defineProperty(PA,"__esModule",{value:!0});var KF=Cr;function Yre(e,t){var r=!1;return KF.featureCollection(Kre(e.features.map(function(n){var i={x:n.geometry.coordinates[0],y:n.geometry.coordinates[1]};return t?i.z=n.properties[t]:n.geometry.coordinates.length===3&&(r=!0,i.z=n.geometry.coordinates[2]),i})).map(function(n){var i=[n.a.x,n.a.y],u=[n.b.x,n.b.y],s=[n.c.x,n.c.y],m={};return r?(i.push(n.a.z),u.push(n.b.z),s.push(n.c.z)):m={a:n.a.z,b:n.b.z,c:n.c.z},KF.polygon([[i,u,s,i]],m)}))}PA.default=Yre;var JF=function(){function e(t,r,n){this.a=t,this.b=r,this.c=n;var i=r.x-t.x,u=r.y-t.y,s=n.x-t.x,m=n.y-t.y,v=i*(t.x+r.x)+u*(t.y+r.y),_=s*(t.x+n.x)+m*(t.y+n.y),P=2*(i*(n.y-r.y)-u*(n.x-r.x)),C,I;this.x=(m*v-u*_)/P,this.y=(i*_-s*v)/P,C=this.x-t.x,I=this.y-t.y,this.r=C*C+I*I}return e}();function Hre(e,t){return t.x-e.x}function Zre(e){var t=e.length,r,n,i,u,s;e:for(;t;)for(n=e[--t],r=e[--t],i=t;i;)if(s=e[--i],u=e[--i],r===u&&n===s||r===s&&n===u){e.splice(t,2),e.splice(i,2),t-=2;continue e}}function Kre(e){if(e.length<3)return[];e.sort(Hre);for(var t=e.length-1,r=e[t].x,n=e[0].x,i=e[t].y,u=i,s=1e-12,m,v,_,P,C,I;t--;)e[t].y<i&&(i=e[t].y),e[t].y>u&&(u=e[t].y);var k=n-r,F=u-i,V=k>F?k:F,Y=(n+r)*.5,q=(u+i)*.5,M=[new JF({__sentinel:!0,x:Y-20*V,y:q-V},{__sentinel:!0,x:Y,y:q+20*V},{__sentinel:!0,x:Y+20*V,y:q-V})],j=[],G=[],J;for(t=e.length;t--;){for(G.length=0,J=M.length;J--;){if(k=e[t].x-M[J].x,k>0&&k*k>M[J].r){j.push(M[J]),M.splice(J,1);continue}F=e[t].y-M[J].y,!(k*k+F*F>M[J].r)&&(G.push(M[J].a,M[J].b,M[J].b,M[J].c,M[J].c,M[J].a),M.splice(J,1))}for(Zre(G),J=G.length;J;)v=G[--J],m=G[--J],_=e[t],P=v.x-m.x,C=v.y-m.y,I=2*(P*(_.y-v.y)-C*(_.x-v.x)),Math.abs(I)>s&&M.push(new JF(m,v,_))}for(Array.prototype.push.apply(j,M),t=j.length;t--;)(j[t].a.__sentinel||j[t].b.__sentinel||j[t].c.__sentinel)&&j.splice(t,1);return j}var CR={},Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});function Jre(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Zq(e);case"FeatureCollection":return Qre(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return AR(e);default:throw new Error("unknown GeoJSON type")}}function Zq(e){var t={type:"Feature"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}}),t.properties=Kq(e.properties),t.geometry=AR(e.geometry),t}function Kq(e){var t={};return e&&Object.keys(e).forEach(function(r){var n=e[r];typeof n=="object"?n===null?t[r]=null:Array.isArray(n)?t[r]=n.map(function(i){return i}):t[r]=Kq(n):t[r]=n}),t}function Qre(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"features":return;default:t[r]=e[r]}}),t.features=e.features.map(function(r){return Zq(r)}),t}function AR(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(function(r){return AR(r)}),t):(t.coordinates=Jq(e.coordinates),t)}function Jq(e){var t=e;return typeof t[0]!="object"?t.slice():t.map(function(r){return Jq(r)})}Oc.default=Jre;var OR={},ene=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OR,"__esModule",{value:!0});var tne=ene(Oc),XM=Cr,rne=En,nne=Jr;function ine(e,t){if(t===void 0&&(t={}),t=t||{},!XM.isObject(t))throw new Error("options is invalid");var r=t.mutate;if(rne.getType(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");(r===!1||r===void 0)&&(e=tne.default(e));var n=[],i=nne.lineReduce(e,function(u,s){var m=one(u,s);return m||(n.push(u),s)});return i&&n.push(i),n.length?n.length===1?n[0]:XM.multiLineString(n.map(function(u){return u.coordinates})):null}function qP(e){return e[0].toString()+","+e[1].toString()}function one(e,t){var r=e.geometry.coordinates,n=t.geometry.coordinates,i=qP(r[0]),u=qP(r[r.length-1]),s=qP(n[0]),m=qP(n[n.length-1]),v;if(i===m)v=n.concat(r.slice(1));else if(s===u)v=r.concat(n.slice(1));else if(i===s)v=r.slice(1).reverse().concat(n);else if(u===m)v=r.concat(n.reverse().slice(1));else return null;return XM.lineString(v)}OR.default=ine;var kR={};function Qq(e){return e}function TR(e){if(e==null)return Qq;var t,r,n=e.scale[0],i=e.scale[1],u=e.translate[0],s=e.translate[1];return function(m,v){v||(t=r=0);var _=2,P=m.length,C=new Array(P);for(C[0]=(t+=m[0])*n+u,C[1]=(r+=m[1])*i+s;_<P;)C[_]=m[_],++_;return C}}function eV(e){var t=TR(e.transform),r,n=1/0,i=n,u=-n,s=-n;function m(_){_=t(_),_[0]<n&&(n=_[0]),_[0]>u&&(u=_[0]),_[1]<i&&(i=_[1]),_[1]>s&&(s=_[1])}function v(_){switch(_.type){case"GeometryCollection":_.geometries.forEach(v);break;case"Point":m(_.coordinates);break;case"MultiPoint":_.coordinates.forEach(m);break}}e.arcs.forEach(function(_){for(var P=-1,C=_.length,I;++P<C;)I=t(_[P],P),I[0]<n&&(n=I[0]),I[0]>u&&(u=I[0]),I[1]<i&&(i=I[1]),I[1]>s&&(s=I[1])});for(r in e.objects)v(e.objects[r]);return[n,i,u,s]}function ane(e,t){for(var r,n=e.length,i=n-t;i<--n;)r=e[i],e[i++]=e[n],e[n]=r}function sne(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return QF(e,r)})}:QF(e,t)}function QF(e,t){var r=t.id,n=t.bbox,i=t.properties==null?{}:t.properties,u=IA(e,t);return r==null&&n==null?{type:"Feature",properties:i,geometry:u}:n==null?{type:"Feature",id:r,properties:i,geometry:u}:{type:"Feature",id:r,bbox:n,properties:i,geometry:u}}function IA(e,t){var r=TR(e.transform),n=e.arcs;function i(P,C){C.length&&C.pop();for(var I=n[P<0?~P:P],k=0,F=I.length;k<F;++k)C.push(r(I[k],k));P<0&&ane(C,F)}function u(P){return r(P)}function s(P){for(var C=[],I=0,k=P.length;I<k;++I)i(P[I],C);return C.length<2&&C.push(C[0]),C}function m(P){for(var C=s(P);C.length<4;)C.push(C[0]);return C}function v(P){return P.map(m)}function _(P){var C=P.type,I;switch(C){case"GeometryCollection":return{type:C,geometries:P.geometries.map(_)};case"Point":I=u(P.coordinates);break;case"MultiPoint":I=P.coordinates.map(u);break;case"LineString":I=s(P.arcs);break;case"MultiLineString":I=P.arcs.map(s);break;case"Polygon":I=v(P.arcs);break;case"MultiPolygon":I=P.arcs.map(v);break;default:return null}return{type:C,coordinates:I}}return _(t)}function tV(e,t){var r={},n={},i={},u=[],s=-1;t.forEach(function(_,P){var C=e.arcs[_<0?~_:_],I;C.length<3&&!C[1][0]&&!C[1][1]&&(I=t[++s],t[s]=_,t[P]=I)}),t.forEach(function(_){var P=m(_),C=P[0],I=P[1],k,F;if(k=i[C])if(delete i[k.end],k.push(_),k.end=I,F=n[I]){delete n[F.start];var V=F===k?k:k.concat(F);n[V.start=k.start]=i[V.end=F.end]=V}else n[k.start]=i[k.end]=k;else if(k=n[I])if(delete n[k.start],k.unshift(_),k.start=C,F=i[C]){delete i[F.end];var Y=F===k?k:F.concat(k);n[Y.start=F.start]=i[Y.end=k.end]=Y}else n[k.start]=i[k.end]=k;else k=[_],n[k.start=C]=i[k.end=I]=k});function m(_){var P=e.arcs[_<0?~_:_],C=P[0],I;return e.transform?(I=[0,0],P.forEach(function(k){I[0]+=k[0],I[1]+=k[1]})):I=P[P.length-1],_<0?[I,C]:[C,I]}function v(_,P){for(var C in _){var I=_[C];delete P[I.start],delete I.start,delete I.end,I.forEach(function(k){r[k<0?~k:k]=1}),u.push(I)}}return v(i,n),v(n,i),t.forEach(function(_){r[_<0?~_:_]||u.push([_])}),u}function une(e){return IA(e,rV.apply(this,arguments))}function rV(e,t,r){var n,i,u;if(arguments.length>1)n=lne(e,t,r);else for(i=0,n=new Array(u=e.arcs.length);i<u;++i)n[i]=i;return{type:"MultiLineString",arcs:tV(e,n)}}function lne(e,t,r){var n=[],i=[],u;function s(C){var I=C<0?~C:C;(i[I]||(i[I]=[])).push({i:C,g:u})}function m(C){C.forEach(s)}function v(C){C.forEach(m)}function _(C){C.forEach(v)}function P(C){switch(u=C,C.type){case"GeometryCollection":C.geometries.forEach(P);break;case"LineString":m(C.arcs);break;case"MultiLineString":case"Polygon":v(C.arcs);break;case"MultiPolygon":_(C.arcs);break}}return P(t),i.forEach(r==null?function(C){n.push(C[0].i)}:function(C){r(C[0].g,C[C.length-1].g)&&n.push(C[0].i)}),n}function cne(e){for(var t=-1,r=e.length,n,i=e[r-1],u=0;++t<r;)n=i,i=e[t],u+=n[0]*i[1]-n[1]*i[0];return Math.abs(u)}function fne(e){return IA(e,nV.apply(this,arguments))}function nV(e,t){var r={},n=[],i=[];t.forEach(u);function u(v){switch(v.type){case"GeometryCollection":v.geometries.forEach(u);break;case"Polygon":s(v.arcs);break;case"MultiPolygon":v.arcs.forEach(s);break}}function s(v){v.forEach(function(_){_.forEach(function(P){(r[P=P<0?~P:P]||(r[P]=[])).push(v)})}),n.push(v)}function m(v){return cne(IA(e,{type:"Polygon",arcs:[v]}).coordinates[0])}return n.forEach(function(v){if(!v._){var _=[],P=[v];for(v._=1,i.push(_);v=P.pop();)_.push(v),v.forEach(function(C){C.forEach(function(I){r[I<0?~I:I].forEach(function(k){k._||(k._=1,P.push(k))})})})}}),n.forEach(function(v){delete v._}),{type:"MultiPolygon",arcs:i.map(function(v){var _=[],P;if(v.forEach(function(V){V.forEach(function(Y){Y.forEach(function(q){r[q<0?~q:q].length<2&&_.push(q)})})}),_=tV(e,_),(P=_.length)>1)for(var C=1,I=m(_[0]),k,F;C<P;++C)(k=m(_[C]))>I&&(F=_[0],_[0]=_[C],_[C]=F,I=k);return _}).filter(function(v){return v.length>0})}}function ej(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>>1;e[i]<t?r=i+1:n=i}return r}function pne(e){var t={},r=e.map(function(){return[]});function n(V,Y){V.forEach(function(q){q<0&&(q=~q);var M=t[q];M?M.push(Y):t[q]=[Y]})}function i(V,Y){V.forEach(function(q){n(q,Y)})}function u(V,Y){V.type==="GeometryCollection"?V.geometries.forEach(function(q){u(q,Y)}):V.type in s&&s[V.type](V.arcs,Y)}var s={LineString:n,MultiLineString:i,Polygon:i,MultiPolygon:function(V,Y){V.forEach(function(q){i(q,Y)})}};e.forEach(u);for(var m in t)for(var v=t[m],_=v.length,P=0;P<_;++P)for(var C=P+1;C<_;++C){var I=v[P],k=v[C],F;(F=r[I])[m=ej(F,k)]!==k&&F.splice(m,0,k),(F=r[k])[m=ej(F,I)]!==I&&F.splice(m,0,I)}return r}function iV(e){if(e==null)return Qq;var t,r,n=e.scale[0],i=e.scale[1],u=e.translate[0],s=e.translate[1];return function(m,v){v||(t=r=0);var _=2,P=m.length,C=new Array(P),I=Math.round((m[0]-u)/n),k=Math.round((m[1]-s)/i);for(C[0]=I-t,t=I,C[1]=k-r,r=k;_<P;)C[_]=m[_],++_;return C}}function hne(e,t){if(e.transform)throw new Error("already quantized");if(!t||!t.scale){if(!((s=Math.floor(t))>=2))throw new Error("n must be \u22652");v=e.bbox||eV(e);var r=v[0],n=v[1],i=v[2],u=v[3],s;t={scale:[i-r?(i-r)/(s-1):1,u-n?(u-n)/(s-1):1],translate:[r,n]}}else v=e.bbox;var m=iV(t),v,_,P=e.objects,C={};function I(V){return m(V)}function k(V){var Y;switch(V.type){case"GeometryCollection":Y={type:"GeometryCollection",geometries:V.geometries.map(k)};break;case"Point":Y={type:"Point",coordinates:I(V.coordinates)};break;case"MultiPoint":Y={type:"MultiPoint",coordinates:V.coordinates.map(I)};break;default:return V}return V.id!=null&&(Y.id=V.id),V.bbox!=null&&(Y.bbox=V.bbox),V.properties!=null&&(Y.properties=V.properties),Y}function F(V){var Y=0,q=1,M=V.length,j,G=new Array(M);for(G[0]=m(V[0],0);++Y<M;)((j=m(V[Y],Y))[0]||j[1])&&(G[q++]=j);return q===1&&(G[q++]=[0,0]),G.length=q,G}for(_ in P)C[_]=k(P[_]);return{type:"Topology",bbox:v,transform:t,objects:C,arcs:e.arcs.map(F)}}var dne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bbox:eV,feature:sne,mesh:une,meshArcs:rV,merge:fne,mergeArcs:nV,neighbors:pne,quantize:hne,transform:TR,untransform:iV}),_ne=R0(dne),CA=Object.prototype.hasOwnProperty;function mne(e){var t=1/0,r=1/0,n=-1/0,i=-1/0;function u(C){C!=null&&CA.call(s,C.type)&&s[C.type](C)}var s={GeometryCollection:function(C){C.geometries.forEach(u)},Point:function(C){m(C.coordinates)},MultiPoint:function(C){C.coordinates.forEach(m)},LineString:function(C){v(C.arcs)},MultiLineString:function(C){C.arcs.forEach(v)},Polygon:function(C){C.arcs.forEach(v)},MultiPolygon:function(C){C.arcs.forEach(_)}};function m(C){var I=C[0],k=C[1];I<t&&(t=I),I>n&&(n=I),k<r&&(r=k),k>i&&(i=k)}function v(C){C.forEach(m)}function _(C){C.forEach(v)}for(var P in e)u(e[P]);return n>=t&&i>=r?[t,r,n,i]:void 0}function gne(e,t,r,n,i){arguments.length===3&&(n=Array,i=null);for(var u=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=e-1,m=0;m<e;++m)u[m]=i;function v(C){for(var I=t(C)&s,k=u[I],F=0;k!=i;){if(r(k,C))return!0;if(++F>=e)throw new Error("full hashset");k=u[I=I+1&s]}return u[I]=C,!0}function _(C){for(var I=t(C)&s,k=u[I],F=0;k!=i;){if(r(k,C))return!0;if(++F>=e)break;k=u[I=I+1&s]}return!1}function P(){for(var C=[],I=0,k=u.length;I<k;++I){var F=u[I];F!=i&&C.push(F)}return C}return{add:v,has:_,values:P}}function LR(e,t,r,n,i,u){arguments.length===3&&(n=u=Array,i=null);for(var s=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),m=new u(e),v=e-1,_=0;_<e;++_)s[_]=i;function P(F,V){for(var Y=t(F)&v,q=s[Y],M=0;q!=i;){if(r(q,F))return m[Y]=V;if(++M>=e)throw new Error("full hashmap");q=s[Y=Y+1&v]}return s[Y]=F,m[Y]=V,V}function C(F,V){for(var Y=t(F)&v,q=s[Y],M=0;q!=i;){if(r(q,F))return m[Y];if(++M>=e)throw new Error("full hashmap");q=s[Y=Y+1&v]}return s[Y]=F,m[Y]=V,V}function I(F,V){for(var Y=t(F)&v,q=s[Y],M=0;q!=i;){if(r(q,F))return m[Y];if(++M>=e)break;q=s[Y=Y+1&v]}return V}function k(){for(var F=[],V=0,Y=s.length;V<Y;++V){var q=s[V];q!=i&&F.push(q)}return F}return{set:P,maybeSet:C,get:I,keys:k}}function o0(e,t){return e[0]===t[0]&&e[1]===t[1]}var oV=new ArrayBuffer(16),tj=new Float64Array(oV),VP=new Uint32Array(oV);function YM(e){tj[0]=e[0],tj[1]=e[1];var t=VP[0]^VP[1];return t=t<<5^t>>7^VP[2]^VP[3],t&2147483647}function yne(e){var t=e.coordinates,r=e.lines,n=e.rings,i=he(),u=new Int32Array(t.length),s=new Int32Array(t.length),m=new Int32Array(t.length),v=new Int8Array(t.length),_=0,P,C,I,k,F;for(P=0,C=t.length;P<C;++P)u[P]=s[P]=m[P]=-1;for(P=0,C=r.length;P<C;++P){var V=r[P],Y=V[0],q=V[1];for(k=i[Y],F=i[++Y],++_,v[k]=1;++Y<=q;)J(P,I=k,k=F,F=i[Y]);++_,v[F]=1}for(P=0,C=t.length;P<C;++P)u[P]=-1;for(P=0,C=n.length;P<C;++P){var M=n[P],j=M[0]+1,G=M[1];for(I=i[G-1],k=i[j-1],F=i[j],J(P,I,k,F);++j<=G;)J(P,I=k,k=F,F=i[j])}function J(we,Se,Pe,ae){if(u[Pe]!==we){u[Pe]=we;var Be=s[Pe];if(Be>=0){var Q=m[Pe];(Be!==Se||Q!==ae)&&(Be!==ae||Q!==Se)&&(++_,v[Pe]=1)}else s[Pe]=Se,m[Pe]=ae}}function he(){for(var we=LR(t.length*1.4,pe,ne,Int32Array,-1,Int32Array),Se=new Int32Array(t.length),Pe=0,ae=t.length;Pe<ae;++Pe)Se[Pe]=we.maybeSet(Pe,Pe);return Se}function pe(we){return YM(t[we])}function ne(we,Se){return o0(t[we],t[Se])}u=s=m=null;var ee=gne(_*1.4,YM,o0),ie;for(P=0,C=t.length;P<C;++P)v[ie=i[P]]&&ee.add(t[ie]);return ee}function vne(e){var t=yne(e),r=e.coordinates,n=e.lines,i=e.rings,u,s,m;for(s=0,m=n.length;s<m;++s)for(var v=n[s],_=v[0],P=v[1];++_<P;)t.has(r[_])&&(u={0:_,1:v[1]},v[1]=_,v=v.next=u);for(s=0,m=i.length;s<m;++s)for(var C=i[s],I=C[0],k=I,F=C[1],V=t.has(r[I]);++k<F;)t.has(r[k])&&(V?(u={0:k,1:C[1]},C[1]=k,C=C.next=u):(bne(r,I,F,F-k),r[F]=r[I],V=!0,k=I));return e}function bne(e,t,r,n){tN(e,t,r),tN(e,t,t+n),tN(e,t+n,r)}function tN(e,t,r){for(var n=t+(r---t>>1),i;t<n;++t,--r)i=e[t],e[t]=e[r],e[r]=i}function xne(e){var t=e.coordinates,r=e.lines,n,i=e.rings,u,s=r.length+i.length,m,v;for(delete e.lines,delete e.rings,m=0,v=r.length;m<v;++m)for(n=r[m];n=n.next;)++s;for(m=0,v=i.length;m<v;++m)for(u=i[m];u=u.next;)++s;var _=LR(s*2*1.4,YM,o0),P=e.arcs=[];for(m=0,v=r.length;m<v;++m){n=r[m];do C(n);while(n=n.next)}for(m=0,v=i.length;m<v;++m)if(u=i[m],u.next)do C(u);while(u=u.next);else I(u);function C(M){var j,G,J,he,pe,ne,ee,ie;if(J=_.get(j=t[M[0]])){for(ee=0,ie=J.length;ee<ie;++ee)if(he=J[ee],k(he,M)){M[0]=he[0],M[1]=he[1];return}}if(pe=_.get(G=t[M[1]])){for(ee=0,ie=pe.length;ee<ie;++ee)if(ne=pe[ee],F(ne,M)){M[1]=ne[0],M[0]=ne[1];return}}J?J.push(M):_.set(j,[M]),pe?pe.push(M):_.set(G,[M]),P.push(M)}function I(M){var j,G,J,he,pe;if(G=_.get(j=t[M[0]]))for(he=0,pe=G.length;he<pe;++he){if(J=G[he],V(J,M)){M[0]=J[0],M[1]=J[1];return}if(Y(J,M)){M[0]=J[1],M[1]=J[0];return}}if(G=_.get(j=t[M[0]+q(M)]))for(he=0,pe=G.length;he<pe;++he){if(J=G[he],V(J,M)){M[0]=J[0],M[1]=J[1];return}if(Y(J,M)){M[0]=J[1],M[1]=J[0];return}}G?G.push(M):_.set(j,[M]),P.push(M)}function k(M,j){var G=M[0],J=j[0],he=M[1],pe=j[1];if(G-he!==J-pe)return!1;for(;G<=he;++G,++J)if(!o0(t[G],t[J]))return!1;return!0}function F(M,j){var G=M[0],J=j[0],he=M[1],pe=j[1];if(G-he!==J-pe)return!1;for(;G<=he;++G,--pe)if(!o0(t[G],t[pe]))return!1;return!0}function V(M,j){var G=M[0],J=j[0],he=M[1],pe=j[1],ne=he-G;if(ne!==pe-J)return!1;for(var ee=q(M),ie=q(j),we=0;we<ne;++we)if(!o0(t[G+(we+ee)%ne],t[J+(we+ie)%ne]))return!1;return!0}function Y(M,j){var G=M[0],J=j[0],he=M[1],pe=j[1],ne=he-G;if(ne!==pe-J)return!1;for(var ee=q(M),ie=ne-q(j),we=0;we<ne;++we)if(!o0(t[G+(we+ee)%ne],t[pe-(we+ie)%ne]))return!1;return!0}function q(M){for(var j=M[0],G=M[1],J=j,he=J,pe=t[J];++J<G;){var ne=t[J];(ne[0]<pe[0]||ne[0]===pe[0]&&ne[1]<pe[1])&&(he=J,pe=ne)}return he-j}return e}function wne(e){for(var t=-1,r=e.length;++t<r;){for(var n=e[t],i=0,u=1,s=n.length,m=n[0],v=m[0],_=m[1],P,C;++i<s;)m=n[i],P=m[0],C=m[1],(P!==v||C!==_)&&(n[u++]=[P-v,C-_],v=P,_=C);u===1&&(n[u++]=[0,0]),n.length=u}return e}function Sne(e){var t=-1,r=[],n=[],i=[];function u(C){C&&CA.call(s,C.type)&&s[C.type](C)}var s={GeometryCollection:function(C){C.geometries.forEach(u)},LineString:function(C){C.arcs=m(C.arcs)},MultiLineString:function(C){C.arcs=C.arcs.map(m)},Polygon:function(C){C.arcs=C.arcs.map(v)},MultiPolygon:function(C){C.arcs=C.arcs.map(_)}};function m(C){for(var I=0,k=C.length;I<k;++I)i[++t]=C[I];var F={0:t-k+1,1:t};return r.push(F),F}function v(C){for(var I=0,k=C.length;I<k;++I)i[++t]=C[I];var F={0:t-k+1,1:t};return n.push(F),F}function _(C){return C.map(v)}for(var P in e)u(e[P]);return{type:"Topology",coordinates:i,lines:r,rings:n,objects:e}}function Ene(e){var t={},r;for(r in e)t[r]=Pne(e[r]);return t}function Pne(e){return e==null?{type:null}:(e.type==="FeatureCollection"?Ine:e.type==="Feature"?aV:NR)(e)}function Ine(e){var t={type:"GeometryCollection",geometries:e.features.map(aV)};return e.bbox!=null&&(t.bbox=e.bbox),t}function aV(e){var t=NR(e.geometry),r;e.id!=null&&(t.id=e.id),e.bbox!=null&&(t.bbox=e.bbox);for(r in e.properties){t.properties=e.properties;break}return t}function NR(e){if(e==null)return{type:null};var t=e.type==="GeometryCollection"?{type:"GeometryCollection",geometries:e.geometries.map(NR)}:e.type==="Point"||e.type==="MultiPoint"?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return e.bbox!=null&&(t.bbox=e.bbox),t}function Cne(e,t,r){var n=t[0],i=t[1],u=t[2],s=t[3],m=u-n?(r-1)/(u-n):1,v=s-i?(r-1)/(s-i):1;function _(q){return[Math.round((q[0]-n)*m),Math.round((q[1]-i)*v)]}function P(q,M){for(var j=-1,G=0,J=q.length,he=new Array(J),pe,ne,ee,ie,we;++j<J;)pe=q[j],ie=Math.round((pe[0]-n)*m),we=Math.round((pe[1]-i)*v),(ie!==ne||we!==ee)&&(he[G++]=[ne=ie,ee=we]);for(he.length=G;G<M;)G=he.push([he[0][0],he[0][1]]);return he}function C(q){return P(q,2)}function I(q){return P(q,4)}function k(q){return q.map(I)}function F(q){q!=null&&CA.call(V,q.type)&&V[q.type](q)}var V={GeometryCollection:function(q){q.geometries.forEach(F)},Point:function(q){q.coordinates=_(q.coordinates)},MultiPoint:function(q){q.coordinates=q.coordinates.map(_)},LineString:function(q){q.arcs=C(q.arcs)},MultiLineString:function(q){q.arcs=q.arcs.map(C)},Polygon:function(q){q.arcs=k(q.arcs)},MultiPolygon:function(q){q.arcs=q.arcs.map(k)}};for(var Y in e)F(e[Y]);return{scale:[1/m,1/v],translate:[n,i]}}function Ane(e,t){var r=mne(e=Ene(e)),n=t>0&&r&&Cne(e,r,t),i=xne(vne(Sne(e))),u=i.coordinates,s=LR(i.arcs.length*1.4,One,kne);e=i.objects,i.bbox=r,i.arcs=i.arcs.map(function(I,k){return s.set(I,k),u.slice(I[0],I[1]+1)}),delete i.coordinates,u=null;function m(I){I&&CA.call(v,I.type)&&v[I.type](I)}var v={GeometryCollection:function(I){I.geometries.forEach(m)},LineString:function(I){I.arcs=_(I.arcs)},MultiLineString:function(I){I.arcs=I.arcs.map(_)},Polygon:function(I){I.arcs=I.arcs.map(_)},MultiPolygon:function(I){I.arcs=I.arcs.map(P)}};function _(I){var k=[];do{var F=s.get(I);k.push(I[0]<I[1]?F:~F)}while(I=I.next);return k}function P(I){return I.map(_)}for(var C in e)m(e[C]);return n&&(i.transform=n,i.arcs=wne(i.arcs)),i}function One(e){var t=e[0],r=e[1],n;return r<t&&(n=t,t=r,r=n),t+31*r}function kne(e,t){var r=e[0],n=e[1],i=t[0],u=t[1],s;return n<r&&(s=r,r=n,n=s),u<i&&(s=i,i=u,u=s),r===i&&n===u}var Tne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",topology:Ane}),Lne=R0(Tne),Nne=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kR,"__esModule",{value:!0});var Mne=Nne(Oc),Rne=Cr,Dne=En,zne=Jr,Fne=_ne,jne=Lne;function Bne(e,t){if(t===void 0&&(t={}),Dne.getType(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");(t.mutate===!1||t.mutate===void 0)&&(e=Mne.default(e));var r=[];zne.flattenEach(e,function(u){r.push(u.geometry)});var n=jne.topology({geoms:Rne.geometryCollection(r).geometry}),i=Fne.merge(n,n.objects.geoms.geometries);return i}kR.default=Bne;var MR=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(CR,"__esModule",{value:!0});var $ne=MR(Oc),Une=Cr,qne=En,Vne=Jr,Gne=MR(OR),Wne=MR(kR);function Xne(e,t){if(t===void 0&&(t={}),t=t||{},!Une.isObject(t))throw new Error("options is invalid");var r=t.mutate;if(qne.getType(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");(r===!1||r===void 0)&&(e=$ne.default(e));var n=Yne(e);if(!n)throw new Error("geojson must be homogenous");var i=e;switch(n){case"LineString":return Gne.default(i,t);case"Polygon":return Wne.default(i,t);default:throw new Error(n+" is not supported")}}function Yne(e){var t={};Vne.flattenEach(e,function(n){t[n.geometry.type]=!0});var r=Object.keys(t);return r.length===1?r[0]:null}CR.default=Xne;var RR=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(IR,"__esModule",{value:!0});var rN=RR(fc),sV=Cr,Hne=Jr,Zne=RR(PA),Kne=RR(CR);function Jne(e,t){t===void 0&&(t={});var r=t.maxEdge||1/0,n=Qne(e),i=Zne.default(n);if(i.features=i.features.filter(function(s){var m=s.geometry.coordinates[0][0],v=s.geometry.coordinates[0][1],_=s.geometry.coordinates[0][2],P=rN.default(m,v,t),C=rN.default(v,_,t),I=rN.default(m,_,t);return P<=r&&C<=r&&I<=r}),i.features.length<1)return null;var u=Kne.default(i);return u.coordinates.length===1&&(u.coordinates=u.coordinates[0],u.type="Polygon"),sV.feature(u)}function Qne(e){var t=[],r={};return Hne.featureEach(e,function(n){if(!!n.geometry){var i=n.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(r,i)||(t.push(n),r[i]=!0)}}),sV.featureCollection(t)}IR.default=Jne;var DR={},AA={exports:{}},uV={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){function r(s,m,v,_,P){n(s,m,v||0,_||s.length-1,P||u)}function n(s,m,v,_,P){for(;_>v;){if(_-v>600){var C=_-v+1,I=m-v+1,k=Math.log(C),F=.5*Math.exp(2*k/3),V=.5*Math.sqrt(k*F*(C-F)/C)*(I-C/2<0?-1:1),Y=Math.max(v,Math.floor(m-I*F/C+V)),q=Math.min(_,Math.floor(m+(C-I)*F/C+V));n(s,m,Y,q,P)}var M=s[m],j=v,G=_;for(i(s,v,m),P(s[_],M)>0&&i(s,v,_);j<G;){for(i(s,j,G),j++,G--;P(s[j],M)<0;)j++;for(;P(s[G],M)>0;)G--}P(s[v],M)===0?i(s,v,G):(G++,i(s,G,_)),G<=m&&(v=G+1),m<=G&&(_=G-1)}}function i(s,m,v){var _=s[m];s[m]=s[v],s[v]=_}function u(s,m){return s<m?-1:s>m?1:0}return r})})(uV);AA.exports=KS;AA.exports.default=KS;var eie=uV.exports;function KS(e,t){if(!(this instanceof KS))return new KS(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),t&&this._initFormat(t),this.clear()}KS.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!WP(e,t))return r;for(var i=[],u,s,m,v;t;){for(u=0,s=t.children.length;u<s;u++)m=t.children[u],v=t.leaf?n(m):m,WP(e,v)&&(t.leaf?r.push(m):iN(e,v)?this._all(m,r):i.push(m));t=i.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!WP(e,t))return!1;for(var n=[],i,u,s,m;t;){for(i=0,u=t.children.length;i<u;i++)if(s=t.children[i],m=t.leaf?r(s):s,WP(e,m)){if(t.leaf||iN(e,m))return!0;n.push(s)}t=n.pop()}return!1},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=wb([]),this},remove:function(e,t){if(!e)return this;for(var r=this.data,n=this.toBBox(e),i=[],u=[],s,m,v,_;r||i.length;){if(r||(r=i.pop(),m=i[i.length-1],s=u.pop(),_=!0),r.leaf&&(v=tie(e,r.children,t),v!==-1))return r.children.splice(v,1),i.push(r),this._condense(i),this;!_&&!r.leaf&&iN(r,n)?(i.push(r),u.push(s),s=0,m=r,r=r.children[0]):m?(s++,r=m.children[s],_=!1):r=null}return this},toBBox:function(e){return e},compareMinX:rj,compareMinY:nj,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i=r-t+1,u=this._maxEntries,s;if(i<=u)return s=wb(e.slice(t,r+1)),mb(s,this.toBBox),s;n||(n=Math.ceil(Math.log(i)/Math.log(u)),u=Math.ceil(i/Math.pow(u,n-1))),s=wb([]),s.leaf=!1,s.height=n;var m=Math.ceil(i/u),v=m*Math.ceil(Math.sqrt(u)),_,P,C,I;for(ij(e,t,r,v,this.compareMinX),_=t;_<=r;_+=v)for(C=Math.min(_+v-1,r),ij(e,_,C,m,this.compareMinY),P=_;P<=C;P+=m)I=Math.min(P+m-1,C),s.children.push(this._build(e,P,I,n-1));return mb(s,this.toBBox),s},_chooseSubtree:function(e,t,r,n){for(var i,u,s,m,v,_,P,C;n.push(t),!(t.leaf||n.length-1===r);){for(P=C=1/0,i=0,u=t.children.length;i<u;i++)s=t.children[i],v=nN(s),_=rie(e,s)-v,_<C?(C=_,P=v<P?v:P,m=s):_===C&&v<P&&(P=v,m=s);t=m||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),u=[],s=this._chooseSubtree(i,this.data,t,u);for(s.children.push(e),rS(s,i);t>=0&&u[t].children.length>this._maxEntries;)this._split(u,t),t--;this._adjustParentBBoxes(i,u,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var u=this._chooseSplitIndex(r,i,n),s=wb(r.children.splice(u,r.children.length-u));s.height=r.height,s.leaf=r.leaf,mb(r,this.toBBox),mb(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=wb([e,t]),this.data.height=e.height+1,this.data.leaf=!1,mb(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,u,s,m,v,_,P;for(v=_=1/0,n=t;n<=r-t;n++)i=tS(e,0,n,this.toBBox),u=tS(e,n,r,this.toBBox),s=nie(i,u),m=nN(i)+nN(u),s<v?(v=s,P=n,_=m<_?m:_):s===v&&m<_&&(_=m,P=n);return P},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:rj,i=e.leaf?this.compareMinY:nj,u=this._allDistMargin(e,t,r,n),s=this._allDistMargin(e,t,r,i);u<s&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i=this.toBBox,u=tS(e,0,t,i),s=tS(e,r-t,r,i),m=GP(u)+GP(s),v,_;for(v=t;v<r-t;v++)_=e.children[v],rS(u,e.leaf?i(_):_),m+=GP(u);for(v=r-t-1;v>=t;v--)_=e.children[v],rS(s,e.leaf?i(_):_),m+=GP(s);return m},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)rS(t[n],e)},_condense:function(e){for(var t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():mb(e[t],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function tie(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function mb(e,t){tS(e,0,e.children.length,t,e)}function tS(e,t,r,n,i){i||(i=wb(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var u=t,s;u<r;u++)s=e.children[u],rS(i,e.leaf?n(s):s);return i}function rS(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function rj(e,t){return e.minX-t.minX}function nj(e,t){return e.minY-t.minY}function nN(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function GP(e){return e.maxX-e.minX+(e.maxY-e.minY)}function rie(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function nie(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),u=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,u-n)}function iN(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function WP(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function wb(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ij(e,t,r,n,i){for(var u=[t,r],s;u.length;)r=u.pop(),t=u.pop(),!(r-t<=n)&&(s=t+Math.ceil((r-t)/n/2)*n,eie(e,s,t,r,i),u.push(t,s,s,r))}var zR=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DR,"__esModule",{value:!0});var iie=zR(Pf),oie=zR(Wf),aie=zR(AA.exports);function sie(e,t,r,n){var i=aie.default(6),u=t.features.map(function(s){var m;return{minX:s.geometry.coordinates[0],minY:s.geometry.coordinates[1],maxX:s.geometry.coordinates[0],maxY:s.geometry.coordinates[1],property:(m=s.properties)===null||m===void 0?void 0:m[r]}});return i.load(u),e.features.forEach(function(s){s.properties||(s.properties={});var m=iie.default(s),v=i.search({minX:m[0],minY:m[1],maxX:m[2],maxY:m[3]}),_=[];v.forEach(function(P){oie.default([P.minX,P.minY],s)&&_.push(P.property)}),s.properties[n]=_}),e}DR.default=sie;var FR={exports:{}},uie=Jr,lie=Cr,cie=Oc;function fie(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var pie=fie(cie);function lV(e,t){if(t=t||{},!lie.isObject(t))throw new Error("options is invalid");var r=t.mutate;if(!e)throw new Error("geojson is required");return(r===!1||r===void 0)&&(e=pie.default(e)),uie.coordEach(e,function(n){var i=n[0],u=n[1];n[0]=u,n[1]=i}),e}FR.exports=lV;FR.exports.default=lV;var jR={exports:{}},B0={};Object.defineProperty(B0,"__esModule",{value:!0});var hie=Cr,nS=En;function die(e,t){t===void 0&&(t={});var r=typeof t=="object"?t.mutate:t;if(!e)throw new Error("geojson is required");var n=nS.getType(e),i=[];switch(n){case"LineString":i=oN(e);break;case"MultiLineString":case"Polygon":nS.getCoords(e).forEach(function(s){i.push(oN(s))});break;case"MultiPolygon":nS.getCoords(e).forEach(function(s){var m=[];s.forEach(function(v){m.push(oN(v))}),i.push(m)});break;case"Point":return e;case"MultiPoint":var u={};nS.getCoords(e).forEach(function(s){var m=s.join("-");Object.prototype.hasOwnProperty.call(u,m)||(i.push(s),u[m]=!0)});break;default:throw new Error(n+" geometry not supported")}return e.coordinates?r===!0?(e.coordinates=i,e):{type:n,coordinates:i}:r===!0?(e.geometry.coordinates=i,e):hie.feature({type:n,coordinates:i},e.properties,{bbox:e.bbox,id:e.id})}function oN(e){var t=nS.getCoords(e);if(t.length===2&&!oj(t[0],t[1]))return t;var r=[],n=t.length-1,i=r.length;r.push(t[0]);for(var u=1;u<n;u++){var s=r[r.length-1];t[u][0]===s[0]&&t[u][1]===s[1]||(r.push(t[u]),i=r.length,i>2&&aj(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1))}if(r.push(t[t.length-1]),i=r.length,oj(t[0],t[t.length-1])&&i<4)throw new Error("invalid polygon");return aj(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1),r}function oj(e,t){return e[0]===t[0]&&e[1]===t[1]}function aj(e,t,r){var n=r[0],i=r[1],u=e[0],s=e[1],m=t[0],v=t[1],_=n-u,P=i-s,C=m-u,I=v-s,k=_*I-P*C;return k!==0?!1:Math.abs(C)>=Math.abs(I)?C>0?u<=n&&n<=m:m<=n&&n<=u:I>0?s<=i&&i<=v:v<=i&&i<=s}B0.default=die;var _ie=B0,mie=Oc,gie=Jr,yie=Cr;function cV(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var vie=cV(_ie),bie=cV(mie);function xie(e,t){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n}function wie(e,t,r){var n=t.x,i=t.y,u=r.x-n,s=r.y-i;if(u!==0||s!==0){var m=((e.x-n)*u+(e.y-i)*s)/(u*u+s*s);m>1?(n=r.x,i=r.y):m>0&&(n+=u*m,i+=s*m)}return u=e.x-n,s=e.y-i,u*u+s*s}function Sie(e,t){for(var r=e[0],n=[r],i,u=1,s=e.length;u<s;u++)i=e[u],xie(i,r)>t&&(n.push(i),r=i);return r!==i&&n.push(i),n}function HM(e,t,r,n,i){for(var u=n,s,m=t+1;m<r;m++){var v=wie(e[m],e[t],e[r]);v>u&&(s=m,u=v)}u>n&&(s-t>1&&HM(e,t,s,n,i),i.push(e[s]),r-s>1&&HM(e,s,r,n,i))}function Eie(e,t){var r=e.length-1,n=[e[0]];return HM(e,0,r,t,n),n.push(e[r]),n}function ZM(e,t,r){if(e.length<=2)return e;var n=t!==void 0?t*t:1;return e=r?e:Sie(e,n),e=Eie(e,n),e}function fV(e,t){if(t=t||{},!yie.isObject(t))throw new Error("options is invalid");var r=t.tolerance!==void 0?t.tolerance:1,n=t.highQuality||!1,i=t.mutate||!1;if(!e)throw new Error("geojson is required");if(r&&r<0)throw new Error("invalid tolerance");return i!==!0&&(e=bie.default(e)),gie.geomEach(e,function(u){Pie(u,r,n)}),e}function Pie(e,t,r){var n=e.type;if(n==="Point"||n==="MultiPoint")return e;vie.default(e,!0);var i=e.coordinates;switch(n){case"LineString":e.coordinates=sj(i,t,r);break;case"MultiLineString":e.coordinates=i.map(function(u){return sj(u,t,r)});break;case"Polygon":e.coordinates=uj(i,t,r);break;case"MultiPolygon":e.coordinates=i.map(function(u){return uj(u,t,r)})}return e}function sj(e,t,r){return ZM(e.map(function(n){return{x:n[0],y:n[1],z:n[2]}}),t,r).map(function(n){return n.z?[n.x,n.y,n.z]:[n.x,n.y]})}function uj(e,t,r){return e.map(function(n){var i=n.map(function(s){return{x:s[0],y:s[1]}});if(i.length<4)throw new Error("invalid polygon");for(var u=ZM(i,t,r).map(function(s){return[s.x,s.y]});!Iie(u);)t-=t*.01,u=ZM(i,t,r).map(function(s){return[s.x,s.y]});return(u[u.length-1][0]!==u[0][0]||u[u.length-1][1]!==u[0][1])&&u.push(u[0]),u})}function Iie(e){return e.length<3?!1:!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}jR.exports=fV;jR.exports.default=fV;var BR={},$R={};Object.defineProperty($R,"__esModule",{value:!0});var Cie=function(){function e(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var r=0;r<this.length;r++)this.points[r].z=this.points[r].z||0;for(var r=0;r<this.length-1;r++){var n=this.points[r],i=this.points[r+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var r=0;r<this.centers.length-1;r++){var u=this.points[r+1].x-(this.centers[r].x+this.centers[r+1].x)/2,s=this.points[r+1].y-(this.centers[r].y+this.centers[r+1].y)/2,m=this.points[r+1].z-(this.centers[r].y+this.centers[r+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[r+1].x+this.sharpness*(this.centers[r].x+u),y:(1-this.sharpness)*this.points[r+1].y+this.sharpness*(this.centers[r].y+s),z:(1-this.sharpness)*this.points[r+1].z+this.sharpness*(this.centers[r].z+m)},{x:(1-this.sharpness)*this.points[r+1].x+this.sharpness*(this.centers[r+1].x+u),y:(1-this.sharpness)*this.points[r+1].y+this.sharpness*(this.centers[r+1].y+s),z:(1-this.sharpness)*this.points[r+1].z+this.sharpness*(this.centers[r+1].z+m)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(t){var r=[],n=this.pos(0);r.push(0);for(var i=0;i<this.duration;i+=10){var u=this.pos(i),s=Math.sqrt((u.x-n.x)*(u.x-n.x)+(u.y-n.y)*(u.y-n.y)+(u.z-n.z)*(u.z-n.z));s>t&&(r.push(i),n=u)}return r},e.prototype.vector=function(t){var r=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(r.y-n.y,r.x-n.x)/3.14,speed:Math.sqrt((n.x-r.x)*(n.x-r.x)+(n.y-r.y)*(n.y-r.y)+(n.z-r.z)*(n.z-r.z))}},e.prototype.pos=function(t){var r=t-this.delay;r<0&&(r=0),r>this.duration&&(r=this.duration-1);var n=r/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n),u=(this.length-1)*n-i;return Aie(u,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])},e}();$R.default=Cie;function Aie(e,t,r,n,i){var u=Oie(e),s={x:i.x*u[0]+n.x*u[1]+r.x*u[2]+t.x*u[3],y:i.y*u[0]+n.y*u[1]+r.y*u[2]+t.y*u[3],z:i.z*u[0]+n.z*u[1]+r.z*u[2]+t.z*u[3]};return s}function Oie(e){var t=e*e,r=t*e;return[r,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}var kie=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BR,"__esModule",{value:!0});var Tie=Cr,Lie=En,Nie=kie($R);function Mie(e,t){t===void 0&&(t={});for(var r=t.resolution||1e4,n=t.sharpness||.85,i=[],u=Lie.getGeom(e).coordinates.map(function(_){return{x:_[0],y:_[1]}}),s=new Nie.default({duration:r,points:u,sharpness:n}),m=function(_){var P=s.pos(_);Math.floor(_/100)%2===0&&i.push([P.x,P.y])},v=0;v<s.duration;v+=10)m(v);return m(s.duration),Tie.lineString(i,t.properties)}BR.default=Mie;var UR={exports:{}},Rie=Wf,Die=Oc,lj=Jr;function pV(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var zie=pV(Rie),cj=pV(Die);function hV(e,t,r,n){return e=cj.default(e),t=cj.default(t),lj.featureEach(e,function(i){i.properties||(i.properties={}),lj.featureEach(t,function(u){i.properties[n]===void 0&&zie.default(i,u)&&(i.properties[n]=u.properties[r])})}),e}UR.exports=hV;UR.exports.default=hV;var qR={exports:{}},Fie=Cr;function dV(e,t){if(!e)throw new Error("featurecollection is required");if(t==null)throw new Error("num is required");if(typeof t!="number")throw new Error("num must be a number");var r=Fie.featureCollection(jie(e.features,t));return r}function jie(e,t){for(var r=e.slice(0),n=e.length,i=n-t,u,s;n-- >i;)s=Math.floor((n+1)*Math.random()),u=r[s],r[s]=r[n],r[n]=u;return r.slice(i)}qR.exports=dV;qR.exports.default=dV;var OA={exports:{}},IE={};Object.defineProperty(IE,"__esModule",{value:!0});var Bie=Cr;function $ie(e,t){t===void 0&&(t={});var r=Number(e[0]),n=Number(e[1]),i=Number(e[2]),u=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[r,n],m=[r,u],v=[i,u],_=[i,n];return Bie.polygon([[s,_,v,m,s]],t.properties,{bbox:e,id:t.id})}IE.default=$ie;var Uie=Pf,qie=IE;function _V(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Vie=_V(Uie),Gie=_V(qie);function mV(e){return Gie.default(Vie.default(e))}OA.exports=mV;OA.exports.default=mV;var kA={exports:{}},Wie=fc;function Xie(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var fj=Xie(Wie);function gV(e){var t=e[0],r=e[1],n=e[2],i=e[3],u=fj.default(e.slice(0,2),[n,r]),s=fj.default(e.slice(0,2),[t,i]);if(u>=s){var m=(r+i)/2;return[t,m-(n-t)/2,n,m+(n-t)/2]}else{var v=(t+n)/2;return[v-(i-r)/2,r,v+(i-r)/2,i]}}kA.exports=gV;kA.exports.default=gV;var CE={},pg={};Object.defineProperty(pg,"__esModule",{value:!0});var e0=Cr,Yie=En;function Hie(e,t,r,n){n===void 0&&(n={});var i=Yie.getCoord(e),u=e0.degreesToRadians(i[0]),s=e0.degreesToRadians(i[1]),m=e0.degreesToRadians(r),v=e0.lengthToRadians(t,n.units),_=Math.asin(Math.sin(s)*Math.cos(v)+Math.cos(s)*Math.sin(v)*Math.cos(m)),P=u+Math.atan2(Math.sin(m)*Math.sin(v)*Math.cos(s),Math.cos(v)-Math.sin(s)*Math.sin(_)),C=e0.radiansToDegrees(P),I=e0.radiansToDegrees(_);return e0.point([C,I],n.properties)}pg.default=Hie;var Zie=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(CE,"__esModule",{value:!0});var Kie=Zie(pg),Jie=Cr;function Qie(e,t,r){r===void 0&&(r={});for(var n=r.steps||64,i=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},u=[],s=0;s<n;s++)u.push(Kie.default(e,t,s*-360/n,r).geometry.coordinates);return u.push(u[0]),Jie.polygon([u],i)}CE.default=Qie;var VR={exports:{}},rv={};Object.defineProperty(rv,"__esModule",{value:!0});var jw=Cr,pj=En;function yV(e,t,r){if(r===void 0&&(r={}),r.final===!0)return eoe(e,t);var n=pj.getCoord(e),i=pj.getCoord(t),u=jw.degreesToRadians(n[0]),s=jw.degreesToRadians(i[0]),m=jw.degreesToRadians(n[1]),v=jw.degreesToRadians(i[1]),_=Math.sin(s-u)*Math.cos(v),P=Math.cos(m)*Math.sin(v)-Math.sin(m)*Math.cos(v)*Math.cos(s-u);return jw.radiansToDegrees(Math.atan2(_,P))}rv.default=yV;function eoe(e,t){var r=yV(t,e);return r=(r+180)%360,r}var toe=rv,roe=pg,noe=fc;function GR(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ioe=GR(toe),ooe=GR(roe),aoe=GR(noe);function vV(e,t){var r=aoe.default(e,t),n=ioe.default(e,t),i=ooe.default(e,r/2,n);return i}VR.exports=vV;VR.exports.default=vV;var bx={},soe=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bx,"__esModule",{value:!0});var uoe=soe(Pf),loe=Cr;function coe(e,t){t===void 0&&(t={});var r=uoe.default(e),n=(r[0]+r[2])/2,i=(r[1]+r[3])/2;return loe.point([n,i],t.properties,t)}bx.default=coe;var WR={},hg={};Object.defineProperty(hg,"__esModule",{value:!0});var foe=Jr,poe=Cr;function hoe(e,t){t===void 0&&(t={});var r=0,n=0,i=0;return foe.coordEach(e,function(u){r+=u[0],n+=u[1],i++},!0),poe.point([r/i,n/i],t.properties)}hg.default=hoe;var bV=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(WR,"__esModule",{value:!0});var doe=bV(wA),hj=bV(hg),dj=Cr,_j=En,_oe=Jr;function xV(e,t){switch(t===void 0&&(t={}),_j.getType(e)){case"Point":return dj.point(_j.getCoord(e),t.properties);case"Polygon":var r=[];_oe.coordEach(e,function(G){r.push(G)});var n=hj.default(e,{properties:t.properties}),i=n.geometry.coordinates,u=0,s=0,m=0,v,_,P,C,I,k,F,V,Y=r.map(function(G){return[G[0]-i[0],G[1]-i[1]]});for(v=0;v<r.length-1;v++)_=Y[v],C=_[0],k=_[1],P=Y[v+1],I=P[0],F=P[1],V=C*F-I*k,m+=V,u+=(C+I)*V,s+=(k+F)*V;if(m===0)return n;var q=m*.5,M=1/(6*q);return dj.point([i[0]+M*u,i[1]+M*s],t.properties);default:var j=doe.default(e);return j?xV(j,{properties:t.properties}):hj.default(e,{properties:t.properties})}}WR.default=xV;var XR={};Object.defineProperty(XR,"__esModule",{value:!0});var mj=Cr,moe=Jr;function goe(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return moe.featureEach(e,function(r){var n,i,u,s;switch((s=r.geometry)===null||s===void 0?void 0:s.type){case"Point":t.MultiPoint.coordinates.push(r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"MultiPoint":(n=t.MultiPoint.coordinates).push.apply(n,r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"LineString":t.MultiLineString.coordinates.push(r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"MultiLineString":(i=t.MultiLineString.coordinates).push.apply(i,r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break;case"MultiPolygon":(u=t.MultiPolygon.coordinates).push.apply(u,r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break}}),mj.featureCollection(Object.keys(t).filter(function(r){return t[r].coordinates.length}).sort().map(function(r){var n={type:r,coordinates:t[r].coordinates},i={collectedProperties:t[r].properties};return mj.feature(n,i)}))}XR.default=goe;var xx={exports:{}},aN=Jr,sN=Cr;function wV(e){var t=[];return e.type==="FeatureCollection"?aN.featureEach(e,function(r){aN.coordEach(r,function(n){t.push(sN.point(n,r.properties))})}):aN.coordEach(e,function(r){t.push(sN.point(r,e.properties))}),sN.featureCollection(t)}xx.exports=wV;xx.exports.default=wV;var YR={exports:{}},HR={exports:{}};HR.exports=TA;HR.exports.default=TA;function TA(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,u=SV(e,0,i,r,!0),s=[];if(!u||u.next===u.prev)return s;var m,v,_,P,C,I,k;if(n&&(u=woe(e,t,u,r)),e.length>80*r){m=_=e[0],v=P=e[1];for(var F=r;F<i;F+=r)C=e[F],I=e[F+1],C<m&&(m=C),I<v&&(v=I),C>_&&(_=C),I>P&&(P=I);k=Math.max(_-m,P-v),k=k!==0?1/k:0}return JS(u,s,r,m,v,k),s}function SV(e,t,r,n,i){var u,s;if(i===QM(e,t,r,n)>0)for(u=t;u<r;u+=n)s=gj(u,e[u],e[u+1],s);else for(u=r-n;u>=t;u-=n)s=gj(u,e[u],e[u+1],s);return s&&LA(s,s.next)&&(eE(s),s=s.next),s}function Hy(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(LA(r,r.next)||Ju(r.prev,r,r.next)===0)){if(eE(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function JS(e,t,r,n,i,u,s){if(!!e){!s&&u&&Coe(e,n,i,u);for(var m=e,v,_;e.prev!==e.next;){if(v=e.prev,_=e.next,u?voe(e,n,i,u):yoe(e)){t.push(v.i/r),t.push(e.i/r),t.push(_.i/r),eE(e),e=_.next,m=_.next;continue}if(e=_,e===m){s?s===1?(e=boe(Hy(e),t,r),JS(e,t,r,n,i,u,2)):s===2&&xoe(e,t,r,n,i,u):JS(Hy(e),t,r,n,i,u,1);break}}}}function yoe(e){var t=e.prev,r=e,n=e.next;if(Ju(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(zb(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Ju(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function voe(e,t,r,n){var i=e.prev,u=e,s=e.next;if(Ju(i,u,s)>=0)return!1;for(var m=i.x<u.x?i.x<s.x?i.x:s.x:u.x<s.x?u.x:s.x,v=i.y<u.y?i.y<s.y?i.y:s.y:u.y<s.y?u.y:s.y,_=i.x>u.x?i.x>s.x?i.x:s.x:u.x>s.x?u.x:s.x,P=i.y>u.y?i.y>s.y?i.y:s.y:u.y>s.y?u.y:s.y,C=KM(m,v,t,r,n),I=KM(_,P,t,r,n),k=e.prevZ,F=e.nextZ;k&&k.z>=C&&F&&F.z<=I;){if(k!==e.prev&&k!==e.next&&zb(i.x,i.y,u.x,u.y,s.x,s.y,k.x,k.y)&&Ju(k.prev,k,k.next)>=0||(k=k.prevZ,F!==e.prev&&F!==e.next&&zb(i.x,i.y,u.x,u.y,s.x,s.y,F.x,F.y)&&Ju(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;k&&k.z>=C;){if(k!==e.prev&&k!==e.next&&zb(i.x,i.y,u.x,u.y,s.x,s.y,k.x,k.y)&&Ju(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;F&&F.z<=I;){if(F!==e.prev&&F!==e.next&&zb(i.x,i.y,u.x,u.y,s.x,s.y,F.x,F.y)&&Ju(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function boe(e,t,r){var n=e;do{var i=n.prev,u=n.next.next;!LA(i,u)&&EV(i,n,n.next,u)&&QS(i,u)&&QS(u,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(u.i/r),eE(n),eE(n.next),n=e=u),n=n.next}while(n!==e);return Hy(n)}function xoe(e,t,r,n,i,u){var s=e;do{for(var m=s.next.next;m!==s.prev;){if(s.i!==m.i&&koe(s,m)){var v=PV(s,m);s=Hy(s,s.next),v=Hy(v,v.next),JS(s,t,r,n,i,u),JS(v,t,r,n,i,u);return}m=m.next}s=s.next}while(s!==e)}function woe(e,t,r,n){var i=[],u,s,m,v,_;for(u=0,s=t.length;u<s;u++)m=t[u]*n,v=u<s-1?t[u+1]*n:e.length,_=SV(e,m,v,n,!1),_===_.next&&(_.steiner=!0),i.push(Ooe(_));for(i.sort(Soe),u=0;u<i.length;u++)r=Eoe(i[u],r),r=Hy(r,r.next);return r}function Soe(e,t){return e.x-t.x}function Eoe(e,t){var r=Poe(e,t);if(!r)return t;var n=PV(r,e),i=Hy(r,r.next);return Hy(n,n.next),t===r?i:t}function Poe(e,t){var r=t,n=e.x,i=e.y,u=-1/0,s;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var m=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(m<=n&&m>u){if(u=m,m===n){if(i===r.y)return r;if(i===r.next.y)return r.next}s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!s)return null;if(n===u)return s;var v=s,_=s.x,P=s.y,C=1/0,I;r=s;do n>=r.x&&r.x>=_&&n!==r.x&&zb(i<P?n:u,i,_,P,i<P?u:n,i,r.x,r.y)&&(I=Math.abs(i-r.y)/(n-r.x),QS(r,e)&&(I<C||I===C&&(r.x>s.x||r.x===s.x&&Ioe(s,r)))&&(s=r,C=I)),r=r.next;while(r!==v);return s}function Ioe(e,t){return Ju(e.prev,e,t.prev)<0&&Ju(t.next,e,e.next)<0}function Coe(e,t,r,n){var i=e;do i.z===null&&(i.z=KM(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Aoe(i)}function Aoe(e){var t,r,n,i,u,s,m,v,_=1;do{for(r=e,e=null,u=null,s=0;r;){for(s++,n=r,m=0,t=0;t<_&&(m++,n=n.nextZ,!!n);t++);for(v=_;m>0||v>0&&n;)m!==0&&(v===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,m--):(i=n,n=n.nextZ,v--),u?u.nextZ=i:e=i,i.prevZ=u,u=i;r=n}u.nextZ=null,_*=2}while(s>1);return e}function KM(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Ooe(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function zb(e,t,r,n,i,u,s,m){return(i-s)*(t-m)-(e-s)*(u-m)>=0&&(e-s)*(n-m)-(r-s)*(t-m)>=0&&(r-s)*(u-m)-(i-s)*(n-m)>=0}function koe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Toe(e,t)&&(QS(e,t)&&QS(t,e)&&Loe(e,t)&&(Ju(e.prev,e,t.prev)||Ju(e,t.prev,t))||LA(e,t)&&Ju(e.prev,e,e.next)>0&&Ju(t.prev,t,t.next)>0)}function Ju(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function LA(e,t){return e.x===t.x&&e.y===t.y}function EV(e,t,r,n){var i=YP(Ju(e,t,r)),u=YP(Ju(e,t,n)),s=YP(Ju(r,n,e)),m=YP(Ju(r,n,t));return!!(i!==u&&s!==m||i===0&&XP(e,r,t)||u===0&&XP(e,n,t)||s===0&&XP(r,e,n)||m===0&&XP(r,t,n))}function XP(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function YP(e){return e>0?1:e<0?-1:0}function Toe(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&EV(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function QS(e,t){return Ju(e.prev,e,e.next)<0?Ju(e,t,e.next)>=0&&Ju(e,e.prev,t)>=0:Ju(e,t,e.prev)<0||Ju(e,e.next,t)<0}function Loe(e,t){var r=e,n=!1,i=(e.x+t.x)/2,u=(e.y+t.y)/2;do r.y>u!=r.next.y>u&&r.next.y!==r.y&&i<(r.next.x-r.x)*(u-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function PV(e,t){var r=new JM(e.i,e.x,e.y),n=new JM(t.i,t.x,t.y),i=e.next,u=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,u.next=n,n.prev=u,n}function gj(e,t,r,n){var i=new JM(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function eE(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function JM(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}TA.deviation=function(e,t,r,n){var i=t&&t.length,u=i?t[0]*r:e.length,s=Math.abs(QM(e,0,u,r));if(i)for(var m=0,v=t.length;m<v;m++){var _=t[m]*r,P=m<v-1?t[m+1]*r:e.length;s-=Math.abs(QM(e,_,P,r))}var C=0;for(m=0;m<n.length;m+=3){var I=n[m]*r,k=n[m+1]*r,F=n[m+2]*r;C+=Math.abs((e[I]-e[F])*(e[k+1]-e[I+1])-(e[I]-e[k])*(e[F+1]-e[I+1]))}return s===0&&C===0?0:Math.abs((C-s)/s)};function QM(e,t,r,n){for(var i=0,u=t,s=r-n;u<r;u+=n)i+=(e[s]-e[u])*(e[u+1]+e[s+1]),s=u;return i}TA.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var u=0;u<e[i].length;u++)for(var s=0;s<t;s++)r.vertices.push(e[i][u][s]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var Noe=HR.exports,Moe=Cr;function Roe(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Doe=Roe(Noe);function IV(e){if(!e.geometry||e.geometry.type!=="Polygon"&&e.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return e.geometry.type==="Polygon"?t.features=yj(e.geometry.coordinates):e.geometry.coordinates.forEach(function(r){t.features=t.features.concat(yj(r))}),t}function yj(e){var t=zoe(e),r=2,n=Doe.default(t.vertices,t.holes,r),i=[],u=[];n.forEach(function(v,_){var P=n[_];u.push([t.vertices[P*r],t.vertices[P*r+1]])});for(var s=0;s<u.length;s+=3){var m=u.slice(s,s+3);m.push(u[s]),i.push(Moe.polygon([m]))}return i}function zoe(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var u=0;u<e[i].length;u++)for(var s=0;s<t;s++)r.vertices.push(e[i][u][s]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}YR.exports=IV;YR.exports.default=IV;var AE={},CV=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AE,"__esModule",{value:!0});var Foe=CV(Oc),joe=CV(fc),Boe=Jr;function $oe(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var r,n=1/0,i=0;return Boe.featureEach(t,function(u,s){var m=joe.default(e,u);m<n&&(i=s,n=m)}),r=Foe.default(t.features[i]),r.properties.featureIndex=i,r.properties.distanceToPoint=n,r}AE.default=$oe;var wx={},nv={},$0={};Object.defineProperty($0,"__esModule",{value:!0});var AV=Cr,vj=En,Uoe=Jr;function qoe(e){if(!e)throw new Error("geojson is required");var t=[];return Uoe.flattenEach(e,function(r){Voe(r,t)}),AV.featureCollection(t)}function Voe(e,t){var r=[],n=e.geometry;if(n!==null){switch(n.type){case"Polygon":r=vj.getCoords(n);break;case"LineString":r=[vj.getCoords(n)]}r.forEach(function(i){var u=Goe(i,e.properties);u.forEach(function(s){s.id=t.length,t.push(s)})})}}function Goe(e,t){var r=[];return e.reduce(function(n,i){var u=AV.lineString([n,i],t);return u.bbox=Woe(n,i),r.push(u),i}),r}function Woe(e,t){var r=e[0],n=e[1],i=t[0],u=t[1],s=r<i?r:i,m=n<u?n:u,v=r>i?r:i,_=n>u?n:u;return[s,m,v,_]}$0.default=qoe;var OE={exports:{}},OV={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){function r(M,j,G,J,he){(function pe(ne,ee,ie,we,Se){for(;we>ie;){if(we-ie>600){var Pe=we-ie+1,ae=ee-ie+1,Be=Math.log(Pe),Q=.5*Math.exp(2*Be/3),te=.5*Math.sqrt(Be*Q*(Pe-Q)/Pe)*(ae-Pe/2<0?-1:1),oe=Math.max(ie,Math.floor(ee-ae*Q/Pe+te)),ve=Math.min(we,Math.floor(ee+(Pe-ae)*Q/Pe+te));pe(ne,ee,oe,ve,Se)}var de=ne[ee],ze=ie,ye=we;for(n(ne,ie,ee),Se(ne[we],de)>0&&n(ne,ie,we);ze<ye;){for(n(ne,ze,ye),ze++,ye--;Se(ne[ze],de)<0;)ze++;for(;Se(ne[ye],de)>0;)ye--}Se(ne[ie],de)===0?n(ne,ie,ye):n(ne,++ye,we),ye<=ee&&(ie=ye+1),ee<=ye&&(we=ye-1)}})(M,j,G||0,J||M.length-1,he||i)}function n(M,j,G){var J=M[j];M[j]=M[G],M[G]=J}function i(M,j){return M<j?-1:M>j?1:0}var u=function(M){M===void 0&&(M=9),this._maxEntries=Math.max(4,M),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(M,j,G){if(!G)return j.indexOf(M);for(var J=0;J<j.length;J++)if(G(M,j[J]))return J;return-1}function m(M,j){v(M,0,M.children.length,j,M)}function v(M,j,G,J,he){he||(he=Y(null)),he.minX=1/0,he.minY=1/0,he.maxX=-1/0,he.maxY=-1/0;for(var pe=j;pe<G;pe++){var ne=M.children[pe];_(he,M.leaf?J(ne):ne)}return he}function _(M,j){return M.minX=Math.min(M.minX,j.minX),M.minY=Math.min(M.minY,j.minY),M.maxX=Math.max(M.maxX,j.maxX),M.maxY=Math.max(M.maxY,j.maxY),M}function P(M,j){return M.minX-j.minX}function C(M,j){return M.minY-j.minY}function I(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function k(M){return M.maxX-M.minX+(M.maxY-M.minY)}function F(M,j){return M.minX<=j.minX&&M.minY<=j.minY&&j.maxX<=M.maxX&&j.maxY<=M.maxY}function V(M,j){return j.minX<=M.maxX&&j.minY<=M.maxY&&j.maxX>=M.minX&&j.maxY>=M.minY}function Y(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function q(M,j,G,J,he){for(var pe=[j,G];pe.length;)if(!((G=pe.pop())-(j=pe.pop())<=J)){var ne=j+Math.ceil((G-j)/J/2)*J;r(M,ne,j,G,he),pe.push(j,ne,ne,G)}}return u.prototype.all=function(){return this._all(this.data,[])},u.prototype.search=function(M){var j=this.data,G=[];if(!V(M,j))return G;for(var J=this.toBBox,he=[];j;){for(var pe=0;pe<j.children.length;pe++){var ne=j.children[pe],ee=j.leaf?J(ne):ne;V(M,ee)&&(j.leaf?G.push(ne):F(M,ee)?this._all(ne,G):he.push(ne))}j=he.pop()}return G},u.prototype.collides=function(M){var j=this.data;if(!V(M,j))return!1;for(var G=[];j;){for(var J=0;J<j.children.length;J++){var he=j.children[J],pe=j.leaf?this.toBBox(he):he;if(V(M,pe)){if(j.leaf||F(M,pe))return!0;G.push(he)}}j=G.pop()}return!1},u.prototype.load=function(M){if(!M||!M.length)return this;if(M.length<this._minEntries){for(var j=0;j<M.length;j++)this.insert(M[j]);return this}var G=this._build(M.slice(),0,M.length-1,0);if(this.data.children.length)if(this.data.height===G.height)this._splitRoot(this.data,G);else{if(this.data.height<G.height){var J=this.data;this.data=G,G=J}this._insert(G,this.data.height-G.height-1,!0)}else this.data=G;return this},u.prototype.insert=function(M){return M&&this._insert(M,this.data.height-1),this},u.prototype.clear=function(){return this.data=Y([]),this},u.prototype.remove=function(M,j){if(!M)return this;for(var G,J,he,pe=this.data,ne=this.toBBox(M),ee=[],ie=[];pe||ee.length;){if(pe||(pe=ee.pop(),J=ee[ee.length-1],G=ie.pop(),he=!0),pe.leaf){var we=s(M,pe.children,j);if(we!==-1)return pe.children.splice(we,1),ee.push(pe),this._condense(ee),this}he||pe.leaf||!F(pe,ne)?J?(G++,pe=J.children[G],he=!1):pe=null:(ee.push(pe),ie.push(G),G=0,J=pe,pe=pe.children[0])}return this},u.prototype.toBBox=function(M){return M},u.prototype.compareMinX=function(M,j){return M.minX-j.minX},u.prototype.compareMinY=function(M,j){return M.minY-j.minY},u.prototype.toJSON=function(){return this.data},u.prototype.fromJSON=function(M){return this.data=M,this},u.prototype._all=function(M,j){for(var G=[];M;)M.leaf?j.push.apply(j,M.children):G.push.apply(G,M.children),M=G.pop();return j},u.prototype._build=function(M,j,G,J){var he,pe=G-j+1,ne=this._maxEntries;if(pe<=ne)return m(he=Y(M.slice(j,G+1)),this.toBBox),he;J||(J=Math.ceil(Math.log(pe)/Math.log(ne)),ne=Math.ceil(pe/Math.pow(ne,J-1))),(he=Y([])).leaf=!1,he.height=J;var ee=Math.ceil(pe/ne),ie=ee*Math.ceil(Math.sqrt(ne));q(M,j,G,ie,this.compareMinX);for(var we=j;we<=G;we+=ie){var Se=Math.min(we+ie-1,G);q(M,we,Se,ee,this.compareMinY);for(var Pe=we;Pe<=Se;Pe+=ee){var ae=Math.min(Pe+ee-1,Se);he.children.push(this._build(M,Pe,ae,J-1))}}return m(he,this.toBBox),he},u.prototype._chooseSubtree=function(M,j,G,J){for(;J.push(j),!j.leaf&&J.length-1!==G;){for(var he=1/0,pe=1/0,ne=void 0,ee=0;ee<j.children.length;ee++){var ie=j.children[ee],we=I(ie),Se=(Pe=M,ae=ie,(Math.max(ae.maxX,Pe.maxX)-Math.min(ae.minX,Pe.minX))*(Math.max(ae.maxY,Pe.maxY)-Math.min(ae.minY,Pe.minY))-we);Se<pe?(pe=Se,he=we<he?we:he,ne=ie):Se===pe&&we<he&&(he=we,ne=ie)}j=ne||j.children[0]}var Pe,ae;return j},u.prototype._insert=function(M,j,G){var J=G?M:this.toBBox(M),he=[],pe=this._chooseSubtree(J,this.data,j,he);for(pe.children.push(M),_(pe,J);j>=0&&he[j].children.length>this._maxEntries;)this._split(he,j),j--;this._adjustParentBBoxes(J,he,j)},u.prototype._split=function(M,j){var G=M[j],J=G.children.length,he=this._minEntries;this._chooseSplitAxis(G,he,J);var pe=this._chooseSplitIndex(G,he,J),ne=Y(G.children.splice(pe,G.children.length-pe));ne.height=G.height,ne.leaf=G.leaf,m(G,this.toBBox),m(ne,this.toBBox),j?M[j-1].children.push(ne):this._splitRoot(G,ne)},u.prototype._splitRoot=function(M,j){this.data=Y([M,j]),this.data.height=M.height+1,this.data.leaf=!1,m(this.data,this.toBBox)},u.prototype._chooseSplitIndex=function(M,j,G){for(var J,he,pe,ne,ee,ie,we,Se=1/0,Pe=1/0,ae=j;ae<=G-j;ae++){var Be=v(M,0,ae,this.toBBox),Q=v(M,ae,G,this.toBBox),te=(he=Be,pe=Q,ne=void 0,ee=void 0,ie=void 0,we=void 0,ne=Math.max(he.minX,pe.minX),ee=Math.max(he.minY,pe.minY),ie=Math.min(he.maxX,pe.maxX),we=Math.min(he.maxY,pe.maxY),Math.max(0,ie-ne)*Math.max(0,we-ee)),oe=I(Be)+I(Q);te<Se?(Se=te,J=ae,Pe=oe<Pe?oe:Pe):te===Se&&oe<Pe&&(Pe=oe,J=ae)}return J||G-j},u.prototype._chooseSplitAxis=function(M,j,G){var J=M.leaf?this.compareMinX:P,he=M.leaf?this.compareMinY:C;this._allDistMargin(M,j,G,J)<this._allDistMargin(M,j,G,he)&&M.children.sort(J)},u.prototype._allDistMargin=function(M,j,G,J){M.children.sort(J);for(var he=this.toBBox,pe=v(M,0,j,he),ne=v(M,G-j,G,he),ee=k(pe)+k(ne),ie=j;ie<G-j;ie++){var we=M.children[ie];_(pe,M.leaf?he(we):we),ee+=k(pe)}for(var Se=G-j-1;Se>=j;Se--){var Pe=M.children[Se];_(ne,M.leaf?he(Pe):Pe),ee+=k(ne)}return ee},u.prototype._adjustParentBBoxes=function(M,j,G){for(var J=G;J>=0;J--)_(j[J],M)},u.prototype._condense=function(M){for(var j=M.length-1,G=void 0;j>=0;j--)M[j].children.length===0?j>0?(G=M[j-1].children).splice(G.indexOf(M[j]),1):this.clear():m(M[j],this.toBBox)},u})})(OV);var W_=OV.exports,kV=Cr,TV=Jr,gb=Pf.default,Xoe=TV.featureEach;TV.coordEach;kV.polygon;var bj=kV.featureCollection;function LV(e){var t=new W_(e);return t.insert=function(r){if(r.type!=="Feature")throw new Error("invalid feature");return r.bbox=r.bbox?r.bbox:gb(r),W_.prototype.insert.call(this,r)},t.load=function(r){var n=[];return Array.isArray(r)?r.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:gb(i),n.push(i)}):Xoe(r,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:gb(i),n.push(i)}),W_.prototype.load.call(this,n)},t.remove=function(r,n){if(r.type!=="Feature")throw new Error("invalid feature");return r.bbox=r.bbox?r.bbox:gb(r),W_.prototype.remove.call(this,r,n)},t.clear=function(){return W_.prototype.clear.call(this)},t.search=function(r){var n=W_.prototype.search.call(this,this.toBBox(r));return bj(n)},t.collides=function(r){return W_.prototype.collides.call(this,this.toBBox(r))},t.all=function(){var r=W_.prototype.all.call(this);return bj(r)},t.toJSON=function(){return W_.prototype.toJSON.call(this)},t.fromJSON=function(r){return W_.prototype.fromJSON.call(this,r)},t.toBBox=function(r){var n;if(r.bbox)n=r.bbox;else if(Array.isArray(r)&&r.length===4)n=r;else if(Array.isArray(r)&&r.length===6)n=[r[0],r[1],r[3],r[4]];else if(r.type==="Feature")n=gb(r);else if(r.type==="FeatureCollection")n=gb(r);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},t}OE.exports=LV;OE.exports.default=LV;var NV=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nv,"__esModule",{value:!0});var iS=Cr,e3=En,xj=NV($0),wj=Jr,Yoe=NV(OE.exports);function Hoe(e,t){var r={},n=[];if(e.type==="LineString"&&(e=iS.feature(e)),t.type==="LineString"&&(t=iS.feature(t)),e.type==="Feature"&&t.type==="Feature"&&e.geometry!==null&&t.geometry!==null&&e.geometry.type==="LineString"&&t.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&t.geometry.coordinates.length===2){var i=Sj(e,t);return i&&n.push(i),iS.featureCollection(n)}var u=Yoe.default();return u.load(xj.default(t)),wj.featureEach(xj.default(e),function(s){wj.featureEach(u.search(s),function(m){var v=Sj(s,m);if(v){var _=e3.getCoords(v).join(",");r[_]||(r[_]=!0,n.push(v))}})}),iS.featureCollection(n)}function Sj(e,t){var r=e3.getCoords(e),n=e3.getCoords(t);if(r.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(n.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=r[0][0],u=r[0][1],s=r[1][0],m=r[1][1],v=n[0][0],_=n[0][1],P=n[1][0],C=n[1][1],I=(C-_)*(s-i)-(P-v)*(m-u),k=(P-v)*(u-_)-(C-_)*(i-v),F=(s-i)*(u-_)-(m-u)*(i-v);if(I===0)return k===0&&F===0,null;var V=k/I,Y=F/I;if(V>=0&&V<=1&&Y>=0&&Y<=1){var q=i+V*(s-i),M=u+V*(m-u);return iS.point([q,M])}return null}nv.default=Hoe;var NA=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wx,"__esModule",{value:!0});var Zoe=NA(rv),Bw=NA(fc),Ej=NA(pg),Koe=NA(nv),Joe=Jr,$w=Cr,Qoe=En;function eae(e,t,r){r===void 0&&(r={});var n=$w.point([1/0,1/0],{dist:1/0}),i=0;return Joe.flattenEach(e,function(u){for(var s=Qoe.getCoords(u),m=0;m<s.length-1;m++){var v=$w.point(s[m]);v.properties.dist=Bw.default(t,v,r);var _=$w.point(s[m+1]);_.properties.dist=Bw.default(t,_,r);var P=Bw.default(v,_,r),C=Math.max(v.properties.dist,_.properties.dist),I=Zoe.default(v,_),k=Ej.default(t,C,I+90,r),F=Ej.default(t,C,I-90,r),V=Koe.default($w.lineString([k.geometry.coordinates,F.geometry.coordinates]),$w.lineString([v.geometry.coordinates,_.geometry.coordinates])),Y=null;V.features.length>0&&(Y=V.features[0],Y.properties.dist=Bw.default(t,Y,r),Y.properties.location=i+Bw.default(v,Y,r)),v.properties.dist<n.properties.dist&&(n=v,n.properties.index=m,n.properties.location=i),_.properties.dist<n.properties.dist&&(n=_,n.properties.index=m+1,n.properties.location=i+P),Y&&Y.properties.dist<n.properties.dist&&(n=Y,n.properties.index=m),i+=P}}),n}wx.default=eae;var ZR={},MA={},Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});var MV=Cr,Pj=En;function tae(e,t,r){r===void 0&&(r={});var n=Pj.getCoord(e),i=Pj.getCoord(t);i[0]+=i[0]-n[0]>180?-360:n[0]-i[0]>180?360:0;var u=rae(n,i),s=MV.convertLength(u,"meters",r.units);return s}function rae(e,t,r){r=r===void 0?MV.earthRadius:Number(r);var n=r,i=e[1]*Math.PI/180,u=t[1]*Math.PI/180,s=u-i,m=Math.abs(t[0]-e[0])*Math.PI/180;m>Math.PI&&(m-=2*Math.PI);var v=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),_=Math.abs(v)>1e-11?s/v:Math.cos(i),P=Math.sqrt(s*s+_*_*m*m),C=P*n;return C}Sx.default=tae;var RV=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MA,"__esModule",{value:!0});var nae=RV(fc),Uw=Cr,Ij=En,iae=Jr,oae=RV(Sx);function aae(e,t,r){if(r===void 0&&(r={}),r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=Uw.point(e):e.type==="Point"?e=Uw.feature(e):Ij.featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=Uw.lineString(t):t.type==="LineString"?t=Uw.feature(t):Ij.featureOf(t,"LineString","line");var n=1/0,i=e.geometry.coordinates;return iae.segmentEach(t,function(u){var s=u.geometry.coordinates[0],m=u.geometry.coordinates[1],v=sae(i,s,m,r);v<n&&(n=v)}),Uw.convertLength(n,"degrees",r.units)}function sae(e,t,r,n){var i=[r[0]-t[0],r[1]-t[1]],u=[e[0]-t[0],e[1]-t[1]],s=Cj(u,i);if(s<=0)return uN(e,t,{method:n.method,units:"degrees"});var m=Cj(i,i);if(m<=s)return uN(e,r,{method:n.method,units:"degrees"});var v=s/m,_=[t[0]+v*i[0],t[1]+v*i[1]];return uN(e,_,{method:n.method,units:"degrees"})}function Cj(e,t){return e[0]*t[0]+e[1]*t[1]}function uN(e,t,r){return r.method==="planar"?oae.default(e,t,r):nae.default(e,t,r)}MA.default=aae;var DV=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ZR,"__esModule",{value:!0});var uae=En,zV=Jr,lae=DV(MA),cae=DV(ER);function fae(e,t,r){r===void 0&&(r={});var n=r.units,i=r.properties||{},u=pae(e);if(!u.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if(uae.getType(t)!=="LineString")throw new Error("line must be a LineString");var s=1/0,m=null;return zV.featureEach(u,function(v){var _=lae.default(v,t,{units:n});_<s&&(s=_,m=v)}),m&&(m.properties=cae.default({dist:s},m.properties,i)),m}function pae(e){var t=[],r=e.geometry?e.geometry.type:e.type;switch(r){case"GeometryCollection":return zV.geomEach(e,function(n){n.type==="Point"&&t.push({type:"Feature",properties:{},geometry:n})}),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter(function(n){return n.geometry.type==="Point"}),e;default:throw new Error("points must be a Point Collection")}}ZR.default=fae;var KR={exports:{}},Aj=En;function FV(e,t){var r=Aj.getCoord(e),n=Aj.getGeom(t),i=n.coordinates,u=i[0];if(u.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var s=t.properties||{},m=s.a,v=s.b,_=s.c,P=r[0],C=r[1],I=u[0][0],k=u[0][1],F=m!==void 0?m:u[0][2],V=u[1][0],Y=u[1][1],q=v!==void 0?v:u[1][2],M=u[2][0],j=u[2][1],G=_!==void 0?_:u[2][2],J=(G*(P-I)*(C-Y)+F*(P-V)*(C-j)+q*(P-M)*(C-k)-q*(P-I)*(C-j)-G*(P-V)*(C-k)-F*(P-M)*(C-Y))/((P-I)*(C-Y)+(P-V)*(C-j)+(P-M)*(C-k)-(P-I)*(C-j)-(P-V)*(C-k)-(P-M)*(C-Y));return J}KR.exports=FV;KR.exports.default=FV;var JR={};Object.defineProperty(JR,"__esModule",{value:!0});var hae=Cr;function dae(e){var t,r,n={type:"FeatureCollection",features:[]};if(e.type==="Feature"?r=e.geometry:r=e,r.type==="LineString")t=[r.coordinates];else if(r.type==="MultiLineString")t=r.coordinates;else if(r.type==="MultiPolygon")t=[].concat.apply([],r.coordinates);else if(r.type==="Polygon")t=r.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return t.forEach(function(i){t.forEach(function(u){for(var s=0;s<i.length-1;s++)for(var m=s;m<u.length-1;m++)if(!(i===u&&(Math.abs(s-m)===1||s===0&&m===i.length-2&&i[s][0]===i[i.length-1][0]&&i[s][1]===i[i.length-1][1]))){var v=_ae(i[s][0],i[s][1],i[s+1][0],i[s+1][1],u[m][0],u[m][1],u[m+1][0],u[m+1][1]);v&&n.features.push(hae.point([v[0],v[1]]))}})}),n}JR.default=dae;function _ae(e,t,r,n,i,u,s,m){var v,_,P,C,I,k={x:null,y:null,onLine1:!1,onLine2:!1};return v=(m-u)*(r-e)-(s-i)*(n-t),v===0?k.x!==null&&k.y!==null?k:!1:(_=t-u,P=e-i,C=(s-i)*_-(m-u)*P,I=(r-e)*_-(n-t)*P,_=C/v,P=I/v,k.x=e+_*(r-e),k.y=t+_*(n-t),_>=0&&_<=1&&(k.onLine1=!0),P>=0&&P<=1&&(k.onLine2=!0),k.onLine1&&k.onLine2?[k.x,k.y]:!1)}var QR={exports:{}},mae=xx.exports,gae=bx,yae=AE,vae=Wf,IS=Cr;function RA(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var bae=RA(mae),xae=RA(gae),wae=RA(yae),Sae=RA(vae);function jV(e){for(var t=Eae(e),r=xae.default(t),n=!1,i=0;!n&&i<t.features.length;){var u=t.features[i].geometry,s,m,v,_,P,C,I,k=!1;if(u.type==="Point")r.geometry.coordinates[0]===u.coordinates[0]&&r.geometry.coordinates[1]===u.coordinates[1]&&(n=!0);else if(u.type==="MultiPoint"){var F=!1;for(I=0;!F&&I<u.coordinates.length;)r.geometry.coordinates[0]===u.coordinates[I][0]&&r.geometry.coordinates[1]===u.coordinates[I][1]&&(n=!0,F=!0),I++}else if(u.type==="LineString")for(I=0;!k&&I<u.coordinates.length-1;)s=r.geometry.coordinates[0],m=r.geometry.coordinates[1],v=u.coordinates[I][0],_=u.coordinates[I][1],P=u.coordinates[I+1][0],C=u.coordinates[I+1][1],Oj(s,m,v,_,P,C)&&(k=!0,n=!0),I++;else if(u.type==="MultiLineString")for(var V=0;V<u.coordinates.length;){k=!1,I=0;for(var Y=u.coordinates[V];!k&&I<Y.length-1;)s=r.geometry.coordinates[0],m=r.geometry.coordinates[1],v=Y[I][0],_=Y[I][1],P=Y[I+1][0],C=Y[I+1][1],Oj(s,m,v,_,P,C)&&(k=!0,n=!0),I++;V++}else(u.type==="Polygon"||u.type==="MultiPolygon")&&Sae.default(r,u)&&(n=!0);i++}if(n)return r;var q=IS.featureCollection([]);for(i=0;i<t.features.length;i++)q.features=q.features.concat(bae.default(t.features[i]).features);return IS.point(wae.default(r,q).geometry.coordinates)}function Eae(e){return e.type!=="FeatureCollection"?e.type!=="Feature"?IS.featureCollection([IS.feature(e)]):IS.featureCollection([e]):e}function Oj(e,t,r,n,i,u){var s=Math.sqrt((i-r)*(i-r)+(u-n)*(u-n)),m=Math.sqrt((e-r)*(e-r)+(t-n)*(t-n)),v=Math.sqrt((i-e)*(i-e)+(u-t)*(u-t));return s===m+v}QR.exports=jV;QR.exports.default=jV;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});var Pae=Jr,kj=6378137;function Iae(e){return Pae.geomReduce(e,function(t,r){return t+Cae(r)},0)}kE.default=Iae;function Cae(e){var t=0,r;switch(e.type){case"Polygon":return Tj(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)t+=Tj(e.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Tj(e){var t=0;if(e&&e.length>0){t+=Math.abs(Lj(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(Lj(e[r]))}return t}function Lj(e){var t,r,n,i,u,s,m,v=0,_=e.length;if(_>2){for(m=0;m<_;m++)m===_-2?(i=_-2,u=_-1,s=0):m===_-1?(i=_-1,u=0,s=1):(i=m,u=m+1,s=m+2),t=e[i],r=e[u],n=e[s],v+=(lN(n[0])-lN(t[0]))*Math.sin(lN(r[1]));v=v*kj*kj/2}return v}function lN(e){return e*Math.PI/180}var eD={},tD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eD,"__esModule",{value:!0});var Aae=tD(rv),Oae=tD(pg),kae=tD(fc),Nj=Cr,Tae=En;function Lae(e,t,r){r===void 0&&(r={});for(var n=Tae.getGeom(e),i=n.coordinates,u=0,s=0;s<i.length&&!(t>=u&&s===i.length-1);s++)if(u>=t){var m=t-u;if(m){var v=Aae.default(i[s],i[s-1])-180,_=Oae.default(i[s],m,v,r);return _}else return Nj.point(i[s])}else u+=kae.default(i[s],i[s+1],r);return Nj.point(i[i.length-1])}eD.default=Lae;var DA={},Nae=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DA,"__esModule",{value:!0});var Mae=Nae(fc),Rae=Jr;function Dae(e,t){return t===void 0&&(t={}),Rae.segmentReduce(e,function(r,n){var i=n.geometry.coordinates;return r+Mae.default(i[0],i[1],t)},0)}DA.default=Dae;var rD={exports:{}},Mj=En,zae=Cr,Fae=wx;function jae(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Rj=jae(Fae);function BV(e,t,r){var n=Mj.getCoords(r);if(Mj.getType(r)!=="LineString")throw new Error("line must be a LineString");var i=Rj.default(r,e),u=Rj.default(r,t),s;i.properties.index<=u.properties.index?s=[i,u]:s=[u,i];for(var m=[s[0].geometry.coordinates],v=s[0].properties.index+1;v<s[1].properties.index+1;v++)m.push(n[v]);return m.push(s[1].geometry.coordinates),zae.lineString(m,r.properties)}rD.exports=BV;rD.exports.default=BV;var zA={exports:{}},Bae=rv,$ae=fc,Uae=pg,yb=Cr;function nD(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Dj=nD(Bae),qae=nD($ae),zj=nD(Uae);function $V(e,t,r,n){if(n=n||{},!yb.isObject(n))throw new Error("options is invalid");var i,u=[];if(e.type==="Feature")i=e.geometry.coordinates;else if(e.type==="LineString")i=e.coordinates;else throw new Error("input must be a LineString Feature or Geometry");for(var s=i.length,m=0,v,_,P,C=0;C<i.length&&!(t>=m&&C===i.length-1);C++){if(m>t&&u.length===0){if(v=t-m,!v)return u.push(i[C]),yb.lineString(u);_=Dj.default(i[C],i[C-1])-180,P=zj.default(i[C],v,_,n),u.push(P.geometry.coordinates)}if(m>=r)return v=r-m,v?(_=Dj.default(i[C],i[C-1])-180,P=zj.default(i[C],v,_,n),u.push(P.geometry.coordinates),yb.lineString(u)):(u.push(i[C]),yb.lineString(u));if(m>=t&&u.push(i[C]),C===i.length-1)return yb.lineString(u);m+=qae.default(i[C],i[C+1],n)}if(m<t&&i.length===s)throw new Error("Start position is beyond line");var I=i[i.length-1];return yb.lineString([I,I])}zA.exports=$V;zA.exports.default=$V;var FA={},jA={},Ex={};Object.defineProperty(Ex,"__esModule",{value:!0});var Fj=En;function Vae(e,t,r){r===void 0&&(r={});for(var n=Fj.getCoord(e),i=Fj.getCoords(t),u=0;u<i.length-1;u++){var s=!1;if(r.ignoreEndVertices&&(u===0&&(s="start"),u===i.length-2&&(s="end"),u===0&&u+1===i.length-1&&(s="both")),Gae(i[u],i[u+1],n,s,typeof r.epsilon=="undefined"?null:r.epsilon))return!0}return!1}function Gae(e,t,r,n,i){var u=r[0],s=r[1],m=e[0],v=e[1],_=t[0],P=t[1],C=r[0]-m,I=r[1]-v,k=_-m,F=P-v,V=C*F-I*k;if(i!==null){if(Math.abs(V)>i)return!1}else if(V!==0)return!1;if(n){if(n==="start")return Math.abs(k)>=Math.abs(F)?k>0?m<u&&u<=_:_<=u&&u<m:F>0?v<s&&s<=P:P<=s&&s<v;if(n==="end")return Math.abs(k)>=Math.abs(F)?k>0?m<=u&&u<_:_<u&&u<=m:F>0?v<=s&&s<P:P<s&&s<=v;if(n==="both")return Math.abs(k)>=Math.abs(F)?k>0?m<u&&u<_:_<u&&u<m:F>0?v<s&&s<P:P<s&&s<v}else return Math.abs(k)>=Math.abs(F)?k>0?m<=u&&u<=_:_<=u&&u<=m:F>0?v<=s&&s<=P:P<=s&&s<=v;return!1}Ex.default=Vae;var iD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jA,"__esModule",{value:!0});var mC=iD(Pf),gC=iD(Ex),d0=iD(Wf),jj=En;function Wae(e,t){var r=jj.getGeom(e),n=jj.getGeom(t),i=r.type,u=n.type;switch(i){case"Point":switch(u){case"MultiPoint":return Xae(r,n);case"LineString":return gC.default(r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return d0.default(r,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+u+" geometry not supported")}case"MultiPoint":switch(u){case"MultiPoint":return Yae(r,n);case"LineString":return Hae(r,n);case"Polygon":case"MultiPolygon":return Zae(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}case"LineString":switch(u){case"LineString":return Kae(r,n);case"Polygon":case"MultiPolygon":return Jae(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}case"Polygon":switch(u){case"Polygon":case"MultiPolygon":return Qae(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function Xae(e,t){var r,n=!1;for(r=0;r<t.coordinates.length;r++)if(qV(t.coordinates[r],e.coordinates)){n=!0;break}return n}function Yae(e,t){for(var r=0;r<e.coordinates.length;r++){for(var n=!1,i=0;i<t.coordinates.length;i++)qV(e.coordinates[r],t.coordinates[i])&&(n=!0);if(!n)return!1}return!0}function Hae(e,t){for(var r=!1,n=0;n<e.coordinates.length;n++){if(!gC.default(e.coordinates[n],t))return!1;r||(r=gC.default(e.coordinates[n],t,{ignoreEndVertices:!0}))}return r}function Zae(e,t){for(var r=!0,n=!1,i=0;i<e.coordinates.length;i++){if(n=d0.default(e.coordinates[1],t),!n){r=!1;break}n=d0.default(e.coordinates[1],t,{ignoreBoundary:!0})}return r&&n}function Kae(e,t){for(var r=0;r<e.coordinates.length;r++)if(!gC.default(e.coordinates[r],t))return!1;return!0}function Jae(e,t){var r=mC.default(t),n=mC.default(e);if(!UV(r,n))return!1;for(var i=!1,u=0;u<e.coordinates.length-1;u++){if(!d0.default(e.coordinates[u],t))return!1;if(i||(i=d0.default(e.coordinates[u],t,{ignoreBoundary:!0})),!i){var s=ese(e.coordinates[u],e.coordinates[u+1]);i=d0.default(s,t,{ignoreBoundary:!0})}}return i}function Qae(e,t){var r=mC.default(e),n=mC.default(t);if(!UV(n,r))return!1;for(var i=0;i<e.coordinates[0].length;i++)if(!d0.default(e.coordinates[0][i],t))return!1;return!0}function UV(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function qV(e,t){return e[0]===t[0]&&e[1]===t[1]}function ese(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}jA.default=Wae;var VV=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(FA,"__esModule",{value:!0});var tse=VV(jA),Bj=VV(fc),$j=Cr;function rse(e,t,r){r===void 0&&(r={}),r.mask&&!r.units&&(r.units="kilometers");for(var n=[],i=e[0],u=e[1],s=e[2],m=e[3],v=t/Bj.default([i,u],[s,u],r),_=v*(s-i),P=t/Bj.default([i,u],[i,m],r),C=P*(m-u),I=s-i,k=m-u,F=Math.floor(I/_),V=Math.floor(k/C),Y=(I-F*_)/2,q=(k-V*C)/2,M=i+Y;M<=s;){for(var j=u+q;j<=m;){var G=$j.point([M,j],r.properties);r.mask?tse.default(G,r.mask)&&n.push(G):n.push(G),j+=C}M+=_}return $j.featureCollection(n)}FA.default=rse;var BA={};Object.defineProperty(BA,"__esModule",{value:!0});var nse=Jr;function ise(e,t){t===void 0&&(t={});var r=t.precision,n=t.coordinates,i=t.mutate;if(r=r==null||isNaN(r)?6:r,n=n==null||isNaN(n)?3:n,!e)throw new Error("<geojson> is required");if(typeof r!="number")throw new Error("<precision> must be a number");if(typeof n!="number")throw new Error("<coordinates> must be a number");(i===!1||i===void 0)&&(e=JSON.parse(JSON.stringify(e)));var u=Math.pow(10,r);return nse.coordEach(e,function(s){ose(s,u,n)}),e}function ose(e,t,r){e.length>r&&e.splice(r,e.length);for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]*t)/t;return e}BA.default=ise;var $A={exports:{}},ase=Jr,sse=Cr;function GV(e){if(!e)throw new Error("geojson is required");var t=[];return ase.flattenEach(e,function(r){t.push(r)}),sse.featureCollection(t)}$A.exports=GV;$A.exports.default=GV;var oD={exports:{}},use=DA,lse=zA.exports,cse=Jr,Uj=Cr;function WV(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var fse=WV(use),pse=WV(lse);function XV(e,t,r){if(r=r||{},!Uj.isObject(r))throw new Error("options is invalid");var n=r.units,i=r.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var u=[];return cse.flattenEach(e,function(s){i&&(s.geometry.coordinates=s.geometry.coordinates.reverse()),hse(s,t,n,function(m){u.push(m)})}),Uj.featureCollection(u)}function hse(e,t,r,n){var i=fse.default(e,{units:r});if(i<=t)return n(e);var u=i/t;Number.isInteger(u)||(u=Math.floor(u)+1);for(var s=0;s<u;s++){var m=pse.default(e,t*s,t*(s+1),{units:r});n(m,s)}}oD.exports=XV;oD.exports.default=XV;var aD={exports:{}},qj=Jr,Fb=Cr,dse=AA.exports,_se=kE,mse=Wf;function sD(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var YV=sD(dse),gse=sD(_se),yse=sD(mse);function vse(e,t,r){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");r===void 0&&(r=1);var n=e.geometry.coordinates,i=[],u={};if(r){for(var s=[],m=0;m<n.length;m++)for(var v=0;v<n[m].length-1;v++)s.push(Y(m,v));var _=YV.default();_.load(s)}for(var P=0;P<n.length;P++)for(var C=0;C<n[P].length-1;C++)if(r){var I=_.search(Y(P,C));I.forEach(function(q){var M=q.ring,j=q.edge;V(P,C,M,j)})}else for(var k=0;k<n.length;k++)for(var F=0;F<n[k].length-1;F++)V(P,C,k,F);return t||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i;function V(q,M,j,G){var J=n[q][M],he=n[q][M+1],pe=n[j][G],ne=n[j][G+1],ee=bse(J,he,pe,ne);if(ee!==null){var ie,we;if(he[0]!==J[0]?ie=(ee[0]-J[0])/(he[0]-J[0]):ie=(ee[1]-J[1])/(he[1]-J[1]),ne[0]!==pe[0]?we=(ee[0]-pe[0])/(ne[0]-pe[0]):we=(ee[1]-pe[1])/(ne[1]-pe[1]),!(ie>=1||ie<=0||we>=1||we<=0)){var Se=ee,Pe=!u[Se];Pe&&(u[Se]=!0),t?i.push(t(ee,q,M,J,he,ie,j,G,pe,ne,we,Pe)):i.push(ee)}}}function Y(q,M){var j=n[q][M],G=n[q][M+1],J,he,pe,ne;return j[0]<G[0]?(J=j[0],he=G[0]):(J=G[0],he=j[0]),j[1]<G[1]?(pe=j[1],ne=G[1]):(pe=G[1],ne=j[1]),{minX:J,minY:pe,maxX:he,maxY:ne,ring:q,edge:M}}}function bse(e,t,r,n){if(oS(e,r)||oS(e,n)||oS(t,r)||oS(n,r))return null;var i=e[0],u=e[1],s=t[0],m=t[1],v=r[0],_=r[1],P=n[0],C=n[1],I=(i-s)*(_-C)-(u-m)*(v-P);if(I===0)return null;var k=((i*m-u*s)*(v-P)-(i-s)*(v*C-_*P))/I,F=((i*m-u*s)*(_-C)-(u-m)*(v*C-_*P))/I;return[k,F]}function oS(e,t){if(!e||!t||e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!oS(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;return!0}function xse(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,r=[],M=0;M<t;M++){var n=e.geometry.coordinates[M];aS(n[0],n[n.length-1])||n.push(n[0]),r.push.apply(r,n.slice(0,n.length-1))}if(!Sse(r))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var i=r.length,u=vse(e,function(Qe,yt,_t,Tt,Yt,It,Ut,Or,Xt,Ht,xr,Lr){return[Qe,yt,_t,Tt,Yt,It,Ut,Or,Xt,Ht,xr,Lr]}),s=u.length;if(s==0){for(var pe=[],M=0;M<t;M++)pe.push(Fb.polygon([e.geometry.coordinates[M]],{parent:-1,winding:wse(e.geometry.coordinates[M])}));var ve=Fb.featureCollection(pe);return de(),ze(),ve}for(var m=[],v=[],M=0;M<t;M++){m.push([]);for(var _=0;_<e.geometry.coordinates[M].length-1;_++)m[M].push([new Vj(e.geometry.coordinates[M][jb(_+1,e.geometry.coordinates[M].length-1)],1,[M,_],[M,jb(_+1,e.geometry.coordinates[M].length-1)],void 0)]),v.push(new Gj(e.geometry.coordinates[M][_],[M,jb(_-1,e.geometry.coordinates[M].length-1)],[M,_],void 0,void 0,!1,!0))}for(var M=0;M<s;M++)m[u[M][1]][u[M][2]].push(new Vj(u[M][0],u[M][5],[u[M][1],u[M][2]],[u[M][6],u[M][7]],void 0)),u[M][11]&&v.push(new Gj(u[M][0],[u[M][1],u[M][2]],[u[M][6],u[M][7]],void 0,void 0,!0,!0));for(var P=v.length,M=0;M<m.length;M++)for(var _=0;_<m[M].length;_++)m[M][_].sort(function(yt,_t){return yt.param<_t.param?-1:1});for(var C=[],M=0;M<P;M++)C.push({minX:v[M].coord[0],minY:v[M].coord[1],maxX:v[M].coord[0],maxY:v[M].coord[1],index:M});var I=YV.default();I.load(C);for(var M=0;M<m.length;M++)for(var _=0;_<m[M].length;_++)for(var k=0;k<m[M][_].length;k++){var F;k==m[M][_].length-1?F=m[M][jb(_+1,e.geometry.coordinates[M].length-1)][0].coord:F=m[M][_][k+1].coord;var V=I.search({minX:F[0],minY:F[1],maxX:F[0],maxY:F[1]})[0];m[M][_][k].nxtIsectAlongEdgeIn=V.index}for(var M=0;M<m.length;M++)for(var _=0;_<m[M].length;_++)for(var k=0;k<m[M][_].length;k++){var F=m[M][_][k].coord,V=I.search({minX:F[0],minY:F[1],maxX:F[0],maxY:F[1]})[0],Y=V.index;Y<i?v[Y].nxtIsectAlongRingAndEdge2=m[M][_][k].nxtIsectAlongEdgeIn:aS(v[Y].ringAndEdge1,m[M][_][k].ringAndEdgeIn)?v[Y].nxtIsectAlongRingAndEdge1=m[M][_][k].nxtIsectAlongEdgeIn:v[Y].nxtIsectAlongRingAndEdge2=m[M][_][k].nxtIsectAlongEdgeIn}for(var q=[],M=0,_=0;_<t;_++){for(var j=M,k=0;k<e.geometry.coordinates[_].length-1;k++)v[M].coord[0]<v[j].coord[0]&&(j=M),M++;for(var G=v[j].nxtIsectAlongRingAndEdge2,k=0;k<v.length;k++)if(v[k].nxtIsectAlongRingAndEdge1==j||v[k].nxtIsectAlongRingAndEdge2==j){var J=k;break}var he=LI([v[J].coord,v[j].coord,v[G].coord],!0)?1:-1;q.push({isect:j,parent:-1,winding:he})}q.sort(function(Je,Qe){return v[Je.isect].coord>v[Qe.isect].coord?-1:1});for(var pe=[];q.length>0;){var ne=q.pop(),ee=ne.isect,ie=ne.parent,we=ne.winding,Se=pe.length,Pe=[v[ee].coord],ae=ee;if(v[ee].ringAndEdge1Walkable)var Be=v[ee].ringAndEdge1,Q=v[ee].nxtIsectAlongRingAndEdge1;else var Be=v[ee].ringAndEdge2,Q=v[ee].nxtIsectAlongRingAndEdge2;for(;!aS(v[ee].coord,v[Q].coord);){Pe.push(v[Q].coord);for(var te=void 0,M=0;M<q.length;M++)if(q[M].isect==Q){te=M;break}if(te!=null&&q.splice(te,1),aS(Be,v[Q].ringAndEdge1)){if(Be=v[Q].ringAndEdge2,v[Q].ringAndEdge2Walkable=!1,v[Q].ringAndEdge1Walkable){var oe={isect:Q};LI([v[ae].coord,v[Q].coord,v[v[Q].nxtIsectAlongRingAndEdge2].coord],we==1)?(oe.parent=ie,oe.winding=-we):(oe.parent=Se,oe.winding=we),q.push(oe)}ae=Q,Q=v[Q].nxtIsectAlongRingAndEdge2}else{if(Be=v[Q].ringAndEdge1,v[Q].ringAndEdge1Walkable=!1,v[Q].ringAndEdge2Walkable){var oe={isect:Q};LI([v[ae].coord,v[Q].coord,v[v[Q].nxtIsectAlongRingAndEdge1].coord],we==1)?(oe.parent=ie,oe.winding=-we):(oe.parent=Se,oe.winding=we),q.push(oe)}ae=Q,Q=v[Q].nxtIsectAlongRingAndEdge1}}Pe.push(v[Q].coord),pe.push(Fb.polygon([Pe],{index:Se,parent:ie,winding:we,netWinding:void 0}))}var ve=Fb.featureCollection(pe);de(),ze();function de(){for(var Je=[],Qe=0;Qe<ve.features.length;Qe++)ve.features[Qe].properties.parent==-1&&Je.push(Qe);if(Je.length>1)for(var Qe=0;Qe<Je.length;Qe++){for(var yt=-1,_t=1/0,Tt=0;Tt<ve.features.length;Tt++)Je[Qe]!=Tt&&yse.default(ve.features[Je[Qe]].geometry.coordinates[0][0],ve.features[Tt],{ignoreBoundary:!0})&&gse.default(ve.features[Tt])<_t&&(yt=Tt);ve.features[Je[Qe]].properties.parent=yt}}function ze(){for(var Je=0;Je<ve.features.length;Je++)if(ve.features[Je].properties.parent==-1){var Qe=ve.features[Je].properties.winding;ve.features[Je].properties.netWinding=Qe,ye(Je,Qe)}}function ye(Je,Qe){for(var yt=0;yt<ve.features.length;yt++)if(ve.features[yt].properties.parent==Je){var _t=Qe+ve.features[yt].properties.winding;ve.features[yt].properties.netWinding=_t,ye(yt,_t)}}return ve}var Vj=function(e,t,r,n,i){this.coord=e,this.param=t,this.ringAndEdgeIn=r,this.ringAndEdgeOut=n,this.nxtIsectAlongEdgeIn=i},Gj=function(e,t,r,n,i,u,s){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=r,this.nxtIsectAlongRingAndEdge1=n,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=u,this.ringAndEdge2Walkable=s};function LI(e,t){if(typeof t=="undefined"&&(t=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");var r=(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0]);return r>=0==t}function wse(e){for(var t=0,r=0;r<e.length-1;r++)e[r][0]<e[t][0]&&(t=r);if(LI([e[jb(t-1,e.length-1)],e[t],e[jb(t+1,e.length-1)]],!0))var n=1;else var n=-1;return n}function aS(e,t){if(!e||!t||e.length!=t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!aS(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0}function jb(e,t){return(e%t+t)%t}function Sse(e){for(var t={},r=1,n=0,i=e.length;n<i;++n){if(Object.prototype.hasOwnProperty.call(t,e[n])){r=0;break}t[e[n]]=1}return r}function HV(e){var t=[];return qj.flattenEach(e,function(r){r.geometry.type==="Polygon"&&qj.featureEach(xse(r),function(n){t.push(Fb.polygon(n.geometry.coordinates,r.properties))})}),Fb.featureCollection(t)}aD.exports=HV;aD.exports.default=HV;var uD={exports:{}},Wj=En,Xj=Math.PI/180,Yj=180/Math.PI,tE=function(e,t){this.lon=e,this.lat=t,this.x=Xj*e,this.y=Xj*t};tE.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)};tE.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:(180-this.lon)*-1;return new tE(t,e)};var ZV=function(){this.coords=[],this.length=0};ZV.prototype.move_to=function(e){this.length++,this.coords.push(e)};var lD=function(e){this.properties=e||{},this.geometries=[]};lD.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}};lD.prototype.wkt=function(){for(var e="",t="LINESTRING(",r=function(u){t+=u[0]+" "+u[1]+","},n=0;n<this.geometries.length;n++){if(this.geometries[n].coords.length===0)return"LINESTRING(empty)";var i=this.geometries[n].coords;i.forEach(r),e+=t.substring(0,t.length-1)+")"}return e};var cD=function(e,t,r){if(!e||e.x===void 0||e.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||t.x===void 0||t.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new tE(e.x,e.y),this.end=new tE(t.x,t.y),this.properties=r||{};var n=this.start.x-this.end.x,i=this.start.y-this.end.y,u=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(u)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};cD.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),r=Math.sin(e*this.g)/Math.sin(this.g),n=t*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),u=t*Math.sin(this.start.y)+r*Math.sin(this.end.y),s=Yj*Math.atan2(u,Math.sqrt(Math.pow(n,2)+Math.pow(i,2))),m=Yj*Math.atan2(i,n);return[m,s]};cD.prototype.Arc=function(e,t){var r=[];if(!e||e<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(e-1),i=0;i<e;++i){var u=n*i,s=this.interpolate(u);r.push(s)}for(var m=!1,v=0,_=t&&t.offset?t.offset:10,P=180-_,C=-180+_,I=360-_,k=1;k<r.length;++k){var F=r[k-1][0],V=r[k][0],Y=Math.abs(V-F);Y>I&&(V>P&&F<C||F>P&&V<C)?m=!0:Y>v&&(v=Y)}var q=[];if(m&&v<_){var M=[];q.push(M);for(var j=0;j<r.length;++j){var G=parseFloat(r[j][0]);if(j>0&&Math.abs(G-r[j-1][0])>I){var J=parseFloat(r[j-1][0]),he=parseFloat(r[j-1][1]),pe=parseFloat(r[j][0]),ne=parseFloat(r[j][1]);if(J>-180&&J<C&&pe===180&&j+1<r.length&&r[j-1][0]>-180&&r[j-1][0]<C){M.push([-180,r[j][1]]),j++,M.push([r[j][0],r[j][1]]);continue}else if(J>P&&J<180&&pe===-180&&j+1<r.length&&r[j-1][0]>P&&r[j-1][0]<180){M.push([180,r[j][1]]),j++,M.push([r[j][0],r[j][1]]);continue}if(J<C&&pe>P){var ee=J;J=pe,pe=ee;var ie=he;he=ne,ne=ie}if(J>P&&pe<C&&(pe+=360),J<=180&&pe>=180&&J<pe){var we=(180-J)/(pe-J),Se=we*ne+(1-we)*he;M.push([r[j-1][0]>P?180:-180,Se]),M=[],M.push([r[j-1][0]>P?-180:180,Se]),q.push(M)}else M=[],q.push(M);M.push([G,r[j][1]])}else M.push([r[j][0],r[j][1]])}}else{var Pe=[];q.push(Pe);for(var ae=0;ae<r.length;++ae)Pe.push([r[ae][0],r[ae][1]])}for(var Be=new lD(this.properties),Q=0;Q<q.length;++Q){var te=new ZV;Be.geometries.push(te);for(var oe=q[Q],ve=0;ve<oe.length;++ve)te.move_to(oe[ve])}return Be};function KV(e,t,r){if(r=r||{},typeof r!="object")throw new Error("options is invalid");var n=r.properties,i=r.npoints,u=r.offset;e=Wj.getCoord(e),t=Wj.getCoord(t),n=n||{},i=i||100,u=u||10;var s=new cD({x:e[0],y:e[1]},{x:t[0],y:t[1]},n),m=s.Arc(i,{offset:u});return m.json()}uD.exports=KV;uD.exports.default=KV;var fD={exports:{}},Ese=OE.exports,Pse=kA.exports,Ise=Pf,Cse=BA,Ase=$0,Ose=nv,kse=wx,Cy=En,yC=Jr,a0=Cr;function U0(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var JV=U0(Ese),Tse=U0(Pse),Lse=U0(Ise),Nse=U0(Cse),Mse=U0(Ase),Rse=U0(Ose),Dse=U0(kse);function QV(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var r=Cy.getType(e),n=Cy.getType(t);if(r!=="LineString")throw new Error("line must be LineString");if(n==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(n==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var i=Nse.default(t,{precision:7});switch(n){case"Point":return t3(e,i);case"MultiPoint":return Hj(e,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Hj(e,Rse.default(e,i))}}function Hj(e,t){var r=[],n=JV.default();return yC.flattenEach(t,function(i){if(r.forEach(function(m,v){m.id=v}),!r.length)r=t3(e,i).features,r.forEach(function(m){m.bbox||(m.bbox=Tse.default(Lse.default(m)))}),n.load(a0.featureCollection(r));else{var u=n.search(i);if(u.features.length){var s=eG(i,u);r=r.filter(function(m){return m.id!==s.id}),n.remove(s),yC.featureEach(t3(s,i),function(m){r.push(m),n.insert(m)})}}}),a0.featureCollection(r)}function t3(e,t){var r=[],n=Cy.getCoords(e)[0],i=Cy.getCoords(e)[e.geometry.coordinates.length-1];if(cN(n,Cy.getCoord(t))||cN(i,Cy.getCoord(t)))return a0.featureCollection([e]);var u=JV.default(),s=Mse.default(e);u.load(s);var m=u.search(t);if(!m.features.length)return a0.featureCollection([e]);var v=eG(t,m),_=[n],P=yC.featureReduce(s,function(C,I,k){var F=Cy.getCoords(I)[1],V=Cy.getCoord(t);return k===v.id?(C.push(V),r.push(a0.lineString(C)),cN(V,F)?[V]:[V,F]):(C.push(F),C)},_);return P.length>1&&r.push(a0.lineString(P)),a0.featureCollection(r)}function eG(e,t){if(!t.features.length)throw new Error("lines must contain features");if(t.features.length===1)return t.features[0];var r,n=1/0;return yC.featureEach(t,function(i){var u=Dse.default(i,e),s=u.properties.dist;s<n&&(r=i,n=s)}),r}function cN(e,t){return e[0]===t[0]&&e[1]===t[1]}fD.exports=QV;fD.exports.default=QV;var UA={},tG=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(UA,"__esModule",{value:!0});var zse=tG(CE),Zj=tG(pg),Kj=Cr;function Fse(e,t,r,n,i){i===void 0&&(i={});var u=i.steps||64,s=Jj(r),m=Jj(n),v=!Array.isArray(e)&&e.type==="Feature"?e.properties:{};if(s===m)return Kj.lineString(zse.default(e,t,i).geometry.coordinates[0],v);for(var _=s,P=s<m?m:m+360,C=_,I=[],k=0;C<P;)I.push(Zj.default(e,t,C,i).geometry.coordinates),k++,C=_+k*360/u;return C>P&&I.push(Zj.default(e,t,P,i).geometry.coordinates),Kj.lineString(I,v)}UA.default=Fse;function Jj(e){var t=e%360;return t<0&&(t+=360),t}var iv={};Object.defineProperty(iv,"__esModule",{value:!0});var r3=Cr,pD=En;function jse(e,t){t===void 0&&(t={});var r=pD.getGeom(e);switch(!t.properties&&e.type==="Feature"&&(t.properties=e.properties),r.type){case"Polygon":return rG(r,t);case"MultiPolygon":return nG(r,t);default:throw new Error("invalid poly")}}iv.default=jse;function rG(e,t){t===void 0&&(t={});var r=pD.getGeom(e),n=r.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{};return hD(n,i)}iv.polygonToLine=rG;function nG(e,t){t===void 0&&(t={});var r=pD.getGeom(e),n=r.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{},u=[];return n.forEach(function(s){u.push(hD(s,i))}),r3.featureCollection(u)}iv.multiPolygonToLine=nG;function hD(e,t){return e.length>1?r3.multiLineString(e,t):r3.lineString(e[0],t)}iv.coordsToLine=hD;var dD={},iG=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dD,"__esModule",{value:!0});var Bse=iG(Pf),oG=En,NI=Cr,$se=iG(Oc);function Use(e,t){t===void 0&&(t={});var r,n,i,u=t.properties,s=(r=t.autoComplete)!==null&&r!==void 0?r:!0,m=(n=t.orderCoords)!==null&&n!==void 0?n:!0,v=(i=t.mutate)!==null&&i!==void 0?i:!1;switch(v||(e=$se.default(e)),e.type){case"FeatureCollection":var _=[];return e.features.forEach(function(P){_.push(oG.getCoords(Qj(P,{},s,m)))}),NI.multiPolygon(_,u);default:return Qj(e,u,s,m)}}function Qj(e,t,r,n){t=t||(e.type==="Feature"?e.properties:{});var i=oG.getGeom(e),u=i.coordinates,s=i.type;if(!u.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return r&&(u=eB(u)),NI.polygon([u],t);case"MultiLineString":var m=[],v=0;return u.forEach(function(_){if(r&&(_=eB(_)),n){var P=qse(Bse.default(NI.lineString(_)));P>v?(m.unshift(_),v=P):m.push(_)}else m.push(_)}),NI.polygon(m,t);default:throw new Error("geometry type "+s+" is not supported")}}function eB(e){var t=e[0],r=t[0],n=t[1],i=e[e.length-1],u=i[0],s=i[1];return(r!==u||n!==s)&&e.push(t),e}function qse(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.abs(t-n)*Math.abs(r-i)}dD.default=Use;var _D={},qA={};Object.defineProperty(qA,"__esModule",{value:!0});function Vse(e,t,r){var n=e.length,i=Bb(e[0],t),u=[],s,m,v,_,P;for(r||(r=[]),s=1;s<n;s++){for(_=e[s-1],P=e[s],m=v=Bb(P,t);;)if(i|m){if(i&m)break;i?(_=n3(_,P,i,t),i=Bb(_,t)):(P=n3(_,P,m,t),m=Bb(P,t))}else{u.push(_),m!==v?(u.push(P),s<n-1&&(r.push(u),u=[])):s===n-1&&u.push(P);break}i=v}return u.length&&r.push(u),r}qA.lineclip=Vse;function Gse(e,t){var r,n,i,u,s,m,v;for(n=1;n<=8;n*=2){for(r=[],i=e[e.length-1],u=!(Bb(i,t)&n),s=0;s<e.length;s++)m=e[s],v=!(Bb(m,t)&n),v!==u&&r.push(n3(i,m,n,t)),v&&r.push(m),i=m,u=v;if(e=r,!e.length)break}return r}qA.polygonclip=Gse;function n3(e,t,r,n){return r&8?[e[0]+(t[0]-e[0])*(n[3]-e[1])/(t[1]-e[1]),n[3]]:r&4?[e[0]+(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1]),n[1]]:r&2?[n[2],e[1]+(t[1]-e[1])*(n[2]-e[0])/(t[0]-e[0])]:r&1?[n[0],e[1]+(t[1]-e[1])*(n[0]-e[0])/(t[0]-e[0])]:null}function Bb(e,t){var r=0;return e[0]<t[0]?r|=1:e[0]>t[2]&&(r|=2),e[1]<t[1]?r|=4:e[1]>t[3]&&(r|=8),r}Object.defineProperty(_D,"__esModule",{value:!0});var HP=Cr,Wse=En,aG=qA;function Xse(e,t){var r=Wse.getGeom(e),n=r.type,i=e.type==="Feature"?e.properties:{},u=r.coordinates;switch(n){case"LineString":case"MultiLineString":{var s=[];return n==="LineString"&&(u=[u]),u.forEach(function(m){aG.lineclip(m,t,s)}),s.length===1?HP.lineString(s[0],i):HP.multiLineString(s,i)}case"Polygon":return HP.polygon(tB(u,t),i);case"MultiPolygon":return HP.multiPolygon(u.map(function(m){return tB(m,t)}),i);default:throw new Error("geometry "+n+" not supported")}}_D.default=Xse;function tB(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var u=i[n],s=aG.polygonclip(u,t);s.length>0&&((s[0][0]!==s[s.length-1][0]||s[0][1]!==s[s.length-1][1])&&s.push(s[0]),s.length>=4&&r.push(s))}return r}var VA={},rB=Object.prototype.toString,sG=function(t){var r=rB.call(t),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&rB.call(t.callee)==="[object Function]"),n},uG;if(!Object.keys){var ZP=Object.prototype.hasOwnProperty,nB=Object.prototype.toString,Yse=sG,iB=Object.prototype.propertyIsEnumerable,Hse=!iB.call({toString:null},"toString"),Zse=iB.call(function(){},"prototype"),KP=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],fN=function(e){var t=e.constructor;return t&&t.prototype===e},Kse={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Jse=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!Kse["$"+e]&&ZP.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{fN(window[e])}catch{return!0}}catch{return!0}return!1}(),Qse=function(e){if(typeof window=="undefined"||!Jse)return fN(e);try{return fN(e)}catch{return!1}};uG=function(t){var r=t!==null&&typeof t=="object",n=nB.call(t)==="[object Function]",i=Yse(t),u=r&&nB.call(t)==="[object String]",s=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var m=Zse&&n;if(u&&t.length>0&&!ZP.call(t,0))for(var v=0;v<t.length;++v)s.push(String(v));if(i&&t.length>0)for(var _=0;_<t.length;++_)s.push(String(_));else for(var P in t)!(m&&P==="prototype")&&ZP.call(t,P)&&s.push(String(P));if(Hse)for(var C=Qse(t),I=0;I<KP.length;++I)!(C&&KP[I]==="constructor")&&ZP.call(t,KP[I])&&s.push(KP[I]);return s}}var eue=uG,tue=Array.prototype.slice,rue=sG,oB=Object.keys,MI=oB?function(t){return oB(t)}:eue,aB=Object.keys;MI.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(n){return rue(n)?aB(tue.call(n)):aB(n)})}else Object.keys=MI;return Object.keys||MI};var lG=MI,cG=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var u=Object.getOwnPropertySymbols(t);if(u.length!==1||u[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},nue=cG,mD=function(){return nue()&&!!Symbol.toStringTag},sB=typeof Symbol!="undefined"&&Symbol,iue=cG,oue=function(){return typeof sB!="function"||typeof Symbol!="function"||typeof sB("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:iue()},aue="Function.prototype.bind called on incompatible ",pN=Array.prototype.slice,sue=Object.prototype.toString,uue="[object Function]",lue=function(t){var r=this;if(typeof r!="function"||sue.call(r)!==uue)throw new TypeError(aue+r);for(var n=pN.call(arguments,1),i,u=function(){if(this instanceof i){var P=r.apply(this,n.concat(pN.call(arguments)));return Object(P)===P?P:this}else return r.apply(t,n.concat(pN.call(arguments)))},s=Math.max(0,r.length-n.length),m=[],v=0;v<s;v++)m.push("$"+v);if(i=Function("binder","return function ("+m.join(",")+"){ return binder.apply(this,arguments); }")(u),r.prototype){var _=function(){};_.prototype=r.prototype,i.prototype=new _,_.prototype=null}return i},cue=lue,gD=Function.prototype.bind||cue,fue=gD,pue=fue.call(Function.call,Object.prototype.hasOwnProperty),La,rE=SyntaxError,fG=Function,Zb=TypeError,hN=function(e){try{return fG('"use strict"; return ('+e+").constructor;")()}catch{}},_0=Object.getOwnPropertyDescriptor;if(_0)try{_0({},"")}catch{_0=null}var dN=function(){throw new Zb},hue=_0?function(){try{return arguments.callee,dN}catch{try{return _0(arguments,"callee").get}catch{return dN}}}():dN,vb=oue(),Ay=Object.getPrototypeOf||function(e){return e.__proto__},Sb={},due=typeof Uint8Array=="undefined"?La:Ay(Uint8Array),Kb={"%AggregateError%":typeof AggregateError=="undefined"?La:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?La:ArrayBuffer,"%ArrayIteratorPrototype%":vb?Ay([][Symbol.iterator]()):La,"%AsyncFromSyncIteratorPrototype%":La,"%AsyncFunction%":Sb,"%AsyncGenerator%":Sb,"%AsyncGeneratorFunction%":Sb,"%AsyncIteratorPrototype%":Sb,"%Atomics%":typeof Atomics=="undefined"?La:Atomics,"%BigInt%":typeof BigInt=="undefined"?La:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?La:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?La:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?La:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?La:FinalizationRegistry,"%Function%":fG,"%GeneratorFunction%":Sb,"%Int8Array%":typeof Int8Array=="undefined"?La:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?La:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?La:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":vb?Ay(Ay([][Symbol.iterator]())):La,"%JSON%":typeof JSON=="object"?JSON:La,"%Map%":typeof Map=="undefined"?La:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!vb?La:Ay(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?La:Promise,"%Proxy%":typeof Proxy=="undefined"?La:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?La:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?La:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!vb?La:Ay(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?La:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":vb?Ay(""[Symbol.iterator]()):La,"%Symbol%":vb?Symbol:La,"%SyntaxError%":rE,"%ThrowTypeError%":hue,"%TypedArray%":due,"%TypeError%":Zb,"%Uint8Array%":typeof Uint8Array=="undefined"?La:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?La:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?La:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?La:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?La:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?La:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?La:WeakSet},_ue=function e(t){var r;if(t==="%AsyncFunction%")r=hN("async function () {}");else if(t==="%GeneratorFunction%")r=hN("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=hN("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=Ay(i.prototype))}return Kb[t]=r,r},uB={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},GA=gD,vC=pue,mue=GA.call(Function.call,Array.prototype.concat),gue=GA.call(Function.apply,Array.prototype.splice),lB=GA.call(Function.call,String.prototype.replace),bC=GA.call(Function.call,String.prototype.slice),yue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vue=/\\(\\)?/g,bue=function(t){var r=bC(t,0,1),n=bC(t,-1);if(r==="%"&&n!=="%")throw new rE("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new rE("invalid intrinsic syntax, expected opening `%`");var i=[];return lB(t,yue,function(u,s,m,v){i[i.length]=m?lB(v,vue,"$1"):s||u}),i},xue=function(t,r){var n=t,i;if(vC(uB,n)&&(i=uB[n],n="%"+i[0]+"%"),vC(Kb,n)){var u=Kb[n];if(u===Sb&&(u=_ue(n)),typeof u=="undefined"&&!r)throw new Zb("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:u}}throw new rE("intrinsic "+t+" does not exist!")},yD=function(t,r){if(typeof t!="string"||t.length===0)throw new Zb("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zb('"allowMissing" argument must be a boolean');var n=bue(t),i=n.length>0?n[0]:"",u=xue("%"+i+"%",r),s=u.name,m=u.value,v=!1,_=u.alias;_&&(i=_[0],gue(n,mue([0,1],_)));for(var P=1,C=!0;P<n.length;P+=1){var I=n[P],k=bC(I,0,1),F=bC(I,-1);if((k==='"'||k==="'"||k==="`"||F==='"'||F==="'"||F==="`")&&k!==F)throw new rE("property names with quotes must have matching quotes");if((I==="constructor"||!C)&&(v=!0),i+="."+I,s="%"+i+"%",vC(Kb,s))m=Kb[s];else if(m!=null){if(!(I in m)){if(!r)throw new Zb("base intrinsic for "+t+" exists, but the property is not available.");return}if(_0&&P+1>=n.length){var V=_0(m,I);C=!!V,C&&"get"in V&&!("originalValue"in V.get)?m=V.get:m=m[I]}else C=vC(m,I),m=m[I];C&&!v&&(Kb[s]=m)}}return m},WA={exports:{}};(function(e){var t=gD,r=yD,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||t.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),m=r("%Object.defineProperty%",!0),v=r("%Math.max%");if(m)try{m({},"a",{value:1})}catch{m=null}e.exports=function(C){var I=u(t,i,arguments);if(s&&m){var k=s(I,"length");k.configurable&&m(I,"length",{value:1+v(0,C.length-(arguments.length-1))})}return I};var _=function(){return u(t,n,arguments)};m?m(e.exports,"apply",{value:_}):e.exports.apply=_})(WA);var pG=yD,hG=WA.exports,wue=hG(pG("String.prototype.indexOf")),dG=function(t,r){var n=pG(t,!!r);return typeof n=="function"&&wue(t,".prototype.")>-1?hG(n):n},Sue=mD(),Eue=dG,i3=Eue("Object.prototype.toString"),XA=function(t){return Sue&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:i3(t)==="[object Arguments]"},_G=function(t){return XA(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&i3(t)!=="[object Array]"&&i3(t.callee)==="[object Function]"},Pue=function(){return XA(arguments)}();XA.isLegacyArguments=_G;var Iue=Pue?XA:_G,Cue=yD,o3=Cue("%Object.defineProperty%",!0),a3=function(){if(o3)try{return o3({},"a",{value:1}),!0}catch{return!1}return!1};a3.hasArrayLengthDefineBug=function(){if(!a3())return null;try{return o3([],"length",{value:1}).length!==1}catch{return!0}};var Aue=a3,Oue=lG,kue=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Tue=Object.prototype.toString,Lue=Array.prototype.concat,mG=Object.defineProperty,Nue=function(e){return typeof e=="function"&&Tue.call(e)==="[object Function]"},Mue=Aue(),gG=mG&&Mue,Rue=function(e,t,r,n){t in e&&(!Nue(n)||!n())||(gG?mG(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},yG=function(e,t){var r=arguments.length>2?arguments[2]:{},n=Oue(t);kue&&(n=Lue.call(n,Object.getOwnPropertySymbols(t)));for(var i=0;i<n.length;i+=1)Rue(e,n[i],t[n[i]],r[n[i]])};yG.supportsDescriptors=!!gG;var TE=yG,cB=function(e){return e!==e},vG=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||cB(t)&&cB(r))},Due=vG,bG=function(){return typeof Object.is=="function"?Object.is:Due},zue=bG,Fue=TE,jue=function(){var t=zue();return Fue(Object,{is:t},{is:function(){return Object.is!==t}}),t},Bue=TE,$ue=WA.exports,Uue=vG,xG=bG,que=jue,wG=$ue(xG(),Object);Bue(wG,{getPolyfill:xG,implementation:Uue,shim:que});var Vue=wG,s3=dG,SG=mD(),EG,PG,u3,l3;if(SG){EG=s3("Object.prototype.hasOwnProperty"),PG=s3("RegExp.prototype.exec"),u3={};var _N=function(){throw u3};l3={toString:_N,valueOf:_N},typeof Symbol.toPrimitive=="symbol"&&(l3[Symbol.toPrimitive]=_N)}var Gue=s3("Object.prototype.toString"),Wue=Object.getOwnPropertyDescriptor,Xue="[object RegExp]",Yue=SG?function(t){if(!t||typeof t!="object")return!1;var r=Wue(t,"lastIndex"),n=r&&EG(r,"value");if(!n)return!1;try{PG(t,l3)}catch(i){return i===u3}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:Gue(t)===Xue},vD={exports:{}},nE=function(){return typeof function(){}.name=="string"},CS=Object.getOwnPropertyDescriptor;if(CS)try{CS([],"length")}catch{CS=null}nE.functionsHaveConfigurableNames=function(){if(!nE()||!CS)return!1;var t=CS(function(){},"name");return!!t&&!!t.configurable};var Hue=Function.prototype.bind;nE.boundFunctionsHaveNames=function(){return nE()&&typeof Hue=="function"&&function(){}.bind().name!==""};var Zue=nE;(function(e){var t=Zue.functionsHaveConfigurableNames(),r=Object,n=TypeError;e.exports=function(){if(this!=null&&this!==r(this))throw new n("RegExp.prototype.flags getter called on non-object");var u="";return this.hasIndices&&(u+="d"),this.global&&(u+="g"),this.ignoreCase&&(u+="i"),this.multiline&&(u+="m"),this.dotAll&&(u+="s"),this.unicode&&(u+="u"),this.sticky&&(u+="y"),u},t&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})})(vD);var Kue=vD.exports,Jue=TE.supportsDescriptors,Que=Object.getOwnPropertyDescriptor,IG=function(){if(Jue&&/a/mig.flags==="gim"){var t=Que(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return t.get}}return Kue},ele=TE.supportsDescriptors,tle=IG,rle=Object.getOwnPropertyDescriptor,nle=Object.defineProperty,ile=TypeError,fB=Object.getPrototypeOf,ole=/a/,ale=function(){if(!ele||!fB)throw new ile("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=tle(),r=fB(ole),n=rle(r,"flags");return(!n||n.get!==t)&&nle(r,"flags",{configurable:!0,enumerable:!1,get:t}),t},sle=TE,ule=WA.exports,lle=vD.exports,CG=IG,cle=ale,AG=ule(CG());sle(AG,{getPolyfill:CG,implementation:lle,shim:cle});var fle=AG,ple=Date.prototype.getDay,hle=function(t){try{return ple.call(t),!0}catch{return!1}},dle=Object.prototype.toString,_le="[object Date]",mle=mD(),gle=function(t){return typeof t!="object"||t===null?!1:mle?hle(t):dle.call(t)===_le},pB=lG,hB=Iue,dB=Vue,_B=Yue,mB=fle,gB=gle,yB=Date.prototype.getTime;function OG(e,t,r){var n=r||{};return(n.strict?dB(e,t):e===t)?!0:!e||!t||typeof e!="object"&&typeof t!="object"?n.strict?dB(e,t):e==t:yle(e,t,n)}function vB(e){return e==null}function bB(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function yle(e,t,r){var n,i;if(typeof e!=typeof t||vB(e)||vB(t)||e.prototype!==t.prototype||hB(e)!==hB(t))return!1;var u=_B(e),s=_B(t);if(u!==s)return!1;if(u||s)return e.source===t.source&&mB(e)===mB(t);if(gB(e)&&gB(t))return yB.call(e)===yB.call(t);var m=bB(e),v=bB(t);if(m!==v)return!1;if(m||v){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var _=pB(e),P=pB(t)}catch{return!1}if(_.length!==P.length)return!1;for(_.sort(),P.sort(),n=_.length-1;n>=0;n--)if(_[n]!=P[n])return!1;for(n=_.length-1;n>=0;n--)if(i=_[n],!OG(e[i],t[i],r))return!1;return!0}var kG=OG,LE=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(VA,"__esModule",{value:!0});var vle=LE(OE.exports),ble=LE($0),JP=LE(wx),QP=LE(Ex),xC=En,xB=Jr,wB=Cr,sS=LE(kG);function xle(e,t,r){if(r===void 0&&(r={}),r=r||{},!wB.isObject(r))throw new Error("options is invalid");var n=r.tolerance||0,i=[],u=vle.default(),s=ble.default(e);u.load(s);var m;return xB.segmentEach(t,function(v){var _=!1;!v||(xB.featureEach(u.search(v),function(P){if(_===!1){var C=xC.getCoords(v).sort(),I=xC.getCoords(P).sort();sS.default(C,I)||(n===0?QP.default(C[0],P)&&QP.default(C[1],P):JP.default(P,C[0]).properties.dist<=n&&JP.default(P,C[1]).properties.dist<=n)?(_=!0,m?m=mN(m,v):m=v):(n===0?QP.default(I[0],v)&&QP.default(I[1],v):JP.default(v,I[0]).properties.dist<=n&&JP.default(v,I[1]).properties.dist<=n)&&(m?m=mN(m,P):m=P)}}),_===!1&&m&&(i.push(m),m=void 0))}),m&&i.push(m),wB.featureCollection(i)}function mN(e,t){var r=xC.getCoords(t),n=xC.getCoords(e),i=n[0],u=n[n.length-1],s=e.geometry.coordinates;return sS.default(r[0],i)?s.unshift(r[1]):sS.default(r[0],u)?s.push(r[1]):sS.default(r[1],i)?s.unshift(r[0]):sS.default(r[1],u)&&s.push(r[0]),e}VA.default=xle;var bD={exports:{}},wle=CE,Sle=UA,Ele=Jr,SB=Cr,Ple=En;function TG(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ile=TG(wle),Cle=TG(Sle);function LG(e,t,r,n,i){if(i=i||{},!SB.isObject(i))throw new Error("options is invalid");var u=i.properties;if(!e)throw new Error("center is required");if(r==null)throw new Error("bearing1 is required");if(n==null)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if(typeof i!="object")throw new Error("options must be an object");if(EB(r)===EB(n))return Ile.default(e,t,i);var s=Ple.getCoords(e),m=Cle.default(e,t,r,n,i),v=[[s]];return Ele.coordEach(m,function(_){v[0].push(_)}),v[0].push(s),SB.polygon(v,u)}function EB(e){var t=e%360;return t<0&&(t+=360),t}bD.exports=LG;bD.exports.default=LG;var q0={};Object.defineProperty(q0,"__esModule",{value:!0});var eI=Cr,tI=En;function Ale(e,t,r){r===void 0&&(r={});var n;r.final?n=PB(tI.getCoord(t),tI.getCoord(e)):n=PB(tI.getCoord(e),tI.getCoord(t));var i=n>180?-(360-n):n;return i}function PB(e,t){var r=eI.degreesToRadians(e[1]),n=eI.degreesToRadians(t[1]),i=eI.degreesToRadians(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var u=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(i,u);return(eI.radiansToDegrees(s)+360)%360}q0.default=Ale;var V0={};Object.defineProperty(V0,"__esModule",{value:!0});var AS=Cr,Ole=En;function kle(e,t,r,n){n===void 0&&(n={});var i=t<0,u=AS.convertLength(Math.abs(t),n.units,"meters");i&&(u=-Math.abs(u));var s=Ole.getCoord(e),m=Tle(s,u,r);return m[0]+=m[0]-s[0]>180?-360:s[0]-m[0]>180?360:0,AS.point(m,n.properties)}function Tle(e,t,r,n){n=n===void 0?AS.earthRadius:Number(n);var i=t/n,u=e[0]*Math.PI/180,s=AS.degreesToRadians(e[1]),m=AS.degreesToRadians(r),v=i*Math.cos(m),_=s+v;Math.abs(_)>Math.PI/2&&(_=_>0?Math.PI-_:-Math.PI-_);var P=Math.log(Math.tan(_/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),C=Math.abs(P)>1e-11?v/P:Math.cos(s),I=i*Math.sin(m)/C,k=u+I;return[(k*180/Math.PI+540)%360-180,_*180/Math.PI]}V0.default=kle;var xD={exports:{}},gN=En,yN=Cr,Lle=Pf,Nle=xx.exports,Mle=AE;function wD(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Rle=wD(Lle),Dle=wD(Nle),zle=wD(Mle);function NG(e,t){var r=gN.getCoords(e),n=gN.getCoords(t),i,u,s,m,v=Rle.default(t),_=0,P=null;r[0]>v[0]&&r[0]<v[2]&&r[1]>v[1]&&r[1]<v[3]&&(P=zle.default(e,Dle.default(t)),_=P.properties.featureIndex);var C=gN.getType(t);switch(C){case"Polygon":i=n[0][_],u=n[0][0],P!==null&&P.geometry.coordinates[1]<r[1]&&(u=n[0][_]),m=iE(n[0][0],n[0][n[0].length-1],r);var I=IB(n[0],r,m,s,i,u);i=I[0],u=I[1];break;case"MultiPolygon":for(var k=0,F=0,V=0,Y=0;Y<n[0].length;Y++){k=Y;for(var q=!1,M=0;M<n[0][Y].length;M++){if(F=M,V===_){q=!0;break}V++}if(q)break}i=n[0][k][F],u=n[0][k][F],m=iE(n[0][0][0],n[0][0][n[0][0].length-1],r),n.forEach(function(j){var G=IB(j[0],r,m,s,i,u);i=G[0],u=G[1]});break}return yN.featureCollection([yN.point(i),yN.point(u)])}function IB(e,t,r,n,i,u){for(var s=0;s<e.length;s++){var m=e[s],v=e[s+1];s===e.length-1&&(v=e[0]),n=iE(m,v,t),r<=0&&n>0?jle(t,m,i)||(i=m):r>0&&n<=0&&(Fle(t,m,u)||(u=m)),r=n}return[i,u]}function Fle(e,t,r){return iE(e,t,r)>0}function jle(e,t,r){return iE(e,t,r)<0}function iE(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}xD.exports=NG;xD.exports.default=NG;var SD={exports:{}},YA={};Object.defineProperty(YA,"__esModule",{value:!0});var Ble=En;function $le(e){for(var t=Ble.getCoords(e),r=0,n=1,i,u;n<t.length;)i=u||t[0],u=t[n],r+=(u[0]-i[0])*(u[1]+i[1]),n++;return r>0}YA.default=$le;var Ule=Oc,qle=YA,RI=Jr,rI=En,CB=Cr;function MG(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Vle=MG(Ule),c3=MG(qle);function RG(e,t){if(t=t||{},!CB.isObject(t))throw new Error("options is invalid");var r=t.reverse||!1,n=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if(typeof r!="boolean")throw new Error("<reverse> must be a boolean");if(typeof n!="boolean")throw new Error("<mutate> must be a boolean");n===!1&&(e=Vle.default(e));var i=[];switch(e.type){case"GeometryCollection":return RI.geomEach(e,function(u){DI(u,r)}),e;case"FeatureCollection":return RI.featureEach(e,function(u){RI.featureEach(DI(u,r),function(s){i.push(s)})}),CB.featureCollection(i)}return DI(e,r)}function DI(e,t){var r=e.type==="Feature"?e.geometry.type:e.type;switch(r){case"GeometryCollection":return RI.geomEach(e,function(n){DI(n,t)}),e;case"LineString":return AB(rI.getCoords(e),t),e;case"Polygon":return OB(rI.getCoords(e),t),e;case"MultiLineString":return rI.getCoords(e).forEach(function(n){AB(n,t)}),e;case"MultiPolygon":return rI.getCoords(e).forEach(function(n){OB(n,t)}),e;case"Point":case"MultiPoint":return e}}function AB(e,t){c3.default(e)===t&&e.reverse()}function OB(e,t){c3.default(e[0])!==t&&e[0].reverse();for(var r=1;r<e.length;r++)c3.default(e[r])===t&&e[r].reverse()}SD.exports=RG;SD.exports.default=RG;var ED={exports:{}},Gle=Pf,Wle=kE,Xle=Wf,Yle=xx.exports,Km=En,eg=Cr,Hle=ER,Zle=Jr;function NE(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Kle=NE(Gle),Jle=NE(Wle),Qle=NE(Xle),ece=NE(Yle),tce=NE(Hle);function rce(e,t){if(t=t||{},!eg.isObject(t))throw new Error("options is invalid");var r=t.zProperty||"elevation",n=t.flip,i=t.flags;Km.collectionOf(e,"Point","input must contain Points");for(var u=nce(e,n),s=[],m=0;m<u.length;m++){for(var v=u[m],_=[],P=0;P<v.length;P++){var C=v[P];C.properties[r]?_.push(C.properties[r]):_.push(0),i===!0&&(C.properties.matrixPosition=[m,P])}s.push(_)}return s}function nce(e,t){var r={};Zle.featureEach(e,function(u){var s=Km.getCoords(u)[1];r[s]||(r[s]=[]),r[s].push(u)});var n=Object.keys(r).map(function(u){var s=r[u],m=s.sort(function(v,_){return Km.getCoords(v)[0]-Km.getCoords(_)[0]});return m}),i=n.sort(function(u,s){return t?Km.getCoords(u[0])[1]-Km.getCoords(s[0])[1]:Km.getCoords(s[0])[1]-Km.getCoords(u[0])[1]});return i}/*!
 * @license GNU Affero General Public License.
 * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
 * v. 1.2.0
 * https://github.com/RaumZeit/MarchingSquares.js
 *
 * MarchingSquaresJS is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * MarchingSquaresJS is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * As additional permission under GNU Affero General Public License version 3
 * section 7, third-party projects (personal or commercial) may distribute,
 * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
 * requirement that said third-party project for that reason alone becomes
 * subject to any requirement of the GNU Affero General Public License version 3.
 * Any modifications to MarchingSquaresJS, however, must be shared with the public
 * and made available.
 *
 * In summary this:
 * - allows you to use MarchingSquaresJS at no cost
 * - allows you to use MarchingSquaresJS for both personal and commercial purposes
 * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
 *   license as long as this license notice is included
 * - enables you to keep the source code of your program that uses MarchingSquaresJS
 *   undisclosed
 * - forces you to share any modifications you have made to MarchingSquaresJS,
 *   e.g. bug-fixes
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
 */var kB={successCallback:null,verbose:!1,polygons:!1},t0={};function ice(e,t,r,n){n=n||{};for(var i=Object.keys(kB),u=0;u<i.length;u++){var s=i[u],m=n[s];m=typeof m!="undefined"&&m!==null?m:kB[s],t0[s]=m}t0.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+r)+"]");var v=zce(e,t,r),_;return t0.polygons?(t0.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),_=qce(v)):(t0.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),_=Fce(v)),typeof t0.successCallback=="function"&&t0.successCallback(_),_}var wf=64,yd=16,Pc=4,Zc=1,vo=[],bo=[],xo=[],wo=[],So=[],Eo=[],Po=[],Io=[],Co=[],Ao=[],Oo=[],ko=[],To=[],Lo=[],No=[],Mo=[],Ro=[],Do=[],zo=[],Fo=[],jo=[],Bo=[],$o=[],Uo=[];Po[85]=Ao[85]=-1;Io[85]=Oo[85]=0;Co[85]=ko[85]=1;zo[85]=Bo[85]=1;Fo[85]=$o[85]=0;jo[85]=Uo[85]=1;vo[85]=wo[85]=0;bo[85]=So[85]=-1;xo[85]=No[85]=0;Mo[85]=To[85]=0;Ro[85]=Lo[85]=1;Eo[85]=Do[85]=1;Bo[1]=Bo[169]=0;$o[1]=$o[169]=-1;Uo[1]=Uo[169]=0;To[1]=To[169]=-1;Lo[1]=Lo[169]=0;No[1]=No[169]=0;Ao[4]=Ao[166]=0;Oo[4]=Oo[166]=-1;ko[4]=ko[166]=1;Mo[4]=Mo[166]=1;Ro[4]=Ro[166]=0;Do[4]=Do[166]=0;Po[16]=Po[154]=0;Io[16]=Io[154]=1;Co[16]=Co[154]=1;wo[16]=wo[154]=1;So[16]=So[154]=0;Eo[16]=Eo[154]=1;zo[64]=zo[106]=0;Fo[64]=Fo[106]=1;jo[64]=jo[106]=0;vo[64]=vo[106]=-1;bo[64]=bo[106]=0;xo[64]=xo[106]=1;zo[2]=zo[168]=0;Fo[2]=Fo[168]=-1;jo[2]=jo[168]=1;Bo[2]=Bo[168]=0;$o[2]=$o[168]=-1;Uo[2]=Uo[168]=0;To[2]=To[168]=-1;Lo[2]=Lo[168]=0;No[2]=No[168]=0;Mo[2]=Mo[168]=-1;Ro[2]=Ro[168]=0;Do[2]=Do[168]=1;Po[8]=Po[162]=0;Io[8]=Io[162]=-1;Co[8]=Co[162]=0;Ao[8]=Ao[162]=0;Oo[8]=Oo[162]=-1;ko[8]=ko[162]=1;To[8]=To[162]=1;Lo[8]=Lo[162]=0;No[8]=No[162]=1;Mo[8]=Mo[162]=1;Ro[8]=Ro[162]=0;Do[8]=Do[162]=0;Po[32]=Po[138]=0;Io[32]=Io[138]=1;Co[32]=Co[138]=1;Ao[32]=Ao[138]=0;Oo[32]=Oo[138]=1;ko[32]=ko[138]=0;vo[32]=vo[138]=1;bo[32]=bo[138]=0;xo[32]=xo[138]=0;wo[32]=wo[138]=1;So[32]=So[138]=0;Eo[32]=Eo[138]=1;Bo[128]=Bo[42]=0;$o[128]=$o[42]=1;Uo[128]=Uo[42]=1;zo[128]=zo[42]=0;Fo[128]=Fo[42]=1;jo[128]=jo[42]=0;vo[128]=vo[42]=-1;bo[128]=bo[42]=0;xo[128]=xo[42]=1;wo[128]=wo[42]=-1;So[128]=So[42]=0;Eo[128]=Eo[42]=0;Ao[5]=Ao[165]=-1;Oo[5]=Oo[165]=0;ko[5]=ko[165]=0;Bo[5]=Bo[165]=1;$o[5]=$o[165]=0;Uo[5]=Uo[165]=0;Mo[20]=Mo[150]=0;Ro[20]=Ro[150]=1;Do[20]=Do[150]=1;wo[20]=wo[150]=0;So[20]=So[150]=-1;Eo[20]=Eo[150]=1;Po[80]=Po[90]=-1;Io[80]=Io[90]=0;Co[80]=Co[90]=1;zo[80]=zo[90]=1;Fo[80]=Fo[90]=0;jo[80]=jo[90]=1;To[65]=To[105]=0;Lo[65]=Lo[105]=1;No[65]=No[105]=0;vo[65]=vo[105]=0;bo[65]=bo[105]=-1;xo[65]=xo[105]=0;Po[160]=Po[10]=-1;Io[160]=Io[10]=0;Co[160]=Co[10]=1;Ao[160]=Ao[10]=-1;Oo[160]=Oo[10]=0;ko[160]=ko[10]=0;Bo[160]=Bo[10]=1;$o[160]=$o[10]=0;Uo[160]=Uo[10]=0;zo[160]=zo[10]=1;Fo[160]=Fo[10]=0;jo[160]=jo[10]=1;Mo[130]=Mo[40]=0;Ro[130]=Ro[40]=1;Do[130]=Do[40]=1;To[130]=To[40]=0;Lo[130]=Lo[40]=1;No[130]=No[40]=0;vo[130]=vo[40]=0;bo[130]=bo[40]=-1;xo[130]=xo[40]=0;wo[130]=wo[40]=0;So[130]=So[40]=-1;Eo[130]=Eo[40]=1;Ao[37]=Ao[133]=0;Oo[37]=Oo[133]=1;ko[37]=ko[133]=1;Bo[37]=Bo[133]=0;$o[37]=$o[133]=1;Uo[37]=Uo[133]=0;vo[37]=vo[133]=-1;bo[37]=bo[133]=0;xo[37]=xo[133]=0;wo[37]=wo[133]=1;So[37]=So[133]=0;Eo[37]=Eo[133]=0;Mo[148]=Mo[22]=-1;Ro[148]=Ro[22]=0;Do[148]=Do[22]=0;Bo[148]=Bo[22]=0;$o[148]=$o[22]=-1;Uo[148]=Uo[22]=1;zo[148]=zo[22]=0;Fo[148]=Fo[22]=1;jo[148]=jo[22]=1;wo[148]=wo[22]=-1;So[148]=So[22]=0;Eo[148]=Eo[22]=1;Po[82]=Po[88]=0;Io[82]=Io[88]=-1;Co[82]=Co[88]=1;Mo[82]=Mo[88]=1;Ro[82]=Ro[88]=0;Do[82]=Do[88]=1;To[82]=To[88]=-1;Lo[82]=Lo[88]=0;No[82]=No[88]=1;zo[82]=zo[88]=0;Fo[82]=Fo[88]=-1;jo[82]=jo[88]=0;Po[73]=Po[97]=0;Io[73]=Io[97]=1;Co[73]=Co[97]=0;Ao[73]=Ao[97]=0;Oo[73]=Oo[97]=-1;ko[73]=ko[97]=0;To[73]=To[97]=1;Lo[73]=Lo[97]=0;No[73]=No[97]=0;vo[73]=vo[97]=1;bo[73]=bo[97]=0;xo[73]=xo[97]=1;Po[145]=Po[25]=0;Io[145]=Io[25]=-1;Co[145]=Co[25]=0;To[145]=To[25]=1;Lo[145]=Lo[25]=0;No[145]=No[25]=1;Bo[145]=Bo[25]=0;$o[145]=$o[25]=1;Uo[145]=Uo[25]=1;wo[145]=wo[25]=-1;So[145]=So[25]=0;Eo[145]=Eo[25]=0;Ao[70]=Ao[100]=0;Oo[70]=Oo[100]=1;ko[70]=ko[100]=0;Mo[70]=Mo[100]=-1;Ro[70]=Ro[100]=0;Do[70]=Do[100]=1;zo[70]=zo[100]=0;Fo[70]=Fo[100]=-1;jo[70]=jo[100]=1;vo[70]=vo[100]=1;bo[70]=bo[100]=0;xo[70]=xo[100]=0;Ao[101]=Ao[69]=0;Oo[101]=Oo[69]=1;ko[101]=ko[69]=0;vo[101]=vo[69]=1;bo[101]=bo[69]=0;xo[101]=xo[69]=0;Bo[149]=Bo[21]=0;$o[149]=$o[21]=1;Uo[149]=Uo[21]=1;wo[149]=wo[21]=-1;So[149]=So[21]=0;Eo[149]=Eo[21]=0;Mo[86]=Mo[84]=-1;Ro[86]=Ro[84]=0;Do[86]=Do[84]=1;zo[86]=zo[84]=0;Fo[86]=Fo[84]=-1;jo[86]=jo[84]=1;Po[89]=Po[81]=0;Io[89]=Io[81]=-1;Co[89]=Co[81]=0;To[89]=To[81]=1;Lo[89]=Lo[81]=0;No[89]=No[81]=1;Po[96]=Po[74]=0;Io[96]=Io[74]=1;Co[96]=Co[74]=0;Ao[96]=Ao[74]=-1;Oo[96]=Oo[74]=0;ko[96]=ko[74]=1;zo[96]=zo[74]=1;Fo[96]=Fo[74]=0;jo[96]=jo[74]=0;vo[96]=vo[74]=1;bo[96]=bo[74]=0;xo[96]=xo[74]=1;Po[24]=Po[146]=0;Io[24]=Io[146]=-1;Co[24]=Co[146]=1;Mo[24]=Mo[146]=1;Ro[24]=Ro[146]=0;Do[24]=Do[146]=1;To[24]=To[146]=0;Lo[24]=Lo[146]=1;No[24]=No[146]=1;wo[24]=wo[146]=0;So[24]=So[146]=-1;Eo[24]=Eo[146]=0;Ao[6]=Ao[164]=-1;Oo[6]=Oo[164]=0;ko[6]=ko[164]=1;Mo[6]=Mo[164]=-1;Ro[6]=Ro[164]=0;Do[6]=Do[164]=0;Bo[6]=Bo[164]=0;$o[6]=$o[164]=-1;Uo[6]=Uo[164]=1;zo[6]=zo[164]=1;Fo[6]=Fo[164]=0;jo[6]=jo[164]=0;To[129]=To[41]=0;Lo[129]=Lo[41]=1;No[129]=No[41]=1;Bo[129]=Bo[41]=0;$o[129]=$o[41]=1;Uo[129]=Uo[41]=0;vo[129]=vo[41]=-1;bo[129]=bo[41]=0;xo[129]=xo[41]=0;wo[129]=wo[41]=0;So[129]=So[41]=-1;Eo[129]=Eo[41]=0;Mo[66]=Mo[104]=0;Ro[66]=Ro[104]=1;Do[66]=Do[104]=0;To[66]=To[104]=-1;Lo[66]=Lo[104]=0;No[66]=No[104]=1;zo[66]=zo[104]=0;Fo[66]=Fo[104]=-1;jo[66]=jo[104]=0;vo[66]=vo[104]=0;bo[66]=bo[104]=-1;xo[66]=xo[104]=1;Po[144]=Po[26]=-1;Io[144]=Io[26]=0;Co[144]=Co[26]=0;Bo[144]=Bo[26]=1;$o[144]=$o[26]=0;Uo[144]=Uo[26]=1;zo[144]=zo[26]=0;Fo[144]=Fo[26]=1;jo[144]=jo[26]=1;wo[144]=wo[26]=-1;So[144]=So[26]=0;Eo[144]=Eo[26]=1;Ao[36]=Ao[134]=0;Oo[36]=Oo[134]=1;ko[36]=ko[134]=1;Mo[36]=Mo[134]=0;Ro[36]=Ro[134]=1;Do[36]=Do[134]=0;vo[36]=vo[134]=0;bo[36]=bo[134]=-1;xo[36]=xo[134]=1;wo[36]=wo[134]=1;So[36]=So[134]=0;Eo[36]=Eo[134]=0;Po[9]=Po[161]=-1;Io[9]=Io[161]=0;Co[9]=Co[161]=0;Ao[9]=Ao[161]=0;Oo[9]=Oo[161]=-1;ko[9]=ko[161]=0;To[9]=To[161]=1;Lo[9]=Lo[161]=0;No[9]=No[161]=0;Bo[9]=Bo[161]=1;$o[9]=$o[161]=0;Uo[9]=Uo[161]=1;Po[136]=0;Io[136]=1;Co[136]=1;Ao[136]=0;Oo[136]=1;ko[136]=0;Mo[136]=-1;Ro[136]=0;Do[136]=1;To[136]=-1;Lo[136]=0;No[136]=0;Bo[136]=0;$o[136]=-1;Uo[136]=0;zo[136]=0;Fo[136]=-1;jo[136]=1;vo[136]=1;bo[136]=0;xo[136]=0;wo[136]=1;So[136]=0;Eo[136]=1;Po[34]=0;Io[34]=-1;Co[34]=0;Ao[34]=0;Oo[34]=-1;ko[34]=1;Mo[34]=1;Ro[34]=0;Do[34]=0;To[34]=1;Lo[34]=0;No[34]=1;Bo[34]=0;$o[34]=1;Uo[34]=1;zo[34]=0;Fo[34]=1;jo[34]=0;vo[34]=-1;bo[34]=0;xo[34]=1;wo[34]=-1;So[34]=0;Eo[34]=0;Po[35]=0;Io[35]=1;Co[35]=1;Ao[35]=0;Oo[35]=-1;ko[35]=1;Mo[35]=1;Ro[35]=0;Do[35]=0;To[35]=-1;Lo[35]=0;No[35]=0;Bo[35]=0;$o[35]=-1;Uo[35]=0;zo[35]=0;Fo[35]=1;jo[35]=0;vo[35]=-1;bo[35]=0;xo[35]=1;wo[35]=1;So[35]=0;Eo[35]=1;Po[153]=0;Io[153]=1;Co[153]=1;To[153]=-1;Lo[153]=0;No[153]=0;Bo[153]=0;$o[153]=-1;Uo[153]=0;wo[153]=1;So[153]=0;Eo[153]=1;Ao[102]=0;Oo[102]=-1;ko[102]=1;Mo[102]=1;Ro[102]=0;Do[102]=0;zo[102]=0;Fo[102]=1;jo[102]=0;vo[102]=-1;bo[102]=0;xo[102]=1;Po[155]=0;Io[155]=-1;Co[155]=0;To[155]=1;Lo[155]=0;No[155]=1;Bo[155]=0;$o[155]=1;Uo[155]=1;wo[155]=-1;So[155]=0;Eo[155]=0;Ao[103]=0;Oo[103]=1;ko[103]=0;Mo[103]=-1;Ro[103]=0;Do[103]=1;zo[103]=0;Fo[103]=-1;jo[103]=1;vo[103]=1;bo[103]=0;xo[103]=0;Po[152]=0;Io[152]=1;Co[152]=1;Mo[152]=-1;Ro[152]=0;Do[152]=1;To[152]=-1;Lo[152]=0;No[152]=0;Bo[152]=0;$o[152]=-1;Uo[152]=0;zo[152]=0;Fo[152]=-1;jo[152]=1;wo[152]=1;So[152]=0;Eo[152]=1;Po[156]=0;Io[156]=-1;Co[156]=1;Mo[156]=1;Ro[156]=0;Do[156]=1;To[156]=-1;Lo[156]=0;No[156]=0;Bo[156]=0;$o[156]=-1;Uo[156]=0;zo[156]=0;Fo[156]=1;jo[156]=1;wo[156]=-1;So[156]=0;Eo[156]=1;Po[137]=0;Io[137]=1;Co[137]=1;Ao[137]=0;Oo[137]=1;ko[137]=0;To[137]=-1;Lo[137]=0;No[137]=0;Bo[137]=0;$o[137]=-1;Uo[137]=0;vo[137]=1;bo[137]=0;xo[137]=0;wo[137]=1;So[137]=0;Eo[137]=1;Po[139]=0;Io[139]=1;Co[139]=1;Ao[139]=0;Oo[139]=-1;ko[139]=0;To[139]=1;Lo[139]=0;No[139]=0;Bo[139]=0;$o[139]=1;Uo[139]=0;vo[139]=-1;bo[139]=0;xo[139]=0;wo[139]=1;So[139]=0;Eo[139]=1;Po[98]=0;Io[98]=-1;Co[98]=0;Ao[98]=0;Oo[98]=-1;ko[98]=1;Mo[98]=1;Ro[98]=0;Do[98]=0;To[98]=1;Lo[98]=0;No[98]=1;zo[98]=0;Fo[98]=1;jo[98]=0;vo[98]=-1;bo[98]=0;xo[98]=1;Po[99]=0;Io[99]=1;Co[99]=0;Ao[99]=0;Oo[99]=-1;ko[99]=1;Mo[99]=1;Ro[99]=0;Do[99]=0;To[99]=-1;Lo[99]=0;No[99]=1;zo[99]=0;Fo[99]=-1;jo[99]=0;vo[99]=1;bo[99]=0;xo[99]=1;Ao[38]=0;Oo[38]=-1;ko[38]=1;Mo[38]=1;Ro[38]=0;Do[38]=0;Bo[38]=0;$o[38]=1;Uo[38]=1;zo[38]=0;Fo[38]=1;jo[38]=0;vo[38]=-1;bo[38]=0;xo[38]=1;wo[38]=-1;So[38]=0;Eo[38]=0;Ao[39]=0;Oo[39]=1;ko[39]=1;Mo[39]=-1;Ro[39]=0;Do[39]=0;Bo[39]=0;$o[39]=-1;Uo[39]=1;zo[39]=0;Fo[39]=1;jo[39]=0;vo[39]=-1;bo[39]=0;xo[39]=1;wo[39]=1;So[39]=0;Eo[39]=0;var PD=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ID=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},CD=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},AD=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},OD=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},kD=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},TD=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},LD=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},oce=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},ace=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},sce=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},uce=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},lce=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},cce=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},fce=function(){return[[0,0],[0,1],[1,1],[1,0]]},pce=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},hce=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},dce=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},_ce=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},mce=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},gce=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},yce=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},vce=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},bce=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},xce=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},wce=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},Sce=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Ece=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Pce=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Ice=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},Cce=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Ace=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Oce=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},kce=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Tce=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Lce=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Nce=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Mce=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Rce=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Dce=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},nn=[],Hr=[],zn=[],Cn=[],ai=[],ei=[],qo=[],Qo=[];Cn[1]=ai[1]=18;Cn[169]=ai[169]=18;zn[4]=Hr[4]=12;zn[166]=Hr[166]=12;nn[16]=Qo[16]=4;nn[154]=Qo[154]=4;ei[64]=qo[64]=22;ei[106]=qo[106]=22;zn[2]=ei[2]=17;Cn[2]=ai[2]=18;zn[168]=ei[168]=17;Cn[168]=ai[168]=18;nn[8]=Cn[8]=9;Hr[8]=zn[8]=12;nn[162]=Cn[162]=9;Hr[162]=zn[162]=12;nn[32]=Qo[32]=4;Hr[32]=qo[32]=1;nn[138]=Qo[138]=4;Hr[138]=qo[138]=1;ai[128]=Qo[128]=21;ei[128]=qo[128]=22;ai[42]=Qo[42]=21;ei[42]=qo[42]=22;Hr[5]=ai[5]=14;Hr[165]=ai[165]=14;zn[20]=Qo[20]=6;zn[150]=Qo[150]=6;nn[80]=ei[80]=11;nn[90]=ei[90]=11;Cn[65]=qo[65]=3;Cn[105]=qo[105]=3;nn[160]=ei[160]=11;Hr[160]=ai[160]=14;nn[10]=ei[10]=11;Hr[10]=ai[10]=14;zn[130]=Qo[130]=6;Cn[130]=qo[130]=3;zn[40]=Qo[40]=6;Cn[40]=qo[40]=3;Hr[101]=qo[101]=1;Hr[69]=qo[69]=1;ai[149]=Qo[149]=21;ai[21]=Qo[21]=21;zn[86]=ei[86]=17;zn[84]=ei[84]=17;nn[89]=Cn[89]=9;nn[81]=Cn[81]=9;nn[96]=qo[96]=0;Hr[96]=ei[96]=15;nn[74]=qo[74]=0;Hr[74]=ei[74]=15;nn[24]=zn[24]=8;Cn[24]=Qo[24]=7;nn[146]=zn[146]=8;Cn[146]=Qo[146]=7;Hr[6]=ei[6]=15;zn[6]=ai[6]=16;Hr[164]=ei[164]=15;zn[164]=ai[164]=16;Cn[129]=Qo[129]=7;ai[129]=qo[129]=20;Cn[41]=Qo[41]=7;ai[41]=qo[41]=20;zn[66]=qo[66]=2;Cn[66]=ei[66]=19;zn[104]=qo[104]=2;Cn[104]=ei[104]=19;nn[144]=ai[144]=10;ei[144]=Qo[144]=23;nn[26]=ai[26]=10;ei[26]=Qo[26]=23;Hr[36]=Qo[36]=5;zn[36]=qo[36]=2;Hr[134]=Qo[134]=5;zn[134]=qo[134]=2;nn[9]=ai[9]=10;Hr[9]=Cn[9]=13;nn[161]=ai[161]=10;Hr[161]=Cn[161]=13;Hr[37]=Qo[37]=5;ai[37]=qo[37]=20;Hr[133]=Qo[133]=5;ai[133]=qo[133]=20;zn[148]=ai[148]=16;ei[148]=Qo[148]=23;zn[22]=ai[22]=16;ei[22]=Qo[22]=23;nn[82]=zn[82]=8;Cn[82]=ei[82]=19;nn[88]=zn[88]=8;Cn[88]=ei[88]=19;nn[73]=qo[73]=0;Hr[73]=Cn[73]=13;nn[97]=qo[97]=0;Hr[97]=Cn[97]=13;nn[145]=Cn[145]=9;ai[145]=Qo[145]=21;nn[25]=Cn[25]=9;ai[25]=Qo[25]=21;Hr[70]=qo[70]=1;zn[70]=ei[70]=17;Hr[100]=qo[100]=1;zn[100]=ei[100]=17;nn[34]=Cn[34]=9;Hr[34]=zn[34]=12;ai[34]=Qo[34]=21;ei[34]=qo[34]=22;nn[136]=Qo[136]=4;Hr[136]=qo[136]=1;zn[136]=ei[136]=17;Cn[136]=ai[136]=18;nn[35]=Qo[35]=4;Hr[35]=zn[35]=12;Cn[35]=ai[35]=18;ei[35]=qo[35]=22;nn[153]=Qo[153]=4;Cn[153]=ai[153]=18;Hr[102]=zn[102]=12;ei[102]=qo[102]=22;nn[155]=Cn[155]=9;ai[155]=Qo[155]=23;Hr[103]=qo[103]=1;zn[103]=ei[103]=17;nn[152]=Qo[152]=4;zn[152]=ei[152]=17;Cn[152]=ai[152]=18;nn[156]=zn[156]=8;Cn[156]=ai[156]=18;ei[156]=Qo[156]=23;nn[137]=Qo[137]=4;Hr[137]=qo[137]=1;Cn[137]=ai[137]=18;nn[139]=Qo[139]=4;Hr[139]=Cn[139]=13;ai[139]=qo[139]=20;nn[98]=Cn[98]=9;Hr[98]=zn[98]=12;ei[98]=qo[98]=22;nn[99]=qo[99]=0;Hr[99]=zn[99]=12;Cn[99]=ei[99]=19;Hr[38]=zn[38]=12;ai[38]=Qo[38]=21;ei[38]=qo[38]=22;Hr[39]=Qo[39]=5;zn[39]=ai[39]=16;ei[39]=qo[39]=22;var zr=[];zr[1]=zr[169]=PD;zr[4]=zr[166]=ID;zr[16]=zr[154]=CD;zr[64]=zr[106]=AD;zr[168]=zr[2]=OD;zr[162]=zr[8]=kD;zr[138]=zr[32]=TD;zr[42]=zr[128]=LD;zr[5]=zr[165]=oce;zr[20]=zr[150]=ace;zr[80]=zr[90]=sce;zr[65]=zr[105]=uce;zr[160]=zr[10]=lce;zr[130]=zr[40]=cce;zr[85]=fce;zr[101]=zr[69]=pce;zr[149]=zr[21]=hce;zr[86]=zr[84]=dce;zr[89]=zr[81]=_ce;zr[96]=zr[74]=mce;zr[24]=zr[146]=gce;zr[6]=zr[164]=yce;zr[129]=zr[41]=vce;zr[66]=zr[104]=bce;zr[144]=zr[26]=xce;zr[36]=zr[134]=wce;zr[9]=zr[161]=Sce;zr[37]=zr[133]=Ece;zr[148]=zr[22]=Pce;zr[82]=zr[88]=Ice;zr[73]=zr[97]=Cce;zr[145]=zr[25]=Ace;zr[70]=zr[100]=Oce;zr[34]=function(e){return[LD(e),kD(e)]};zr[35]=kce;zr[136]=function(e){return[TD(e),OD(e)]};zr[153]=function(e){return[CD(e),PD(e)]};zr[102]=function(e){return[ID(e),AD(e)]};zr[155]=Tce;zr[103]=Lce;zr[152]=function(e){return[CD(e),OD(e)]};zr[156]=Nce;zr[137]=function(e){return[TD(e),PD(e)]};zr[139]=Mce;zr[98]=function(e){return[kD(e),AD(e)]};zr[99]=Rce;zr[38]=function(e){return[ID(e),LD(e)]};zr[39]=Dce;function Ce(e,t,r){return(e-t)/(r-t)}function vN(e){return e.constructor.toString().indexOf("Array")>-1}function zce(e,t,r){for(var n=e.length-1,i=e[0].length-1,u={rows:n,cols:i,cells:[]},s=t+Math.abs(r),m=0;m<n;++m){u.cells[m]=[];for(var v=0;v<i;++v){var _=0,P=e[m+1][v],C=e[m+1][v+1],I=e[m][v+1],k=e[m][v];if(!(isNaN(P)||isNaN(C)||isNaN(I)||isNaN(k))){_|=P<t?0:P>s?128:64,_|=C<t?0:C>s?32:16,_|=I<t?0:I>s?8:4,_|=k<t?0:k>s?2:1;var F=+_,V=0;if(_===17||_===18||_===33||_===34||_===38||_===68||_===72||_===98||_===102||_===132||_===136||_===137||_===152||_===153){var Y=(P+C+I+k)/4;V=Y>s?2:Y<t?0:1,_===34?V===1?_=35:V===0&&(_=136):_===136?V===1?(_=35,V=4):V===0&&(_=34):_===17?V===1?(_=155,V=4):V===0&&(_=153):_===68?V===1?(_=103,V=4):V===0&&(_=102):_===153?V===1&&(_=155):_===102?V===1&&(_=103):_===152?V<2&&(_=156,V=1):_===137?V<2&&(_=139,V=1):_===98?V<2&&(_=99,V=1):_===38?V<2&&(_=39,V=1):_===18?V>0?(_=156,V=4):_=152:_===33?V>0?(_=139,V=4):_=137:_===72?V>0?(_=99,V=4):_=98:_===132&&(V>0?(_=39,V=4):_=38)}if(_!=0&&_!=170){var q,M,j,G,J,he,pe,ne;q=M=j=G=J=he=pe=ne=.5;var ee=[];_===1?(j=1-Ce(t,I,k),ne=1-Ce(t,P,k),ee.push(Cn[_])):_===169?(j=Ce(s,k,I),ne=Ce(s,k,P),ee.push(Cn[_])):_===4?(he=1-Ce(t,C,I),G=Ce(t,k,I),ee.push(Hr[_])):_===166?(he=Ce(s,I,C),G=1-Ce(s,I,k),ee.push(Hr[_])):_===16?(J=Ce(t,I,C),M=Ce(t,P,C),ee.push(nn[_])):_===154?(J=1-Ce(s,C,I),M=1-Ce(s,C,P),ee.push(nn[_])):_===64?(pe=Ce(t,k,P),q=1-Ce(t,C,P),ee.push(ei[_])):_===106?(pe=1-Ce(s,P,k),q=Ce(s,P,C),ee.push(ei[_])):_===168?(G=Ce(s,k,I),j=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),ee.push(zn[_]),ee.push(Cn[_])):_===2?(G=1-Ce(t,I,k),j=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),ee.push(zn[_]),ee.push(Cn[_])):_===162?(J=Ce(s,I,C),he=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),ee.push(zn[_]),ee.push(Cn[_])):_===8?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),ee.push(nn[_]),ee.push(Hr[_])):_===138?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),q=1-Ce(s,C,P),M=1-Ce(t,C,P),ee.push(nn[_]),ee.push(Hr[_])):_===32?(J=Ce(s,I,C),he=Ce(t,I,C),q=Ce(t,P,C),M=Ce(s,P,C),ee.push(nn[_]),ee.push(Hr[_])):_===42?(ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C),ee.push(ai[_]),ee.push(ei[_])):_===128&&(ne=Ce(t,k,P),pe=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P),ee.push(ai[_]),ee.push(ei[_])),_===5?(he=1-Ce(t,C,I),ne=1-Ce(t,P,k),ee.push(Hr[_])):_===165?(he=Ce(s,I,C),ne=Ce(s,k,P),ee.push(Hr[_])):_===20?(G=Ce(t,k,I),M=Ce(t,P,C),ee.push(zn[_])):_===150?(G=1-Ce(s,I,k),M=1-Ce(s,C,P),ee.push(zn[_])):_===80?(J=Ce(t,I,C),pe=Ce(t,k,P),ee.push(nn[_])):_===90?(J=1-Ce(s,C,I),pe=1-Ce(s,P,k),ee.push(nn[_])):_===65?(j=1-Ce(t,I,k),q=1-Ce(t,C,P),ee.push(Cn[_])):_===105?(j=Ce(s,k,I),q=Ce(s,P,C),ee.push(Cn[_])):_===160?(J=Ce(s,I,C),he=Ce(t,I,C),ne=Ce(t,k,P),pe=Ce(s,k,P),ee.push(nn[_]),ee.push(Hr[_])):_===10?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),ee.push(nn[_]),ee.push(Hr[_])):_===130?(G=1-Ce(t,I,k),j=1-Ce(s,I,k),q=1-Ce(s,C,P),M=1-Ce(t,C,P),ee.push(zn[_]),ee.push(Cn[_])):_===40?(G=Ce(s,k,I),j=Ce(t,k,I),q=Ce(t,P,C),M=Ce(s,P,C),ee.push(zn[_]),ee.push(Cn[_])):_===101?(he=Ce(s,I,C),q=Ce(s,P,C),ee.push(Hr[_])):_===69?(he=1-Ce(t,C,I),q=1-Ce(t,C,P),ee.push(Hr[_])):_===149?(ne=Ce(s,k,P),M=1-Ce(s,C,P),ee.push(ai[_])):_===21?(ne=1-Ce(t,P,k),M=Ce(t,P,C),ee.push(ai[_])):_===86?(G=1-Ce(s,I,k),pe=1-Ce(s,P,k),ee.push(zn[_])):_===84?(G=Ce(t,k,I),pe=Ce(t,k,P),ee.push(zn[_])):_===89?(J=1-Ce(s,C,I),j=Ce(s,k,I),ee.push(Cn[_])):_===81?(J=Ce(t,I,C),j=1-Ce(t,I,k),ee.push(Cn[_])):_===96?(J=Ce(s,I,C),he=Ce(t,I,C),pe=Ce(t,k,P),q=Ce(s,P,C),ee.push(nn[_]),ee.push(Hr[_])):_===74?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),pe=1-Ce(s,P,k),q=1-Ce(t,C,P),ee.push(nn[_]),ee.push(Hr[_])):_===24?(J=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),M=Ce(t,P,C),ee.push(nn[_]),ee.push(Cn[_])):_===146?(J=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),M=1-Ce(s,C,P),ee.push(nn[_]),ee.push(Cn[_])):_===6?(he=1-Ce(t,C,I),G=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),ee.push(Hr[_]),ee.push(zn[_])):_===164?(he=Ce(s,I,C),G=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),ee.push(Hr[_]),ee.push(zn[_])):_===129?(j=1-Ce(t,I,k),ne=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P),ee.push(Cn[_]),ee.push(ai[_])):_===41?(j=Ce(s,k,I),ne=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C),ee.push(Cn[_]),ee.push(ai[_])):_===66?(G=1-Ce(t,I,k),j=1-Ce(s,I,k),pe=1-Ce(s,P,k),q=1-Ce(t,C,P),ee.push(zn[_]),ee.push(Cn[_])):_===104?(G=Ce(s,k,I),j=Ce(t,k,I),pe=Ce(t,k,P),q=Ce(s,P,C),ee.push(Cn[_]),ee.push(qo[_])):_===144?(J=Ce(t,I,C),ne=Ce(t,k,P),pe=Ce(s,k,P),M=1-Ce(s,C,P),ee.push(nn[_]),ee.push(ei[_])):_===26?(J=1-Ce(s,C,I),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),M=Ce(t,P,C),ee.push(nn[_]),ee.push(ei[_])):_===36?(he=Ce(s,I,C),G=Ce(t,k,I),q=Ce(t,P,C),M=Ce(s,P,C),ee.push(Hr[_]),ee.push(zn[_])):_===134?(he=1-Ce(t,C,I),G=1-Ce(s,I,k),q=1-Ce(s,C,P),M=1-Ce(t,C,P),ee.push(Hr[_]),ee.push(zn[_])):_===9?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),j=Ce(s,k,I),ne=1-Ce(t,P,k),ee.push(nn[_]),ee.push(Hr[_])):_===161?(J=Ce(s,I,C),he=Ce(t,I,C),j=1-Ce(t,I,k),ne=Ce(s,k,P),ee.push(nn[_]),ee.push(Hr[_])):_===37?(he=Ce(s,I,C),ne=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C),ee.push(Hr[_]),ee.push(ai[_])):_===133?(he=1-Ce(t,C,I),ne=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P),ee.push(Hr[_]),ee.push(ai[_])):_===148?(G=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),M=1-Ce(s,C,P),ee.push(zn[_]),ee.push(ei[_])):_===22?(G=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),M=Ce(t,P,C),ee.push(zn[_]),ee.push(ei[_])):_===82?(J=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),pe=1-Ce(s,P,k),ee.push(nn[_]),ee.push(Cn[_])):_===88?(J=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),pe=Ce(t,k,P),ee.push(nn[_]),ee.push(Cn[_])):_===73?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),j=Ce(s,k,I),q=1-Ce(t,C,P),ee.push(nn[_]),ee.push(Hr[_])):_===97?(J=Ce(s,I,C),he=Ce(t,I,C),j=1-Ce(t,I,k),q=Ce(s,P,C),ee.push(nn[_]),ee.push(Hr[_])):_===145?(J=Ce(t,I,C),j=1-Ce(t,I,k),ne=Ce(s,k,P),M=1-Ce(s,C,P),ee.push(nn[_]),ee.push(ai[_])):_===25?(J=1-Ce(s,C,I),j=Ce(s,k,I),ne=1-Ce(t,P,k),M=Ce(t,P,C),ee.push(nn[_]),ee.push(ai[_])):_===70?(he=1-Ce(t,C,I),G=1-Ce(s,I,k),pe=1-Ce(s,P,k),q=1-Ce(t,C,P),ee.push(Hr[_]),ee.push(zn[_])):_===100?(he=Ce(s,I,C),G=Ce(t,k,I),pe=Ce(t,k,P),q=Ce(s,P,C),ee.push(Hr[_]),ee.push(zn[_])):_===34?(V===0?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P)):(J=Ce(s,I,C),he=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C)),ee.push(nn[_]),ee.push(Hr[_]),ee.push(ai[_]),ee.push(ei[_])):_===35?(V===4?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P)):(J=Ce(s,I,C),he=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C)),ee.push(nn[_]),ee.push(Hr[_]),ee.push(Cn[_]),ee.push(ei[_])):_===136?(V===0?(J=Ce(s,I,C),he=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C)):(J=1-Ce(t,C,I),he=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P)),ee.push(nn[_]),ee.push(Hr[_]),ee.push(ai[_]),ee.push(ei[_])):_===153?(V===0?(J=Ce(t,I,C),j=1-Ce(t,I,k),ne=1-Ce(t,P,k),M=Ce(t,P,C)):(J=1-Ce(s,C,I),j=Ce(s,k,I),ne=Ce(s,k,P),M=1-Ce(s,C,P)),ee.push(nn[_]),ee.push(Cn[_])):_===102?(V===0?(he=1-Ce(t,C,I),G=Ce(t,k,I),pe=Ce(t,k,P),q=1-Ce(t,C,P)):(he=Ce(s,I,C),G=1-Ce(s,I,k),pe=1-Ce(s,P,k),q=Ce(s,P,C)),ee.push(Hr[_]),ee.push(ei[_])):_===155?(V===4?(J=Ce(t,I,C),j=1-Ce(t,I,k),ne=1-Ce(t,P,k),M=Ce(t,P,C)):(J=1-Ce(s,C,I),j=Ce(s,k,I),ne=Ce(s,k,P),M=1-Ce(s,C,P)),ee.push(nn[_]),ee.push(ai[_])):_===103?(V===4?(he=1-Ce(t,C,I),G=Ce(t,k,I),pe=Ce(t,k,P),q=1-Ce(t,C,P)):(he=Ce(s,I,C),G=1-Ce(s,I,k),pe=1-Ce(s,P,k),q=Ce(s,P,C)),ee.push(Hr[_]),ee.push(zn[_])):_===152?(V===0?(J=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),M=Ce(t,P,C)):(J=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),M=1-Ce(s,C,P)),ee.push(nn[_]),ee.push(zn[_]),ee.push(Cn[_])):_===156?(V===4?(J=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),M=Ce(t,P,C)):(J=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),M=1-Ce(s,C,P)),ee.push(nn[_]),ee.push(Cn[_]),ee.push(ei[_])):_===137?(V===0?(J=Ce(s,I,C),he=Ce(t,I,C),j=1-Ce(t,I,k),ne=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C)):(J=1-Ce(t,C,I),he=1-Ce(s,C,I),j=Ce(s,k,I),ne=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P)),ee.push(nn[_]),ee.push(Hr[_]),ee.push(Cn[_])):_===139?(V===4?(J=Ce(s,I,C),he=Ce(t,I,C),j=1-Ce(t,I,k),ne=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C)):(J=1-Ce(t,C,I),he=1-Ce(s,C,I),j=Ce(s,k,I),ne=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P)),ee.push(nn[_]),ee.push(Hr[_]),ee.push(ai[_])):_===98?(V===0?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),pe=Ce(t,k,P),q=1-Ce(t,C,P)):(J=Ce(s,I,C),he=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),pe=1-Ce(s,P,k),q=Ce(s,P,C)),ee.push(nn[_]),ee.push(Hr[_]),ee.push(ei[_])):_===99?(V===4?(J=1-Ce(t,C,I),he=1-Ce(s,C,I),G=Ce(s,k,I),j=Ce(t,k,I),pe=Ce(t,k,P),q=1-Ce(t,C,P)):(J=Ce(s,I,C),he=Ce(t,I,C),G=1-Ce(t,I,k),j=1-Ce(s,I,k),pe=1-Ce(s,P,k),q=Ce(s,P,C)),ee.push(nn[_]),ee.push(Hr[_]),ee.push(Cn[_])):_===38?(V===0?(he=1-Ce(t,C,I),G=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P)):(he=Ce(s,I,C),G=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C)),ee.push(Hr[_]),ee.push(ai[_]),ee.push(ei[_])):_===39?(V===4?(he=1-Ce(t,C,I),G=Ce(t,k,I),ne=Ce(t,k,P),pe=Ce(s,k,P),q=1-Ce(s,C,P),M=1-Ce(t,C,P)):(he=Ce(s,I,C),G=1-Ce(s,I,k),ne=1-Ce(s,P,k),pe=1-Ce(t,P,k),q=Ce(t,P,C),M=Ce(s,P,C)),ee.push(Hr[_]),ee.push(zn[_]),ee.push(ei[_])):_===85&&(J=1,he=0,G=1,j=0,ne=0,pe=1,q=0,M=1),(q<0||q>1||M<0||M>1||J<0||J>1||G<0||G>1||ne<0||ne>1||pe<0||pe>1)&&console.log("MarchingSquaresJS-isoBands: "+_+" "+F+" "+P+","+C+","+I+","+k+" "+V+" "+q+" "+M+" "+J+" "+he+" "+G+" "+j+" "+ne+" "+pe),u.cells[m][v]={cval:_,cval_real:F,flipped:V,topleft:q,topright:M,righttop:J,rightbottom:he,bottomright:G,bottomleft:j,leftbottom:ne,lefttop:pe,edges:ee}}}}}return u}function Fce(e){for(var t=[],r=e.rows,n=e.cols,i=[],u=0;u<r;u++)for(var s=0;s<n;s++)if(typeof e.cells[u][s]!="undefined"&&e.cells[u][s].edges.length>0){var m=e.cells[u][s],v=$ce(m),_=null,P=s,C=u;v!==null&&i.push([v.p[0]+P,v.p[1]+C]);do{if(_=Uce(e.cells[C][P],v.x,v.y,v.o),_!==null)i.push([_.p[0]+P,_.p[1]+C]),P+=_.x,C+=_.y,v=_;else break;if(C<0||C>=r||P<0||P>=n||typeof e.cells[C][P]=="undefined"){P-=_.x,C-=_.y;var I=jce(e,P,C,_.x,_.y,_.o);if(I!==null)I.path.forEach(function(k){i.push(k)}),P=I.i,C=I.j,v=I;else break}}while(typeof e.cells[C][P]!="undefined"&&e.cells[C][P].edges.length>0);t.push(i),i=[],e.cells[u][s].edges.length>0&&s--}return t}function jce(e,t,r,n,i,u){for(var s=e.cells[r][t],m=s.cval_real,v=t+n,_=r+i,P=[],C=!1;!C;){if(typeof e.cells[_]=="undefined"||typeof e.cells[_][v]=="undefined")if(_-=i,v-=n,s=e.cells[_][v],m=s.cval_real,i===-1)if(u===0)if(m&Zc)P.push([v,_]),n=-1,i=0,u=0;else if(m&Pc)P.push([v+1,_]),n=1,i=0,u=0;else{P.push([v+s.bottomright,_]),n=0,i=1,u=1,C=!0;break}else if(m&Zc)P.push([v,_]),n=-1,i=0,u=0;else if(m&Pc){P.push([v+s.bottomright,_]),n=0,i=1,u=1,C=!0;break}else{P.push([v+s.bottomleft,_]),n=0,i=1,u=0,C=!0;break}else if(i===1)if(u===0)if(m&yd)P.push([v+1,_+1]),n=1,i=0,u=1;else if(m&wf){P.push([v+s.topleft,_+1]),n=0,i=-1,u=0,C=!0;break}else{P.push([v+s.topright,_+1]),n=0,i=-1,u=1,C=!0;break}else m&yd?(P.push([v+1,_+1]),n=1,i=0,u=1):(P.push([v+1,_+1]),n=1,i=0,u=1);else if(n===-1)if(u===0)if(m&wf)P.push([v,_+1]),n=0,i=1,u=0;else if(m&Zc){P.push([v,_+s.leftbottom]),n=1,i=0,u=0,C=!0;break}else{P.push([v,_+s.lefttop]),n=1,i=0,u=1,C=!0;break}else if(m&wf)P.push([v,_+1]),n=0,i=1,u=0;else{console.log("MarchingSquaresJS-isoBands: wtf");break}else if(n===1)if(u===0)if(m&Pc)P.push([v+1,_]),n=0,i=-1,u=1;else{P.push([v+1,_+s.rightbottom]),n=-1,i=0,u=0,C=!0;break}else if(m&Pc)P.push([v+1,_]),n=0,i=-1,u=1;else if(m&yd){P.push([v+1,_+s.righttop]),n=-1,i=0,u=1;break}else{P.push([v+1,_+s.rightbottom]),n=-1,i=0,u=0,C=!0;break}else{console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}else if(s=e.cells[_][v],m=s.cval_real,n===-1)if(u===0)if(typeof e.cells[_-1]!="undefined"&&typeof e.cells[_-1][v]!="undefined")n=0,i=-1,u=1;else if(m&Zc)P.push([v,_]);else{P.push([v+s.bottomright,_]),n=0,i=1,u=1,C=!0;break}else if(m&wf)console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!");else{console.log("MarchingSquaresJS-isoBands: found entry from top at "+v+","+_);break}else if(n===1)if(u===0){console.log("MarchingSquaresJS-isoBands: wtf");break}else if(typeof e.cells[_+1]!="undefined"&&typeof e.cells[_+1][v]!="undefined")n=0,i=1,u=0;else if(m&yd)P.push([v+1,_+1]),n=1,i=0,u=1;else{P.push([v+s.topleft,_+1]),n=0,i=-1,u=0,C=!0;break}else if(i===-1)if(u===1)if(typeof e.cells[_][v+1]!="undefined")n=1,i=0,u=1;else if(m&Pc)P.push([v+1,_]),n=0,i=-1,u=1;else{P.push([v+1,_+s.righttop]),n=-1,i=0,u=1,C=!0;break}else{console.log("MarchingSquaresJS-isoBands: wtf");break}else if(i===1)if(u===0)if(typeof e.cells[_][v-1]!="undefined")n=-1,i=0,u=0;else if(m&wf)P.push([v,_+1]),n=0,i=1,u=0;else{P.push([v,_+s.leftbottom]),n=1,i=0,u=0,C=!0;break}else{console.log("MarchingSquaresJS-isoBands: wtf");break}else{console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(v+=n,_+=i,v===t&&_===r)break}return{path:P,i:v,j:_,x:n,y:i,o:u}}function Bce(e,t){delete e.edges[t];for(var r=t+1;r<e.edges.length;r++)e.edges[r-1]=e.edges[r];e.edges.pop()}function $ce(e){if(e.edges.length>0){var t=e.edges[e.edges.length-1],r=e.cval_real;switch(t){case 0:return r&yd?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return r&Pc?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return r&Pc?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return r&Zc?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return r&yd?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return r&Pc?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return r&Pc?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return r&Zc?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return r&Pc?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return r&Zc?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return r&Zc?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return r&wf?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return r&Pc?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return r&Zc?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return r&Zc?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return r&wf?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return r&Pc?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return r&wf?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return r&Zc?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return r&wf?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return r&wf?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return r&yd?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return r&wf?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return r&yd?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e);break}}return null}function Uce(e,t,r,n){var i,u,s,m,v=e.cval,_;switch(t){case-1:switch(n){case 0:i=Hr[v],s=Ao[v],m=Oo[v],_=ko[v];break;default:i=nn[v],s=Po[v],m=Io[v],_=Co[v];break}break;case 1:switch(n){case 0:i=ai[v],s=Bo[v],m=$o[v],_=Uo[v];break;default:i=ei[v],s=zo[v],m=Fo[v],_=jo[v];break}break;default:switch(r){case-1:switch(n){case 0:i=qo[v],s=vo[v],m=bo[v],_=xo[v];break;default:i=Qo[v],s=wo[v],m=So[v],_=Eo[v];break}break;case 1:switch(n){case 0:i=Cn[v],s=To[v],m=Lo[v],_=No[v];break;default:i=zn[v],s=Mo[v],m=Ro[v],_=Do[v];break}break}break}if(u=e.edges.indexOf(i),typeof e.edges[u]!="undefined")Bce(e,u);else return null;switch(v=e.cval_real,i){case 0:v&yd?(t=e.topleft,r=1):(t=1,r=e.righttop);break;case 1:v&Pc?(t=1,r=e.rightbottom):(t=e.topleft,r=1);break;case 2:v&Pc?(t=e.topleft,r=1):(t=e.bottomright,r=0);break;case 3:v&Zc?(t=e.bottomleft,r=0):(t=e.topleft,r=1);break;case 4:v&yd?(t=e.topright,r=1):(t=1,r=e.righttop);break;case 5:v&Pc?(t=1,r=e.rightbottom):(t=e.topright,r=1);break;case 6:v&Pc?(t=e.topright,r=1):(t=e.bottomright,r=0);break;case 7:v&Zc?(t=e.bottomleft,r=0):(t=e.topright,r=1);break;case 8:v&Pc?(t=1,r=e.righttop):(t=e.bottomright,r=0);break;case 9:v&Zc?(t=e.bottomleft,r=0):(t=1,r=e.righttop);break;case 10:v&Zc?(t=1,r=e.righttop):(t=0,r=e.leftbottom);break;case 11:v&wf?(t=0,r=e.lefttop):(t=1,r=e.righttop);break;case 12:v&Pc?(t=1,r=e.rightbottom):(t=e.bottomright,r=0);break;case 13:v&Zc?(t=e.bottomleft,r=0):(t=1,r=e.rightbottom);break;case 14:v&Zc?(t=1,r=e.rightbottom):(t=0,r=e.leftbottom);break;case 15:v&wf?(t=0,r=e.lefttop):(t=1,r=e.rightbottom);break;case 16:v&Pc?(t=0,r=e.leftbottom):(t=e.bottomright,r=0);break;case 17:v&wf?(t=0,r=e.lefttop):(t=e.bottomright,r=0);break;case 18:v&Zc?(t=e.bottomleft,r=0):(t=0,r=e.leftbottom);break;case 19:v&wf?(t=0,r=e.lefttop):(t=e.bottomleft,r=0);break;case 20:v&wf?(t=0,r=e.leftbottom):(t=e.topleft,r=1);break;case 21:v&yd?(t=e.topright,r=1):(t=0,r=e.leftbottom);break;case 22:v&wf?(t=0,r=e.lefttop):(t=e.topleft,r=1);break;case 23:v&yd?(t=e.topright,r=1):(t=0,r=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return(typeof t=="undefined"||typeof r=="undefined"||typeof s=="undefined"||typeof m=="undefined"||typeof _=="undefined")&&(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+r+" "+s+" "+m+" "+_)),{p:[t,r],x:s,y:m,o:_}}function qce(e){var t=[],r=0;return e.cells.forEach(function(n,i){n.forEach(function(u,s){if(typeof u!="undefined"){var m=zr[u.cval](u);typeof m=="object"&&vN(m)?typeof m[0]=="object"&&vN(m[0])?typeof m[0][0]=="object"&&vN(m[0][0])?m.forEach(function(v){v.forEach(function(_){_[0]+=s,_[1]+=i}),t[r++]=v}):(m.forEach(function(v){v[0]+=s,v[1]+=i}),t[r++]=m):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),t}function DG(e,t,r){if(r=r||{},!eg.isObject(r))throw new Error("options is invalid");var n=r.zProperty||"elevation",i=r.commonProperties||{},u=r.breaksProperties||[];if(Km.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!eg.isObject(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(u))throw new Error("breaksProperties is not an Array");var s=rce(e,{zProperty:n,flip:!0}),m=Vce(s,t,n);m=Gce(m,s,e);var v=m.map(function(_,P){if(u[P]&&!eg.isObject(u[P]))throw new Error("Each mappedProperty is required to be an Object");var C=tce.default({},i,u[P]);C[n]=_[n];var I=eg.multiPolygon(_.groupedRings,C);return I});return eg.featureCollection(v)}function Vce(e,t,r){for(var n=[],i=1;i<t.length;i++){var u=+t[i-1],s=+t[i],m=ice(e,u,s-u),v=Wce(m),_=Xce(v),P={};P.groupedRings=_,P[r]=u+"-"+s,n.push(P)}return n}function Gce(e,t,r){var n=Kle.default(r),i=n[2]-n[0],u=n[3]-n[1],s=n[0],m=n[1],v=t[0].length-1,_=t.length-1,P=i/v,C=u/_,I=function(k){k[0]=k[0]*P+s,k[1]=k[1]*C+m};return e.forEach(function(k){k.groupedRings.forEach(function(F){F.forEach(function(V){V.forEach(I)})})}),e}function Wce(e){var t=[],r=[];e.forEach(function(i){var u=Jle.default(eg.polygon([i]));r.push(u),t.push({ring:i,area:u})}),r.sort(function(i,u){return u-i});var n=[];return r.forEach(function(i){for(var u=0;u<t.length;u++)if(t[u].area===i){n.push(t[u].ring),t.splice(u,1);break}}),n}function Xce(e){for(var t=e.map(function(v){return{lrCoordinates:v,grouped:!1}}),r=[];!Hce(t);)for(var n=0;n<t.length;n++)if(!t[n].grouped){var i=[];i.push(t[n].lrCoordinates),t[n].grouped=!0;for(var u=eg.polygon([t[n].lrCoordinates]),s=n+1;s<t.length;s++)if(!t[s].grouped){var m=eg.polygon([t[s].lrCoordinates]);Yce(m,u)&&(i.push(t[s].lrCoordinates),t[s].grouped=!0)}r.push(i)}return r}function Yce(e,t){for(var r=ece.default(e),n=0;n<r.features.length;n++)if(!Qle.default(r.features[n],t))return!1;return!0}function Hce(e){for(var t=0;t<e.length;t++)if(e[t].grouped===!1)return!1;return!0}ED.exports=DG;ED.exports.default=DG;var HA={exports:{}},Zce=hg,Kce=q0,Jce=Sx,Qce=V0,efe=Oc,tfe=Jr,rfe=En,nfe=Cr;function ME(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ife=ME(Zce),ofe=ME(Kce),afe=ME(Jce),sfe=ME(Qce),ufe=ME(efe);function zG(e,t,r){if(r=r||{},!nfe.isObject(r))throw new Error("options is invalid");var n=r.pivot,i=r.mutate;if(!e)throw new Error("geojson is required");if(t==null||isNaN(t))throw new Error("angle is required");return t===0||(n||(n=ife.default(e)),(i===!1||i===void 0)&&(e=ufe.default(e)),tfe.coordEach(e,function(u){var s=ofe.default(n,u),m=s+t,v=afe.default(n,u),_=rfe.getCoords(sfe.default(n,v,m));u[0]=_[0],u[1]=_[1]})),e}HA.exports=zG;HA.exports.default=zG;var ZA={exports:{}},lfe=Oc,cfe=bx,ffe=hg,pfe=Pf,hfe=q0,dfe=Sx,_fe=V0,FG=Jr,uS=Cr,f3=En;function G0(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var mfe=G0(lfe),gfe=G0(cfe),yfe=G0(ffe),vfe=G0(pfe),bfe=G0(hfe),xfe=G0(dfe),wfe=G0(_fe);function jG(e,t,r){if(r=r||{},!uS.isObject(r))throw new Error("options is invalid");var n=r.origin,i=r.mutate;if(!e)throw new Error("geojson required");if(typeof t!="number"||t===0)throw new Error("invalid factor");var u=Array.isArray(n)||typeof n=="object";return i!==!0&&(e=mfe.default(e)),e.type==="FeatureCollection"&&!u?(FG.featureEach(e,function(s,m){e.features[m]=TB(s,t,n)}),e):TB(e,t,n)}function TB(e,t,r){var n=f3.getType(e)==="Point";return r=Sfe(e,r),t===1||n||FG.coordEach(e,function(i){var u=xfe.default(r,i),s=bfe.default(r,i),m=u*t,v=f3.getCoords(wfe.default(r,m,s));i[0]=v[0],i[1]=v[1],i.length===3&&(i[2]*=t)}),e}function Sfe(e,t){if(t==null&&(t="centroid"),Array.isArray(t)||typeof t=="object")return f3.getCoord(t);var r=e.bbox?e.bbox:vfe.default(e),n=r[0],i=r[1],u=r[2],s=r[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return uS.point([n,i]);case"se":case"southeast":case"eastsouth":case"bottomright":return uS.point([u,i]);case"nw":case"northwest":case"westnorth":case"topleft":return uS.point([n,s]);case"ne":case"northeast":case"eastnorth":case"topright":return uS.point([u,s]);case"center":return gfe.default(e);case void 0:case null:case"centroid":return yfe.default(e);default:throw new Error("invalid origin")}}ZA.exports=jG;ZA.exports.default=jG;var ND={exports:{}},Efe=Jr,Pfe=Cr,Ife=En,Cfe=Oc,Afe=V0;function BG(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ofe=BG(Cfe),kfe=BG(Afe);function $G(e,t,r,n){if(n=n||{},!Pfe.isObject(n))throw new Error("options is invalid");var i=n.units,u=n.zTranslation,s=n.mutate;if(!e)throw new Error("geojson is required");if(t==null||isNaN(t))throw new Error("distance is required");if(u&&typeof u!="number"&&isNaN(u))throw new Error("zTranslation is not a number");if(u=u!==void 0?u:0,t===0&&u===0)return e;if(r==null||isNaN(r))throw new Error("direction is required");return t<0&&(t=-t,r=r+180),(s===!1||s===void 0)&&(e=Ofe.default(e)),Efe.coordEach(e,function(m){var v=Ife.getCoords(kfe.default(m,t,r,{units:i}));m[0]=v[0],m[1]=v[1],u&&m.length===3&&(m[2]+=u)}),e}ND.exports=$G;ND.exports.default=$G;var MD={exports:{}},Tfe=Jr,UG=En,wC=Cr;function SC(e){var t=e[0],r=e[1];return[r[0]-t[0],r[1]-t[1]]}function p3(e,t){return e[0]*t[1]-t[0]*e[1]}function Lfe(e,t){return[e[0]+t[0],e[1]+t[1]]}function Nfe(e,t){return[e[0]-t[0],e[1]-t[1]]}function Mfe(e,t){return[e*t[0],e*t[1]]}function Rfe(e,t){var r=e[0],n=SC(e),i=t[0],u=SC(t),s=p3(n,u),m=Nfe(i,r),v=p3(m,u),_=v/s,P=Lfe(r,Mfe(_,n));return P}function Dfe(e,t){var r=SC(e),n=SC(t);return p3(r,n)===0}function zfe(e,t){return Dfe(e,t)?!1:Rfe(e,t)}function qG(e,t,r){if(r=r||{},!wC.isObject(r))throw new Error("options is invalid");var n=r.units;if(!e)throw new Error("geojson is required");if(t==null||isNaN(t))throw new Error("distance is required");var i=UG.getType(e),u=e.properties;switch(i){case"LineString":return LB(e,t,n);case"MultiLineString":var s=[];return Tfe.flattenEach(e,function(m){s.push(LB(m,t,n).geometry.coordinates)}),wC.multiLineString(s,u);default:throw new Error("geometry "+i+" is not supported")}}function LB(e,t,r){var n=[],i=wC.lengthToDegrees(t,r),u=UG.getCoords(e),s=[];return u.forEach(function(m,v){if(v!==u.length-1){var _=Ffe(m,u[v+1],i);if(n.push(_),v>0){var P=n[v-1],C=zfe(_,P);C!==!1&&(P[1]=C,_[0]=C),s.push(P[0]),v===u.length-2&&(s.push(_[0]),s.push(_[1]))}u.length===2&&(s.push(_[0]),s.push(_[1]))}}),wC.lineString(s,e.properties)}function Ffe(e,t,r){var n=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),i=e[0]+r*(t[1]-e[1])/n,u=t[0]+r*(t[1]-e[1])/n,s=e[1]+r*(e[0]-t[0])/n,m=t[1]+r*(e[0]-t[0])/n;return[[i,s],[u,m]]}MD.exports=qG;MD.exports.default=qG;var RD={},DD={},zD={},ov={},jfe=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ov,"__esModule",{value:!0});var Bfe=jfe(Wf),$fe=Cr;function Ufe(e){return(e>0)-(e<0)||+e}function qfe(e,t,r){var n=t[0]-e[0],i=t[1]-e[1],u=r[0]-t[0],s=r[1]-t[1];return Ufe(n*s-u*i)}ov.orientationIndex=qfe;function Vfe(e,t){var r=e.geometry.coordinates[0].map(function(s){return s[0]}),n=e.geometry.coordinates[0].map(function(s){return s[1]}),i=t.geometry.coordinates[0].map(function(s){return s[0]}),u=t.geometry.coordinates[0].map(function(s){return s[1]});return Math.max.apply(null,r)===Math.max.apply(null,i)&&Math.max.apply(null,n)===Math.max.apply(null,u)&&Math.min.apply(null,r)===Math.min.apply(null,i)&&Math.min.apply(null,n)===Math.min.apply(null,u)}ov.envelopeIsEqual=Vfe;function Gfe(e,t){return t.geometry.coordinates[0].every(function(r){return Bfe.default($fe.point(r),e)})}ov.envelopeContains=Gfe;function Wfe(e,t){return e[0]===t[0]&&e[1]===t[1]}ov.coordinatesEqual=Wfe;Object.defineProperty(zD,"__esModule",{value:!0});var Xfe=ov,Yfe=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(t){return t.join(",")},e.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(r){return r.from.id!==t.from.id})},e.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(r){return r.to.id!==t.to.id})},e.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(r,n){var i=r.to,u=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&u.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&u.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]===0&&u.coordinates[0]-t.coordinates[0]===0)return i.coordinates[1]-t.coordinates[1]>=0||u.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-u.coordinates[1]:u.coordinates[1]-i.coordinates[1];var s=Xfe.orientationIndex(t.coordinates,i.coordinates,u.coordinates);if(s<0)return 1;if(s>0)return-1;var m=Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2),v=Math.pow(u.coordinates[0]-t.coordinates[0],2)+Math.pow(u.coordinates[1]-t.coordinates[1],2);return m-v}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},e.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},e}();zD.default=Yfe;var FD={};Object.defineProperty(FD,"__esModule",{value:!0});var Hfe=Cr,Zfe=ov,Kfe=function(){function e(t,r){this.from=t,this.to=r,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return Hfe.lineString([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(t){return Zfe.orientationIndex(t.from.coordinates,t.to.coordinates,this.to.coordinates)},e}();FD.default=Kfe;var KA={},VG=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KA,"__esModule",{value:!0});var qw=ov,bN=Cr,Jfe=VG(OA.exports),Qfe=VG(Wf),epe=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},e.prototype.get=function(t){return this.edges[t]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(t){this.edges.forEach(t)},e.prototype.map=function(t){return this.edges.map(t)},e.prototype.some=function(t){return this.edges.some(t)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var t=this,r=this.edges.reduce(function(s,m,v){return m.from.coordinates[1]>t.edges[s].from.coordinates[1]&&(s=v),s},0),n=(r===0?this.length:r)-1,i=(r+1)%this.length,u=qw.orientationIndex(this.edges[n].from.coordinates,this.edges[r].from.coordinates,this.edges[i].from.coordinates);return u===0?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:u>0},e.prototype.toMultiPoint=function(){return bN.multiPoint(this.edges.map(function(t){return t.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(r){return r.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=bN.polygon([t])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Jfe.default(this.toPolygon())},e.findEdgeRingContaining=function(t,r){var n=t.getEnvelope(),i,u;return r.forEach(function(s){var m=s.getEnvelope();if(u&&(i=u.getEnvelope()),!qw.envelopeIsEqual(m,n)&&qw.envelopeContains(m,n)){for(var v=t.map(function(F){return F.from.coordinates}),_=void 0,P=function(F){s.some(function(V){return qw.coordinatesEqual(F,V.from.coordinates)})||(_=F)},C=0,I=v;C<I.length;C++){var k=I[C];P(k)}_&&s.inside(bN.point(_))&&(!u||qw.envelopeContains(i,m))&&(u=s)}}),u},e.prototype.inside=function(t){return Qfe.default(t,this.toPolygon())},e}();KA.default=epe;var jD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DD,"__esModule",{value:!0});var NB=jD(zD),tpe=jD(FD),rpe=jD(KA),MB=Jr,npe=En;function ipe(e){if(!e)throw new Error("No geojson passed");if(e.type!=="FeatureCollection"&&e.type!=="GeometryCollection"&&e.type!=="MultiLineString"&&e.type!=="LineString"&&e.type!=="Feature")throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}var ope=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(t){ipe(t);var r=new e;return MB.flattenEach(t,function(n){npe.featureOf(n,"LineString","Graph::fromGeoJson"),MB.coordReduce(n,function(i,u){if(i){var s=r.getNode(i),m=r.getNode(u);r.addEdge(s,m)}return u})}),r},e.prototype.getNode=function(t){var r=NB.default.buildId(t),n=this.nodes[r];return n||(n=this.nodes[r]=new NB.default(t)),n},e.prototype.addEdge=function(t,r){var n=new tpe.default(t,r),i=n.getSymetric();this.edges.push(n),this.edges.push(i)},e.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(r){return t.nodes[r]}).forEach(function(r){return t._removeIfDangle(r)})},e.prototype._removeIfDangle=function(t){var r=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(i){return i.to});this.removeNode(t),n.forEach(function(i){return r._removeIfDangle(i)})}},e.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(r){r.label===r.symetric.label&&(t.removeEdge(r.symetric),t.removeEdge(r))})},e.prototype._computeNextCWEdges=function(t){var r=this;typeof t=="undefined"?Object.keys(this.nodes).forEach(function(n){return r._computeNextCWEdges(r.nodes[n])}):t.getOuterEdges().forEach(function(n,i){t.getOuterEdge((i===0?t.getOuterEdges().length:i)-1).symetric.next=n})},e.prototype._computeNextCCWEdges=function(t,r){for(var n=t.getOuterEdges(),i,u,s=n.length-1;s>=0;--s){var m=n[s],v=m.symetric,_=void 0,P=void 0;m.label===r&&(_=m),v.label===r&&(P=v),!(!_||!P)&&(P&&(u=P),_&&(u&&(u.next=_,u=void 0),i||(i=_)))}u&&(u.next=i)},e.prototype._findLabeledEdgeRings=function(){var t=[],r=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var i=n;do i.label=r,i=i.next;while(!n.isEqual(i));r++}}),t},e.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(n){n.label=void 0}),this._findLabeledEdgeRings().forEach(function(n){t._findIntersectionNodes(n).forEach(function(i){t._computeNextCCWEdges(i,n.label)})});var r=[];return this.edges.forEach(function(n){n.ring||r.push(t._findEdgeRing(n))}),r},e.prototype._findIntersectionNodes=function(t){var r=[],n=t,i=function(){var u=0;n.from.getOuterEdges().forEach(function(s){s.label===t.label&&++u}),u>1&&r.push(n.from),n=n.next};do i();while(!t.isEqual(n));return r},e.prototype._findEdgeRing=function(t){var r=t,n=new rpe.default;do n.push(r),r.ring=n,r=r.next;while(!t.isEqual(r));return n},e.prototype.removeNode=function(t){var r=this;t.getOuterEdges().forEach(function(n){return r.removeEdge(n)}),t.innerEdges.forEach(function(n){return r.removeEdge(n)}),delete this.nodes[t.id]},e.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(r){return!r.isEqual(t)}),t.deleteEdge()},e}();DD.default=ope;var GG=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(RD,"__esModule",{value:!0});var ape=Cr,spe=GG(DD),upe=GG(KA);function lpe(e){var t=spe.default.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var r=[],n=[];return t.getEdgeRings().filter(function(i){return i.isValid()}).forEach(function(i){i.isHole()?r.push(i):n.push(i)}),r.forEach(function(i){upe.default.findEdgeRingContaining(i,n)&&n.push(i)}),ape.featureCollection(n.map(function(i){return i.toPolygon()}))}RD.default=lpe;var JA={},BD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(JA,"__esModule",{value:!0});var oE=BD(Wf),$D=BD(nv),RB=Jr,h3=BD(iv);function cpe(e,t){var r=!0;return RB.flattenEach(e,function(n){RB.flattenEach(t,function(i){if(r===!1)return!1;r=fpe(n.geometry,i.geometry)})}),r}function fpe(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!_pe(e.coordinates,t.coordinates);case"LineString":return!DB(t,e);case"Polygon":return!oE.default(e,t)}break;case"LineString":switch(t.type){case"Point":return!DB(e,t);case"LineString":return!ppe(e,t);case"Polygon":return!zB(t,e)}break;case"Polygon":switch(t.type){case"Point":return!oE.default(t,e);case"LineString":return!zB(e,t);case"Polygon":return!hpe(t,e)}}return!1}function DB(e,t){for(var r=0;r<e.coordinates.length-1;r++)if(dpe(e.coordinates[r],e.coordinates[r+1],t.coordinates))return!0;return!1}function ppe(e,t){var r=$D.default(e,t);return r.features.length>0}function zB(e,t){for(var r=0,n=t.coordinates;r<n.length;r++){var i=n[r];if(oE.default(i,e))return!0}var u=$D.default(t,h3.default(e));return u.features.length>0}function hpe(e,t){for(var r=0,n=e.coordinates[0];r<n.length;r++){var i=n[r];if(oE.default(i,t))return!0}for(var u=0,s=t.coordinates[0];u<s.length;u++){var m=s[u];if(oE.default(m,e))return!0}var v=$D.default(h3.default(e),h3.default(t));return v.features.length>0}function dpe(e,t,r){var n=r[0]-e[0],i=r[1]-e[1],u=t[0]-e[0],s=t[1]-e[1],m=n*s-i*u;return m!==0?!1:Math.abs(u)>=Math.abs(s)?u>0?e[0]<=r[0]&&r[0]<=t[0]:t[0]<=r[0]&&r[0]<=e[0]:s>0?e[1]<=r[1]&&r[1]<=t[1]:t[1]<=r[1]&&r[1]<=e[1]}function _pe(e,t){return e[0]===t[0]&&e[1]===t[1]}JA.default=cpe;var Nh={},UD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});var EC=UD(Pf),QA=UD(Wf),aE=UD(Ex),d3=En;function mpe(e,t){var r=d3.getGeom(e),n=d3.getGeom(t),i=r.type,u=n.type,s=r.coordinates,m=n.coordinates;switch(i){case"Point":switch(u){case"Point":return eO(s,m);default:throw new Error("feature2 "+u+" geometry not supported")}case"MultiPoint":switch(u){case"Point":return WG(r,n);case"MultiPoint":return XG(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}case"LineString":switch(u){case"Point":return aE.default(n,r,{ignoreEndVertices:!0});case"LineString":return ZG(r,n);case"MultiPoint":return YG(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}case"Polygon":switch(u){case"Point":return QA.default(n,r,{ignoreBoundary:!0});case"LineString":return KG(r,n);case"Polygon":return JG(r,n);case"MultiPoint":return HG(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}Nh.default=mpe;function WG(e,t){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(eO(e.coordinates[r],t.coordinates)){n=!0;break}return n}Nh.isPointInMultiPoint=WG;function XG(e,t){for(var r=0,n=t.coordinates;r<n.length;r++){for(var i=n[r],u=!1,s=0,m=e.coordinates;s<m.length;s++){var v=m[s];if(eO(i,v)){u=!0;break}}if(!u)return!1}return!0}Nh.isMultiPointInMultiPoint=XG;function YG(e,t){for(var r=!1,n=0,i=t.coordinates;n<i.length;n++){var u=i[n];if(aE.default(u,e,{ignoreEndVertices:!0})&&(r=!0),!aE.default(u,e))return!1}return!!r}Nh.isMultiPointOnLine=YG;function HG(e,t){for(var r=0,n=t.coordinates;r<n.length;r++){var i=n[r];if(!QA.default(i,e,{ignoreBoundary:!0}))return!1}return!0}Nh.isMultiPointInPoly=HG;function ZG(e,t){for(var r=!1,n=0,i=t.coordinates;n<i.length;n++){var u=i[n];if(aE.default({type:"Point",coordinates:u},e,{ignoreEndVertices:!0})&&(r=!0),!aE.default({type:"Point",coordinates:u},e,{ignoreEndVertices:!1}))return!1}return r}Nh.isLineOnLine=ZG;function KG(e,t){var r=!1,n=0,i=EC.default(e),u=EC.default(t);if(!qD(i,u))return!1;for(n;n<t.coordinates.length-1;n++){var s=QG(t.coordinates[n],t.coordinates[n+1]);if(QA.default({type:"Point",coordinates:s},e,{ignoreBoundary:!0})){r=!0;break}}return r}Nh.isLineInPoly=KG;function JG(e,t){if(e.type==="Feature"&&e.geometry===null||t.type==="Feature"&&t.geometry===null)return!1;var r=EC.default(e),n=EC.default(t);if(!qD(r,n))return!1;for(var i=d3.getGeom(t).coordinates,u=0,s=i;u<s.length;u++)for(var m=s[u],v=0,_=m;v<_.length;v++){var P=_[v];if(!QA.default(P,e))return!1}return!0}Nh.isPolyInPoly=JG;function qD(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}Nh.doBBoxOverlap=qD;function eO(e,t){return e[0]===t[0]&&e[1]===t[1]}Nh.compareCoords=eO;function QG(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}Nh.getMidpoint=QG;var VD={},eW=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(VD,"__esModule",{value:!0});var tW=eW(nv),gpe=iv,ype=eW(Wf),FB=En,vpe=Cr;function bpe(e,t){var r=FB.getGeom(e),n=FB.getGeom(t),i=r.type,u=n.type;switch(i){case"MultiPoint":switch(u){case"LineString":return jB(r,n);case"Polygon":return $B(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}case"LineString":switch(u){case"MultiPoint":return jB(n,r);case"LineString":return xpe(r,n);case"Polygon":return BB(r,n);default:throw new Error("feature2 "+u+" geometry not supported")}case"Polygon":switch(u){case"MultiPoint":return $B(n,r);case"LineString":return BB(n,r);default:throw new Error("feature2 "+u+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function jB(e,t){for(var r=!1,n=!1,i=e.coordinates.length,u=0;u<i&&!r&&!n;){for(var s=0;s<t.coordinates.length-1;s++){var m=!0;(s===0||s===t.coordinates.length-2)&&(m=!1),rW(t.coordinates[s],t.coordinates[s+1],e.coordinates[u],m)?r=!0:n=!0}u++}return r&&n}function xpe(e,t){var r=tW.default(e,t);if(r.features.length>0)for(var n=0;n<e.coordinates.length-1;n++)for(var i=0;i<t.coordinates.length-1;i++){var u=!0;if((i===0||i===t.coordinates.length-2)&&(u=!1),rW(e.coordinates[n],e.coordinates[n+1],t.coordinates[i],u))return!0}return!1}function BB(e,t){var r=gpe.polygonToLine(t),n=tW.default(e,r);return n.features.length>0}function $B(e,t){for(var r=!1,n=!1,i=e.coordinates.length,u=0;u<i&&(!r||!n);u++)ype.default(vpe.point(e.coordinates[u]),t)?r=!0:n=!0;return n&&r}function rW(e,t,r,n){var i=r[0]-e[0],u=r[1]-e[1],s=t[0]-e[0],m=t[1]-e[1],v=i*m-u*s;return v!==0?!1:n?Math.abs(s)>=Math.abs(m)?s>0?e[0]<=r[0]&&r[0]<=t[0]:t[0]<=r[0]&&r[0]<=e[0]:m>0?e[1]<=r[1]&&r[1]<=t[1]:t[1]<=r[1]&&r[1]<=e[1]:Math.abs(s)>=Math.abs(m)?s>0?e[0]<r[0]&&r[0]<t[0]:t[0]<r[0]&&r[0]<e[0]:m>0?e[1]<r[1]&&r[1]<t[1]:t[1]<r[1]&&r[1]<e[1]}VD.default=bpe;var GD={},wpe=kG,nm=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=e&&e.direction?e.direction:!1,this.pseudoNode=e&&e.pseudoNode?e.pseudoNode:!1,this.objectComparator=e&&e.objectComparator?e.objectComparator:Spe};nm.prototype.compare=function(e,t){if(e.type!==t.type||!nW(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(e.type.indexOf("Multi")===0){var r=this,n=UB(e),i=UB(t);return n.every(function(u){return this.some(function(s){return r.compare(u,s)})},i)}}return!1};function UB(e){return e.coordinates.map(function(t){return{type:e.type.replace("Multi",""),coordinates:t}})}function nW(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}nm.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r].toFixed(this.precision)!==t[r].toFixed(this.precision))return!1;return!0};nm.prototype.compareLine=function(e,t,r,n){if(!nW(e,t))return!1;var i=this.pseudoNode?e:this.removePseudo(e),u=this.pseudoNode?t:this.removePseudo(t);if(!(n&&!this.compareCoord(i[0],u[0])&&(u=this.fixStartIndex(u,i),!u))){var s=this.compareCoord(i[r],u[r]);return this.direction||s?this.comparePath(i,u):this.compareCoord(i[r],u[u.length-(1+r)])?this.comparePath(i.slice().reverse(),u):!1}};nm.prototype.fixStartIndex=function(e,t){for(var r,n=-1,i=0;i<e.length;i++)if(this.compareCoord(e[i],t[0])){n=i;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r};nm.prototype.comparePath=function(e,t){var r=this;return e.every(function(n,i){return r.compareCoord(n,this[i])},t)};nm.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length),i=this;return r.every(function(u){return this.some(function(s){return i.compareLine(u,s,1,!0)})},n)}else return!1};nm.prototype.compareFeature=function(e,t){return e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t)?!1:this.compare(e.geometry,t.geometry)};nm.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))};nm.prototype.removePseudo=function(e){return e};function Spe(e,t){return wpe(e,t,{strict:!0})}var iW=nm,WD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(GD,"__esModule",{value:!0});var nI=Jr,qB=En,Epe=WD(VA),Ppe=WD(nv),Ipe=WD(iW);function Cpe(e,t){var r=qB.getGeom(e),n=qB.getGeom(t),i=r.type,u=n.type;if(i==="MultiPoint"&&u!=="MultiPoint"||(i==="LineString"||i==="MultiLineString")&&u!=="LineString"&&u!=="MultiLineString"||(i==="Polygon"||i==="MultiPolygon")&&u!=="Polygon"&&u!=="MultiPolygon")throw new Error("features must be of the same type");if(i==="Point")throw new Error("Point geometry not supported");var s=new Ipe.default({precision:6});if(s.compare(e,t))return!1;var m=0;switch(i){case"MultiPoint":for(var v=0;v<r.coordinates.length;v++)for(var _=0;_<n.coordinates.length;_++){var P=r.coordinates[v],C=n.coordinates[_];if(P[0]===C[0]&&P[1]===C[1])return!0}return!1;case"LineString":case"MultiLineString":nI.segmentEach(e,function(I){nI.segmentEach(t,function(k){Epe.default(I,k).features.length&&m++})});break;case"Polygon":case"MultiPolygon":nI.segmentEach(e,function(I){nI.segmentEach(t,function(k){Ppe.default(I,k).features.length&&m++})});break}return m>0}GD.default=Cpe;var XD={},oW=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(XD,"__esModule",{value:!0});var Ape=oW(iW),VB=oW(B0),GB=En;function Ope(e,t){var r=GB.getGeom(e).type,n=GB.getGeom(t).type;if(r!==n)return!1;var i=new Ape.default({precision:6});return i.compare(VB.default(e),VB.default(t))}XD.default=Ope;var tO={},kpe=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tO,"__esModule",{value:!0});var Tpe=kpe(JA),WB=Jr;function Lpe(e,t){var r=!1;return WB.flattenEach(e,function(n){WB.flattenEach(t,function(i){if(r===!0)return!0;r=!Tpe.default(n.geometry,i.geometry)})}),r}tO.default=Lpe;var YD={},aW={exports:{}},sW={exports:{}};(function(e){function t(r,n,i,u){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(r,n,i,u)}t.prototype.run=function(r,n,i,u){this._init(r,n,i,u);for(var s=0;s<this._datasetLength;s++)if(this._visited[s]!==1){this._visited[s]=1;var m=this._regionQuery(s);if(m.length<this.minPts)this.noise.push(s);else{var v=this.clusters.length;this.clusters.push([]),this._addToCluster(s,v),this._expandCluster(v,m)}}return this.clusters},t.prototype._init=function(r,n,i,u){if(r){if(!(r instanceof Array))throw Error("Dataset must be of type array, "+typeof r+" given");this.dataset=r,this.clusters=[],this.noise=[],this._datasetLength=r.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}n&&(this.epsilon=n),i&&(this.minPts=i),u&&(this.distance=u)},t.prototype._expandCluster=function(r,n){for(var i=0;i<n.length;i++){var u=n[i];if(this._visited[u]!==1){this._visited[u]=1;var s=this._regionQuery(u);s.length>=this.minPts&&(n=this._mergeArrays(n,s))}this._assigned[u]!==1&&this._addToCluster(u,r)}},t.prototype._addToCluster=function(r,n){this.clusters[n].push(r),this._assigned[r]=1},t.prototype._regionQuery=function(r){for(var n=[],i=0;i<this._datasetLength;i++){var u=this.distance(this.dataset[r],this.dataset[i]);u<this.epsilon&&n.push(i)}return n},t.prototype._mergeArrays=function(r,n){for(var i=n.length,u=0;u<i;u++){var s=n[u];r.indexOf(s)<0&&r.push(s)}return r},t.prototype._euclideanDistance=function(r,n){for(var i=0,u=Math.min(r.length,n.length);u--;)i+=(r[u]-n[u])*(r[u]-n[u]);return Math.sqrt(i)},e.exports&&(e.exports=t)})(sW);var uW={exports:{}};(function(e){function t(r,n,i){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(r,n,i)}t.prototype.init=function(r,n,i){this.assignments=[],this.centroids=[],typeof r!="undefined"&&(this.dataset=r),typeof n!="undefined"&&(this.k=n),typeof i!="undefined"&&(this.distance=i)},t.prototype.run=function(r,n){this.init(r,n);for(var i=this.dataset.length,u=0;u<this.k;u++)this.centroids[u]=this.randomCentroid();for(var s=!0;s;){s=this.assign();for(var m=0;m<this.k;m++){for(var v=new Array(I),_=0,P=0;P<I;P++)v[P]=0;for(var C=0;C<i;C++){var I=this.dataset[C].length;if(m===this.assignments[C]){for(var P=0;P<I;P++)v[P]+=this.dataset[C][P];_++}}if(_>0){for(var P=0;P<I;P++)v[P]/=_;this.centroids[m]=v}else this.centroids[m]=this.randomCentroid(),s=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var r=this.dataset.length-1,n,i;do i=Math.round(Math.random()*r),n=this.dataset[i];while(this.centroids.indexOf(n)>=0);return n},t.prototype.assign=function(){for(var r=!1,n=this.dataset.length,i,u=0;u<n;u++)i=this.argmin(this.dataset[u],this.centroids,this.distance),i!=this.assignments[u]&&(this.assignments[u]=i,r=!0);return r},t.prototype.getClusters=function(){for(var r=new Array(this.k),n,i=0;i<this.assignments.length;i++)n=this.assignments[i],typeof r[n]=="undefined"&&(r[n]=[]),r[n].push(i);return r},t.prototype.argmin=function(r,n,i){for(var u=Number.MAX_VALUE,s=0,m=n.length,v,_=0;_<m;_++)v=i(r,n[_]),v<u&&(u=v,s=_);return s},t.prototype.distance=function(r,n){for(var i=0,u=Math.min(r.length,n.length);u--;){var s=r[u]-n[u];i+=s*s}return Math.sqrt(i)},e.exports&&(e.exports=t)})(uW);var lW={exports:{}},HD={exports:{}};(function(e){function t(r,n,i){this._queue=[],this._priorities=[],this._sorting="desc",this._init(r,n,i)}t.prototype.insert=function(r,n){for(var i=this._queue.length,u=i;u--;){var s=this._priorities[u];this._sorting==="desc"?n>s&&(i=u):n<s&&(i=u)}this._insertAt(r,n,i)},t.prototype.remove=function(r){for(var n=this._queue.length;n--;){var i=this._queue[n];if(r===i){this._queue.splice(n,1),this._priorities.splice(n,1);break}}},t.prototype.forEach=function(r){this._queue.forEach(r)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(r){return this._priorities[r]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var r=[],n=0,i=this._queue.length;n<i;n++)r.push([this._queue[n],this._priorities[n]]);return r},t.prototype._init=function(r,n,i){if(r&&n){if(this._queue=[],this._priorities=[],r.length!==n.length)throw new Error("Arrays must have the same length");for(var u=0;u<r.length;u++)this.insert(r[u],n[u])}i&&(this._sorting=i)},t.prototype._insertAt=function(r,n,i){this._queue.length===i?(this._queue.push(r),this._priorities.push(n)):(this._queue.splice(i,0,r),this._priorities.splice(i,0,n))},e.exports&&(e.exports=t)})(HD);(function(e){if(e.exports)var t=HD.exports;function r(n,i,u,s){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(n,i,u,s)}r.prototype.run=function(n,i,u,s){this._init(n,i,u,s);for(var m=0,v=this.dataset.length;m<v;m++)if(this._processed[m]!==1){this._processed[m]=1,this.clusters.push([m]);var _=this.clusters.length-1;this._orderedList.push(m);var P=new t(null,null,"asc"),C=this._regionQuery(m);this._distanceToCore(m)!==void 0&&(this._updateQueue(m,C,P),this._expandCluster(_,P))}return this.clusters},r.prototype.getReachabilityPlot=function(){for(var n=[],i=0,u=this._orderedList.length;i<u;i++){var s=this._orderedList[i],m=this._reachability[s];n.push([s,m])}return n},r.prototype._init=function(n,i,u,s){if(n){if(!(n instanceof Array))throw Error("Dataset must be of type array, "+typeof n+" given");this.dataset=n,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}i&&(this.epsilon=i),u&&(this.minPts=u),s&&(this.distance=s)},r.prototype._updateQueue=function(n,i,u){var s=this;this._coreDistance=this._distanceToCore(n),i.forEach(function(m){if(s._processed[m]===void 0){var v=s.distance(s.dataset[n],s.dataset[m]),_=Math.max(s._coreDistance,v);s._reachability[m]===void 0?(s._reachability[m]=_,u.insert(m,_)):_<s._reachability[m]&&(s._reachability[m]=_,u.remove(m),u.insert(m,_))}})},r.prototype._expandCluster=function(n,i){for(var u=i.getElements(),s=0,m=u.length;s<m;s++){var v=u[s];if(this._processed[v]===void 0){var _=this._regionQuery(v);this._processed[v]=1,this.clusters[n].push(v),this._orderedList.push(v),this._distanceToCore(v)!==void 0&&(this._updateQueue(v,_,i),this._expandCluster(n,i))}}},r.prototype._distanceToCore=function(n){for(var i=this.epsilon,u=0;u<i;u++){var s=this._regionQuery(n,u);if(s.length>=this.minPts)return u}},r.prototype._regionQuery=function(n,i){i=i||this.epsilon;for(var u=[],s=0,m=this.dataset.length;s<m;s++)this.distance(this.dataset[n],this.dataset[s])<i&&u.push(s);return u},r.prototype._euclideanDistance=function(n,i){for(var u=0,s=Math.min(n.length,i.length);s--;)u+=(n[s]-i[s])*(n[s]-i[s]);return Math.sqrt(u)},e.exports&&(e.exports=r)})(lW);(function(e){e.exports&&(e.exports={DBSCAN:sW.exports,KMEANS:uW.exports,OPTICS:lW.exports,PriorityQueue:HD.exports})})(aW);var ZD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(YD,"__esModule",{value:!0});var Npe=ZD(Oc),Mpe=ZD(fc),Rpe=Jr,Dpe=Cr,zpe=ZD(aW.exports);function Fpe(e,t,r){r===void 0&&(r={}),r.mutate!==!0&&(e=Npe.default(e)),r.minPoints=r.minPoints||3;var n=new zpe.default.DBSCAN,i=n.run(Rpe.coordAll(e),Dpe.convertLength(t,r.units),r.minPoints,Mpe.default),u=-1;return i.forEach(function(s){u++,s.forEach(function(m){var v=e.features[m];v.properties||(v.properties={}),v.properties.cluster=u,v.properties.dbscan="core"})}),n.noise.forEach(function(s){var m=e.features[s];m.properties||(m.properties={}),m.properties.cluster?m.properties.dbscan="edge":m.properties.dbscan="noise"}),e}YD.default=Fpe;var KD={},cW={eudist:function(t,r,n){for(var i=t.length,u=0,s=0;s<i;s++){var m=(t[s]||0)-(r[s]||0);u+=m*m}return n?Math.sqrt(u):u},mandist:function(t,r,n){for(var i=t.length,u=0,s=0;s<i;s++)u+=Math.abs((t[s]||0)-(r[s]||0));return n?Math.sqrt(u):u},dist:function(t,r,n){var i=Math.abs(t-r);return n?i:i*i}},fW=cW,jpe=fW.eudist,Bpe=fW.dist,$pe={kmrand:function(t,r){for(var n={},i=[],u=r<<2,s=t.length,m=t[0].length>0;i.length<r&&u-- >0;){var v=t[Math.floor(Math.random()*s)],_=m?v.join("_"):""+v;n[_]||(n[_]=!0,i.push(v))}if(i.length<r)throw new Error("Error initializating clusters");return i},kmpp:function(t,r){var n=t[0].length?jpe:Bpe,i=[],u=t.length,s=t[0].length>0,m={},v=t[Math.floor(Math.random()*u)],_=s?v.join("_"):""+v;for(i.push(v),m[_]=!0;i.length<r;){for(var P=[],C=i.length,I=0,k=[],F=0;F<u;F++){for(var V=1/0,Y=0;Y<C;Y++){var q=n(t[F],i[Y]);q<=V&&(V=q)}P[F]=V}for(var M=0;M<u;M++)I+=P[M];for(var j=0;j<u;j++)k[j]={i:j,v:t[j],pr:P[j]/I,cs:0};k.sort(function(pe,ne){return pe.pr-ne.pr}),k[0].cs=k[0].pr;for(var G=1;G<u;G++)k[G].cs=k[G-1].cs+k[G].pr;for(var J=Math.random(),he=0;he<u-1&&k[he++].cs<J;);i.push(k[he-1].v)}return i}},Upe=cW,pW=$pe,qpe=Upe.eudist,Vpe=pW.kmrand,Gpe=pW.kmpp,XB=1e4;function YB(e,t,r){r=r||[];for(var n=0;n<e;n++)r[n]=t;return r}function Wpe(e,t,r,n){var i=[],u=[],s=[],m=[],v=!1,_=n||XB,P=e.length,C=e[0].length,I=C>0,k=[];if(r)r=="kmrand"?i=Vpe(e,t):r=="kmpp"?i=Gpe(e,t):i=r;else for(var F={};i.length<t;){var V=Math.floor(Math.random()*P);F[V]||(F[V]=!0,i.push(e[V]))}do{YB(t,0,k);for(var Y=0;Y<P;Y++){for(var q=1/0,M=0,j=0;j<t;j++){var m=I?qpe(e[Y],i[j]):Math.abs(e[Y]-i[j]);m<=q&&(q=m,M=j)}s[Y]=M,k[M]++}for(var G=[],u=[],J=0;J<t;J++)G[J]=I?YB(C,0,G[J]):0,u[J]=i[J];if(I){for(var he=0;he<t;he++)i[he]=[];for(var pe=0;pe<P;pe++)for(var ne=s[pe],ee=G[ne],ie=e[pe],we=0;we<C;we++)ee[we]+=ie[we];v=!0;for(var Se=0;Se<t;Se++){for(var Pe=i[Se],ae=G[Se],Be=u[Se],Q=k[Se],te=0;te<C;te++)Pe[te]=ae[te]/Q||0;if(v){for(var oe=0;oe<C;oe++)if(Be[oe]!=Pe[oe]){v=!1;break}}}}else{for(var ve=0;ve<P;ve++){var de=s[ve];G[de]+=e[ve]}for(var ze=0;ze<t;ze++)i[ze]=G[ze]/k[ze]||0;v=!0;for(var ye=0;ye<t;ye++)if(u[ye]!=i[ye]){v=!1;break}}v=v||--_<=0}while(!v);return{it:XB-_,k:t,idxs:s,centroids:i}}var Xpe=Wpe,hW=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KD,"__esModule",{value:!0});var Ype=hW(Oc),HB=Jr,Hpe=hW(Xpe);function Zpe(e,t){t===void 0&&(t={});var r=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(r/2)),t.numberOfClusters>r&&(t.numberOfClusters=r),t.mutate!==!0&&(e=Ype.default(e));var n=HB.coordAll(e),i=n.slice(0,t.numberOfClusters),u=Hpe.default(n,t.numberOfClusters,i),s={};return u.centroids.forEach(function(m,v){s[v]=m}),HB.featureEach(e,function(m,v){var _=u.idxs[v];m.properties.cluster=_,m.properties.centroid=s[_]}),e}KD.default=Zpe;var JD={},QD=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(JD,"__esModule",{value:!0});var ZB=QD(B0),KB=QD($0),JB=QD(q0),QB=Cr;function Kpe(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");var r=e9(e,"line1");if(r!=="LineString")throw new Error("line1 must be a LineString");var n=e9(t,"line2");if(n!=="LineString")throw new Error("line2 must be a LineString");for(var i=KB.default(ZB.default(e)).features,u=KB.default(ZB.default(t)).features,s=0;s<i.length;s++){var m=i[s].geometry.coordinates;if(!u[s])break;var v=u[s].geometry.coordinates;if(!Jpe(m,v))return!1}return!0}function Jpe(e,t){var r=QB.bearingToAzimuth(JB.default(e[0],e[1])),n=QB.bearingToAzimuth(JB.default(t[0],t[1]));return r===n}function e9(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}JD.default=Kpe;var ez={exports:{}},Qpe=Pf,ehe=Wf,the=fc,rhe=ZA.exports,nhe=B0,ihe=IE,iI=En,X_=Cr;function Px(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var t9=Px(Qpe),ohe=Px(ehe),Vw=Px(the),ahe=Px(rhe),she=Px(nhe),uhe=Px(ihe);function r9(e){for(var t=e,r=[];t.parent;)r.unshift(t),t=t.parent;return r}function lhe(){return new dW(function(e){return e.f})}var rO={search:function(e,t,r,n){e.cleanDirty(),n=n||{};var i=n.heuristic||rO.heuristics.manhattan,u=n.closest||!1,s=lhe(),m=t;for(t.h=i(t,r),s.push(t);s.size()>0;){var v=s.pop();if(v===r)return r9(v);v.closed=!0;for(var _=e.neighbors(v),P=0,C=_.length;P<C;++P){var I=_[P];if(!(I.closed||I.isWall())){var k=v.g+I.getCost(v),F=I.visited;(!F||k<I.g)&&(I.visited=!0,I.parent=v,I.h=I.h||i(I,r),I.g=k,I.f=I.g+I.h,e.markDirty(I),u&&(I.h<m.h||I.h===m.h&&I.g<m.g)&&(m=I),F?s.rescoreElement(I):s.push(I))}}}return u?r9(m):[]},heuristics:{manhattan:function(e,t){var r=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return r+n},diagonal:function(e,t){var r=1,n=Math.sqrt(2),i=Math.abs(t.x-e.x),u=Math.abs(t.y-e.y);return r*(i+u)+(n-2*r)*Math.min(i,u)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function Ix(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var r=0;r<e.length;r++){this.grid[r]=[];for(var n=0,i=e[r];n<i.length;n++){var u=new nO(r,n,i[n]);this.grid[r][n]=u,this.nodes.push(u)}}this.init()}Ix.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)rO.cleanNode(this.nodes[e])};Ix.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)rO.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]};Ix.prototype.markDirty=function(e){this.dirtyNodes.push(e)};Ix.prototype.neighbors=function(e){var t=[],r=e.x,n=e.y,i=this.grid;return i[r-1]&&i[r-1][n]&&t.push(i[r-1][n]),i[r+1]&&i[r+1][n]&&t.push(i[r+1][n]),i[r]&&i[r][n-1]&&t.push(i[r][n-1]),i[r]&&i[r][n+1]&&t.push(i[r][n+1]),this.diagonal&&(i[r-1]&&i[r-1][n-1]&&t.push(i[r-1][n-1]),i[r+1]&&i[r+1][n-1]&&t.push(i[r+1][n-1]),i[r-1]&&i[r-1][n+1]&&t.push(i[r-1][n+1]),i[r+1]&&i[r+1][n+1]&&t.push(i[r+1][n+1])),t};Ix.prototype.toString=function(){for(var e=[],t=this.grid,r,n,i,u,s=0,m=t.length;s<m;s++){for(r=[],n=t[s],i=0,u=n.length;i<u;i++)r.push(n[i].weight);e.push(r.join(" "))}return e.join(`
`)};function nO(e,t,r){this.x=e,this.y=t,this.weight=r}nO.prototype.toString=function(){return"["+this.x+" "+this.y+"]"};nO.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?this.weight*1.41421:this.weight};nO.prototype.isWall=function(){return this.weight===0};function dW(e){this.content=[],this.scoreFunction=e}dW.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,n=this.content[r];if(this.scoreFunction(t)<this.scoreFunction(n))this.content[r]=t,this.content[e]=n,e=r;else break}},bubbleUp:function(e){for(var t=this.content.length,r=this.content[e],n=this.scoreFunction(r);;){var i=e+1<<1,u=i-1,s=null,m;if(u<t){var v=this.content[u];m=this.scoreFunction(v),m<n&&(s=u)}if(i<t){var _=this.content[i],P=this.scoreFunction(_);P<(s===null?n:m)&&(s=i)}if(s!==null)this.content[e]=this.content[s],this.content[s]=r,e=s;else break}}};function _W(e,t,r){if(r=r||{},!X_.isObject(r))throw new Error("options is invalid");var n=r.resolution,i=r.minDistance,u=r.obstacles||X_.featureCollection([]);if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(n&&!X_.isNumber(n)||n<=0)throw new Error("options.resolution must be a number, greater than 0");if(i)throw new Error("options.minDistance is not yet implemented");var s=iI.getCoord(e),m=iI.getCoord(t);switch(e=X_.point(s),t=X_.point(m),iI.getType(u)){case"FeatureCollection":if(u.features.length===0)return X_.lineString([s,m]);break;case"Polygon":u=X_.featureCollection([X_.feature(iI.getGeom(u))]);break;default:throw new Error("invalid obstacles")}var v=u;v.features.push(e),v.features.push(t);var _=t9.default(ahe.default(uhe.default(t9.default(v)),1.15));if(!n){var P=Vw.default([_[0],_[1]],[_[2],_[1]],r);n=P/100}v.features.pop(),v.features.pop();for(var C=_[0],I=_[1],k=_[2],F=_[3],V=n/Vw.default([C,I],[k,I],r),Y=V*(k-C),q=n/Vw.default([C,I],[C,F],r),M=q*(F-I),j=k-C,G=F-I,J=Math.floor(j/Y),he=Math.floor(G/M),pe=(j-J*Y)/2,ne=(G-he*M)/2,ee=[],ie=[],we=[],Se=[],Pe=1/0,ae=1/0,Be=F-ne,Q=0;Be>=I;){for(var te=[],oe=[],ve=C+pe,de=0;ve<=k;){var ze=X_.point([ve,Be]),ye=che(ze,u);te.push(ye?0:1),oe.push(ve+"|"+Be);var Je=Vw.default(ze,e);!ye&&Je<Pe&&(Pe=Je,we={x:de,y:Q});var Qe=Vw.default(ze,t);!ye&&Qe<ae&&(ae=Qe,Se={x:de,y:Q}),ve+=Y,de++}ie.push(te),ee.push(oe),Be-=M,Q++}var yt=new Ix(ie,{diagonal:!0}),_t=yt.grid[we.y][we.x],Tt=yt.grid[Se.y][Se.x],Yt=rO.search(yt,_t,Tt),It=[s];return Yt.forEach(function(Ut){var Or=ee[Ut.x][Ut.y].split("|");It.push([+Or[0],+Or[1]])}),It.push(m),she.default(X_.lineString(It))}function che(e,t){for(var r=0;r<t.features.length;r++)if(ohe.default(e,t.features[r]))return!0;return!1}ez.exports=_W;ez.exports.default=_W;var tz={exports:{}};function n9(e){return function(){return e}}function fhe(e){return e[0]}function phe(e){return e[1]}function PC(){this._=null}function iO(e){e.U=e.C=e.L=e.R=e.P=e.N=null}PC.prototype={constructor:PC,insert:function(e,t){var r,n,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=i9(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)n=r.U,r===n.L?(i=n.R,i&&i.C?(r.C=i.C=!1,n.C=!0,e=n):(e===r.R&&(Gw(this,r),e=r,r=e.U),r.C=!1,n.C=!0,Ww(this,n))):(i=n.L,i&&i.C?(r.C=i.C=!1,n.C=!0,e=n):(e===r.L&&(Ww(this,r),e=r,r=e.U),r.C=!1,n.C=!0,Gw(this,n))),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,r,n=e.L,i=e.R,u,s;if(n?i?u=i9(i):u=n:u=i,t?t.L===e?t.L=u:t.R=u:this._=u,n&&i?(s=u.C,u.C=e.C,u.L=n,n.U=u,u!==i?(t=u.U,u.U=e.U,e=u.R,t.L=e,u.R=i,i.U=u):(u.U=t,t=u,e=u.R)):(s=e.C,e=u),e&&(e.U=t),!s){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(r=t.R,r.C&&(r.C=!1,t.C=!0,Gw(this,t),r=t.R),r.L&&r.L.C||r.R&&r.R.C){(!r.R||!r.R.C)&&(r.L.C=!1,r.C=!0,Ww(this,r),r=t.R),r.C=t.C,t.C=r.R.C=!1,Gw(this,t),e=this._;break}}else if(r=t.L,r.C&&(r.C=!1,t.C=!0,Ww(this,t),r=t.L),r.L&&r.L.C||r.R&&r.R.C){(!r.L||!r.L.C)&&(r.R.C=!1,r.C=!0,Gw(this,r),r=t.L),r.C=t.C,t.C=r.L.C=!1,Ww(this,t),e=this._;break}r.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function Gw(e,t){var r=t,n=t.R,i=r.U;i?i.L===r?i.L=n:i.R=n:e._=n,n.U=i,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function Ww(e,t){var r=t,n=t.L,i=r.U;i?i.L===r?i.L=n:i.R=n:e._=n,n.U=i,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function i9(e){for(;e.L;)e=e.L;return e}function lS(e,t,r,n){var i=[null,null],u=Uf.push(i)-1;return i.left=e,i.right=t,r&&IC(i,e,t,r),n&&IC(i,t,e,n),Ih[e.index].halfedges.push(u),Ih[t.index].halfedges.push(u),i}function Xw(e,t,r){var n=[t,r];return n.left=e,n}function IC(e,t,r,n){!e[0]&&!e[1]?(e[0]=n,e.left=t,e.right=r):e.left===r?e[1]=n:e[0]=n}function hhe(e,t,r,n,i){var u=e[0],s=e[1],m=u[0],v=u[1],_=s[0],P=s[1],C=0,I=1,k=_-m,F=P-v,V;if(V=t-m,!(!k&&V>0)){if(V/=k,k<0){if(V<C)return;V<I&&(I=V)}else if(k>0){if(V>I)return;V>C&&(C=V)}if(V=n-m,!(!k&&V<0)){if(V/=k,k<0){if(V>I)return;V>C&&(C=V)}else if(k>0){if(V<C)return;V<I&&(I=V)}if(V=r-v,!(!F&&V>0)){if(V/=F,F<0){if(V<C)return;V<I&&(I=V)}else if(F>0){if(V>I)return;V>C&&(C=V)}if(V=i-v,!(!F&&V<0)){if(V/=F,F<0){if(V>I)return;V>C&&(C=V)}else if(F>0){if(V<C)return;V<I&&(I=V)}return!(C>0)&&!(I<1)||(C>0&&(e[0]=[m+C*k,v+C*F]),I<1&&(e[1]=[m+I*k,v+I*F])),!0}}}}}function dhe(e,t,r,n,i){var u=e[1];if(u)return!0;var s=e[0],m=e.left,v=e.right,_=m[0],P=m[1],C=v[0],I=v[1],k=(_+C)/2,F=(P+I)/2,V,Y;if(I===P){if(k<t||k>=n)return;if(_>C){if(!s)s=[k,r];else if(s[1]>=i)return;u=[k,i]}else{if(!s)s=[k,i];else if(s[1]<r)return;u=[k,r]}}else if(V=(_-C)/(I-P),Y=F-V*k,V<-1||V>1)if(_>C){if(!s)s=[(r-Y)/V,r];else if(s[1]>=i)return;u=[(i-Y)/V,i]}else{if(!s)s=[(i-Y)/V,i];else if(s[1]<r)return;u=[(r-Y)/V,r]}else if(P<I){if(!s)s=[t,V*t+Y];else if(s[0]>=n)return;u=[n,V*n+Y]}else{if(!s)s=[n,V*n+Y];else if(s[0]<t)return;u=[t,V*t+Y]}return e[0]=s,e[1]=u,!0}function _he(e,t,r,n){for(var i=Uf.length,u;i--;)(!dhe(u=Uf[i],e,t,r,n)||!hhe(u,e,t,r,n)||!(Math.abs(u[0][0]-u[1][0])>$s||Math.abs(u[0][1]-u[1][1])>$s))&&delete Uf[i]}function mhe(e){return Ih[e.index]={site:e,halfedges:[]}}function ghe(e,t){var r=e.site,n=t.left,i=t.right;return r===i&&(i=n,n=r),i?Math.atan2(i[1]-n[1],i[0]-n[0]):(r===n?(n=t[1],i=t[0]):(n=t[0],i=t[1]),Math.atan2(n[0]-i[0],i[1]-n[1]))}function mW(e,t){return t[+(t.left!==e.site)]}function yhe(e,t){return t[+(t.left===e.site)]}function vhe(){for(var e=0,t=Ih.length,r,n,i,u;e<t;++e)if((r=Ih[e])&&(u=(n=r.halfedges).length)){var s=new Array(u),m=new Array(u);for(i=0;i<u;++i)s[i]=i,m[i]=ghe(r,Uf[n[i]]);for(s.sort(function(v,_){return m[_]-m[v]}),i=0;i<u;++i)m[i]=n[s[i]];for(i=0;i<u;++i)n[i]=m[i]}}function bhe(e,t,r,n){var i=Ih.length,u,s,m,v,_,P,C,I,k,F,V,Y,q=!0;for(u=0;u<i;++u)if(s=Ih[u]){for(m=s.site,_=s.halfedges,v=_.length;v--;)Uf[_[v]]||_.splice(v,1);for(v=0,P=_.length;v<P;)F=yhe(s,Uf[_[v]]),V=F[0],Y=F[1],C=mW(s,Uf[_[++v%P]]),I=C[0],k=C[1],(Math.abs(V-I)>$s||Math.abs(Y-k)>$s)&&(_.splice(v,0,Uf.push(Xw(m,F,Math.abs(V-e)<$s&&n-Y>$s?[e,Math.abs(I-e)<$s?k:n]:Math.abs(Y-n)<$s&&r-V>$s?[Math.abs(k-n)<$s?I:r,n]:Math.abs(V-r)<$s&&Y-t>$s?[r,Math.abs(I-r)<$s?k:t]:Math.abs(Y-t)<$s&&V-e>$s?[Math.abs(k-t)<$s?I:e,t]:null))-1),++P);P&&(q=!1)}if(q){var M,j,G,J=1/0;for(u=0,q=null;u<i;++u)(s=Ih[u])&&(m=s.site,M=m[0]-e,j=m[1]-t,G=M*M+j*j,G<J&&(J=G,q=s));if(q){var he=[e,t],pe=[e,n],ne=[r,n],ee=[r,t];q.halfedges.push(Uf.push(Xw(m=q.site,he,pe))-1,Uf.push(Xw(m,pe,ne))-1,Uf.push(Xw(m,ne,ee))-1,Uf.push(Xw(m,ee,he))-1)}}for(u=0;u<i;++u)(s=Ih[u])&&(s.halfedges.length||delete Ih[u])}var gW=[],rz;function xhe(){iO(this),this.x=this.y=this.arc=this.site=this.cy=null}function $b(e){var t=e.P,r=e.N;if(!(!t||!r)){var n=t.site,i=e.site,u=r.site;if(n!==u){var s=i[0],m=i[1],v=n[0]-s,_=n[1]-m,P=u[0]-s,C=u[1]-m,I=2*(v*C-_*P);if(!(I>=-Ihe)){var k=v*v+_*_,F=P*P+C*C,V=(C*k-_*F)/I,Y=(v*F-P*k)/I,q=gW.pop()||new xhe;q.arc=e,q.site=i,q.x=V+s,q.y=(q.cy=Y+m)+Math.sqrt(V*V+Y*Y),e.circle=q;for(var M=null,j=sE._;j;)if(q.y<j.y||q.y===j.y&&q.x<=j.x)if(j.L)j=j.L;else{M=j.P;break}else if(j.R)j=j.R;else{M=j;break}sE.insert(M,q),M||(rz=q)}}}}function Jb(e){var t=e.circle;t&&(t.P||(rz=t.N),sE.remove(t),gW.push(t),iO(t),e.circle=null)}var yW=[];function whe(){iO(this),this.edge=this.site=this.circle=null}function o9(e){var t=yW.pop()||new whe;return t.site=e,t}function xN(e){Jb(e),Qb.remove(e),yW.push(e),iO(e)}function She(e){var t=e.circle,r=t.x,n=t.cy,i=[r,n],u=e.P,s=e.N,m=[e];xN(e);for(var v=u;v.circle&&Math.abs(r-v.circle.x)<$s&&Math.abs(n-v.circle.cy)<$s;)u=v.P,m.unshift(v),xN(v),v=u;m.unshift(v),Jb(v);for(var _=s;_.circle&&Math.abs(r-_.circle.x)<$s&&Math.abs(n-_.circle.cy)<$s;)s=_.N,m.push(_),xN(_),_=s;m.push(_),Jb(_);var P=m.length,C;for(C=1;C<P;++C)_=m[C],v=m[C-1],IC(_.edge,v.site,_.site,i);v=m[0],_=m[P-1],_.edge=lS(v.site,_.site,null,i),$b(v),$b(_)}function Ehe(e){for(var t=e[0],r=e[1],n,i,u,s,m=Qb._;m;)if(u=vW(m,r)-t,u>$s)m=m.L;else if(s=t-Phe(m,r),s>$s){if(!m.R){n=m;break}m=m.R}else{u>-$s?(n=m.P,i=m):s>-$s?(n=m,i=m.N):n=i=m;break}mhe(e);var v=o9(e);if(Qb.insert(n,v),!(!n&&!i)){if(n===i){Jb(n),i=o9(n.site),Qb.insert(v,i),v.edge=i.edge=lS(n.site,v.site),$b(n),$b(i);return}if(!i){v.edge=lS(n.site,v.site);return}Jb(n),Jb(i);var _=n.site,P=_[0],C=_[1],I=e[0]-P,k=e[1]-C,F=i.site,V=F[0]-P,Y=F[1]-C,q=2*(I*Y-k*V),M=I*I+k*k,j=V*V+Y*Y,G=[(Y*M-k*j)/q+P,(I*j-V*M)/q+C];IC(i.edge,_,F,G),v.edge=lS(_,e,null,G),i.edge=lS(e,F,null,G),$b(n),$b(i)}}function vW(e,t){var r=e.site,n=r[0],i=r[1],u=i-t;if(!u)return n;var s=e.P;if(!s)return-1/0;r=s.site;var m=r[0],v=r[1],_=v-t;if(!_)return m;var P=m-n,C=1/u-1/_,I=P/_;return C?(-I+Math.sqrt(I*I-2*C*(P*P/(-2*_)-v+_/2+i-u/2)))/C+n:(n+m)/2}function Phe(e,t){var r=e.N;if(r)return vW(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var $s=1e-6,Ihe=1e-12,Qb,Ih,sE,Uf;function Che(e,t,r){return(e[0]-r[0])*(t[1]-e[1])-(e[0]-t[0])*(r[1]-e[1])}function Ahe(e,t){return t[1]-e[1]||t[0]-e[0]}function _3(e,t){var r=e.sort(Ahe).pop(),n,i,u;for(Uf=[],Ih=new Array(e.length),Qb=new PC,sE=new PC;;)if(u=rz,r&&(!u||r[1]<u.y||r[1]===u.y&&r[0]<u.x))(r[0]!==n||r[1]!==i)&&(Ehe(r),n=r[0],i=r[1]),r=e.pop();else if(u)She(u.arc);else break;if(vhe(),t){var s=+t[0][0],m=+t[0][1],v=+t[1][0],_=+t[1][1];_he(s,m,v,_),bhe(s,m,v,_)}this.edges=Uf,this.cells=Ih,Qb=sE=Uf=Ih=null}_3.prototype={constructor:_3,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(n){return mW(t,e[n])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(r,n){if(!!(m=(u=r.halfedges).length))for(var i=r.site,u,s=-1,m,v,_=t[u[m-1]],P=_.left===i?_.right:_.left;++s<m;)v=P,_=t[u[s]],P=_.left===i?_.right:_.left,v&&P&&n<v.index&&n<P.index&&Che(i,v,P)<0&&e.push([i.data,v.data,P.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,r){for(var n=this,i,u=n._found||0,s=n.cells.length,m;!(m=n.cells[u]);)if(++u>=s)return null;var v=e-m.site[0],_=t-m.site[1],P=v*v+_*_;do m=n.cells[i=u],u=null,m.halfedges.forEach(function(C){var I=n.edges[C],k=I.left;if(!((k===m.site||!k)&&!(k=I.right))){var F=e-k[0],V=t-k[1],Y=F*F+V*V;Y<P&&(P=Y,u=k.index)}});while(u!==null);return n._found=i,r==null||P<=r*r?m.site:null}};function Ohe(){var e=fhe,t=phe,r=null;function n(i){return new _3(i.map(function(u,s){var m=[Math.round(e(u,s,i)/$s)*$s,Math.round(t(u,s,i)/$s)*$s];return m.index=s,m.data=u,m}),r)}return n.polygons=function(i){return n(i).polygons()},n.links=function(i){return n(i).links()},n.triangles=function(i){return n(i).triangles()},n.x=function(i){return arguments.length?(e=typeof i=="function"?i:n9(+i),n):e},n.y=function(i){return arguments.length?(t=typeof i=="function"?i:n9(+i),n):t},n.extent=function(i){return arguments.length?(r=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],n):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},n.size=function(i){return arguments.length?(r=i==null?null:[[0,0],[+i[0],+i[1]]],n):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},n}var khe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",voronoi:Ohe}),The=R0(khe),m3=Cr,Lhe=En,Nhe=The;function Mhe(e){return e=e.slice(),e.push(e[0]),m3.polygon([e])}function bW(e,t){if(t=t||{},!m3.isObject(t))throw new Error("options is invalid");var r=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(r))throw new Error("bbox is invalid");return Lhe.collectionOf(e,"Point","points"),m3.featureCollection(Nhe.voronoi().x(function(n){return n.geometry.coordinates[0]}).y(function(n){return n.geometry.coordinates[1]}).extent([[r[0],r[1]],[r[2],r[3]]]).polygons(e.features).map(Mhe))}tz.exports=bW;tz.exports.default=bW;var oO={exports:{}},bb=Cr,Rhe=V0,Dhe=HA.exports,wN=En;function xW(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var a9=xW(Rhe),zhe=xW(Dhe);function wW(e,t,r,n){n=n||{};var i=n.steps||64,u=n.units||"kilometers",s=n.angle||0,m=n.pivot||e,v=n.properties||e.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!r)throw new Error("ySemiAxis is required");if(!bb.isObject(n))throw new Error("options must be an object");if(!bb.isNumber(i))throw new Error("steps must be a number");if(!bb.isNumber(s))throw new Error("angle must be a number");var _=wN.getCoord(e);if(u==="degrees")var P=bb.degreesToRadians(s);else t=a9.default(e,t,90,{units:u}),r=a9.default(e,r,0,{units:u}),t=wN.getCoord(t)[0]-_[0],r=wN.getCoord(r)[1]-_[1];for(var C=[],I=0;I<i;I+=1){var k=I*-360/i,F=t*r/Math.sqrt(Math.pow(r,2)+Math.pow(t,2)*Math.pow(s9(k),2)),V=t*r/Math.sqrt(Math.pow(t,2)+Math.pow(r,2)/Math.pow(s9(k),2));if(k<-90&&k>=-270&&(F=-F),k<-180&&k>=-360&&(V=-V),u==="degrees"){var Y=F*Math.cos(P)+V*Math.sin(P),q=V*Math.cos(P)-F*Math.sin(P);F=Y,V=q}C.push([F+_[0],V+_[1]])}return C.push(C[0]),u==="degrees"?bb.polygon([C],v):zhe.default(bb.polygon([C],v),s,{pivot:m})}function s9(e){var t=e*Math.PI/180;return Math.tan(t)}oO.exports=wW;oO.exports.default=wW;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});var u9=Jr,l9=Cr;function Fhe(e,t){t===void 0&&(t={});var r=0,n=0,i=0;return u9.geomEach(e,function(u,s,m){var v=t.weight?m==null?void 0:m[t.weight]:void 0;if(v=v==null?1:v,!l9.isNumber(v))throw new Error("weight value must be a number for feature index "+s);v=Number(v),v>0&&u9.coordEach(u,function(_){r+=_[0]*v,n+=_[1]*v,i+=v})}),l9.point([r/i,n/i],t.properties,t)}RE.default=Fhe;var nz={},iz=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nz,"__esModule",{value:!0});var jhe=iz(RE),Bhe=iz(fc),$he=iz(hg),OS=Cr,SW=Jr;function Uhe(e,t){if(t===void 0&&(t={}),t=t||{},!OS.isObject(t))throw new Error("options is invalid");var r=t.counter||10;if(!OS.isNumber(r))throw new Error("counter must be a number");var n=t.weight,i=jhe.default(e,{weight:t.weight}),u=OS.featureCollection([]);SW.featureEach(e,function(m){var v;u.features.push($he.default(m,{properties:{weight:(v=m.properties)===null||v===void 0?void 0:v[n]}}))});var s={tolerance:t.tolerance,medianCandidates:[]};return EW(i.geometry.coordinates,[0,0],u,s,r)}function EW(e,t,r,n,i){var u=n.tolerance||.001,s=0,m=0,v=0,_=0;if(SW.featureEach(r,function(I){var k,F=(k=I.properties)===null||k===void 0?void 0:k.weight,V=F==null?1:F;if(V=Number(V),!OS.isNumber(V))throw new Error("weight value must be a number");if(V>0){_+=1;var Y=V*Bhe.default(I,e);Y===0&&(Y=1);var q=V/Y;s+=I.geometry.coordinates[0]*q,m+=I.geometry.coordinates[1]*q,v+=q}}),_<1)throw new Error("no features to measure");var P=s/v,C=m/v;return _===1||i===0||Math.abs(P-t[0])<u&&Math.abs(C-t[1])<u?OS.point([P,C],{medianCandidates:n.medianCandidates}):(n.medianCandidates.push([P,C]),EW([P,C],e,r,n,i-1))}nz.default=Uhe;var oz={exports:{}},oI=Jr,Yw=En,aI=Cr,qhe=RE,Vhe=EA.exports,Ghe=oO.exports;function az(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Whe=az(qhe),Xhe=az(Vhe),Yhe=az(Ghe);function PW(e,t){if(t=t||{},!aI.isObject(t))throw new Error("options is invalid");var r=t.steps||64,n=t.weight,i=t.properties||{};if(!aI.isNumber(r))throw new Error("steps must be a number");if(!aI.isObject(i))throw new Error("properties must be a number");var u=oI.coordAll(e).length,s=Whe.default(e,{weight:n}),m=0,v=0,_=0;oI.featureEach(e,function(pe){var ne=pe.properties[n]||1,ee=c9(Yw.getCoords(pe),Yw.getCoords(s));m+=Math.pow(ee.x,2)*ne,v+=Math.pow(ee.y,2)*ne,_+=ee.x*ee.y*ne});var P=m-v,C=Math.sqrt(Math.pow(P,2)+4*Math.pow(_,2)),I=2*_,k=Math.atan((P+C)/I),F=k*180/Math.PI,V=0,Y=0,q=0;oI.featureEach(e,function(pe){var ne=pe.properties[n]||1,ee=c9(Yw.getCoords(pe),Yw.getCoords(s));V+=Math.pow(ee.x*Math.cos(k)-ee.y*Math.sin(k),2)*ne,Y+=Math.pow(ee.x*Math.sin(k)+ee.y*Math.cos(k),2)*ne,q+=ne});var M=Math.sqrt(2*V/q),j=Math.sqrt(2*Y/q),G=Yhe.default(s,M,j,{units:"degrees",angle:F,steps:r,properties:i}),J=Xhe.default(e,aI.featureCollection([G])),he={meanCenterCoordinates:Yw.getCoords(s),semiMajorAxis:M,semiMinorAxis:j,numberOfFeatures:u,angle:F,percentageWithinEllipse:100*oI.coordAll(J).length/u};return G.properties.standardDeviationalEllipse=he,G}function c9(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}oz.exports=PW;oz.exports.default=PW;var sz={},IW=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sz,"__esModule",{value:!0});var f9=IW(rv),SN=Cr,p9=IW(q0);function Hhe(e,t,r,n){if(n===void 0&&(n={}),!SN.isObject(n))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!t)throw new Error("midPoint is required");if(!r)throw new Error("endPoint is required");var i=e,u=t,s=r,m=SN.bearingToAzimuth(n.mercator!==!0?f9.default(i,u):p9.default(i,u)),v=SN.bearingToAzimuth(n.mercator!==!0?f9.default(s,u):p9.default(s,u)),_=Math.abs(m-v);return n.explementary===!0?360-_:_}sz.default=Hhe;var uz={exports:{}},lz=Jr,Hw=Cr;function CW(e,t){var r=[],n=t.iterations||1;if(!e)throw new Error("inputPolys is required");return lz.geomEach(e,function(i,u,s){var m,v,_;switch(i.type){case"Polygon":m=[[]];for(var P=0;P<n;P++)_=[[]],v=i,P>0&&(v=Hw.polygon(m).geometry),Zhe(v,_),m=_.slice(0);r.push(Hw.polygon(m,s));break;case"MultiPolygon":m=[[[]]];for(var C=0;C<n;C++)_=[[[]]],v=i,C>0&&(v=Hw.multiPolygon(m).geometry),Khe(v,_),m=_.slice(0);r.push(Hw.multiPolygon(m,s));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),Hw.featureCollection(r)}function Zhe(e,t){var r=0,n=0;lz.coordEach(e,function(i,u,s,m,v){v>r&&(r=v,n=u,t.push([]));var _=u-n,P=e.coordinates[v][_+1],C=i[0],I=i[1],k=P[0],F=P[1];t[v].push([.75*C+.25*k,.75*I+.25*F]),t[v].push([.25*C+.75*k,.25*I+.75*F])},!0),t.forEach(function(i){i.push(i[0])})}function Khe(e,t){var r=0,n=0,i=0;lz.coordEach(e,function(u,s,m,v,_){v>i&&(i=v,n=s,t.push([[]])),_>r&&(r=_,n=s,t[v].push([]));var P=s-n,C=e.coordinates[v][_][P+1],I=u[0],k=u[1],F=C[0],V=C[1];t[v][_].push([.75*I+.25*F,.75*k+.25*V]),t[v][_].push([.25*I+.75*F,.25*k+.75*V])},!0),t.forEach(function(u){u.forEach(function(s){s.push(s[0])})})}uz.exports=CW;uz.exports.default=CW;var cz={},DE={},Jhe=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DE,"__esModule",{value:!0});var Qhe=Jhe(hg),h9=En,ede=Jr;function AW(e,t,r){r===void 0&&(r=2);var n=h9.getCoord(e),i=h9.getCoord(t),u=n[0]-i[0],s=n[1]-i[1];return r===1?Math.abs(u)+Math.abs(s):Math.pow(Math.pow(u,r)+Math.pow(s,r),1/r)}DE.pNormDistance=AW;function tde(e,t){t=t||{};var r=t.threshold||1e4,n=t.p||2,i=t.binary||!1,u=t.alpha||-1,s=t.standardization||!1,m=[];ede.featureEach(e,function(k){m.push(Qhe.default(k))});for(var v=[],_=0;_<m.length;_++)v[_]=[];for(var _=0;_<m.length;_++)for(var P=_;P<m.length;P++){_===P&&(v[_][P]=0);var C=AW(m[_],m[P],n);v[_][P]=C,v[P][_]=C}for(var _=0;_<m.length;_++)for(var P=0;P<m.length;P++){var C=v[_][P];C!==0&&(i?C<=r?v[_][P]=1:v[_][P]=0:C<=r?v[_][P]=Math.pow(C,u):v[_][P]=0)}if(s)for(var _=0;_<m.length;_++)for(var I=v[_].reduce(function(F,V){return F+V},0),P=0;P<m.length;P++)v[_][P]=v[_][P]/I;return v}DE.default=tde;var rde=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cz,"__esModule",{value:!0});var nde=rde(DE),ide=Jr;function ode(e,t){var r=t.inputField,n=t.threshold||1e5,i=t.p||2,u=t.binary||!1,s=t.alpha||-1,m=t.standardization||!0,v=nde.default(e,{alpha:s,binary:u,p:i,standardization:m,threshold:n}),_=[];ide.featureEach(e,function(we){var Se=we.properties||{};_.push(Se[r])});for(var P=OW(_),C=ade(_),I=0,k=0,F=0,V=0,Y=v.length,q=0;q<Y;q++){for(var M=0,j=0;j<Y;j++)I+=v[q][j]*(_[q]-P)*(_[j]-P),k+=v[q][j],F+=Math.pow(v[q][j]+v[j][q],2),M+=v[q][j]+v[j][q];V+=Math.pow(M,2)}F=.5*F;var G=I/k/C,J=-1/(Y-1),he=Y*Y*F-Y*V+3*(k*k),pe=(Y-1)*(Y+1)*(k*k),ne=he/pe-J*J,ee=Math.sqrt(ne),ie=(G-J)/ee;return{expectedMoranIndex:J,moranIndex:G,stdNorm:ee,zNorm:ie}}cz.default=ode;function OW(e){for(var t=0,r=0,n=e;r<n.length;r++){var i=n[r];t+=i}return t/e.length}function ade(e){for(var t=OW(e),r=0,n=0,i=e;n<i.length;n++){var u=i[n];r+=Math.pow(u-t,2)}return r/e.length}var aO={},sde=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aO,"__esModule",{value:!0});var ude=Jr,lde=Cr,cde=sde(Oc);function fde(e,t){return t===void 0&&(t={}),kW(e,"mercator",t)}aO.toMercator=fde;function pde(e,t){return t===void 0&&(t={}),kW(e,"wgs84",t)}aO.toWgs84=pde;function kW(e,t,r){r===void 0&&(r={}),r=r||{};var n=r.mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&lde.isNumber(e[0])?e=t==="mercator"?d9(e):_9(e):(n!==!0&&(e=cde.default(e)),ude.coordEach(e,function(i){var u=t==="mercator"?d9(i):_9(i);i[0]=u[0],i[1]=u[1]})),e}function d9(e){var t=Math.PI/180,r=6378137,n=20037508342789244e-9,i=Math.abs(e[0])<=180?e[0]:e[0]-hde(e[0])*360,u=[r*i*t,r*Math.log(Math.tan(Math.PI*.25+.5*e[1]*t))];return u[0]>n&&(u[0]=n),u[0]<-n&&(u[0]=-n),u[1]>n&&(u[1]=n),u[1]<-n&&(u[1]=-n),u}function _9(e){var t=180/Math.PI,r=6378137;return[e[0]*t/r,(Math.PI*.5-2*Math.atan(Math.exp(-e[1]/r)))*t]}function hde(e){return e<0?-1:e>0?1:0}var Cx={},dde=Ne&&Ne.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var u=arguments[t],s=0,m=u.length;s<m;s++,i++)n[i]=u[s];return n};Object.defineProperty(Cx,"__esModule",{value:!0});var dd=Cr;function sO(e){return Array.isArray(e)?m9(e):e&&e.bbox?m9(e.bbox):[vde(),bde()]}Cx.randomPosition=sO;function _de(e,t){t===void 0&&(t={}),e==null&&(e=1);for(var r=[],n=0;n<e;n++)r.push(dd.point(sO(t.bbox)));return dd.featureCollection(r)}Cx.randomPoint=_de;function mde(e,t){t===void 0&&(t={}),e==null&&(e=1),(!dd.isNumber(t.num_vertices)||t.num_vertices===void 0)&&(t.num_vertices=10),(!dd.isNumber(t.max_radial_length)||t.max_radial_length===void 0)&&(t.max_radial_length=10);for(var r=[],n=function(u){var s=[],m=dde(Array(t.num_vertices+1)).map(Math.random);m.forEach(function(v,_,P){P[_]=_>0?v+P[_-1]:v}),m.forEach(function(v){v=v*2*Math.PI/m[m.length-1];var _=Math.random();s.push([_*(t.max_radial_length||10)*Math.sin(v),_*(t.max_radial_length||10)*Math.cos(v)])}),s[s.length-1]=s[0],s=s.map(yde(sO(t.bbox))),r.push(dd.polygon([s]))},i=0;i<e;i++)n();return dd.featureCollection(r)}Cx.randomPolygon=mde;function gde(e,t){if(t===void 0&&(t={}),t=t||{},!dd.isObject(t))throw new Error("options is invalid");var r=t.bbox,n=t.num_vertices,i=t.max_length,u=t.max_rotation;e==null&&(e=1),(!dd.isNumber(n)||n===void 0||n<2)&&(n=10),(!dd.isNumber(i)||i===void 0)&&(i=1e-4),(!dd.isNumber(u)||u===void 0)&&(u=Math.PI/8);for(var s=[],m=0;m<e;m++){for(var v=sO(r),_=[v],P=0;P<n-1;P++){var C=P===0?Math.random()*2*Math.PI:Math.tan((_[P][1]-_[P-1][1])/(_[P][0]-_[P-1][0])),I=C+(Math.random()-.5)*u*2,k=Math.random()*i;_.push([_[P][0]+k*Math.cos(I),_[P][1]+k*Math.sin(I)])}s.push(dd.lineString(_))}return dd.featureCollection(s)}Cx.randomLineString=gde;function yde(e){return function(t){return[t[0]+e[0],t[1]+e[1]]}}function TW(){return Math.random()-.5}function vde(){return TW()*360}function bde(){return TW()*180}function m9(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var dg={};Object.defineProperty(dg,"__esModule",{value:!0});var LW=Jr,NW=Cr;function xde(e,t){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(t==null)throw new Error("filter is required");var r=[];return LW.featureEach(e,function(n){fz(n.properties,t)&&r.push(n)}),NW.featureCollection(r)}dg.getCluster=xde;function MW(e,t,r){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(t==null)throw new Error("property is required");for(var n=RW(e,t),i=Object.keys(n),u=0;u<i.length;u++){for(var s=i[u],m=n[s],v=[],_=0;_<m.length;_++)v.push(e.features[m[_]]);r(NW.featureCollection(v),s,u)}}dg.clusterEach=MW;function wde(e,t,r,n){var i=n;return MW(e,t,function(u,s,m){m===0&&n===void 0?i=u:i=r(i,u,s,m)}),i}dg.clusterReduce=wde;function RW(e,t){var r={};return LW.featureEach(e,function(n,i){var u=n.properties||{};if(Object.prototype.hasOwnProperty.call(u,String(t))){var s=u[t];Object.prototype.hasOwnProperty.call(r,s)?r[s].push(i):r[s]=[i]}}),r}dg.createBins=RW;function fz(e,t){if(e===void 0)return!1;var r=typeof t;if(r==="number"||r==="string")return Object.prototype.hasOwnProperty.call(e,t);if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(!fz(e,t[n]))return!1;return!0}else return DW(e,t)}dg.applyFilter=fz;function DW(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];if(e[i]!==t[i])return!1}return!0}dg.propertiesContainsFilter=DW;function Sde(e,t){if(!t)return{};if(!t.length)return{};for(var r={},n=0;n<t.length;n++){var i=t[n];Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r}dg.filterProperties=Sde;var pz={exports:{}},Ax={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){function r(pt,Le){if(!(pt instanceof Le))throw new TypeError("Cannot call a class as a function")}function n(pt,Le){for(var be=0;be<Le.length;be++){var Oe=Le[be];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(pt,Oe.key,Oe)}}function i(pt,Le,be){return Le&&n(pt.prototype,Le),be&&n(pt,be),pt}/**
 * splaytree v3.1.0
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */var u=function(){function pt(Le,be){this.next=null,this.key=Le,this.data=be,this.left=null,this.right=null}return pt}();function s(pt,Le){return pt>Le?1:pt<Le?-1:0}function m(pt,Le,be){for(var Oe=new u(null,null),Ze=Oe,st=Oe;;){var Pt=be(pt,Le.key);if(Pt<0){if(Le.left===null)break;if(be(pt,Le.left.key)<0){var Rt=Le.left;if(Le.left=Rt.right,Rt.right=Le,Le=Rt,Le.left===null)break}st.left=Le,st=Le,Le=Le.left}else if(Pt>0){if(Le.right===null)break;if(be(pt,Le.right.key)>0){var Rt=Le.right;if(Le.right=Rt.left,Rt.left=Le,Le=Rt,Le.right===null)break}Ze.right=Le,Ze=Le,Le=Le.right}else break}return Ze.right=Le.left,st.left=Le.right,Le.left=Oe.right,Le.right=Oe.left,Le}function v(pt,Le,be,Oe){var Ze=new u(pt,Le);if(be===null)return Ze.left=Ze.right=null,Ze;be=m(pt,be,Oe);var st=Oe(pt,be.key);return st<0?(Ze.left=be.left,Ze.right=be,be.left=null):st>=0&&(Ze.right=be.right,Ze.left=be,be.right=null),Ze}function _(pt,Le,be){var Oe=null,Ze=null;if(Le){Le=m(pt,Le,be);var st=be(Le.key,pt);st===0?(Oe=Le.left,Ze=Le.right):st<0?(Ze=Le.right,Le.right=null,Oe=Le):(Oe=Le.left,Le.left=null,Ze=Le)}return{left:Oe,right:Ze}}function P(pt,Le,be){return Le===null?pt:(pt===null||(Le=m(pt.key,Le,be),Le.left=pt),Le)}function C(pt,Le,be,Oe,Ze){if(pt){Oe(""+Le+(be?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+Ze(pt)+`
`);var st=Le+(be?"    ":"\u2502   ");pt.left&&C(pt.left,st,!1,Oe,Ze),pt.right&&C(pt.right,st,!0,Oe,Ze)}}var I=function(){function pt(Le){Le===void 0&&(Le=s),this._root=null,this._size=0,this._comparator=Le}return pt.prototype.insert=function(Le,be){return this._size++,this._root=v(Le,be,this._root,this._comparator)},pt.prototype.add=function(Le,be){var Oe=new u(Le,be);this._root===null&&(Oe.left=Oe.right=null,this._size++,this._root=Oe);var Ze=this._comparator,st=m(Le,this._root,Ze),Pt=Ze(Le,st.key);return Pt===0?this._root=st:(Pt<0?(Oe.left=st.left,Oe.right=st,st.left=null):Pt>0&&(Oe.right=st.right,Oe.left=st,st.right=null),this._size++,this._root=Oe),this._root},pt.prototype.remove=function(Le){this._root=this._remove(Le,this._root,this._comparator)},pt.prototype._remove=function(Le,be,Oe){var Ze;if(be===null)return null;be=m(Le,be,Oe);var st=Oe(Le,be.key);return st===0?(be.left===null?Ze=be.right:(Ze=m(Le,be.left,Oe),Ze.right=be.right),this._size--,Ze):be},pt.prototype.pop=function(){var Le=this._root;if(Le){for(;Le.left;)Le=Le.left;return this._root=m(Le.key,this._root,this._comparator),this._root=this._remove(Le.key,this._root,this._comparator),{key:Le.key,data:Le.data}}return null},pt.prototype.findStatic=function(Le){for(var be=this._root,Oe=this._comparator;be;){var Ze=Oe(Le,be.key);if(Ze===0)return be;Ze<0?be=be.left:be=be.right}return null},pt.prototype.find=function(Le){return this._root&&(this._root=m(Le,this._root,this._comparator),this._comparator(Le,this._root.key)!==0)?null:this._root},pt.prototype.contains=function(Le){for(var be=this._root,Oe=this._comparator;be;){var Ze=Oe(Le,be.key);if(Ze===0)return!0;Ze<0?be=be.left:be=be.right}return!1},pt.prototype.forEach=function(Le,be){for(var Oe=this._root,Ze=[],st=!1;!st;)Oe!==null?(Ze.push(Oe),Oe=Oe.left):Ze.length!==0?(Oe=Ze.pop(),Le.call(be,Oe),Oe=Oe.right):st=!0;return this},pt.prototype.range=function(Le,be,Oe,Ze){for(var st=[],Pt=this._comparator,Rt=this._root,mt;st.length!==0||Rt;)if(Rt)st.push(Rt),Rt=Rt.left;else{if(Rt=st.pop(),mt=Pt(Rt.key,be),mt>0)break;if(Pt(Rt.key,Le)>=0&&Oe.call(Ze,Rt))return this;Rt=Rt.right}return this},pt.prototype.keys=function(){var Le=[];return this.forEach(function(be){var Oe=be.key;return Le.push(Oe)}),Le},pt.prototype.values=function(){var Le=[];return this.forEach(function(be){var Oe=be.data;return Le.push(Oe)}),Le},pt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},pt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},pt.prototype.minNode=function(Le){if(Le===void 0&&(Le=this._root),Le)for(;Le.left;)Le=Le.left;return Le},pt.prototype.maxNode=function(Le){if(Le===void 0&&(Le=this._root),Le)for(;Le.right;)Le=Le.right;return Le},pt.prototype.at=function(Le){for(var be=this._root,Oe=!1,Ze=0,st=[];!Oe;)if(be)st.push(be),be=be.left;else if(st.length>0){if(be=st.pop(),Ze===Le)return be;Ze++,be=be.right}else Oe=!0;return null},pt.prototype.next=function(Le){var be=this._root,Oe=null;if(Le.right){for(Oe=Le.right;Oe.left;)Oe=Oe.left;return Oe}for(var Ze=this._comparator;be;){var st=Ze(Le.key,be.key);if(st===0)break;st<0?(Oe=be,be=be.left):be=be.right}return Oe},pt.prototype.prev=function(Le){var be=this._root,Oe=null;if(Le.left!==null){for(Oe=Le.left;Oe.right;)Oe=Oe.right;return Oe}for(var Ze=this._comparator;be;){var st=Ze(Le.key,be.key);if(st===0)break;st<0?be=be.left:(Oe=be,be=be.right)}return Oe},pt.prototype.clear=function(){return this._root=null,this._size=0,this},pt.prototype.toList=function(){return V(this._root)},pt.prototype.load=function(Le,be,Oe){be===void 0&&(be=[]),Oe===void 0&&(Oe=!1);var Ze=Le.length,st=this._comparator;if(Oe&&M(Le,be,0,Ze-1,st),this._root===null)this._root=k(Le,be,0,Ze),this._size=Ze;else{var Pt=q(this.toList(),F(Le,be),st);Ze=this._size+Ze,this._root=Y({head:Pt},0,Ze)}return this},pt.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(pt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(pt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),pt.prototype.toString=function(Le){Le===void 0&&(Le=function(Ze){return String(Ze.key)});var be=[];return C(this._root,"",!0,function(Oe){return be.push(Oe)},Le),be.join("")},pt.prototype.update=function(Le,be,Oe){var Ze=this._comparator,st=_(Le,this._root,Ze),Pt=st.left,Rt=st.right;Ze(Le,be)<0?Rt=v(be,Oe,Rt,Ze):Pt=v(be,Oe,Pt,Ze),this._root=P(Pt,Rt,Ze)},pt.prototype.split=function(Le){return _(Le,this._root,this._comparator)},pt}();function k(pt,Le,be,Oe){var Ze=Oe-be;if(Ze>0){var st=be+Math.floor(Ze/2),Pt=pt[st],Rt=Le[st],mt=new u(Pt,Rt);return mt.left=k(pt,Le,be,st),mt.right=k(pt,Le,st+1,Oe),mt}return null}function F(pt,Le){for(var be=new u(null,null),Oe=be,Ze=0;Ze<pt.length;Ze++)Oe=Oe.next=new u(pt[Ze],Le[Ze]);return Oe.next=null,be.next}function V(pt){for(var Le=pt,be=[],Oe=!1,Ze=new u(null,null),st=Ze;!Oe;)Le?(be.push(Le),Le=Le.left):be.length>0?(Le=st=st.next=be.pop(),Le=Le.right):Oe=!0;return st.next=null,Ze.next}function Y(pt,Le,be){var Oe=be-Le;if(Oe>0){var Ze=Le+Math.floor(Oe/2),st=Y(pt,Le,Ze),Pt=pt.head;return Pt.left=st,pt.head=pt.head.next,Pt.right=Y(pt,Ze+1,be),Pt}return null}function q(pt,Le,be){for(var Oe=new u(null,null),Ze=Oe,st=pt,Pt=Le;st!==null&&Pt!==null;)be(st.key,Pt.key)<0?(Ze.next=st,st=st.next):(Ze.next=Pt,Pt=Pt.next),Ze=Ze.next;return st!==null?Ze.next=st:Pt!==null&&(Ze.next=Pt),Oe.next}function M(pt,Le,be,Oe,Ze){if(!(be>=Oe)){for(var st=pt[be+Oe>>1],Pt=be-1,Rt=Oe+1;;){do Pt++;while(Ze(pt[Pt],st)<0);do Rt--;while(Ze(pt[Rt],st)>0);if(Pt>=Rt)break;var mt=pt[Pt];pt[Pt]=pt[Rt],pt[Rt]=mt,mt=Le[Pt],Le[Pt]=Le[Rt],Le[Rt]=mt}M(pt,Le,be,Rt,Ze),M(pt,Le,Rt+1,Oe,Ze)}}var j=function(Le,be){return Le.ll.x<=be.x&&be.x<=Le.ur.x&&Le.ll.y<=be.y&&be.y<=Le.ur.y},G=function(Le,be){if(be.ur.x<Le.ll.x||Le.ur.x<be.ll.x||be.ur.y<Le.ll.y||Le.ur.y<be.ll.y)return null;var Oe=Le.ll.x<be.ll.x?be.ll.x:Le.ll.x,Ze=Le.ur.x<be.ur.x?Le.ur.x:be.ur.x,st=Le.ll.y<be.ll.y?be.ll.y:Le.ll.y,Pt=Le.ur.y<be.ur.y?Le.ur.y:be.ur.y;return{ll:{x:Oe,y:st},ur:{x:Ze,y:Pt}}},J=Number.EPSILON;J===void 0&&(J=Math.pow(2,-52));var he=J*J,pe=function(Le,be){if(-J<Le&&Le<J&&-J<be&&be<J)return 0;var Oe=Le-be;return Oe*Oe<he*Le*be?0:Le<be?-1:1},ne=function(){function pt(){r(this,pt),this.reset()}return i(pt,[{key:"reset",value:function(){this.xRounder=new ee,this.yRounder=new ee}},{key:"round",value:function(be,Oe){return{x:this.xRounder.round(be),y:this.yRounder.round(Oe)}}}]),pt}(),ee=function(){function pt(){r(this,pt),this.tree=new I,this.round(0)}return i(pt,[{key:"round",value:function(be){var Oe=this.tree.add(be),Ze=this.tree.prev(Oe);if(Ze!==null&&pe(Oe.key,Ze.key)===0)return this.tree.remove(be),Ze.key;var st=this.tree.next(Oe);return st!==null&&pe(Oe.key,st.key)===0?(this.tree.remove(be),st.key):be}}]),pt}(),ie=new ne,we=function(Le,be){return Le.x*be.y-Le.y*be.x},Se=function(Le,be){return Le.x*be.x+Le.y*be.y},Pe=function(Le,be,Oe){var Ze={x:be.x-Le.x,y:be.y-Le.y},st={x:Oe.x-Le.x,y:Oe.y-Le.y},Pt=we(Ze,st);return pe(Pt,0)},ae=function(Le){return Math.sqrt(Se(Le,Le))},Be=function(Le,be,Oe){var Ze={x:be.x-Le.x,y:be.y-Le.y},st={x:Oe.x-Le.x,y:Oe.y-Le.y};return we(st,Ze)/ae(st)/ae(Ze)},Q=function(Le,be,Oe){var Ze={x:be.x-Le.x,y:be.y-Le.y},st={x:Oe.x-Le.x,y:Oe.y-Le.y};return Se(st,Ze)/ae(st)/ae(Ze)},te=function(Le,be,Oe){return be.y===0?null:{x:Le.x+be.x/be.y*(Oe-Le.y),y:Oe}},oe=function(Le,be,Oe){return be.x===0?null:{x:Oe,y:Le.y+be.y/be.x*(Oe-Le.x)}},ve=function(Le,be,Oe,Ze){if(be.x===0)return oe(Oe,Ze,Le.x);if(Ze.x===0)return oe(Le,be,Oe.x);if(be.y===0)return te(Oe,Ze,Le.y);if(Ze.y===0)return te(Le,be,Oe.y);var st=we(be,Ze);if(st==0)return null;var Pt={x:Oe.x-Le.x,y:Oe.y-Le.y},Rt=we(Pt,be)/st,mt=we(Pt,Ze)/st,Nr=Le.x+mt*be.x,Qr=Oe.x+Rt*Ze.x,tr=Le.y+mt*be.y,on=Oe.y+Rt*Ze.y,Bn=(Nr+Qr)/2,si=(tr+on)/2;return{x:Bn,y:si}},de=function(){i(pt,null,[{key:"compare",value:function(be,Oe){var Ze=pt.comparePoints(be.point,Oe.point);return Ze!==0?Ze:(be.point!==Oe.point&&be.link(Oe),be.isLeft!==Oe.isLeft?be.isLeft?1:-1:ye.compare(be.segment,Oe.segment))}},{key:"comparePoints",value:function(be,Oe){return be.x<Oe.x?-1:be.x>Oe.x?1:be.y<Oe.y?-1:be.y>Oe.y?1:0}}]);function pt(Le,be){r(this,pt),Le.events===void 0?Le.events=[this]:Le.events.push(this),this.point=Le,this.isLeft=be}return i(pt,[{key:"link",value:function(be){if(be.point===this.point)throw new Error("Tried to link already linked events");for(var Oe=be.point.events,Ze=0,st=Oe.length;Ze<st;Ze++){var Pt=Oe[Ze];this.point.events.push(Pt),Pt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var be=this.point.events.length,Oe=0;Oe<be;Oe++){var Ze=this.point.events[Oe];if(Ze.segment.consumedBy===void 0)for(var st=Oe+1;st<be;st++){var Pt=this.point.events[st];Pt.consumedBy===void 0&&Ze.otherSE.point.events===Pt.otherSE.point.events&&Ze.segment.consume(Pt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var be=[],Oe=0,Ze=this.point.events.length;Oe<Ze;Oe++){var st=this.point.events[Oe];st!==this&&!st.segment.ringOut&&st.segment.isInResult()&&be.push(st)}return be}},{key:"getLeftmostComparator",value:function(be){var Oe=this,Ze=new Map,st=function(Rt){var mt=Rt.otherSE;Ze.set(Rt,{sine:Be(Oe.point,be.point,mt.point),cosine:Q(Oe.point,be.point,mt.point)})};return function(Pt,Rt){Ze.has(Pt)||st(Pt),Ze.has(Rt)||st(Rt);var mt=Ze.get(Pt),Nr=mt.sine,Qr=mt.cosine,tr=Ze.get(Rt),on=tr.sine,Bn=tr.cosine;return Nr>=0&&on>=0?Qr<Bn?1:Qr>Bn?-1:0:Nr<0&&on<0?Qr<Bn?-1:Qr>Bn?1:0:on<Nr?-1:on>Nr?1:0}}}]),pt}(),ze=0,ye=function(){i(pt,null,[{key:"compare",value:function(be,Oe){var Ze=be.leftSE.point.x,st=Oe.leftSE.point.x,Pt=be.rightSE.point.x,Rt=Oe.rightSE.point.x;if(Rt<Ze)return 1;if(Pt<st)return-1;var mt=be.leftSE.point.y,Nr=Oe.leftSE.point.y,Qr=be.rightSE.point.y,tr=Oe.rightSE.point.y;if(Ze<st){if(Nr<mt&&Nr<Qr)return 1;if(Nr>mt&&Nr>Qr)return-1;var on=be.comparePoint(Oe.leftSE.point);if(on<0)return 1;if(on>0)return-1;var Bn=Oe.comparePoint(be.rightSE.point);return Bn!==0?Bn:-1}if(Ze>st){if(mt<Nr&&mt<tr)return-1;if(mt>Nr&&mt>tr)return 1;var si=Oe.comparePoint(be.leftSE.point);if(si!==0)return si;var $n=be.comparePoint(Oe.rightSE.point);return $n<0?1:$n>0?-1:1}if(mt<Nr)return-1;if(mt>Nr)return 1;if(Pt<Rt){var Fn=Oe.comparePoint(be.rightSE.point);if(Fn!==0)return Fn}if(Pt>Rt){var Vo=be.comparePoint(Oe.rightSE.point);if(Vo<0)return 1;if(Vo>0)return-1}if(Pt!==Rt){var ta=Qr-mt,Ea=Pt-Ze,Go=tr-Nr,ui=Rt-st;if(ta>Ea&&Go<ui)return 1;if(ta<Ea&&Go>ui)return-1}return Pt>Rt?1:Pt<Rt||Qr<tr?-1:Qr>tr?1:be.id<Oe.id?-1:be.id>Oe.id?1:0}}]);function pt(Le,be,Oe,Ze){r(this,pt),this.id=++ze,this.leftSE=Le,Le.segment=this,Le.otherSE=be,this.rightSE=be,be.segment=this,be.otherSE=Le,this.rings=Oe,this.windings=Ze}return i(pt,[{key:"replaceRightSE",value:function(be){this.rightSE=be,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var be=this.leftSE.point.y,Oe=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:be<Oe?be:Oe},ur:{x:this.rightSE.point.x,y:be>Oe?be:Oe}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(be){return be.x===this.leftSE.point.x&&be.y===this.leftSE.point.y||be.x===this.rightSE.point.x&&be.y===this.rightSE.point.y}},{key:"comparePoint",value:function(be){if(this.isAnEndpoint(be))return 0;var Oe=this.leftSE.point,Ze=this.rightSE.point,st=this.vector();if(Oe.x===Ze.x)return be.x===Oe.x?0:be.x<Oe.x?1:-1;var Pt=(be.y-Oe.y)/st.y,Rt=Oe.x+Pt*st.x;if(be.x===Rt)return 0;var mt=(be.x-Oe.x)/st.x,Nr=Oe.y+mt*st.y;return be.y===Nr?0:be.y<Nr?-1:1}},{key:"getIntersection",value:function(be){var Oe=this.bbox(),Ze=be.bbox(),st=G(Oe,Ze);if(st===null)return null;var Pt=this.leftSE.point,Rt=this.rightSE.point,mt=be.leftSE.point,Nr=be.rightSE.point,Qr=j(Oe,mt)&&this.comparePoint(mt)===0,tr=j(Ze,Pt)&&be.comparePoint(Pt)===0,on=j(Oe,Nr)&&this.comparePoint(Nr)===0,Bn=j(Ze,Rt)&&be.comparePoint(Rt)===0;if(tr&&Qr)return Bn&&!on?Rt:!Bn&&on?Nr:null;if(tr)return on&&Pt.x===Nr.x&&Pt.y===Nr.y?null:Pt;if(Qr)return Bn&&Rt.x===mt.x&&Rt.y===mt.y?null:mt;if(Bn&&on)return null;if(Bn)return Rt;if(on)return Nr;var si=ve(Pt,this.vector(),mt,be.vector());return si===null||!j(st,si)?null:ie.round(si.x,si.y)}},{key:"split",value:function(be){var Oe=[],Ze=be.events!==void 0,st=new de(be,!0),Pt=new de(be,!1),Rt=this.rightSE;this.replaceRightSE(Pt),Oe.push(Pt),Oe.push(st);var mt=new pt(st,Rt,this.rings.slice(),this.windings.slice());return de.comparePoints(mt.leftSE.point,mt.rightSE.point)>0&&mt.swapEvents(),de.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Ze&&(st.checkForConsuming(),Pt.checkForConsuming()),Oe}},{key:"swapEvents",value:function(){var be=this.rightSE;this.rightSE=this.leftSE,this.leftSE=be,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var Oe=0,Ze=this.windings.length;Oe<Ze;Oe++)this.windings[Oe]*=-1}},{key:"consume",value:function(be){for(var Oe=this,Ze=be;Oe.consumedBy;)Oe=Oe.consumedBy;for(;Ze.consumedBy;)Ze=Ze.consumedBy;var st=pt.compare(Oe,Ze);if(st!==0){if(st>0){var Pt=Oe;Oe=Ze,Ze=Pt}if(Oe.prev===Ze){var Rt=Oe;Oe=Ze,Ze=Rt}for(var mt=0,Nr=Ze.rings.length;mt<Nr;mt++){var Qr=Ze.rings[mt],tr=Ze.windings[mt],on=Oe.rings.indexOf(Qr);on===-1?(Oe.rings.push(Qr),Oe.windings.push(tr)):Oe.windings[on]+=tr}Ze.rings=null,Ze.windings=null,Ze.consumedBy=Oe,Ze.leftSE.consumedBy=Oe.leftSE,Ze.rightSE.consumedBy=Oe.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var be=this.prev.consumedBy||this.prev;this._beforeState=be.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var be=this.beforeState();this._afterState={rings:be.rings.slice(0),windings:be.windings.slice(0),multiPolys:[]};for(var Oe=this._afterState.rings,Ze=this._afterState.windings,st=this._afterState.multiPolys,Pt=0,Rt=this.rings.length;Pt<Rt;Pt++){var mt=this.rings[Pt],Nr=this.windings[Pt],Qr=Oe.indexOf(mt);Qr===-1?(Oe.push(mt),Ze.push(Nr)):Ze[Qr]+=Nr}for(var tr=[],on=[],Bn=0,si=Oe.length;Bn<si;Bn++)if(Ze[Bn]!==0){var $n=Oe[Bn],Fn=$n.poly;if(on.indexOf(Fn)===-1)if($n.isExterior)tr.push(Fn);else{on.indexOf(Fn)===-1&&on.push(Fn);var Vo=tr.indexOf($n.poly);Vo!==-1&&tr.splice(Vo,1)}}for(var ta=0,Ea=tr.length;ta<Ea;ta++){var Go=tr[ta].multiPoly;st.indexOf(Go)===-1&&st.push(Go)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var be=this.beforeState().multiPolys,Oe=this.afterState().multiPolys;switch(Ht.type){case"union":{var Ze=be.length===0,st=Oe.length===0;this._isInResult=Ze!==st;break}case"intersection":{var Pt,Rt;be.length<Oe.length?(Pt=be.length,Rt=Oe.length):(Pt=Oe.length,Rt=be.length),this._isInResult=Rt===Ht.numMultiPolys&&Pt<Rt;break}case"xor":{var mt=Math.abs(be.length-Oe.length);this._isInResult=mt%2===1;break}case"difference":{var Nr=function(tr){return tr.length===1&&tr[0].isSubject};this._isInResult=Nr(be)!==Nr(Oe);break}default:throw new Error("Unrecognized operation type found ".concat(Ht.type))}return this._isInResult}}],[{key:"fromRing",value:function(be,Oe,Ze){var st,Pt,Rt,mt=de.comparePoints(be,Oe);if(mt<0)st=be,Pt=Oe,Rt=1;else if(mt>0)st=Oe,Pt=be,Rt=-1;else throw new Error("Tried to create degenerate segment at [".concat(be.x,", ").concat(be.y,"]"));var Nr=new de(st,!0),Qr=new de(Pt,!1);return new pt(Nr,Qr,[Ze],[Rt])}}]),pt}(),Je=function(){function pt(Le,be,Oe){if(r(this,pt),!Array.isArray(Le)||Le.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=be,this.isExterior=Oe,this.segments=[],typeof Le[0][0]!="number"||typeof Le[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ze=ie.round(Le[0][0],Le[0][1]);this.bbox={ll:{x:Ze.x,y:Ze.y},ur:{x:Ze.x,y:Ze.y}};for(var st=Ze,Pt=1,Rt=Le.length;Pt<Rt;Pt++){if(typeof Le[Pt][0]!="number"||typeof Le[Pt][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var mt=ie.round(Le[Pt][0],Le[Pt][1]);mt.x===st.x&&mt.y===st.y||(this.segments.push(ye.fromRing(st,mt,this)),mt.x<this.bbox.ll.x&&(this.bbox.ll.x=mt.x),mt.y<this.bbox.ll.y&&(this.bbox.ll.y=mt.y),mt.x>this.bbox.ur.x&&(this.bbox.ur.x=mt.x),mt.y>this.bbox.ur.y&&(this.bbox.ur.y=mt.y),st=mt)}(Ze.x!==st.x||Ze.y!==st.y)&&this.segments.push(ye.fromRing(st,Ze,this))}return i(pt,[{key:"getSweepEvents",value:function(){for(var be=[],Oe=0,Ze=this.segments.length;Oe<Ze;Oe++){var st=this.segments[Oe];be.push(st.leftSE),be.push(st.rightSE)}return be}}]),pt}(),Qe=function(){function pt(Le,be){if(r(this,pt),!Array.isArray(Le))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Je(Le[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var Oe=1,Ze=Le.length;Oe<Ze;Oe++){var st=new Je(Le[Oe],this,!1);st.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=st.bbox.ll.x),st.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=st.bbox.ll.y),st.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=st.bbox.ur.x),st.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=st.bbox.ur.y),this.interiorRings.push(st)}this.multiPoly=be}return i(pt,[{key:"getSweepEvents",value:function(){for(var be=this.exteriorRing.getSweepEvents(),Oe=0,Ze=this.interiorRings.length;Oe<Ze;Oe++)for(var st=this.interiorRings[Oe].getSweepEvents(),Pt=0,Rt=st.length;Pt<Rt;Pt++)be.push(st[Pt]);return be}}]),pt}(),yt=function(){function pt(Le,be){if(r(this,pt),!Array.isArray(Le))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof Le[0][0][0]=="number"&&(Le=[Le])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var Oe=0,Ze=Le.length;Oe<Ze;Oe++){var st=new Qe(Le[Oe],this);st.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=st.bbox.ll.x),st.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=st.bbox.ll.y),st.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=st.bbox.ur.x),st.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=st.bbox.ur.y),this.polys.push(st)}this.isSubject=be}return i(pt,[{key:"getSweepEvents",value:function(){for(var be=[],Oe=0,Ze=this.polys.length;Oe<Ze;Oe++)for(var st=this.polys[Oe].getSweepEvents(),Pt=0,Rt=st.length;Pt<Rt;Pt++)be.push(st[Pt]);return be}}]),pt}(),_t=function(){i(pt,null,[{key:"factory",value:function(be){for(var Oe=[],Ze=0,st=be.length;Ze<st;Ze++){var Pt=be[Ze];if(!(!Pt.isInResult()||Pt.ringOut)){for(var Rt=null,mt=Pt.leftSE,Nr=Pt.rightSE,Qr=[mt],tr=mt.point,on=[];Rt=mt,mt=Nr,Qr.push(mt),mt.point!==tr;)for(;;){var Bn=mt.getAvailableLinkedEvents();if(Bn.length===0){var si=Qr[0].point,$n=Qr[Qr.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(si.x,",")+" ".concat(si.y,"]. Last matching segment found ends at")+" [".concat($n.x,", ").concat($n.y,"]."))}if(Bn.length===1){Nr=Bn[0].otherSE;break}for(var Fn=null,Vo=0,ta=on.length;Vo<ta;Vo++)if(on[Vo].point===mt.point){Fn=Vo;break}if(Fn!==null){var Ea=on.splice(Fn)[0],Go=Qr.splice(Ea.index);Go.unshift(Go[0].otherSE),Oe.push(new pt(Go.reverse()));continue}on.push({index:Qr.length,point:mt.point});var ui=mt.getLeftmostComparator(Rt);Nr=Bn.sort(ui)[0].otherSE;break}Oe.push(new pt(Qr))}}return Oe}}]);function pt(Le){r(this,pt),this.events=Le;for(var be=0,Oe=Le.length;be<Oe;be++)Le[be].segment.ringOut=this;this.poly=null}return i(pt,[{key:"getGeom",value:function(){for(var be=this.events[0].point,Oe=[be],Ze=1,st=this.events.length-1;Ze<st;Ze++){var Pt=this.events[Ze].point,Rt=this.events[Ze+1].point;Pe(Pt,be,Rt)!==0&&(Oe.push(Pt),be=Pt)}if(Oe.length===1)return null;var mt=Oe[0],Nr=Oe[1];Pe(mt,be,Nr)===0&&Oe.shift(),Oe.push(Oe[0]);for(var Qr=this.isExteriorRing()?1:-1,tr=this.isExteriorRing()?0:Oe.length-1,on=this.isExteriorRing()?Oe.length:-1,Bn=[],si=tr;si!=on;si+=Qr)Bn.push([Oe[si].x,Oe[si].y]);return Bn}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var be=this.enclosingRing();this._isExteriorRing=be?!be.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var be=this.events[0],Oe=1,Ze=this.events.length;Oe<Ze;Oe++){var st=this.events[Oe];de.compare(be,st)>0&&(be=st)}for(var Pt=be.segment.prevInResult(),Rt=Pt?Pt.prevInResult():null;;){if(!Pt)return null;if(!Rt)return Pt.ringOut;if(Rt.ringOut!==Pt.ringOut)return Rt.ringOut.enclosingRing()!==Pt.ringOut?Pt.ringOut:Pt.ringOut.enclosingRing();Pt=Rt.prevInResult(),Rt=Pt?Pt.prevInResult():null}}}]),pt}(),Tt=function(){function pt(Le){r(this,pt),this.exteriorRing=Le,Le.poly=this,this.interiorRings=[]}return i(pt,[{key:"addInterior",value:function(be){this.interiorRings.push(be),be.poly=this}},{key:"getGeom",value:function(){var be=[this.exteriorRing.getGeom()];if(be[0]===null)return null;for(var Oe=0,Ze=this.interiorRings.length;Oe<Ze;Oe++){var st=this.interiorRings[Oe].getGeom();st!==null&&be.push(st)}return be}}]),pt}(),Yt=function(){function pt(Le){r(this,pt),this.rings=Le,this.polys=this._composePolys(Le)}return i(pt,[{key:"getGeom",value:function(){for(var be=[],Oe=0,Ze=this.polys.length;Oe<Ze;Oe++){var st=this.polys[Oe].getGeom();st!==null&&be.push(st)}return be}},{key:"_composePolys",value:function(be){for(var Oe=[],Ze=0,st=be.length;Ze<st;Ze++){var Pt=be[Ze];if(!Pt.poly)if(Pt.isExteriorRing())Oe.push(new Tt(Pt));else{var Rt=Pt.enclosingRing();Rt.poly||Oe.push(new Tt(Rt)),Rt.poly.addInterior(Pt)}}return Oe}}]),pt}(),It=function(){function pt(Le){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye.compare;r(this,pt),this.queue=Le,this.tree=new I(be),this.segments=[]}return i(pt,[{key:"process",value:function(be){var Oe=be.segment,Ze=[];if(be.consumedBy)return be.isLeft?this.queue.remove(be.otherSE):this.tree.remove(Oe),Ze;var st=be.isLeft?this.tree.insert(Oe):this.tree.find(Oe);if(!st)throw new Error("Unable to find segment #".concat(Oe.id," ")+"[".concat(Oe.leftSE.point.x,", ").concat(Oe.leftSE.point.y,"] -> ")+"[".concat(Oe.rightSE.point.x,", ").concat(Oe.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Pt=st,Rt=st,mt=void 0,Nr=void 0;mt===void 0;)Pt=this.tree.prev(Pt),Pt===null?mt=null:Pt.key.consumedBy===void 0&&(mt=Pt.key);for(;Nr===void 0;)Rt=this.tree.next(Rt),Rt===null?Nr=null:Rt.key.consumedBy===void 0&&(Nr=Rt.key);if(be.isLeft){var Qr=null;if(mt){var tr=mt.getIntersection(Oe);if(tr!==null&&(Oe.isAnEndpoint(tr)||(Qr=tr),!mt.isAnEndpoint(tr)))for(var on=this._splitSafely(mt,tr),Bn=0,si=on.length;Bn<si;Bn++)Ze.push(on[Bn])}var $n=null;if(Nr){var Fn=Nr.getIntersection(Oe);if(Fn!==null&&(Oe.isAnEndpoint(Fn)||($n=Fn),!Nr.isAnEndpoint(Fn)))for(var Vo=this._splitSafely(Nr,Fn),ta=0,Ea=Vo.length;ta<Ea;ta++)Ze.push(Vo[ta])}if(Qr!==null||$n!==null){var Go=null;if(Qr===null)Go=$n;else if($n===null)Go=Qr;else{var ui=de.comparePoints(Qr,$n);Go=ui<=0?Qr:$n}this.queue.remove(Oe.rightSE),Ze.push(Oe.rightSE);for(var Fa=Oe.split(Go),to=0,Kt=Fa.length;to<Kt;to++)Ze.push(Fa[to])}Ze.length>0?(this.tree.remove(Oe),Ze.push(be)):(this.segments.push(Oe),Oe.prev=mt)}else{if(mt&&Nr){var ms=mt.getIntersection(Nr);if(ms!==null){if(!mt.isAnEndpoint(ms))for(var zi=this._splitSafely(mt,ms),se=0,Ee=zi.length;se<Ee;se++)Ze.push(zi[se]);if(!Nr.isAnEndpoint(ms))for(var Ie=this._splitSafely(Nr,ms),Re=0,We=Ie.length;Re<We;Re++)Ze.push(Ie[Re])}}this.tree.remove(Oe)}return Ze}},{key:"_splitSafely",value:function(be,Oe){this.tree.remove(be);var Ze=be.rightSE;this.queue.remove(Ze);var st=be.split(Oe);return st.push(Ze),be.consumedBy===void 0&&this.tree.insert(be),st}}]),pt}(),Ut=typeof process!="undefined"&&{ALLUSERSPROFILE:"C:\\ProgramData",ANDROID_HOME:"C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk",APPDATA:"C:\\Users\\Tattek\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"Tue Feb 28 11:02:22 2017",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_25444_FULAZYTTAPMOPBSF",CLASSPATH:".;",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"THE-MASTODONT",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"notepad.exe",ERLANG_HOME:"C:\\Program Files\\erl9.3",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",GYP_MSVS_VERSION:"2015",HOME:"C:\\Users\\Tattek",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Tattek",INIT_CWD:"C:\\Sites\\react-tailwind",JAVA_HOME:"C:\\Program Files\\Java\\jdk1.8.0_121",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Tattek\\AppData\\Local",LOGONSERVER:"\\\\THE-MASTODONT",MTPPKROOT:"C:\\WMSDK\\MTPPK12\\Responder",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Tattek\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Tattek\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_init_module:"C:\\Users\\Tattek\\.npm-init.js",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_prefix:"C:\\Users\\Tattek\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Tattek\\.npmrc",npm_config_user_agent:"npm/7.12.1 node/v16.1.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Sites\\react-tailwind\\package.json",npm_package_name:"simple-light-react",npm_package_version:"0.1.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Tattek\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Tattek\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Sites\\react-tailwind\\node_modules\\.bin;C:\\Sites\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python39\\Scripts\\;C:\\Python39\\;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Java\\jdk1.8.0_121\\bin;C:\\Program Files\\PuTTY\\;C:\\Ruby23-x64\\bin;C:\\Users\\Tattek\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Heroku\\bin;C:\\Users\\Tattek\\AppData\\Roaming\\npm;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\tools;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\platform-tools;C:\\adb;C:\\Gradle\\gradle-4.2\\bin;C:\\HashiCorp\\Vagrant\\bin;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\Yarn\\bin\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\WireGuard\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files (x86)\\EAC MW klient\\;C:\\Program Files\\Git\\cmd;C:\\Ruby23-x64\\bin;C:\\Users\\Tattek\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Heroku\\bin;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\tools;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\platform-tools;C:\\Gradle\\gradle-4.2\\bin;C:\\curl-7.58.0-win64-mingw\\bin;C:\\Users\\Tattek\\AppData\\Local\\Yarn\\bin;C:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Tattek\\.dotnet\\tools;C:\\Users\\Tattek\\AppData\\Roaming\\npm;C:\\Users\\Tattek\\.deno\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 79 Stepping 1, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"4f01",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Tattek\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules\\;C:\\Program Files\\Intel\\",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\Tattek\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.67.1",TMP:"C:\\Users\\Tattek\\AppData\\Local\\Temp",USERDOMAIN:"THE-MASTODONT",USERDOMAIN_ROAMINGPROFILE:"THE-MASTODONT",USERNAME:"Tattek",USERPROFILE:"C:\\Users\\Tattek",VS140COMNTOOLS:"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools\\",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-479a8b9530-sock",windir:"C:\\WINDOWS"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Or=typeof process!="undefined"&&{ALLUSERSPROFILE:"C:\\ProgramData",ANDROID_HOME:"C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk",APPDATA:"C:\\Users\\Tattek\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"Tue Feb 28 11:02:22 2017",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_25444_FULAZYTTAPMOPBSF",CLASSPATH:".;",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"THE-MASTODONT",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"notepad.exe",ERLANG_HOME:"C:\\Program Files\\erl9.3",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",GYP_MSVS_VERSION:"2015",HOME:"C:\\Users\\Tattek",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Tattek",INIT_CWD:"C:\\Sites\\react-tailwind",JAVA_HOME:"C:\\Program Files\\Java\\jdk1.8.0_121",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Tattek\\AppData\\Local",LOGONSERVER:"\\\\THE-MASTODONT",MTPPKROOT:"C:\\WMSDK\\MTPPK12\\Responder",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Tattek\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Tattek\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_init_module:"C:\\Users\\Tattek\\.npm-init.js",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_prefix:"C:\\Users\\Tattek\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Tattek\\.npmrc",npm_config_user_agent:"npm/7.12.1 node/v16.1.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Sites\\react-tailwind\\package.json",npm_package_name:"simple-light-react",npm_package_version:"0.1.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Tattek\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Tattek\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Sites\\react-tailwind\\node_modules\\.bin;C:\\Sites\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python39\\Scripts\\;C:\\Python39\\;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Java\\jdk1.8.0_121\\bin;C:\\Program Files\\PuTTY\\;C:\\Ruby23-x64\\bin;C:\\Users\\Tattek\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Heroku\\bin;C:\\Users\\Tattek\\AppData\\Roaming\\npm;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\tools;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\platform-tools;C:\\adb;C:\\Gradle\\gradle-4.2\\bin;C:\\HashiCorp\\Vagrant\\bin;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\Yarn\\bin\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\WireGuard\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files (x86)\\EAC MW klient\\;C:\\Program Files\\Git\\cmd;C:\\Ruby23-x64\\bin;C:\\Users\\Tattek\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Heroku\\bin;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\tools;C:\\Users\\Tattek\\AppData\\Local\\Android\\android-sdk\\platform-tools;C:\\Gradle\\gradle-4.2\\bin;C:\\curl-7.58.0-win64-mingw\\bin;C:\\Users\\Tattek\\AppData\\Local\\Yarn\\bin;C:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Tattek\\.dotnet\\tools;C:\\Users\\Tattek\\AppData\\Roaming\\npm;C:\\Users\\Tattek\\.deno\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 79 Stepping 1, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"4f01",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Tattek\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules\\;C:\\Program Files\\Intel\\",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\Tattek\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.67.1",TMP:"C:\\Users\\Tattek\\AppData\\Local\\Temp",USERDOMAIN:"THE-MASTODONT",USERDOMAIN_ROAMINGPROFILE:"THE-MASTODONT",USERNAME:"Tattek",USERPROFILE:"C:\\Users\\Tattek",VS140COMNTOOLS:"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools\\",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Tattek\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-479a8b9530-sock",windir:"C:\\WINDOWS"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Xt=function(){function pt(){r(this,pt)}return i(pt,[{key:"run",value:function(be,Oe,Ze){Ht.type=be,ie.reset();for(var st=[new yt(Oe,!0)],Pt=0,Rt=Ze.length;Pt<Rt;Pt++)st.push(new yt(Ze[Pt],!1));if(Ht.numMultiPolys=st.length,Ht.type==="difference")for(var mt=st[0],Nr=1;Nr<st.length;)G(st[Nr].bbox,mt.bbox)!==null?Nr++:st.splice(Nr,1);if(Ht.type==="intersection"){for(var Qr=0,tr=st.length;Qr<tr;Qr++)for(var on=st[Qr],Bn=Qr+1,si=st.length;Bn<si;Bn++)if(G(on.bbox,st[Bn].bbox)===null)return[]}for(var $n=new I(de.compare),Fn=0,Vo=st.length;Fn<Vo;Fn++)for(var ta=st[Fn].getSweepEvents(),Ea=0,Go=ta.length;Ea<Go;Ea++)if($n.insert(ta[Ea]),$n.size>Ut)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var ui=new It($n),Fa=$n.size,to=$n.pop();to;){var Kt=to.key;if($n.size===Fa){var ms=Kt.segment;throw new Error("Unable to pop() ".concat(Kt.isLeft?"left":"right"," SweepEvent ")+"[".concat(Kt.point.x,", ").concat(Kt.point.y,"] from segment #").concat(ms.id," ")+"[".concat(ms.leftSE.point.x,", ").concat(ms.leftSE.point.y,"] -> ")+"[".concat(ms.rightSE.point.x,", ").concat(ms.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if($n.size>Ut)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(ui.segments.length>Or)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var zi=ui.process(Kt),se=0,Ee=zi.length;se<Ee;se++){var Ie=zi[se];Ie.consumedBy===void 0&&$n.insert(Ie)}Fa=$n.size,to=$n.pop()}ie.reset();var Re=_t.factory(ui.segments),We=new Yt(Re);return We.getGeom()}}]),pt}(),Ht=new Xt,xr=function(Le){for(var be=arguments.length,Oe=new Array(be>1?be-1:0),Ze=1;Ze<be;Ze++)Oe[Ze-1]=arguments[Ze];return Ht.run("union",Le,Oe)},Lr=function(Le){for(var be=arguments.length,Oe=new Array(be>1?be-1:0),Ze=1;Ze<be;Ze++)Oe[Ze-1]=arguments[Ze];return Ht.run("intersection",Le,Oe)},Xr=function(Le){for(var be=arguments.length,Oe=new Array(be>1?be-1:0),Ze=1;Ze<be;Ze++)Oe[Ze-1]=arguments[Ze];return Ht.run("xor",Le,Oe)},ea=function(Le){for(var be=arguments.length,Oe=new Array(be>1?be-1:0),Ze=1;Ze<be;Ze++)Oe[Ze-1]=arguments[Ze];return Ht.run("difference",Le,Oe)},Mi={union:xr,intersection:Lr,xor:Xr,difference:ea};return Mi})})(Ax);var Ede=Ax.exports,g9=Cr,y9=En;function Pde(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ide=Pde(Ede);function zW(e,t){var r=y9.getGeom(e),n=y9.getGeom(t),i=e.properties||{},u=Ide.default.difference(r.coordinates,n.coordinates);return u.length===0?null:u.length===1?g9.polygon(u[0],i):g9.multiPolygon(u,i)}pz.exports=zW;pz.exports.default=zW;var hz={exports:{}},g3={exports:{}};(function(e,t){(function(r,n){n(t)})(Ne,function(r){function n(){}function i(l){this.message=l||""}function u(l){this.message=l||""}function s(l){this.message=l||""}function m(){}function v(l){return l===null?Xe:l.color}function _(l){return l===null?null:l.parent}function P(l,f){l!==null&&(l.color=f)}function C(l){return l===null?null:l.left}function I(l){return l===null?null:l.right}function k(){this.root_=null,this.size_=0}function F(){}function V(){this.array_=[],arguments[0]instanceof ui&&this.addAll(arguments[0])}function Y(){}function q(l){this.message=l||""}function M(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(l){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var f=Object(this),y=Math.max(Math.min(f.length,9007199254740991),0)||0,x=1 in arguments&&parseInt(Number(arguments[1]),10)||0;x=x<0?Math.max(y+x,0):Math.min(x,y);var O=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:y;for(O=O<0?Math.max(y+arguments[2],0):Math.min(O,y);x<O;)f[x]=l,++x;return f},writable:!0}),Number.isFinite=Number.isFinite||function(l){return typeof l=="number"&&isFinite(l)},Number.isInteger=Number.isInteger||function(l){return typeof l=="number"&&isFinite(l)&&Math.floor(l)===l},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(l){return l!=l},Math.trunc=Math.trunc||function(l){return l<0?Math.ceil(l):Math.floor(l)};var j=function(){};j.prototype.interfaces_=function(){return[]},j.prototype.getClass=function(){return j},j.prototype.equalsWithTolerance=function(l,f,y){return Math.abs(l-f)<=y};var G=function(l){function f(y){l.call(this,y),this.name="IllegalArgumentException",this.message=y,this.stack=new l().stack}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f}(Error),J=function(){},he={MAX_VALUE:{configurable:!0}};J.isNaN=function(l){return Number.isNaN(l)},J.doubleToLongBits=function(l){return l},J.longBitsToDouble=function(l){return l},J.isInfinite=function(l){return!Number.isFinite(l)},he.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(J,he);var pe=function(){},ne=function(){},ee=function(){},ie=function l(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=l.NULL_ORDINATE;else if(arguments.length===1){var f=arguments[0];this.x=f.x,this.y=f.y,this.z=f.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=l.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},we={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};ie.prototype.setOrdinate=function(l,f){switch(l){case ie.X:this.x=f;break;case ie.Y:this.y=f;break;case ie.Z:this.z=f;break;default:throw new G("Invalid ordinate index: "+l)}},ie.prototype.equals2D=function(){if(arguments.length===1){var l=arguments[0];return this.x===l.x&&this.y===l.y}if(arguments.length===2){var f=arguments[0],y=arguments[1];return!!j.equalsWithTolerance(this.x,f.x,y)&&!!j.equalsWithTolerance(this.y,f.y,y)}},ie.prototype.getOrdinate=function(l){switch(l){case ie.X:return this.x;case ie.Y:return this.y;case ie.Z:return this.z}throw new G("Invalid ordinate index: "+l)},ie.prototype.equals3D=function(l){return this.x===l.x&&this.y===l.y&&(this.z===l.z||J.isNaN(this.z))&&J.isNaN(l.z)},ie.prototype.equals=function(l){return l instanceof ie&&this.equals2D(l)},ie.prototype.equalInZ=function(l,f){return j.equalsWithTolerance(this.z,l.z,f)},ie.prototype.compareTo=function(l){var f=l;return this.x<f.x?-1:this.x>f.x?1:this.y<f.y?-1:this.y>f.y?1:0},ie.prototype.clone=function(){},ie.prototype.copy=function(){return new ie(this)},ie.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},ie.prototype.distance3D=function(l){var f=this.x-l.x,y=this.y-l.y,x=this.z-l.z;return Math.sqrt(f*f+y*y+x*x)},ie.prototype.distance=function(l){var f=this.x-l.x,y=this.y-l.y;return Math.sqrt(f*f+y*y)},ie.prototype.hashCode=function(){var l=17;return l=37*l+ie.hashCode(this.x),l=37*l+ie.hashCode(this.y)},ie.prototype.setCoordinate=function(l){this.x=l.x,this.y=l.y,this.z=l.z},ie.prototype.interfaces_=function(){return[pe,ne,n]},ie.prototype.getClass=function(){return ie},ie.hashCode=function(){if(arguments.length===1){var l=arguments[0],f=J.doubleToLongBits(l);return Math.trunc((f^f)>>>32)}},we.DimensionalComparator.get=function(){return Se},we.serialVersionUID.get=function(){return 6683108902428367e3},we.NULL_ORDINATE.get=function(){return J.NaN},we.X.get=function(){return 0},we.Y.get=function(){return 1},we.Z.get=function(){return 2},Object.defineProperties(ie,we);var Se=function(l){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var f=arguments[0];if(f!==2&&f!==3)throw new G("only 2 or 3 dimensions may be specified");this._dimensionsToTest=f}}};Se.prototype.compare=function(l,f){var y=l,x=f,O=Se.compare(y.x,x.x);if(O!==0)return O;var U=Se.compare(y.y,x.y);return U!==0?U:this._dimensionsToTest<=2?0:Se.compare(y.z,x.z)},Se.prototype.interfaces_=function(){return[ee]},Se.prototype.getClass=function(){return Se},Se.compare=function(l,f){return l<f?-1:l>f?1:J.isNaN(l)?J.isNaN(f)?0:-1:J.isNaN(f)?1:0};var Pe=function(){};Pe.prototype.create=function(){},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var ae=function(){},Be={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};ae.prototype.interfaces_=function(){return[]},ae.prototype.getClass=function(){return ae},ae.toLocationSymbol=function(l){switch(l){case ae.EXTERIOR:return"e";case ae.BOUNDARY:return"b";case ae.INTERIOR:return"i";case ae.NONE:return"-"}throw new G("Unknown location value: "+l)},Be.INTERIOR.get=function(){return 0},Be.BOUNDARY.get=function(){return 1},Be.EXTERIOR.get=function(){return 2},Be.NONE.get=function(){return-1},Object.defineProperties(ae,Be);var Q=function(l,f){return l.interfaces_&&l.interfaces_().indexOf(f)>-1},te=function(){},oe={LOG_10:{configurable:!0}};te.prototype.interfaces_=function(){return[]},te.prototype.getClass=function(){return te},te.log10=function(l){var f=Math.log(l);return J.isInfinite(f)||J.isNaN(f)?f:f/te.LOG_10},te.min=function(l,f,y,x){var O=l;return f<O&&(O=f),y<O&&(O=y),x<O&&(O=x),O},te.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1],y=arguments[2];return l<f?f:l>y?y:l}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],O=arguments[1],U=arguments[2];return x<O?O:x>U?U:x}},te.wrap=function(l,f){return l<0?f- -l%f:l%f},te.max=function(){if(arguments.length===3){var l=arguments[0],f=arguments[1],y=arguments[2],x=l;return f>x&&(x=f),y>x&&(x=y),x}if(arguments.length===4){var O=arguments[0],U=arguments[1],H=arguments[2],me=arguments[3],je=O;return U>je&&(je=U),H>je&&(je=H),me>je&&(je=me),je}},te.average=function(l,f){return(l+f)/2},oe.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(te,oe);var ve=function(l){this.str=l};ve.prototype.append=function(l){this.str+=l},ve.prototype.setCharAt=function(l,f){this.str=this.str.substr(0,l)+f+this.str.substr(l+1)},ve.prototype.toString=function(l){return this.str};var de=function(l){this.value=l};de.prototype.intValue=function(){return this.value},de.prototype.compareTo=function(l){return this.value<l?-1:this.value>l?1:0},de.isNaN=function(l){return Number.isNaN(l)};var ze=function(){};ze.isWhitespace=function(l){return l<=32&&l>=0||l===127},ze.toUpperCase=function(l){return l.toUpperCase()};var ye=function l(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var f=arguments[0];this.init(f)}else if(arguments[0]instanceof l){var y=arguments[0];this.init(y)}else if(typeof arguments[0]=="string"){var x=arguments[0];l.call(this,l.parse(x))}}else if(arguments.length===2){var O=arguments[0],U=arguments[1];this.init(O,U)}},Je={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};ye.prototype.le=function(l){return(this._hi<l._hi||this._hi===l._hi)&&this._lo<=l._lo},ye.prototype.extractSignificantDigits=function(l,f){var y=this.abs(),x=ye.magnitude(y._hi),O=ye.TEN.pow(x);(y=y.divide(O)).gt(ye.TEN)?(y=y.divide(ye.TEN),x+=1):y.lt(ye.ONE)&&(y=y.multiply(ye.TEN),x-=1);for(var U=x+1,H=new ve,me=ye.MAX_PRINT_DIGITS-1,je=0;je<=me;je++){l&&je===U&&H.append(".");var nt=Math.trunc(y._hi);if(nt<0)break;var wt=!1,kt=0;nt>9?(wt=!0,kt="9"):kt="0"+nt,H.append(kt),y=y.subtract(ye.valueOf(nt)).multiply(ye.TEN),wt&&y.selfAdd(ye.TEN);var ar=!0,nr=ye.magnitude(y._hi);if(nr<0&&Math.abs(nr)>=me-je&&(ar=!1),!ar)break}return f[0]=x,H.toString()},ye.prototype.sqr=function(){return this.multiply(this)},ye.prototype.doubleValue=function(){return this._hi+this._lo},ye.prototype.subtract=function(){if(arguments[0]instanceof ye){var l=arguments[0];return this.add(l.negate())}if(typeof arguments[0]=="number"){var f=arguments[0];return this.add(-f)}},ye.prototype.equals=function(){if(arguments.length===1){var l=arguments[0];return this._hi===l._hi&&this._lo===l._lo}},ye.prototype.isZero=function(){return this._hi===0&&this._lo===0},ye.prototype.selfSubtract=function(){if(arguments[0]instanceof ye){var l=arguments[0];return this.isNaN()?this:this.selfAdd(-l._hi,-l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0];return this.isNaN()?this:this.selfAdd(-f,0)}},ye.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},ye.prototype.min=function(l){return this.le(l)?this:l},ye.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof ye){var l=arguments[0];return this.selfDivide(l._hi,l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0];return this.selfDivide(f,0)}}else if(arguments.length===2){var y=arguments[0],x=arguments[1],O=null,U=null,H=null,me=null,je=null,nt=null,wt=null,kt=null;return je=this._hi/y,nt=ye.SPLIT*je,O=nt-je,kt=ye.SPLIT*y,O=nt-O,U=je-O,H=kt-y,wt=je*y,H=kt-H,me=y-H,kt=O*H-wt+O*me+U*H+U*me,nt=(this._hi-wt-kt+this._lo-je*x)/y,kt=je+nt,this._hi=kt,this._lo=je-kt+nt,this}},ye.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},ye.prototype.divide=function(){if(arguments[0]instanceof ye){var l=arguments[0],f=null,y=null,x=null,O=null,U=null,H=null,me=null,je=null;return y=(U=this._hi/l._hi)-(f=(H=ye.SPLIT*U)-(f=H-U)),je=f*(x=(je=ye.SPLIT*l._hi)-(x=je-l._hi))-(me=U*l._hi)+f*(O=l._hi-x)+y*x+y*O,H=(this._hi-me-je+this._lo-U*l._lo)/l._hi,new ye(je=U+H,U-je+H)}if(typeof arguments[0]=="number"){var nt=arguments[0];return J.isNaN(nt)?ye.createNaN():ye.copy(this).selfDivide(nt,0)}},ye.prototype.ge=function(l){return(this._hi>l._hi||this._hi===l._hi)&&this._lo>=l._lo},ye.prototype.pow=function(l){if(l===0)return ye.valueOf(1);var f=new ye(this),y=ye.valueOf(1),x=Math.abs(l);if(x>1)for(;x>0;)x%2==1&&y.selfMultiply(f),(x/=2)>0&&(f=f.sqr());else y=f;return l<0?y.reciprocal():y},ye.prototype.ceil=function(){if(this.isNaN())return ye.NaN;var l=Math.ceil(this._hi),f=0;return l===this._hi&&(f=Math.ceil(this._lo)),new ye(l,f)},ye.prototype.compareTo=function(l){var f=l;return this._hi<f._hi?-1:this._hi>f._hi?1:this._lo<f._lo?-1:this._lo>f._lo?1:0},ye.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},ye.prototype.setValue=function(){if(arguments[0]instanceof ye){var l=arguments[0];return this.init(l),this}if(typeof arguments[0]=="number"){var f=arguments[0];return this.init(f),this}},ye.prototype.max=function(l){return this.ge(l)?this:l},ye.prototype.sqrt=function(){if(this.isZero())return ye.valueOf(0);if(this.isNegative())return ye.NaN;var l=1/Math.sqrt(this._hi),f=this._hi*l,y=ye.valueOf(f),x=this.subtract(y.sqr())._hi*(.5*l);return y.add(x)},ye.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof ye){var l=arguments[0];return this.selfAdd(l._hi,l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0],y=null,x=null,O=null,U=null,H=null,me=null;return O=this._hi+f,H=O-this._hi,U=O-H,U=f-H+(this._hi-U),me=U+this._lo,y=O+me,x=me+(O-y),this._hi=y+x,this._lo=x+(y-this._hi),this}}else if(arguments.length===2){var je=arguments[0],nt=arguments[1],wt=null,kt=null,ar=null,nr=null,Tr=null,Br=null,ri=null;nr=this._hi+je,kt=this._lo+nt,Tr=nr-(Br=nr-this._hi),ar=kt-(ri=kt-this._lo);var ba=(wt=nr+(Br=(Tr=je-Br+(this._hi-Tr))+kt))+(Br=(ar=nt-ri+(this._lo-ar))+(Br+(nr-wt))),d=Br+(wt-ba);return this._hi=ba,this._lo=d,this}},ye.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof ye){var l=arguments[0];return this.selfMultiply(l._hi,l._lo)}if(typeof arguments[0]=="number"){var f=arguments[0];return this.selfMultiply(f,0)}}else if(arguments.length===2){var y=arguments[0],x=arguments[1],O=null,U=null,H=null,me=null,je=null,nt=null;O=(je=ye.SPLIT*this._hi)-this._hi,nt=ye.SPLIT*y,O=je-O,U=this._hi-O,H=nt-y;var wt=(je=this._hi*y)+(nt=O*(H=nt-H)-je+O*(me=y-H)+U*H+U*me+(this._hi*x+this._lo*y)),kt=nt+(O=je-wt);return this._hi=wt,this._lo=kt,this}},ye.prototype.selfSqr=function(){return this.selfMultiply(this)},ye.prototype.floor=function(){if(this.isNaN())return ye.NaN;var l=Math.floor(this._hi),f=0;return l===this._hi&&(f=Math.floor(this._lo)),new ye(l,f)},ye.prototype.negate=function(){return this.isNaN()?this:new ye(-this._hi,-this._lo)},ye.prototype.clone=function(){},ye.prototype.multiply=function(){if(arguments[0]instanceof ye){var l=arguments[0];return l.isNaN()?ye.createNaN():ye.copy(this).selfMultiply(l)}if(typeof arguments[0]=="number"){var f=arguments[0];return J.isNaN(f)?ye.createNaN():ye.copy(this).selfMultiply(f,0)}},ye.prototype.isNaN=function(){return J.isNaN(this._hi)},ye.prototype.intValue=function(){return Math.trunc(this._hi)},ye.prototype.toString=function(){var l=ye.magnitude(this._hi);return l>=-3&&l<=20?this.toStandardNotation():this.toSciNotation()},ye.prototype.toStandardNotation=function(){var l=this.getSpecialNumberString();if(l!==null)return l;var f=new Array(1).fill(null),y=this.extractSignificantDigits(!0,f),x=f[0]+1,O=y;if(y.charAt(0)===".")O="0"+y;else if(x<0)O="0."+ye.stringOfChar("0",-x)+y;else if(y.indexOf(".")===-1){var U=x-y.length;O=y+ye.stringOfChar("0",U)+".0"}return this.isNegative()?"-"+O:O},ye.prototype.reciprocal=function(){var l=null,f=null,y=null,x=null,O=null,U=null,H=null,me=null;f=(O=1/this._hi)-(l=(U=ye.SPLIT*O)-(l=U-O)),y=(me=ye.SPLIT*this._hi)-this._hi;var je=O+(U=(1-(H=O*this._hi)-(me=l*(y=me-y)-H+l*(x=this._hi-y)+f*y+f*x)-O*this._lo)/this._hi);return new ye(je,O-je+U)},ye.prototype.toSciNotation=function(){if(this.isZero())return ye.SCI_NOT_ZERO;var l=this.getSpecialNumberString();if(l!==null)return l;var f=new Array(1).fill(null),y=this.extractSignificantDigits(!1,f),x=ye.SCI_NOT_EXPONENT_CHAR+f[0];if(y.charAt(0)==="0")throw new Error("Found leading zero: "+y);var O="";y.length>1&&(O=y.substring(1));var U=y.charAt(0)+"."+O;return this.isNegative()?"-"+U+x:U+x},ye.prototype.abs=function(){return this.isNaN()?ye.NaN:this.isNegative()?this.negate():new ye(this)},ye.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},ye.prototype.lt=function(l){return(this._hi<l._hi||this._hi===l._hi)&&this._lo<l._lo},ye.prototype.add=function(){if(arguments[0]instanceof ye){var l=arguments[0];return ye.copy(this).selfAdd(l)}if(typeof arguments[0]=="number"){var f=arguments[0];return ye.copy(this).selfAdd(f)}},ye.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var l=arguments[0];this._hi=l,this._lo=0}else if(arguments[0]instanceof ye){var f=arguments[0];this._hi=f._hi,this._lo=f._lo}}else if(arguments.length===2){var y=arguments[0],x=arguments[1];this._hi=y,this._lo=x}},ye.prototype.gt=function(l){return(this._hi>l._hi||this._hi===l._hi)&&this._lo>l._lo},ye.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},ye.prototype.trunc=function(){return this.isNaN()?ye.NaN:this.isPositive()?this.floor():this.ceil()},ye.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},ye.prototype.interfaces_=function(){return[n,pe,ne]},ye.prototype.getClass=function(){return ye},ye.sqr=function(l){return ye.valueOf(l).selfMultiply(l)},ye.valueOf=function(){if(typeof arguments[0]=="string"){var l=arguments[0];return ye.parse(l)}if(typeof arguments[0]=="number"){var f=arguments[0];return new ye(f)}},ye.sqrt=function(l){return ye.valueOf(l).sqrt()},ye.parse=function(l){for(var f=0,y=l.length;ze.isWhitespace(l.charAt(f));)f++;var x=!1;if(f<y){var O=l.charAt(f);O!=="-"&&O!=="+"||(f++,O==="-"&&(x=!0))}for(var U=new ye,H=0,me=0,je=0;!(f>=y);){var nt=l.charAt(f);if(f++,ze.isDigit(nt)){var wt=nt-"0";U.selfMultiply(ye.TEN),U.selfAdd(wt),H++}else{if(nt!=="."){if(nt==="e"||nt==="E"){var kt=l.substring(f);try{je=de.parseInt(kt)}catch(ri){throw ri instanceof Error?new Error("Invalid exponent "+kt+" in string "+l):ri}break}throw new Error("Unexpected character '"+nt+"' at position "+f+" in string "+l)}me=H}}var ar=U,nr=H-me-je;if(nr===0)ar=U;else if(nr>0){var Tr=ye.TEN.pow(nr);ar=U.divide(Tr)}else if(nr<0){var Br=ye.TEN.pow(-nr);ar=U.multiply(Br)}return x?ar.negate():ar},ye.createNaN=function(){return new ye(J.NaN,J.NaN)},ye.copy=function(l){return new ye(l)},ye.magnitude=function(l){var f=Math.abs(l),y=Math.log(f)/Math.log(10),x=Math.trunc(Math.floor(y));return 10*Math.pow(10,x)<=f&&(x+=1),x},ye.stringOfChar=function(l,f){for(var y=new ve,x=0;x<f;x++)y.append(l);return y.toString()},Je.PI.get=function(){return new ye(3.141592653589793,12246467991473532e-32)},Je.TWO_PI.get=function(){return new ye(6.283185307179586,24492935982947064e-32)},Je.PI_2.get=function(){return new ye(1.5707963267948966,6123233995736766e-32)},Je.E.get=function(){return new ye(2.718281828459045,14456468917292502e-32)},Je.NaN.get=function(){return new ye(J.NaN,J.NaN)},Je.EPS.get=function(){return 123259516440783e-46},Je.SPLIT.get=function(){return 134217729},Je.MAX_PRINT_DIGITS.get=function(){return 32},Je.TEN.get=function(){return ye.valueOf(10)},Je.ONE.get=function(){return ye.valueOf(1)},Je.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Je.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(ye,Je);var Qe=function(){},yt={DP_SAFE_EPSILON:{configurable:!0}};Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe},Qe.orientationIndex=function(l,f,y){var x=Qe.orientationIndexFilter(l,f,y);if(x<=1)return x;var O=ye.valueOf(f.x).selfAdd(-l.x),U=ye.valueOf(f.y).selfAdd(-l.y),H=ye.valueOf(y.x).selfAdd(-f.x),me=ye.valueOf(y.y).selfAdd(-f.y);return O.selfMultiply(me).selfSubtract(U.selfMultiply(H)).signum()},Qe.signOfDet2x2=function(l,f,y,x){return l.multiply(x).selfSubtract(f.multiply(y)).signum()},Qe.intersection=function(l,f,y,x){var O=ye.valueOf(x.y).selfSubtract(y.y).selfMultiply(ye.valueOf(f.x).selfSubtract(l.x)),U=ye.valueOf(x.x).selfSubtract(y.x).selfMultiply(ye.valueOf(f.y).selfSubtract(l.y)),H=O.subtract(U),me=ye.valueOf(x.x).selfSubtract(y.x).selfMultiply(ye.valueOf(l.y).selfSubtract(y.y)),je=ye.valueOf(x.y).selfSubtract(y.y).selfMultiply(ye.valueOf(l.x).selfSubtract(y.x)),nt=me.subtract(je).selfDivide(H).doubleValue(),wt=ye.valueOf(l.x).selfAdd(ye.valueOf(f.x).selfSubtract(l.x).selfMultiply(nt)).doubleValue(),kt=ye.valueOf(f.x).selfSubtract(l.x).selfMultiply(ye.valueOf(l.y).selfSubtract(y.y)),ar=ye.valueOf(f.y).selfSubtract(l.y).selfMultiply(ye.valueOf(l.x).selfSubtract(y.x)),nr=kt.subtract(ar).selfDivide(H).doubleValue(),Tr=ye.valueOf(y.y).selfAdd(ye.valueOf(x.y).selfSubtract(y.y).selfMultiply(nr)).doubleValue();return new ie(wt,Tr)},Qe.orientationIndexFilter=function(l,f,y){var x=null,O=(l.x-y.x)*(f.y-y.y),U=(l.y-y.y)*(f.x-y.x),H=O-U;if(O>0){if(U<=0)return Qe.signum(H);x=O+U}else{if(!(O<0)||U>=0)return Qe.signum(H);x=-O-U}var me=Qe.DP_SAFE_EPSILON*x;return H>=me||-H>=me?Qe.signum(H):2},Qe.signum=function(l){return l>0?1:l<0?-1:0},yt.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Qe,yt);var _t=function(){},Tt={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Tt.X.get=function(){return 0},Tt.Y.get=function(){return 1},Tt.Z.get=function(){return 2},Tt.M.get=function(){return 3},_t.prototype.setOrdinate=function(l,f,y){},_t.prototype.size=function(){},_t.prototype.getOrdinate=function(l,f){},_t.prototype.getCoordinate=function(){},_t.prototype.getCoordinateCopy=function(l){},_t.prototype.getDimension=function(){},_t.prototype.getX=function(l){},_t.prototype.clone=function(){},_t.prototype.expandEnvelope=function(l){},_t.prototype.copy=function(){},_t.prototype.getY=function(l){},_t.prototype.toCoordinateArray=function(){},_t.prototype.interfaces_=function(){return[ne]},_t.prototype.getClass=function(){return _t},Object.defineProperties(_t,Tt);var Yt=function(){},It=function(l){function f(){l.call(this,"Projective point not representable on the Cartesian plane.")}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Yt),Ut=function(){};Ut.arraycopy=function(l,f,y,x,O){for(var U=0,H=f;H<f+O;H++)y[x+U]=l[H],U++},Ut.getProperty=function(l){return{"line.separator":`
`}[l]};var Or=function l(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var f=arguments[0];this.x=f.x,this.y=f.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var y=arguments[0],x=arguments[1];this.x=y,this.y=x,this.w=1}else if(arguments[0]instanceof l&&arguments[1]instanceof l){var O=arguments[0],U=arguments[1];this.x=O.y*U.w-U.y*O.w,this.y=U.x*O.w-O.x*U.w,this.w=O.x*U.y-U.x*O.y}else if(arguments[0]instanceof ie&&arguments[1]instanceof ie){var H=arguments[0],me=arguments[1];this.x=H.y-me.y,this.y=me.x-H.x,this.w=H.x*me.y-me.x*H.y}}else if(arguments.length===3){var je=arguments[0],nt=arguments[1],wt=arguments[2];this.x=je,this.y=nt,this.w=wt}else if(arguments.length===4){var kt=arguments[0],ar=arguments[1],nr=arguments[2],Tr=arguments[3],Br=kt.y-ar.y,ri=ar.x-kt.x,ba=kt.x*ar.y-ar.x*kt.y,d=nr.y-Tr.y,b=Tr.x-nr.x,g=nr.x*Tr.y-Tr.x*nr.y;this.x=ri*g-b*ba,this.y=d*ba-Br*g,this.w=Br*b-d*ri}};Or.prototype.getY=function(){var l=this.y/this.w;if(J.isNaN(l)||J.isInfinite(l))throw new It;return l},Or.prototype.getX=function(){var l=this.x/this.w;if(J.isNaN(l)||J.isInfinite(l))throw new It;return l},Or.prototype.getCoordinate=function(){var l=new ie;return l.x=this.getX(),l.y=this.getY(),l},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.intersection=function(l,f,y,x){var O=l.y-f.y,U=f.x-l.x,H=l.x*f.y-f.x*l.y,me=y.y-x.y,je=x.x-y.x,nt=y.x*x.y-x.x*y.y,wt=O*je-me*U,kt=(U*nt-je*H)/wt,ar=(me*H-O*nt)/wt;if(J.isNaN(kt)||J.isInfinite(kt)||J.isNaN(ar)||J.isInfinite(ar))throw new It;return new ie(kt,ar)};var Xt=function l(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof ie){var f=arguments[0];this.init(f.x,f.x,f.y,f.y)}else if(arguments[0]instanceof l){var y=arguments[0];this.init(y)}}else if(arguments.length===2){var x=arguments[0],O=arguments[1];this.init(x.x,O.x,x.y,O.y)}else if(arguments.length===4){var U=arguments[0],H=arguments[1],me=arguments[2],je=arguments[3];this.init(U,H,me,je)}},Ht={serialVersionUID:{configurable:!0}};Xt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Xt.prototype.equals=function(l){if(!(l instanceof Xt))return!1;var f=l;return this.isNull()?f.isNull():this._maxx===f.getMaxX()&&this._maxy===f.getMaxY()&&this._minx===f.getMinX()&&this._miny===f.getMinY()},Xt.prototype.intersection=function(l){if(this.isNull()||l.isNull()||!this.intersects(l))return new Xt;var f=this._minx>l._minx?this._minx:l._minx,y=this._miny>l._miny?this._miny:l._miny,x=this._maxx<l._maxx?this._maxx:l._maxx,O=this._maxy<l._maxy?this._maxy:l._maxy;return new Xt(f,x,y,O)},Xt.prototype.isNull=function(){return this._maxx<this._minx},Xt.prototype.getMaxX=function(){return this._maxx},Xt.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof ie){var l=arguments[0];return this.covers(l.x,l.y)}if(arguments[0]instanceof Xt){var f=arguments[0];return!this.isNull()&&!f.isNull()&&f.getMinX()>=this._minx&&f.getMaxX()<=this._maxx&&f.getMinY()>=this._miny&&f.getMaxY()<=this._maxy}}else if(arguments.length===2){var y=arguments[0],x=arguments[1];return!this.isNull()&&y>=this._minx&&y<=this._maxx&&x>=this._miny&&x<=this._maxy}},Xt.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Xt){var l=arguments[0];return!this.isNull()&&!l.isNull()&&!(l._minx>this._maxx||l._maxx<this._minx||l._miny>this._maxy||l._maxy<this._miny)}if(arguments[0]instanceof ie){var f=arguments[0];return this.intersects(f.x,f.y)}}else if(arguments.length===2){var y=arguments[0],x=arguments[1];return!this.isNull()&&!(y>this._maxx||y<this._minx||x>this._maxy||x<this._miny)}},Xt.prototype.getMinY=function(){return this._miny},Xt.prototype.getMinX=function(){return this._minx},Xt.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof ie){var l=arguments[0];this.expandToInclude(l.x,l.y)}else if(arguments[0]instanceof Xt){var f=arguments[0];if(f.isNull())return null;this.isNull()?(this._minx=f.getMinX(),this._maxx=f.getMaxX(),this._miny=f.getMinY(),this._maxy=f.getMaxY()):(f._minx<this._minx&&(this._minx=f._minx),f._maxx>this._maxx&&(this._maxx=f._maxx),f._miny<this._miny&&(this._miny=f._miny),f._maxy>this._maxy&&(this._maxy=f._maxy))}}else if(arguments.length===2){var y=arguments[0],x=arguments[1];this.isNull()?(this._minx=y,this._maxx=y,this._miny=x,this._maxy=x):(y<this._minx&&(this._minx=y),y>this._maxx&&(this._maxx=y),x<this._miny&&(this._miny=x),x>this._maxy&&(this._maxy=x))}},Xt.prototype.minExtent=function(){if(this.isNull())return 0;var l=this.getWidth(),f=this.getHeight();return l<f?l:f},Xt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Xt.prototype.compareTo=function(l){var f=l;return this.isNull()?f.isNull()?0:-1:f.isNull()?1:this._minx<f._minx?-1:this._minx>f._minx?1:this._miny<f._miny?-1:this._miny>f._miny?1:this._maxx<f._maxx?-1:this._maxx>f._maxx?1:this._maxy<f._maxy?-1:this._maxy>f._maxy?1:0},Xt.prototype.translate=function(l,f){if(this.isNull())return null;this.init(this.getMinX()+l,this.getMaxX()+l,this.getMinY()+f,this.getMaxY()+f)},Xt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Xt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Xt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Xt.prototype.maxExtent=function(){if(this.isNull())return 0;var l=this.getWidth(),f=this.getHeight();return l>f?l:f},Xt.prototype.expandBy=function(){if(arguments.length===1){var l=arguments[0];this.expandBy(l,l)}else if(arguments.length===2){var f=arguments[0],y=arguments[1];if(this.isNull())return null;this._minx-=f,this._maxx+=f,this._miny-=y,this._maxy+=y,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Xt.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Xt){var l=arguments[0];return this.covers(l)}if(arguments[0]instanceof ie){var f=arguments[0];return this.covers(f)}}else if(arguments.length===2){var y=arguments[0],x=arguments[1];return this.covers(y,x)}},Xt.prototype.centre=function(){return this.isNull()?null:new ie((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Xt.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof ie){var l=arguments[0];this.init(l.x,l.x,l.y,l.y)}else if(arguments[0]instanceof Xt){var f=arguments[0];this._minx=f._minx,this._maxx=f._maxx,this._miny=f._miny,this._maxy=f._maxy}}else if(arguments.length===2){var y=arguments[0],x=arguments[1];this.init(y.x,x.x,y.y,x.y)}else if(arguments.length===4){var O=arguments[0],U=arguments[1],H=arguments[2],me=arguments[3];O<U?(this._minx=O,this._maxx=U):(this._minx=U,this._maxx=O),H<me?(this._miny=H,this._maxy=me):(this._miny=me,this._maxy=H)}},Xt.prototype.getMaxY=function(){return this._maxy},Xt.prototype.distance=function(l){if(this.intersects(l))return 0;var f=0;this._maxx<l._minx?f=l._minx-this._maxx:this._minx>l._maxx&&(f=this._minx-l._maxx);var y=0;return this._maxy<l._miny?y=l._miny-this._maxy:this._miny>l._maxy&&(y=this._miny-l._maxy),f===0?y:y===0?f:Math.sqrt(f*f+y*y)},Xt.prototype.hashCode=function(){var l=17;return l=37*l+ie.hashCode(this._minx),l=37*l+ie.hashCode(this._maxx),l=37*l+ie.hashCode(this._miny),l=37*l+ie.hashCode(this._maxy)},Xt.prototype.interfaces_=function(){return[pe,n]},Xt.prototype.getClass=function(){return Xt},Xt.intersects=function(){if(arguments.length===3){var l=arguments[0],f=arguments[1],y=arguments[2];return y.x>=(l.x<f.x?l.x:f.x)&&y.x<=(l.x>f.x?l.x:f.x)&&y.y>=(l.y<f.y?l.y:f.y)&&y.y<=(l.y>f.y?l.y:f.y)}if(arguments.length===4){var x=arguments[0],O=arguments[1],U=arguments[2],H=arguments[3],me=Math.min(U.x,H.x),je=Math.max(U.x,H.x),nt=Math.min(x.x,O.x),wt=Math.max(x.x,O.x);return!(nt>je)&&!(wt<me)&&(me=Math.min(U.y,H.y),je=Math.max(U.y,H.y),nt=Math.min(x.y,O.y),wt=Math.max(x.y,O.y),!(nt>je)&&!(wt<me))}},Ht.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Xt,Ht);var xr={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Lr=function(l){this.geometryFactory=l||new dn};Lr.prototype.read=function(l){var f,y,x;l=l.replace(/[\n\r]/g," ");var O=xr.typeStr.exec(l);if(l.search("EMPTY")!==-1&&((O=xr.emptyTypeStr.exec(l))[2]=void 0),O&&(y=O[1].toLowerCase(),x=O[2],ea[y]&&(f=ea[y].apply(this,[x]))),f===void 0)throw new Error("Could not parse WKT "+l);return f},Lr.prototype.write=function(l){return this.extractGeometry(l)},Lr.prototype.extractGeometry=function(l){var f=l.getGeometryType().toLowerCase();if(!Xr[f])return null;var y=f.toUpperCase();return l.isEmpty()?y+" EMPTY":y+"("+Xr[f].apply(this,[l])+")"};var Xr={coordinate:function(l){return l.x+" "+l.y},point:function(l){return Xr.coordinate.call(this,l._coordinates._coordinates[0])},multipoint:function(l){for(var f=[],y=0,x=l._geometries.length;y<x;++y)f.push("("+Xr.point.apply(this,[l._geometries[y]])+")");return f.join(",")},linestring:function(l){for(var f=[],y=0,x=l._points._coordinates.length;y<x;++y)f.push(Xr.coordinate.apply(this,[l._points._coordinates[y]]));return f.join(",")},linearring:function(l){for(var f=[],y=0,x=l._points._coordinates.length;y<x;++y)f.push(Xr.coordinate.apply(this,[l._points._coordinates[y]]));return f.join(",")},multilinestring:function(l){for(var f=[],y=0,x=l._geometries.length;y<x;++y)f.push("("+Xr.linestring.apply(this,[l._geometries[y]])+")");return f.join(",")},polygon:function(l){var f=[];f.push("("+Xr.linestring.apply(this,[l._shell])+")");for(var y=0,x=l._holes.length;y<x;++y)f.push("("+Xr.linestring.apply(this,[l._holes[y]])+")");return f.join(",")},multipolygon:function(l){for(var f=[],y=0,x=l._geometries.length;y<x;++y)f.push("("+Xr.polygon.apply(this,[l._geometries[y]])+")");return f.join(",")},geometrycollection:function(l){for(var f=[],y=0,x=l._geometries.length;y<x;++y)f.push(this.extractGeometry(l._geometries[y]));return f.join(",")}},ea={point:function(l){if(l===void 0)return this.geometryFactory.createPoint();var f=l.trim().split(xr.spaces);return this.geometryFactory.createPoint(new ie(Number.parseFloat(f[0]),Number.parseFloat(f[1])))},multipoint:function(l){if(l===void 0)return this.geometryFactory.createMultiPoint();for(var f,y=l.trim().split(","),x=[],O=0,U=y.length;O<U;++O)f=y[O].replace(xr.trimParens,"$1"),x.push(ea.point.apply(this,[f]));return this.geometryFactory.createMultiPoint(x)},linestring:function(l){if(l===void 0)return this.geometryFactory.createLineString();for(var f,y=l.trim().split(","),x=[],O=0,U=y.length;O<U;++O)f=y[O].trim().split(xr.spaces),x.push(new ie(Number.parseFloat(f[0]),Number.parseFloat(f[1])));return this.geometryFactory.createLineString(x)},linearring:function(l){if(l===void 0)return this.geometryFactory.createLinearRing();for(var f,y=l.trim().split(","),x=[],O=0,U=y.length;O<U;++O)f=y[O].trim().split(xr.spaces),x.push(new ie(Number.parseFloat(f[0]),Number.parseFloat(f[1])));return this.geometryFactory.createLinearRing(x)},multilinestring:function(l){if(l===void 0)return this.geometryFactory.createMultiLineString();for(var f,y=l.trim().split(xr.parenComma),x=[],O=0,U=y.length;O<U;++O)f=y[O].replace(xr.trimParens,"$1"),x.push(ea.linestring.apply(this,[f]));return this.geometryFactory.createMultiLineString(x)},polygon:function(l){if(l===void 0)return this.geometryFactory.createPolygon();for(var f,y,x,O,U=l.trim().split(xr.parenComma),H=[],me=0,je=U.length;me<je;++me)f=U[me].replace(xr.trimParens,"$1"),y=ea.linestring.apply(this,[f]),x=this.geometryFactory.createLinearRing(y._points),me===0?O=x:H.push(x);return this.geometryFactory.createPolygon(O,H)},multipolygon:function(l){if(l===void 0)return this.geometryFactory.createMultiPolygon();for(var f,y=l.trim().split(xr.doubleParenComma),x=[],O=0,U=y.length;O<U;++O)f=y[O].replace(xr.trimParens,"$1"),x.push(ea.polygon.apply(this,[f]));return this.geometryFactory.createMultiPolygon(x)},geometrycollection:function(l){if(l===void 0)return this.geometryFactory.createGeometryCollection();for(var f=(l=l.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),y=[],x=0,O=f.length;x<O;++x)y.push(this.read(f[x]));return this.geometryFactory.createGeometryCollection(y)}},Mi=function(l){this.parser=new Lr(l)};Mi.prototype.write=function(l){return this.parser.write(l)},Mi.toLineString=function(l,f){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+l.x+" "+l.y+", "+f.x+" "+f.y+" )"};var pt=function(l){function f(y){l.call(this,y),this.name="RuntimeException",this.message=y,this.stack=new l().stack}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f}(Error),Le=function(l){function f(){if(l.call(this),arguments.length===0)l.call(this);else if(arguments.length===1){var y=arguments[0];l.call(this,y)}}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(pt),be=function(){};be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be},be.shouldNeverReachHere=function(){if(arguments.length===0)be.shouldNeverReachHere(null);else if(arguments.length===1){var l=arguments[0];throw new Le("Should never reach here"+(l!==null?": "+l:""))}},be.isTrue=function(){var l,f;if(arguments.length===1)l=arguments[0],be.isTrue(l,null);else if(arguments.length===2&&(l=arguments[0],f=arguments[1],!l))throw f===null?new Le:new Le(f)},be.equals=function(){var l,f,y;if(arguments.length===2)l=arguments[0],f=arguments[1],be.equals(l,f,null);else if(arguments.length===3&&(l=arguments[0],f=arguments[1],y=arguments[2],!f.equals(l)))throw new Le("Expected "+l+" but encountered "+f+(y!==null?": "+y:""))};var Oe=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ie,this._intPt[1]=new ie,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ze={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Oe.prototype.getIndexAlongSegment=function(l,f){return this.computeIntLineIndex(),this._intLineIndex[l][f]},Oe.prototype.getTopologySummary=function(){var l=new ve;return this.isEndPoint()&&l.append(" endpoint"),this._isProper&&l.append(" proper"),this.isCollinear()&&l.append(" collinear"),l.toString()},Oe.prototype.computeIntersection=function(l,f,y,x){this._inputLines[0][0]=l,this._inputLines[0][1]=f,this._inputLines[1][0]=y,this._inputLines[1][1]=x,this._result=this.computeIntersect(l,f,y,x)},Oe.prototype.getIntersectionNum=function(){return this._result},Oe.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var l=arguments[0];this.getEdgeDistance(l,0)>this.getEdgeDistance(l,1)?(this._intLineIndex[l][0]=0,this._intLineIndex[l][1]=1):(this._intLineIndex[l][0]=1,this._intLineIndex[l][1]=0)}},Oe.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Oe.prototype.setPrecisionModel=function(l){this._precisionModel=l},Oe.prototype.isInteriorIntersection=function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var l=arguments[0],f=0;f<this._result;f++)if(!this._intPt[f].equals2D(this._inputLines[l][0])&&!this._intPt[f].equals2D(this._inputLines[l][1]))return!0;return!1}},Oe.prototype.getIntersection=function(l){return this._intPt[l]},Oe.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Oe.prototype.hasIntersection=function(){return this._result!==Oe.NO_INTERSECTION},Oe.prototype.getEdgeDistance=function(l,f){return Oe.computeEdgeDistance(this._intPt[f],this._inputLines[l][0],this._inputLines[l][1])},Oe.prototype.isCollinear=function(){return this._result===Oe.COLLINEAR_INTERSECTION},Oe.prototype.toString=function(){return Mi.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Mi.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Oe.prototype.getEndpoint=function(l,f){return this._inputLines[l][f]},Oe.prototype.isIntersection=function(l){for(var f=0;f<this._result;f++)if(this._intPt[f].equals2D(l))return!0;return!1},Oe.prototype.getIntersectionAlongSegment=function(l,f){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[l][f]]},Oe.prototype.interfaces_=function(){return[]},Oe.prototype.getClass=function(){return Oe},Oe.computeEdgeDistance=function(l,f,y){var x=Math.abs(y.x-f.x),O=Math.abs(y.y-f.y),U=-1;if(l.equals(f))U=0;else if(l.equals(y))U=x>O?x:O;else{var H=Math.abs(l.x-f.x),me=Math.abs(l.y-f.y);(U=x>O?H:me)!==0||l.equals(f)||(U=Math.max(H,me))}return be.isTrue(!(U===0&&!l.equals(f)),"Bad distance calculation"),U},Oe.nonRobustComputeEdgeDistance=function(l,f,y){var x=l.x-f.x,O=l.y-f.y,U=Math.sqrt(x*x+O*O);return be.isTrue(!(U===0&&!l.equals(f)),"Invalid distance calculation"),U},Ze.DONT_INTERSECT.get=function(){return 0},Ze.DO_INTERSECT.get=function(){return 1},Ze.COLLINEAR.get=function(){return 2},Ze.NO_INTERSECTION.get=function(){return 0},Ze.POINT_INTERSECTION.get=function(){return 1},Ze.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Oe,Ze);var st=function(l){function f(){l.apply(this,arguments)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.isInSegmentEnvelopes=function(y){var x=new Xt(this._inputLines[0][0],this._inputLines[0][1]),O=new Xt(this._inputLines[1][0],this._inputLines[1][1]);return x.contains(y)&&O.contains(y)},f.prototype.computeIntersection=function(){if(arguments.length!==3)return l.prototype.computeIntersection.apply(this,arguments);var y=arguments[0],x=arguments[1],O=arguments[2];if(this._isProper=!1,Xt.intersects(x,O,y)&&mt.orientationIndex(x,O,y)===0&&mt.orientationIndex(O,x,y)===0)return this._isProper=!0,(y.equals(x)||y.equals(O))&&(this._isProper=!1),this._result=l.POINT_INTERSECTION,null;this._result=l.NO_INTERSECTION},f.prototype.normalizeToMinimum=function(y,x,O,U,H){H.x=this.smallestInAbsValue(y.x,x.x,O.x,U.x),H.y=this.smallestInAbsValue(y.y,x.y,O.y,U.y),y.x-=H.x,y.y-=H.y,x.x-=H.x,x.y-=H.y,O.x-=H.x,O.y-=H.y,U.x-=H.x,U.y-=H.y},f.prototype.safeHCoordinateIntersection=function(y,x,O,U){var H=null;try{H=Or.intersection(y,x,O,U)}catch(me){if(!(me instanceof It))throw me;H=f.nearestEndpoint(y,x,O,U)}return H},f.prototype.intersection=function(y,x,O,U){var H=this.intersectionWithNormalization(y,x,O,U);return this.isInSegmentEnvelopes(H)||(H=new ie(f.nearestEndpoint(y,x,O,U))),this._precisionModel!==null&&this._precisionModel.makePrecise(H),H},f.prototype.smallestInAbsValue=function(y,x,O,U){var H=y,me=Math.abs(H);return Math.abs(x)<me&&(H=x,me=Math.abs(x)),Math.abs(O)<me&&(H=O,me=Math.abs(O)),Math.abs(U)<me&&(H=U),H},f.prototype.checkDD=function(y,x,O,U,H){var me=Qe.intersection(y,x,O,U),je=this.isInSegmentEnvelopes(me);Ut.out.println("DD in env = "+je+"  --------------------- "+me),H.distance(me)>1e-4&&Ut.out.println("Distance = "+H.distance(me))},f.prototype.intersectionWithNormalization=function(y,x,O,U){var H=new ie(y),me=new ie(x),je=new ie(O),nt=new ie(U),wt=new ie;this.normalizeToEnvCentre(H,me,je,nt,wt);var kt=this.safeHCoordinateIntersection(H,me,je,nt);return kt.x+=wt.x,kt.y+=wt.y,kt},f.prototype.computeCollinearIntersection=function(y,x,O,U){var H=Xt.intersects(y,x,O),me=Xt.intersects(y,x,U),je=Xt.intersects(O,U,y),nt=Xt.intersects(O,U,x);return H&&me?(this._intPt[0]=O,this._intPt[1]=U,l.COLLINEAR_INTERSECTION):je&&nt?(this._intPt[0]=y,this._intPt[1]=x,l.COLLINEAR_INTERSECTION):H&&je?(this._intPt[0]=O,this._intPt[1]=y,!O.equals(y)||me||nt?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):H&&nt?(this._intPt[0]=O,this._intPt[1]=x,!O.equals(x)||me||je?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):me&&je?(this._intPt[0]=U,this._intPt[1]=y,!U.equals(y)||H||nt?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):me&&nt?(this._intPt[0]=U,this._intPt[1]=x,!U.equals(x)||H||je?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):l.NO_INTERSECTION},f.prototype.normalizeToEnvCentre=function(y,x,O,U,H){var me=y.x<x.x?y.x:x.x,je=y.y<x.y?y.y:x.y,nt=y.x>x.x?y.x:x.x,wt=y.y>x.y?y.y:x.y,kt=O.x<U.x?O.x:U.x,ar=O.y<U.y?O.y:U.y,nr=O.x>U.x?O.x:U.x,Tr=O.y>U.y?O.y:U.y,Br=((me>kt?me:kt)+(nt<nr?nt:nr))/2,ri=((je>ar?je:ar)+(wt<Tr?wt:Tr))/2;H.x=Br,H.y=ri,y.x-=H.x,y.y-=H.y,x.x-=H.x,x.y-=H.y,O.x-=H.x,O.y-=H.y,U.x-=H.x,U.y-=H.y},f.prototype.computeIntersect=function(y,x,O,U){if(this._isProper=!1,!Xt.intersects(y,x,O,U))return l.NO_INTERSECTION;var H=mt.orientationIndex(y,x,O),me=mt.orientationIndex(y,x,U);if(H>0&&me>0||H<0&&me<0)return l.NO_INTERSECTION;var je=mt.orientationIndex(O,U,y),nt=mt.orientationIndex(O,U,x);return je>0&&nt>0||je<0&&nt<0?l.NO_INTERSECTION:H===0&&me===0&&je===0&&nt===0?this.computeCollinearIntersection(y,x,O,U):(H===0||me===0||je===0||nt===0?(this._isProper=!1,y.equals2D(O)||y.equals2D(U)?this._intPt[0]=y:x.equals2D(O)||x.equals2D(U)?this._intPt[0]=x:H===0?this._intPt[0]=new ie(O):me===0?this._intPt[0]=new ie(U):je===0?this._intPt[0]=new ie(y):nt===0&&(this._intPt[0]=new ie(x))):(this._isProper=!0,this._intPt[0]=this.intersection(y,x,O,U)),l.POINT_INTERSECTION)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f.nearestEndpoint=function(y,x,O,U){var H=y,me=mt.distancePointLine(y,O,U),je=mt.distancePointLine(x,O,U);return je<me&&(me=je,H=x),(je=mt.distancePointLine(O,y,x))<me&&(me=je,H=O),(je=mt.distancePointLine(U,y,x))<me&&(me=je,H=U),H},f}(Oe),Pt=function(){};Pt.prototype.interfaces_=function(){return[]},Pt.prototype.getClass=function(){return Pt},Pt.orientationIndex=function(l,f,y){var x=f.x-l.x,O=f.y-l.y,U=y.x-f.x,H=y.y-f.y;return Pt.signOfDet2x2(x,O,U,H)},Pt.signOfDet2x2=function(l,f,y,x){var O=null,U=null,H=null;if(O=1,l===0||x===0)return f===0||y===0?0:f>0?y>0?-O:O:y>0?O:-O;if(f===0||y===0)return x>0?l>0?O:-O:l>0?-O:O;if(f>0?x>0?f<=x||(O=-O,U=l,l=y,y=U,U=f,f=x,x=U):f<=-x?(O=-O,y=-y,x=-x):(U=l,l=-y,y=U,U=f,f=-x,x=U):x>0?-f<=x?(O=-O,l=-l,f=-f):(U=-l,l=y,y=U,U=-f,f=x,x=U):f>=x?(l=-l,f=-f,y=-y,x=-x):(O=-O,U=-l,l=-y,y=U,U=-f,f=-x,x=U),l>0){if(!(y>0)||!(l<=y))return O}else{if(y>0||!(l>=y))return-O;O=-O,l=-l,y=-y}for(;;){if(H=Math.floor(y/l),y-=H*l,(x-=H*f)<0)return-O;if(x>f)return O;if(l>y+y){if(f<x+x)return O}else{if(f>x+x)return-O;y=l-y,x=f-x,O=-O}if(x===0)return y===0?0:-O;if(y===0||(H=Math.floor(l/y),l-=H*y,(f-=H*x)<0))return O;if(f>x)return-O;if(y>l+l){if(x<f+f)return-O}else{if(x>f+f)return O;l=y-l,f=x-f,O=-O}if(f===0)return l===0?0:O;if(l===0)return-O}};var Rt=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var l=arguments[0];this._p=l};Rt.prototype.countSegment=function(l,f){if(l.x<this._p.x&&f.x<this._p.x)return null;if(this._p.x===f.x&&this._p.y===f.y)return this._isPointOnSegment=!0,null;if(l.y===this._p.y&&f.y===this._p.y){var y=l.x,x=f.x;return y>x&&(y=f.x,x=l.x),this._p.x>=y&&this._p.x<=x&&(this._isPointOnSegment=!0),null}if(l.y>this._p.y&&f.y<=this._p.y||f.y>this._p.y&&l.y<=this._p.y){var O=l.x-this._p.x,U=l.y-this._p.y,H=f.x-this._p.x,me=f.y-this._p.y,je=Pt.signOfDet2x2(O,U,H,me);if(je===0)return this._isPointOnSegment=!0,null;me<U&&(je=-je),je>0&&this._crossingCount++}},Rt.prototype.isPointInPolygon=function(){return this.getLocation()!==ae.EXTERIOR},Rt.prototype.getLocation=function(){return this._isPointOnSegment?ae.BOUNDARY:this._crossingCount%2==1?ae.INTERIOR:ae.EXTERIOR},Rt.prototype.isOnSegment=function(){return this._isPointOnSegment},Rt.prototype.interfaces_=function(){return[]},Rt.prototype.getClass=function(){return Rt},Rt.locatePointInRing=function(){if(arguments[0]instanceof ie&&Q(arguments[1],_t)){for(var l=arguments[0],f=arguments[1],y=new Rt(l),x=new ie,O=new ie,U=1;U<f.size();U++)if(f.getCoordinate(U,x),f.getCoordinate(U-1,O),y.countSegment(x,O),y.isOnSegment())return y.getLocation();return y.getLocation()}if(arguments[0]instanceof ie&&arguments[1]instanceof Array){for(var H=arguments[0],me=arguments[1],je=new Rt(H),nt=1;nt<me.length;nt++){var wt=me[nt],kt=me[nt-1];if(je.countSegment(wt,kt),je.isOnSegment())return je.getLocation()}return je.getLocation()}};var mt=function(){},Nr={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};mt.prototype.interfaces_=function(){return[]},mt.prototype.getClass=function(){return mt},mt.orientationIndex=function(l,f,y){return Qe.orientationIndex(l,f,y)},mt.signedArea=function(){if(arguments[0]instanceof Array){var l=arguments[0];if(l.length<3)return 0;for(var f=0,y=l[0].x,x=1;x<l.length-1;x++){var O=l[x].x-y,U=l[x+1].y;f+=O*(l[x-1].y-U)}return f/2}if(Q(arguments[0],_t)){var H=arguments[0],me=H.size();if(me<3)return 0;var je=new ie,nt=new ie,wt=new ie;H.getCoordinate(0,nt),H.getCoordinate(1,wt);var kt=nt.x;wt.x-=kt;for(var ar=0,nr=1;nr<me-1;nr++)je.y=nt.y,nt.x=wt.x,nt.y=wt.y,H.getCoordinate(nr+1,wt),wt.x-=kt,ar+=nt.x*(je.y-wt.y);return ar/2}},mt.distanceLineLine=function(l,f,y,x){if(l.equals(f))return mt.distancePointLine(l,y,x);if(y.equals(x))return mt.distancePointLine(x,l,f);var O=!1;if(Xt.intersects(l,f,y,x)){var U=(f.x-l.x)*(x.y-y.y)-(f.y-l.y)*(x.x-y.x);if(U===0)O=!0;else{var H=(l.y-y.y)*(x.x-y.x)-(l.x-y.x)*(x.y-y.y),me=((l.y-y.y)*(f.x-l.x)-(l.x-y.x)*(f.y-l.y))/U,je=H/U;(je<0||je>1||me<0||me>1)&&(O=!0)}}else O=!0;return O?te.min(mt.distancePointLine(l,y,x),mt.distancePointLine(f,y,x),mt.distancePointLine(y,l,f),mt.distancePointLine(x,l,f)):0},mt.isPointInRing=function(l,f){return mt.locatePointInRing(l,f)!==ae.EXTERIOR},mt.computeLength=function(l){var f=l.size();if(f<=1)return 0;var y=0,x=new ie;l.getCoordinate(0,x);for(var O=x.x,U=x.y,H=1;H<f;H++){l.getCoordinate(H,x);var me=x.x,je=x.y,nt=me-O,wt=je-U;y+=Math.sqrt(nt*nt+wt*wt),O=me,U=je}return y},mt.isCCW=function(l){var f=l.length-1;if(f<3)throw new G("Ring has fewer than 4 points, so orientation cannot be determined");for(var y=l[0],x=0,O=1;O<=f;O++){var U=l[O];U.y>y.y&&(y=U,x=O)}var H=x;do(H-=1)<0&&(H=f);while(l[H].equals2D(y)&&H!==x);var me=x;do me=(me+1)%f;while(l[me].equals2D(y)&&me!==x);var je=l[H],nt=l[me];if(je.equals2D(y)||nt.equals2D(y)||je.equals2D(nt))return!1;var wt=mt.computeOrientation(je,y,nt),kt=!1;return kt=wt===0?je.x>nt.x:wt>0,kt},mt.locatePointInRing=function(l,f){return Rt.locatePointInRing(l,f)},mt.distancePointLinePerpendicular=function(l,f,y){var x=(y.x-f.x)*(y.x-f.x)+(y.y-f.y)*(y.y-f.y),O=((f.y-l.y)*(y.x-f.x)-(f.x-l.x)*(y.y-f.y))/x;return Math.abs(O)*Math.sqrt(x)},mt.computeOrientation=function(l,f,y){return mt.orientationIndex(l,f,y)},mt.distancePointLine=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];if(f.length===0)throw new G("Line array must contain at least one vertex");for(var y=l.distance(f[0]),x=0;x<f.length-1;x++){var O=mt.distancePointLine(l,f[x],f[x+1]);O<y&&(y=O)}return y}if(arguments.length===3){var U=arguments[0],H=arguments[1],me=arguments[2];if(H.x===me.x&&H.y===me.y)return U.distance(H);var je=(me.x-H.x)*(me.x-H.x)+(me.y-H.y)*(me.y-H.y),nt=((U.x-H.x)*(me.x-H.x)+(U.y-H.y)*(me.y-H.y))/je;if(nt<=0)return U.distance(H);if(nt>=1)return U.distance(me);var wt=((H.y-U.y)*(me.x-H.x)-(H.x-U.x)*(me.y-H.y))/je;return Math.abs(wt)*Math.sqrt(je)}},mt.isOnLine=function(l,f){for(var y=new st,x=1;x<f.length;x++){var O=f[x-1],U=f[x];if(y.computeIntersection(l,O,U),y.hasIntersection())return!0}return!1},Nr.CLOCKWISE.get=function(){return-1},Nr.RIGHT.get=function(){return mt.CLOCKWISE},Nr.COUNTERCLOCKWISE.get=function(){return 1},Nr.LEFT.get=function(){return mt.COUNTERCLOCKWISE},Nr.COLLINEAR.get=function(){return 0},Nr.STRAIGHT.get=function(){return mt.COLLINEAR},Object.defineProperties(mt,Nr);var Qr=function(){};Qr.prototype.filter=function(l){},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr};var tr=function(){var l=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=l,this._SRID=l.getSRID()},on={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};tr.prototype.isGeometryCollection=function(){return this.getSortIndex()===tr.SORTINDEX_GEOMETRYCOLLECTION},tr.prototype.getFactory=function(){return this._factory},tr.prototype.getGeometryN=function(l){return this},tr.prototype.getArea=function(){return 0},tr.prototype.isRectangle=function(){return!1},tr.prototype.equals=function(){if(arguments[0]instanceof tr){var l=arguments[0];return l!==null&&this.equalsTopo(l)}if(arguments[0]instanceof Object){var f=arguments[0];if(!(f instanceof tr))return!1;var y=f;return this.equalsExact(y)}},tr.prototype.equalsExact=function(l){return this===l||this.equalsExact(l,0)},tr.prototype.geometryChanged=function(){this.apply(tr.geometryChangedFilter)},tr.prototype.geometryChangedAction=function(){this._envelope=null},tr.prototype.equalsNorm=function(l){return l!==null&&this.norm().equalsExact(l.norm())},tr.prototype.getLength=function(){return 0},tr.prototype.getNumGeometries=function(){return 1},tr.prototype.compareTo=function(){if(arguments.length===1){var l=arguments[0],f=l;return this.getSortIndex()!==f.getSortIndex()?this.getSortIndex()-f.getSortIndex():this.isEmpty()&&f.isEmpty()?0:this.isEmpty()?-1:f.isEmpty()?1:this.compareToSameClass(l)}if(arguments.length===2){var y=arguments[0],x=arguments[1];return this.getSortIndex()!==y.getSortIndex()?this.getSortIndex()-y.getSortIndex():this.isEmpty()&&y.isEmpty()?0:this.isEmpty()?-1:y.isEmpty()?1:this.compareToSameClass(y,x)}},tr.prototype.getUserData=function(){return this._userData},tr.prototype.getSRID=function(){return this._SRID},tr.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},tr.prototype.checkNotGeometryCollection=function(l){if(l.getSortIndex()===tr.SORTINDEX_GEOMETRYCOLLECTION)throw new G("This method does not support GeometryCollection arguments")},tr.prototype.equal=function(l,f,y){return y===0?l.equals(f):l.distance(f)<=y},tr.prototype.norm=function(){var l=this.copy();return l.normalize(),l},tr.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},tr.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Xt(this._envelope)},tr.prototype.setSRID=function(l){this._SRID=l},tr.prototype.setUserData=function(l){this._userData=l},tr.prototype.compare=function(l,f){for(var y=l.iterator(),x=f.iterator();y.hasNext()&&x.hasNext();){var O=y.next(),U=x.next(),H=O.compareTo(U);if(H!==0)return H}return y.hasNext()?1:x.hasNext()?-1:0},tr.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},tr.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===tr.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===tr.SORTINDEX_MULTIPOINT||this.getSortIndex()===tr.SORTINDEX_MULTILINESTRING||this.getSortIndex()===tr.SORTINDEX_MULTIPOLYGON},tr.prototype.interfaces_=function(){return[ne,pe,n]},tr.prototype.getClass=function(){return tr},tr.hasNonEmptyElements=function(l){for(var f=0;f<l.length;f++)if(!l[f].isEmpty())return!0;return!1},tr.hasNullElements=function(l){for(var f=0;f<l.length;f++)if(l[f]===null)return!0;return!1},on.serialVersionUID.get=function(){return 8763622679187377e3},on.SORTINDEX_POINT.get=function(){return 0},on.SORTINDEX_MULTIPOINT.get=function(){return 1},on.SORTINDEX_LINESTRING.get=function(){return 2},on.SORTINDEX_LINEARRING.get=function(){return 3},on.SORTINDEX_MULTILINESTRING.get=function(){return 4},on.SORTINDEX_POLYGON.get=function(){return 5},on.SORTINDEX_MULTIPOLYGON.get=function(){return 6},on.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},on.geometryChangedFilter.get=function(){return Bn},Object.defineProperties(tr,on);var Bn=function(){};Bn.interfaces_=function(){return[Qr]},Bn.filter=function(l){l.geometryChangedAction()};var si=function(){};si.prototype.filter=function(l){},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var $n=function(){},Fn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};$n.prototype.isInBoundary=function(l){},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n},Fn.Mod2BoundaryNodeRule.get=function(){return Vo},Fn.EndPointBoundaryNodeRule.get=function(){return ta},Fn.MultiValentEndPointBoundaryNodeRule.get=function(){return Ea},Fn.MonoValentEndPointBoundaryNodeRule.get=function(){return Go},Fn.MOD2_BOUNDARY_RULE.get=function(){return new Vo},Fn.ENDPOINT_BOUNDARY_RULE.get=function(){return new ta},Fn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ea},Fn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Go},Fn.OGC_SFS_BOUNDARY_RULE.get=function(){return $n.MOD2_BOUNDARY_RULE},Object.defineProperties($n,Fn);var Vo=function(){};Vo.prototype.isInBoundary=function(l){return l%2==1},Vo.prototype.interfaces_=function(){return[$n]},Vo.prototype.getClass=function(){return Vo};var ta=function(){};ta.prototype.isInBoundary=function(l){return l>0},ta.prototype.interfaces_=function(){return[$n]},ta.prototype.getClass=function(){return ta};var Ea=function(){};Ea.prototype.isInBoundary=function(l){return l>1},Ea.prototype.interfaces_=function(){return[$n]},Ea.prototype.getClass=function(){return Ea};var Go=function(){};Go.prototype.isInBoundary=function(l){return l===1},Go.prototype.interfaces_=function(){return[$n]},Go.prototype.getClass=function(){return Go};var ui=function(){};ui.prototype.add=function(){},ui.prototype.addAll=function(){},ui.prototype.isEmpty=function(){},ui.prototype.iterator=function(){},ui.prototype.size=function(){},ui.prototype.toArray=function(){},ui.prototype.remove=function(){},(i.prototype=new Error).name="IndexOutOfBoundsException";var Fa=function(){};Fa.prototype.hasNext=function(){},Fa.prototype.next=function(){},Fa.prototype.remove=function(){};var to=function(l){function f(){l.apply(this,arguments)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.get=function(){},f.prototype.set=function(){},f.prototype.isEmpty=function(){},f}(ui);(u.prototype=new Error).name="NoSuchElementException";var Kt=function(l){function f(){l.call(this),this.array_=[],arguments[0]instanceof ui&&this.addAll(arguments[0])}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.ensureCapacity=function(){},f.prototype.interfaces_=function(){return[l,ui]},f.prototype.add=function(y){return arguments.length===1?this.array_.push(y):this.array_.splice(arguments[0],arguments[1]),!0},f.prototype.clear=function(){this.array_=[]},f.prototype.addAll=function(y){for(var x=y.iterator();x.hasNext();)this.add(x.next());return!0},f.prototype.set=function(y,x){var O=this.array_[y];return this.array_[y]=x,O},f.prototype.iterator=function(){return new ms(this)},f.prototype.get=function(y){if(y<0||y>=this.size())throw new i;return this.array_[y]},f.prototype.isEmpty=function(){return this.array_.length===0},f.prototype.size=function(){return this.array_.length},f.prototype.toArray=function(){for(var y=[],x=0,O=this.array_.length;x<O;x++)y.push(this.array_[x]);return y},f.prototype.remove=function(y){for(var x=!1,O=0,U=this.array_.length;O<U;O++)if(this.array_[O]===y){this.array_.splice(O,1),x=!0;break}return x},f}(to),ms=function(l){function f(y){l.call(this),this.arrayList_=y,this.position_=0}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new u;return this.arrayList_.get(this.position_++)},f.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},f.prototype.set=function(y){return this.arrayList_.set(this.position_-1,y)},f.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},f}(Fa),zi=function(l){function f(){if(l.call(this),arguments.length!==0){if(arguments.length===1){var x=arguments[0];this.ensureCapacity(x.length),this.add(x,!0)}else if(arguments.length===2){var O=arguments[0],U=arguments[1];this.ensureCapacity(O.length),this.add(O,U)}}}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={coordArrayType:{configurable:!0}};return y.coordArrayType.get=function(){return new Array(0).fill(null)},f.prototype.getCoordinate=function(x){return this.get(x)},f.prototype.addAll=function(){if(arguments.length===2){for(var x=arguments[0],O=arguments[1],U=!1,H=x.iterator();H.hasNext();)this.add(H.next(),O),U=!0;return U}return l.prototype.addAll.apply(this,arguments)},f.prototype.clone=function(){for(var x=l.prototype.clone.call(this),O=0;O<this.size();O++)x.add(O,this.get(O).copy());return x},f.prototype.toCoordinateArray=function(){return this.toArray(f.coordArrayType)},f.prototype.add=function(){if(arguments.length===1){var x=arguments[0];l.prototype.add.call(this,x)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var O=arguments[0],U=arguments[1];return this.add(O,U,!0),!0}if(arguments[0]instanceof ie&&typeof arguments[1]=="boolean"){var H=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(H))return null;l.prototype.add.call(this,H)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var me=arguments[0],je=arguments[1];return this.add(me,je),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var nt=arguments[0],wt=arguments[1];if(arguments[2])for(var kt=0;kt<nt.length;kt++)this.add(nt[kt],wt);else for(var ar=nt.length-1;ar>=0;ar--)this.add(nt[ar],wt);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof ie){var nr=arguments[0],Tr=arguments[1];if(!arguments[2]){var Br=this.size();if(Br>0&&(nr>0&&this.get(nr-1).equals2D(Tr)||nr<Br&&this.get(nr).equals2D(Tr)))return null}l.prototype.add.call(this,nr,Tr)}}else if(arguments.length===4){var ri=arguments[0],ba=arguments[1],d=arguments[2],b=arguments[3],g=1;d>b&&(g=-1);for(var S=d;S!==b;S+=g)this.add(ri[S],ba);return!0}},f.prototype.closeRing=function(){this.size()>0&&this.add(new ie(this.get(0)),!1)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},Object.defineProperties(f,y),f}(Kt),se=function(){},Ee={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ee.ForwardComparator.get=function(){return Ie},Ee.BidirectionalComparator.get=function(){return Re},Ee.coordArrayType.get=function(){return new Array(0).fill(null)},se.prototype.interfaces_=function(){return[]},se.prototype.getClass=function(){return se},se.isRing=function(l){return!(l.length<4)&&!!l[0].equals2D(l[l.length-1])},se.ptNotInList=function(l,f){for(var y=0;y<l.length;y++){var x=l[y];if(se.indexOf(x,f)<0)return x}return null},se.scroll=function(l,f){var y=se.indexOf(f,l);if(y<0)return null;var x=new Array(l.length).fill(null);Ut.arraycopy(l,y,x,0,l.length-y),Ut.arraycopy(l,0,x,l.length-y,y),Ut.arraycopy(x,0,l,0,l.length)},se.equals=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];if(l===f)return!0;if(l===null||f===null||l.length!==f.length)return!1;for(var y=0;y<l.length;y++)if(!l[y].equals(f[y]))return!1;return!0}if(arguments.length===3){var x=arguments[0],O=arguments[1],U=arguments[2];if(x===O)return!0;if(x===null||O===null||x.length!==O.length)return!1;for(var H=0;H<x.length;H++)if(U.compare(x[H],O[H])!==0)return!1;return!0}},se.intersection=function(l,f){for(var y=new zi,x=0;x<l.length;x++)f.intersects(l[x])&&y.add(l[x],!0);return y.toCoordinateArray()},se.hasRepeatedPoints=function(l){for(var f=1;f<l.length;f++)if(l[f-1].equals(l[f]))return!0;return!1},se.removeRepeatedPoints=function(l){return se.hasRepeatedPoints(l)?new zi(l,!1).toCoordinateArray():l},se.reverse=function(l){for(var f=l.length-1,y=Math.trunc(f/2),x=0;x<=y;x++){var O=l[x];l[x]=l[f-x],l[f-x]=O}},se.removeNull=function(l){for(var f=0,y=0;y<l.length;y++)l[y]!==null&&f++;var x=new Array(f).fill(null);if(f===0)return x;for(var O=0,U=0;U<l.length;U++)l[U]!==null&&(x[O++]=l[U]);return x},se.copyDeep=function(){if(arguments.length===1){for(var l=arguments[0],f=new Array(l.length).fill(null),y=0;y<l.length;y++)f[y]=new ie(l[y]);return f}if(arguments.length===5)for(var x=arguments[0],O=arguments[1],U=arguments[2],H=arguments[3],me=arguments[4],je=0;je<me;je++)U[H+je]=new ie(x[O+je])},se.isEqualReversed=function(l,f){for(var y=0;y<l.length;y++){var x=l[y],O=f[l.length-y-1];if(x.compareTo(O)!==0)return!1}return!0},se.envelope=function(l){for(var f=new Xt,y=0;y<l.length;y++)f.expandToInclude(l[y]);return f},se.toCoordinateArray=function(l){return l.toArray(se.coordArrayType)},se.atLeastNCoordinatesOrNothing=function(l,f){return f.length>=l?f:[]},se.indexOf=function(l,f){for(var y=0;y<f.length;y++)if(l.equals(f[y]))return y;return-1},se.increasingDirection=function(l){for(var f=0;f<Math.trunc(l.length/2);f++){var y=l.length-1-f,x=l[f].compareTo(l[y]);if(x!==0)return x}return 1},se.compare=function(l,f){for(var y=0;y<l.length&&y<f.length;){var x=l[y].compareTo(f[y]);if(x!==0)return x;y++}return y<f.length?-1:y<l.length?1:0},se.minCoordinate=function(l){for(var f=null,y=0;y<l.length;y++)(f===null||f.compareTo(l[y])>0)&&(f=l[y]);return f},se.extract=function(l,f,y){f=te.clamp(f,0,l.length);var x=(y=te.clamp(y,-1,l.length))-f+1;y<0&&(x=0),f>=l.length&&(x=0),y<f&&(x=0);var O=new Array(x).fill(null);if(x===0)return O;for(var U=0,H=f;H<=y;H++)O[U++]=l[H];return O},Object.defineProperties(se,Ee);var Ie=function(){};Ie.prototype.compare=function(l,f){return se.compare(l,f)},Ie.prototype.interfaces_=function(){return[ee]},Ie.prototype.getClass=function(){return Ie};var Re=function(){};Re.prototype.compare=function(l,f){var y=l,x=f;if(y.length<x.length)return-1;if(y.length>x.length)return 1;if(y.length===0)return 0;var O=se.compare(y,x);return se.isEqualReversed(y,x)?0:O},Re.prototype.OLDcompare=function(l,f){var y=l,x=f;if(y.length<x.length)return-1;if(y.length>x.length)return 1;if(y.length===0)return 0;for(var O=se.increasingDirection(y),U=se.increasingDirection(x),H=O>0?0:y.length-1,me=U>0?0:y.length-1,je=0;je<y.length;je++){var nt=y[H].compareTo(x[me]);if(nt!==0)return nt;H+=O,me+=U}return 0},Re.prototype.interfaces_=function(){return[ee]},Re.prototype.getClass=function(){return Re};var We=function(){};We.prototype.get=function(){},We.prototype.put=function(){},We.prototype.size=function(){},We.prototype.values=function(){},We.prototype.entrySet=function(){};var at=function(l){function f(){l.apply(this,arguments)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f}(We);(s.prototype=new Error).name="OperationNotSupported",(m.prototype=new ui).contains=function(){};var lt=function(l){function f(){l.call(this),this.array_=[],arguments[0]instanceof ui&&this.addAll(arguments[0])}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.contains=function(y){for(var x=0,O=this.array_.length;x<O;x++)if(this.array_[x]===y)return!0;return!1},f.prototype.add=function(y){return!this.contains(y)&&(this.array_.push(y),!0)},f.prototype.addAll=function(y){for(var x=y.iterator();x.hasNext();)this.add(x.next());return!0},f.prototype.remove=function(y){throw new Error},f.prototype.size=function(){return this.array_.length},f.prototype.isEmpty=function(){return this.array_.length===0},f.prototype.toArray=function(){for(var y=[],x=0,O=this.array_.length;x<O;x++)y.push(this.array_[x]);return y},f.prototype.iterator=function(){return new Me(this)},f}(m),Me=function(l){function f(y){l.call(this),this.hashSet_=y,this.position_=0}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new u;return this.hashSet_.array_[this.position_++]},f.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},f.prototype.remove=function(){throw new s},f}(Fa),Xe=0;(k.prototype=new at).get=function(l){for(var f=this.root_;f!==null;){var y=l.compareTo(f.key);if(y<0)f=f.left;else{if(!(y>0))return f.value;f=f.right}}return null},k.prototype.put=function(l,f){if(this.root_===null)return this.root_={key:l,value:f,left:null,right:null,parent:null,color:Xe,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var y,x,O=this.root_;do if(y=O,(x=l.compareTo(O.key))<0)O=O.left;else{if(!(x>0)){var U=O.value;return O.value=f,U}O=O.right}while(O!==null);var H={key:l,left:null,right:null,value:f,parent:y,color:Xe,getValue:function(){return this.value},getKey:function(){return this.key}};return x<0?y.left=H:y.right=H,this.fixAfterInsertion(H),this.size_++,null},k.prototype.fixAfterInsertion=function(l){for(l.color=1;l!=null&&l!==this.root_&&l.parent.color===1;)if(_(l)===C(_(_(l)))){var f=I(_(_(l)));v(f)===1?(P(_(l),Xe),P(f,Xe),P(_(_(l)),1),l=_(_(l))):(l===I(_(l))&&(l=_(l),this.rotateLeft(l)),P(_(l),Xe),P(_(_(l)),1),this.rotateRight(_(_(l))))}else{var y=C(_(_(l)));v(y)===1?(P(_(l),Xe),P(y,Xe),P(_(_(l)),1),l=_(_(l))):(l===C(_(l))&&(l=_(l),this.rotateRight(l)),P(_(l),Xe),P(_(_(l)),1),this.rotateLeft(_(_(l))))}this.root_.color=Xe},k.prototype.values=function(){var l=new Kt,f=this.getFirstEntry();if(f!==null)for(l.add(f.value);(f=k.successor(f))!==null;)l.add(f.value);return l},k.prototype.entrySet=function(){var l=new lt,f=this.getFirstEntry();if(f!==null)for(l.add(f);(f=k.successor(f))!==null;)l.add(f);return l},k.prototype.rotateLeft=function(l){if(l!=null){var f=l.right;l.right=f.left,f.left!=null&&(f.left.parent=l),f.parent=l.parent,l.parent===null?this.root_=f:l.parent.left===l?l.parent.left=f:l.parent.right=f,f.left=l,l.parent=f}},k.prototype.rotateRight=function(l){if(l!=null){var f=l.left;l.left=f.right,f.right!=null&&(f.right.parent=l),f.parent=l.parent,l.parent===null?this.root_=f:l.parent.right===l?l.parent.right=f:l.parent.left=f,f.right=l,l.parent=f}},k.prototype.getFirstEntry=function(){var l=this.root_;if(l!=null)for(;l.left!=null;)l=l.left;return l},k.successor=function(l){if(l===null)return null;if(l.right!==null){for(var f=l.right;f.left!==null;)f=f.left;return f}for(var y=l.parent,x=l;y!==null&&x===y.right;)x=y,y=y.parent;return y},k.prototype.size=function(){return this.size_};var ht=function(){};ht.prototype.interfaces_=function(){return[]},ht.prototype.getClass=function(){return ht},F.prototype=new m,(V.prototype=new F).contains=function(l){for(var f=0,y=this.array_.length;f<y;f++)if(this.array_[f].compareTo(l)===0)return!0;return!1},V.prototype.add=function(l){if(this.contains(l))return!1;for(var f=0,y=this.array_.length;f<y;f++)if(this.array_[f].compareTo(l)===1)return this.array_.splice(f,0,l),!0;return this.array_.push(l),!0},V.prototype.addAll=function(l){for(var f=l.iterator();f.hasNext();)this.add(f.next());return!0},V.prototype.remove=function(l){throw new s},V.prototype.size=function(){return this.array_.length},V.prototype.isEmpty=function(){return this.array_.length===0},V.prototype.toArray=function(){for(var l=[],f=0,y=this.array_.length;f<y;f++)l.push(this.array_[f]);return l},V.prototype.iterator=function(){return new $t(this)};var $t=function(l){this.treeSet_=l,this.position_=0};$t.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new u;return this.treeSet_.array_[this.position_++]},$t.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},$t.prototype.remove=function(){throw new s};var jt=function(){};jt.sort=function(){var l,f,y,x,O=arguments[0];if(arguments.length===1)x=function(H,me){return H.compareTo(me)},O.sort(x);else if(arguments.length===2)y=arguments[1],x=function(H,me){return y.compare(H,me)},O.sort(x);else if(arguments.length===3){(f=O.slice(arguments[1],arguments[2])).sort();var U=O.slice(0,arguments[1]).concat(f,O.slice(arguments[2],O.length));for(O.splice(0,O.length),l=0;l<U.length;l++)O.push(U[l])}else if(arguments.length===4)for(f=O.slice(arguments[1],arguments[2]),y=arguments[3],x=function(H,me){return y.compare(H,me)},f.sort(x),U=O.slice(0,arguments[1]).concat(f,O.slice(arguments[2],O.length)),O.splice(0,O.length),l=0;l<U.length;l++)O.push(U[l])},jt.asList=function(l){for(var f=new Kt,y=0,x=l.length;y<x;y++)f.add(l[y]);return f};var dt=function(){},zt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};zt.P.get=function(){return 0},zt.L.get=function(){return 1},zt.A.get=function(){return 2},zt.FALSE.get=function(){return-1},zt.TRUE.get=function(){return-2},zt.DONTCARE.get=function(){return-3},zt.SYM_FALSE.get=function(){return"F"},zt.SYM_TRUE.get=function(){return"T"},zt.SYM_DONTCARE.get=function(){return"*"},zt.SYM_P.get=function(){return"0"},zt.SYM_L.get=function(){return"1"},zt.SYM_A.get=function(){return"2"},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt},dt.toDimensionSymbol=function(l){switch(l){case dt.FALSE:return dt.SYM_FALSE;case dt.TRUE:return dt.SYM_TRUE;case dt.DONTCARE:return dt.SYM_DONTCARE;case dt.P:return dt.SYM_P;case dt.L:return dt.SYM_L;case dt.A:return dt.SYM_A}throw new G("Unknown dimension value: "+l)},dt.toDimensionValue=function(l){switch(ze.toUpperCase(l)){case dt.SYM_FALSE:return dt.FALSE;case dt.SYM_TRUE:return dt.TRUE;case dt.SYM_DONTCARE:return dt.DONTCARE;case dt.SYM_P:return dt.P;case dt.SYM_L:return dt.L;case dt.SYM_A:return dt.A}throw new G("Unknown dimension symbol: "+l)},Object.defineProperties(dt,zt);var _r=function(){};_r.prototype.filter=function(l){},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r};var cr=function(){};cr.prototype.filter=function(l,f){},cr.prototype.isDone=function(){},cr.prototype.isGeometryChanged=function(){},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr};var Et=function(l){function f(x,O){if(l.call(this,O),this._geometries=x||[],l.hasNullElements(this._geometries))throw new G("geometries must not contain null elements")}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={serialVersionUID:{configurable:!0}};return f.prototype.computeEnvelopeInternal=function(){for(var x=new Xt,O=0;O<this._geometries.length;O++)x.expandToInclude(this._geometries[O].getEnvelopeInternal());return x},f.prototype.getGeometryN=function(x){return this._geometries[x]},f.prototype.getSortIndex=function(){return l.SORTINDEX_GEOMETRYCOLLECTION},f.prototype.getCoordinates=function(){for(var x=new Array(this.getNumPoints()).fill(null),O=-1,U=0;U<this._geometries.length;U++)for(var H=this._geometries[U].getCoordinates(),me=0;me<H.length;me++)x[++O]=H[me];return x},f.prototype.getArea=function(){for(var x=0,O=0;O<this._geometries.length;O++)x+=this._geometries[O].getArea();return x},f.prototype.equalsExact=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];if(!this.isEquivalentClass(x))return!1;var U=x;if(this._geometries.length!==U._geometries.length)return!1;for(var H=0;H<this._geometries.length;H++)if(!this._geometries[H].equalsExact(U._geometries[H],O))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)},f.prototype.normalize=function(){for(var x=0;x<this._geometries.length;x++)this._geometries[x].normalize();jt.sort(this._geometries)},f.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},f.prototype.getBoundaryDimension=function(){for(var x=dt.FALSE,O=0;O<this._geometries.length;O++)x=Math.max(x,this._geometries[O].getBoundaryDimension());return x},f.prototype.getDimension=function(){for(var x=dt.FALSE,O=0;O<this._geometries.length;O++)x=Math.max(x,this._geometries[O].getDimension());return x},f.prototype.getLength=function(){for(var x=0,O=0;O<this._geometries.length;O++)x+=this._geometries[O].getLength();return x},f.prototype.getNumPoints=function(){for(var x=0,O=0;O<this._geometries.length;O++)x+=this._geometries[O].getNumPoints();return x},f.prototype.getNumGeometries=function(){return this._geometries.length},f.prototype.reverse=function(){for(var x=this._geometries.length,O=new Array(x).fill(null),U=0;U<this._geometries.length;U++)O[U]=this._geometries[U].reverse();return this.getFactory().createGeometryCollection(O)},f.prototype.compareToSameClass=function(){if(arguments.length===1){var x=arguments[0],O=new V(jt.asList(this._geometries)),U=new V(jt.asList(x._geometries));return this.compare(O,U)}if(arguments.length===2){for(var H=arguments[0],me=arguments[1],je=H,nt=this.getNumGeometries(),wt=je.getNumGeometries(),kt=0;kt<nt&&kt<wt;){var ar=this.getGeometryN(kt),nr=je.getGeometryN(kt),Tr=ar.compareToSameClass(nr,me);if(Tr!==0)return Tr;kt++}return kt<nt?1:kt<wt?-1:0}},f.prototype.apply=function(){if(Q(arguments[0],si))for(var x=arguments[0],O=0;O<this._geometries.length;O++)this._geometries[O].apply(x);else if(Q(arguments[0],cr)){var U=arguments[0];if(this._geometries.length===0)return null;for(var H=0;H<this._geometries.length&&(this._geometries[H].apply(U),!U.isDone());H++);U.isGeometryChanged()&&this.geometryChanged()}else if(Q(arguments[0],_r)){var me=arguments[0];me.filter(this);for(var je=0;je<this._geometries.length;je++)this._geometries[je].apply(me)}else if(Q(arguments[0],Qr)){var nt=arguments[0];nt.filter(this);for(var wt=0;wt<this._geometries.length;wt++)this._geometries[wt].apply(nt)}},f.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),be.shouldNeverReachHere(),null},f.prototype.clone=function(){var x=l.prototype.clone.call(this);x._geometries=new Array(this._geometries.length).fill(null);for(var O=0;O<this._geometries.length;O++)x._geometries[O]=this._geometries[O].clone();return x},f.prototype.getGeometryType=function(){return"GeometryCollection"},f.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),O=0;O<x.length;O++)x[O]=this._geometries[O].copy();return new f(x,this._factory)},f.prototype.isEmpty=function(){for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].isEmpty())return!1;return!0},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},y.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(f,y),f}(tr),fr=function(l){function f(){l.apply(this,arguments)}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={serialVersionUID:{configurable:!0}};return f.prototype.getSortIndex=function(){return tr.SORTINDEX_MULTILINESTRING},f.prototype.equalsExact=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];return!!this.isEquivalentClass(x)&&l.prototype.equalsExact.call(this,x,O)}return l.prototype.equalsExact.apply(this,arguments)},f.prototype.getBoundaryDimension=function(){return this.isClosed()?dt.FALSE:0},f.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].isClosed())return!1;return!0},f.prototype.getDimension=function(){return 1},f.prototype.reverse=function(){for(var x=this._geometries.length,O=new Array(x).fill(null),U=0;U<this._geometries.length;U++)O[x-1-U]=this._geometries[U].reverse();return this.getFactory().createMultiLineString(O)},f.prototype.getBoundary=function(){return new Zt(this).getBoundary()},f.prototype.getGeometryType=function(){return"MultiLineString"},f.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),O=0;O<x.length;O++)x[O]=this._geometries[O].copy();return new f(x,this._factory)},f.prototype.interfaces_=function(){return[ht]},f.prototype.getClass=function(){return f},y.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(f,y),f}(Et),Zt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var l=arguments[0],f=$n.MOD2_BOUNDARY_RULE;this._geom=l,this._geomFact=l.getFactory(),this._bnRule=f}else if(arguments.length===2){var y=arguments[0],x=arguments[1];this._geom=y,this._geomFact=y.getFactory(),this._bnRule=x}};Zt.prototype.boundaryMultiLineString=function(l){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var f=this.computeBoundaryCoordinates(l);return f.length===1?this._geomFact.createPoint(f[0]):this._geomFact.createMultiPointFromCoords(f)},Zt.prototype.getBoundary=function(){return this._geom instanceof ln?this.boundaryLineString(this._geom):this._geom instanceof fr?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Zt.prototype.boundaryLineString=function(l){return this._geom.isEmpty()?this.getEmptyMultiPoint():l.isClosed()?this._bnRule.isInBoundary(2)?l.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([l.getStartPoint(),l.getEndPoint()])},Zt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Zt.prototype.computeBoundaryCoordinates=function(l){var f=new Kt;this._endpointMap=new k;for(var y=0;y<l.getNumGeometries();y++){var x=l.getGeometryN(y);x.getNumPoints()!==0&&(this.addEndpoint(x.getCoordinateN(0)),this.addEndpoint(x.getCoordinateN(x.getNumPoints()-1)))}for(var O=this._endpointMap.entrySet().iterator();O.hasNext();){var U=O.next(),H=U.getValue().count;this._bnRule.isInBoundary(H)&&f.add(U.getKey())}return se.toCoordinateArray(f)},Zt.prototype.addEndpoint=function(l){var f=this._endpointMap.get(l);f===null&&(f=new or,this._endpointMap.put(l,f)),f.count++},Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt},Zt.getBoundary=function(){if(arguments.length===1){var l=arguments[0];return new Zt(l).getBoundary()}if(arguments.length===2){var f=arguments[0],y=arguments[1];return new Zt(f,y).getBoundary()}};var or=function(){this.count=null};or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or};var en=function(){},dr={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};en.prototype.interfaces_=function(){return[]},en.prototype.getClass=function(){return en},en.chars=function(l,f){for(var y=new Array(f).fill(null),x=0;x<f;x++)y[x]=l;return String(y)},en.getStackTrace=function(){if(arguments.length===1){var l=arguments[0],f=new function(){},y=new function(){}(f);return l.printStackTrace(y),f.toString()}if(arguments.length===2){for(var x=arguments[0],O=arguments[1],U="",H=new function(){}(new function(){}(en.getStackTrace(x))),me=0;me<O;me++)try{U+=H.readLine()+en.NEWLINE}catch(je){if(!(je instanceof Y))throw je;be.shouldNeverReachHere()}return U}},en.split=function(l,f){for(var y=f.length,x=new Kt,O=""+l,U=O.indexOf(f);U>=0;){var H=O.substring(0,U);x.add(H),U=(O=O.substring(U+y)).indexOf(f)}O.length>0&&x.add(O);for(var me=new Array(x.size()).fill(null),je=0;je<me.length;je++)me[je]=x.get(je);return me},en.toString=function(){if(arguments.length===1){var l=arguments[0];return en.SIMPLE_ORDINATE_FORMAT.format(l)}},en.spaces=function(l){return en.chars(" ",l)},dr.NEWLINE.get=function(){return Ut.getProperty("line.separator")},dr.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(en,dr);var Ur=function(){};Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.copyCoord=function(l,f,y,x){for(var O=Math.min(l.getDimension(),y.getDimension()),U=0;U<O;U++)y.setOrdinate(x,U,l.getOrdinate(f,U))},Ur.isRing=function(l){var f=l.size();return f===0||!(f<=3)&&l.getOrdinate(0,_t.X)===l.getOrdinate(f-1,_t.X)&&l.getOrdinate(0,_t.Y)===l.getOrdinate(f-1,_t.Y)},Ur.isEqual=function(l,f){var y=l.size();if(y!==f.size())return!1;for(var x=Math.min(l.getDimension(),f.getDimension()),O=0;O<y;O++)for(var U=0;U<x;U++){var H=l.getOrdinate(O,U),me=f.getOrdinate(O,U);if(l.getOrdinate(O,U)!==f.getOrdinate(O,U)&&(!J.isNaN(H)||!J.isNaN(me)))return!1}return!0},Ur.extend=function(l,f,y){var x=l.create(y,f.getDimension()),O=f.size();if(Ur.copy(f,0,x,0,O),O>0)for(var U=O;U<y;U++)Ur.copy(f,O-1,x,U,1);return x},Ur.reverse=function(l){for(var f=l.size()-1,y=Math.trunc(f/2),x=0;x<=y;x++)Ur.swap(l,x,f-x)},Ur.swap=function(l,f,y){if(f===y)return null;for(var x=0;x<l.getDimension();x++){var O=l.getOrdinate(f,x);l.setOrdinate(f,x,l.getOrdinate(y,x)),l.setOrdinate(y,x,O)}},Ur.copy=function(l,f,y,x,O){for(var U=0;U<O;U++)Ur.copyCoord(l,f+U,y,x+U)},Ur.toString=function(){if(arguments.length===1){var l=arguments[0],f=l.size();if(f===0)return"()";var y=l.getDimension(),x=new ve;x.append("(");for(var O=0;O<f;O++){O>0&&x.append(" ");for(var U=0;U<y;U++)U>0&&x.append(","),x.append(en.toString(l.getOrdinate(O,U)))}return x.append(")"),x.toString()}},Ur.ensureValidRing=function(l,f){var y=f.size();return y===0?f:y<=3?Ur.createClosedRing(l,f,4):f.getOrdinate(0,_t.X)===f.getOrdinate(y-1,_t.X)&&f.getOrdinate(0,_t.Y)===f.getOrdinate(y-1,_t.Y)?f:Ur.createClosedRing(l,f,y+1)},Ur.createClosedRing=function(l,f,y){var x=l.create(y,f.getDimension()),O=f.size();Ur.copy(f,0,x,0,O);for(var U=O;U<y;U++)Ur.copy(f,0,x,U,1);return x};var ln=function(l){function f(x,O){l.call(this,O),this._points=null,this.init(x)}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={serialVersionUID:{configurable:!0}};return f.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Xt:this._points.expandEnvelope(new Xt)},f.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},f.prototype.getSortIndex=function(){return l.SORTINDEX_LINESTRING},f.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},f.prototype.equalsExact=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];if(!this.isEquivalentClass(x))return!1;var U=x;if(this._points.size()!==U._points.size())return!1;for(var H=0;H<this._points.size();H++)if(!this.equal(this._points.getCoordinate(H),U._points.getCoordinate(H),O))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)},f.prototype.normalize=function(){for(var x=0;x<Math.trunc(this._points.size()/2);x++){var O=this._points.size()-1-x;if(!this._points.getCoordinate(x).equals(this._points.getCoordinate(O)))return this._points.getCoordinate(x).compareTo(this._points.getCoordinate(O))>0&&Ur.reverse(this._points),null}},f.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},f.prototype.getBoundaryDimension=function(){return this.isClosed()?dt.FALSE:0},f.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},f.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},f.prototype.getDimension=function(){return 1},f.prototype.getLength=function(){return mt.computeLength(this._points)},f.prototype.getNumPoints=function(){return this._points.size()},f.prototype.reverse=function(){var x=this._points.copy();return Ur.reverse(x),this.getFactory().createLineString(x)},f.prototype.compareToSameClass=function(){if(arguments.length===1){for(var x=arguments[0],O=0,U=0;O<this._points.size()&&U<x._points.size();){var H=this._points.getCoordinate(O).compareTo(x._points.getCoordinate(U));if(H!==0)return H;O++,U++}return O<this._points.size()?1:U<x._points.size()?-1:0}if(arguments.length===2){var me=arguments[0];return arguments[1].compare(this._points,me._points)}},f.prototype.apply=function(){if(Q(arguments[0],si))for(var x=arguments[0],O=0;O<this._points.size();O++)x.filter(this._points.getCoordinate(O));else if(Q(arguments[0],cr)){var U=arguments[0];if(this._points.size()===0)return null;for(var H=0;H<this._points.size()&&(U.filter(this._points,H),!U.isDone());H++);U.isGeometryChanged()&&this.geometryChanged()}else Q(arguments[0],_r)?arguments[0].filter(this):Q(arguments[0],Qr)&&arguments[0].filter(this)},f.prototype.getBoundary=function(){return new Zt(this).getBoundary()},f.prototype.isEquivalentClass=function(x){return x instanceof f},f.prototype.clone=function(){var x=l.prototype.clone.call(this);return x._points=this._points.clone(),x},f.prototype.getCoordinateN=function(x){return this._points.getCoordinate(x)},f.prototype.getGeometryType=function(){return"LineString"},f.prototype.copy=function(){return new f(this._points.copy(),this._factory)},f.prototype.getCoordinateSequence=function(){return this._points},f.prototype.isEmpty=function(){return this._points.size()===0},f.prototype.init=function(x){if(x===null&&(x=this.getFactory().getCoordinateSequenceFactory().create([])),x.size()===1)throw new G("Invalid number of points in LineString (found "+x.size()+" - must be 0 or >= 2)");this._points=x},f.prototype.isCoordinate=function(x){for(var O=0;O<this._points.size();O++)if(this._points.getCoordinate(O).equals(x))return!0;return!1},f.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},f.prototype.getPointN=function(x){return this.getFactory().createPoint(this._points.getCoordinate(x))},f.prototype.interfaces_=function(){return[ht]},f.prototype.getClass=function(){return f},y.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(f,y),f}(tr),Lt=function(){};Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt};var cn=function(l){function f(x,O){l.call(this,O),this._coordinates=x||null,this.init(this._coordinates)}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={serialVersionUID:{configurable:!0}};return f.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Xt;var x=new Xt;return x.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),x},f.prototype.getSortIndex=function(){return l.SORTINDEX_POINT},f.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},f.prototype.equalsExact=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];return!!this.isEquivalentClass(x)&&(!(!this.isEmpty()||!x.isEmpty())||this.isEmpty()===x.isEmpty()&&this.equal(x.getCoordinate(),this.getCoordinate(),O))}return l.prototype.equalsExact.apply(this,arguments)},f.prototype.normalize=function(){},f.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},f.prototype.getBoundaryDimension=function(){return dt.FALSE},f.prototype.getDimension=function(){return 0},f.prototype.getNumPoints=function(){return this.isEmpty()?0:1},f.prototype.reverse=function(){return this.copy()},f.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},f.prototype.compareToSameClass=function(){if(arguments.length===1){var x=arguments[0];return this.getCoordinate().compareTo(x.getCoordinate())}if(arguments.length===2){var O=arguments[0];return arguments[1].compare(this._coordinates,O._coordinates)}},f.prototype.apply=function(){if(Q(arguments[0],si)){var x=arguments[0];if(this.isEmpty())return null;x.filter(this.getCoordinate())}else if(Q(arguments[0],cr)){var O=arguments[0];if(this.isEmpty())return null;O.filter(this._coordinates,0),O.isGeometryChanged()&&this.geometryChanged()}else Q(arguments[0],_r)?arguments[0].filter(this):Q(arguments[0],Qr)&&arguments[0].filter(this)},f.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},f.prototype.clone=function(){var x=l.prototype.clone.call(this);return x._coordinates=this._coordinates.clone(),x},f.prototype.getGeometryType=function(){return"Point"},f.prototype.copy=function(){return new f(this._coordinates.copy(),this._factory)},f.prototype.getCoordinateSequence=function(){return this._coordinates},f.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},f.prototype.isEmpty=function(){return this._coordinates.size()===0},f.prototype.init=function(x){x===null&&(x=this.getFactory().getCoordinateSequenceFactory().create([])),be.isTrue(x.size()<=1),this._coordinates=x},f.prototype.isSimple=function(){return!0},f.prototype.interfaces_=function(){return[Lt]},f.prototype.getClass=function(){return f},y.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(f,y),f}(tr),Ln=function(){};Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln};var yi=function(l){function f(x,O,U){if(l.call(this,U),this._shell=null,this._holes=null,x===null&&(x=this.getFactory().createLinearRing()),O===null&&(O=[]),l.hasNullElements(O))throw new G("holes must not contain null elements");if(x.isEmpty()&&l.hasNonEmptyElements(O))throw new G("shell is empty but holes are not");this._shell=x,this._holes=O}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={serialVersionUID:{configurable:!0}};return f.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},f.prototype.getSortIndex=function(){return l.SORTINDEX_POLYGON},f.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var x=new Array(this.getNumPoints()).fill(null),O=-1,U=this._shell.getCoordinates(),H=0;H<U.length;H++)x[++O]=U[H];for(var me=0;me<this._holes.length;me++)for(var je=this._holes[me].getCoordinates(),nt=0;nt<je.length;nt++)x[++O]=je[nt];return x},f.prototype.getArea=function(){var x=0;x+=Math.abs(mt.signedArea(this._shell.getCoordinateSequence()));for(var O=0;O<this._holes.length;O++)x-=Math.abs(mt.signedArea(this._holes[O].getCoordinateSequence()));return x},f.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var x=this._shell.getCoordinateSequence(),O=this.getEnvelopeInternal(),U=0;U<5;U++){var H=x.getX(U);if(H!==O.getMinX()&&H!==O.getMaxX())return!1;var me=x.getY(U);if(me!==O.getMinY()&&me!==O.getMaxY())return!1}for(var je=x.getX(0),nt=x.getY(0),wt=1;wt<=4;wt++){var kt=x.getX(wt),ar=x.getY(wt);if(kt!==je==(ar!==nt))return!1;je=kt,nt=ar}return!0},f.prototype.equalsExact=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];if(!this.isEquivalentClass(x))return!1;var U=x,H=this._shell,me=U._shell;if(!H.equalsExact(me,O)||this._holes.length!==U._holes.length)return!1;for(var je=0;je<this._holes.length;je++)if(!this._holes[je].equalsExact(U._holes[je],O))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)},f.prototype.normalize=function(){if(arguments.length===0){this.normalize(this._shell,!0);for(var x=0;x<this._holes.length;x++)this.normalize(this._holes[x],!1);jt.sort(this._holes)}else if(arguments.length===2){var O=arguments[0],U=arguments[1];if(O.isEmpty())return null;var H=new Array(O.getCoordinates().length-1).fill(null);Ut.arraycopy(O.getCoordinates(),0,H,0,H.length);var me=se.minCoordinate(O.getCoordinates());se.scroll(H,me),Ut.arraycopy(H,0,O.getCoordinates(),0,H.length),O.getCoordinates()[H.length]=H[0],mt.isCCW(O.getCoordinates())===U&&se.reverse(O.getCoordinates())}},f.prototype.getCoordinate=function(){return this._shell.getCoordinate()},f.prototype.getNumInteriorRing=function(){return this._holes.length},f.prototype.getBoundaryDimension=function(){return 1},f.prototype.getDimension=function(){return 2},f.prototype.getLength=function(){var x=0;x+=this._shell.getLength();for(var O=0;O<this._holes.length;O++)x+=this._holes[O].getLength();return x},f.prototype.getNumPoints=function(){for(var x=this._shell.getNumPoints(),O=0;O<this._holes.length;O++)x+=this._holes[O].getNumPoints();return x},f.prototype.reverse=function(){var x=this.copy();x._shell=this._shell.copy().reverse(),x._holes=new Array(this._holes.length).fill(null);for(var O=0;O<this._holes.length;O++)x._holes[O]=this._holes[O].copy().reverse();return x},f.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},f.prototype.compareToSameClass=function(){if(arguments.length===1){var x=arguments[0],O=this._shell,U=x._shell;return O.compareToSameClass(U)}if(arguments.length===2){var H=arguments[0],me=arguments[1],je=H,nt=this._shell,wt=je._shell,kt=nt.compareToSameClass(wt,me);if(kt!==0)return kt;for(var ar=this.getNumInteriorRing(),nr=je.getNumInteriorRing(),Tr=0;Tr<ar&&Tr<nr;){var Br=this.getInteriorRingN(Tr),ri=je.getInteriorRingN(Tr),ba=Br.compareToSameClass(ri,me);if(ba!==0)return ba;Tr++}return Tr<ar?1:Tr<nr?-1:0}},f.prototype.apply=function(x){if(Q(x,si)){this._shell.apply(x);for(var O=0;O<this._holes.length;O++)this._holes[O].apply(x)}else if(Q(x,cr)){if(this._shell.apply(x),!x.isDone())for(var U=0;U<this._holes.length&&(this._holes[U].apply(x),!x.isDone());U++);x.isGeometryChanged()&&this.geometryChanged()}else if(Q(x,_r))x.filter(this);else if(Q(x,Qr)){x.filter(this),this._shell.apply(x);for(var H=0;H<this._holes.length;H++)this._holes[H].apply(x)}},f.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var x=new Array(this._holes.length+1).fill(null);x[0]=this._shell;for(var O=0;O<this._holes.length;O++)x[O+1]=this._holes[O];return x.length<=1?this.getFactory().createLinearRing(x[0].getCoordinateSequence()):this.getFactory().createMultiLineString(x)},f.prototype.clone=function(){var x=l.prototype.clone.call(this);x._shell=this._shell.clone(),x._holes=new Array(this._holes.length).fill(null);for(var O=0;O<this._holes.length;O++)x._holes[O]=this._holes[O].clone();return x},f.prototype.getGeometryType=function(){return"Polygon"},f.prototype.copy=function(){for(var x=this._shell.copy(),O=new Array(this._holes.length).fill(null),U=0;U<O.length;U++)O[U]=this._holes[U].copy();return new f(x,O,this._factory)},f.prototype.getExteriorRing=function(){return this._shell},f.prototype.isEmpty=function(){return this._shell.isEmpty()},f.prototype.getInteriorRingN=function(x){return this._holes[x]},f.prototype.interfaces_=function(){return[Ln]},f.prototype.getClass=function(){return f},y.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(f,y),f}(tr),li=function(l){function f(){l.apply(this,arguments)}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={serialVersionUID:{configurable:!0}};return f.prototype.getSortIndex=function(){return tr.SORTINDEX_MULTIPOINT},f.prototype.isValid=function(){return!0},f.prototype.equalsExact=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];return!!this.isEquivalentClass(x)&&l.prototype.equalsExact.call(this,x,O)}return l.prototype.equalsExact.apply(this,arguments)},f.prototype.getCoordinate=function(){if(arguments.length===1){var x=arguments[0];return this._geometries[x].getCoordinate()}return l.prototype.getCoordinate.apply(this,arguments)},f.prototype.getBoundaryDimension=function(){return dt.FALSE},f.prototype.getDimension=function(){return 0},f.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},f.prototype.getGeometryType=function(){return"MultiPoint"},f.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),O=0;O<x.length;O++)x[O]=this._geometries[O].copy();return new f(x,this._factory)},f.prototype.interfaces_=function(){return[Lt]},f.prototype.getClass=function(){return f},y.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(f,y),f}(Et),Fi=function(l){function f(x,O){x instanceof ie&&O instanceof dn&&(x=O.getCoordinateSequenceFactory().create(x)),l.call(this,x,O),this.validateConstruction()}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return f.prototype.getSortIndex=function(){return tr.SORTINDEX_LINEARRING},f.prototype.getBoundaryDimension=function(){return dt.FALSE},f.prototype.isClosed=function(){return!!this.isEmpty()||l.prototype.isClosed.call(this)},f.prototype.reverse=function(){var x=this._points.copy();return Ur.reverse(x),this.getFactory().createLinearRing(x)},f.prototype.validateConstruction=function(){if(!this.isEmpty()&&!l.prototype.isClosed.call(this))throw new G("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<f.MINIMUM_VALID_SIZE)throw new G("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},f.prototype.getGeometryType=function(){return"LinearRing"},f.prototype.copy=function(){return new f(this._points.copy(),this._factory)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},y.MINIMUM_VALID_SIZE.get=function(){return 4},y.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(f,y),f}(ln),Jn=function(l){function f(){l.apply(this,arguments)}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={serialVersionUID:{configurable:!0}};return f.prototype.getSortIndex=function(){return tr.SORTINDEX_MULTIPOLYGON},f.prototype.equalsExact=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];return!!this.isEquivalentClass(x)&&l.prototype.equalsExact.call(this,x,O)}return l.prototype.equalsExact.apply(this,arguments)},f.prototype.getBoundaryDimension=function(){return 1},f.prototype.getDimension=function(){return 2},f.prototype.reverse=function(){for(var x=this._geometries.length,O=new Array(x).fill(null),U=0;U<this._geometries.length;U++)O[U]=this._geometries[U].reverse();return this.getFactory().createMultiPolygon(O)},f.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var x=new Kt,O=0;O<this._geometries.length;O++)for(var U=this._geometries[O].getBoundary(),H=0;H<U.getNumGeometries();H++)x.add(U.getGeometryN(H));var me=new Array(x.size()).fill(null);return this.getFactory().createMultiLineString(x.toArray(me))},f.prototype.getGeometryType=function(){return"MultiPolygon"},f.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),O=0;O<x.length;O++)x[O]=this._geometries[O].copy();return new f(x,this._factory)},f.prototype.interfaces_=function(){return[Ln]},f.prototype.getClass=function(){return f},y.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(f,y),f}(Et),fn=function(l){this._factory=l||null,this._isUserDataCopied=!1},hi={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};fn.prototype.setCopyUserData=function(l){this._isUserDataCopied=l},fn.prototype.edit=function(l,f){if(l===null)return null;var y=this.editInternal(l,f);return this._isUserDataCopied&&y.setUserData(l.getUserData()),y},fn.prototype.editInternal=function(l,f){return this._factory===null&&(this._factory=l.getFactory()),l instanceof Et?this.editGeometryCollection(l,f):l instanceof yi?this.editPolygon(l,f):l instanceof cn?f.edit(l,this._factory):l instanceof ln?f.edit(l,this._factory):(be.shouldNeverReachHere("Unsupported Geometry class: "+l.getClass().getName()),null)},fn.prototype.editGeometryCollection=function(l,f){for(var y=f.edit(l,this._factory),x=new Kt,O=0;O<y.getNumGeometries();O++){var U=this.edit(y.getGeometryN(O),f);U===null||U.isEmpty()||x.add(U)}return y.getClass()===li?this._factory.createMultiPoint(x.toArray([])):y.getClass()===fr?this._factory.createMultiLineString(x.toArray([])):y.getClass()===Jn?this._factory.createMultiPolygon(x.toArray([])):this._factory.createGeometryCollection(x.toArray([]))},fn.prototype.editPolygon=function(l,f){var y=f.edit(l,this._factory);if(y===null&&(y=this._factory.createPolygon(null)),y.isEmpty())return y;var x=this.edit(y.getExteriorRing(),f);if(x===null||x.isEmpty())return this._factory.createPolygon();for(var O=new Kt,U=0;U<y.getNumInteriorRing();U++){var H=this.edit(y.getInteriorRingN(U),f);H===null||H.isEmpty()||O.add(H)}return this._factory.createPolygon(x,O.toArray([]))},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.GeometryEditorOperation=function(){},hi.NoOpGeometryOperation.get=function(){return ja},hi.CoordinateOperation.get=function(){return bl},hi.CoordinateSequenceOperation.get=function(){return Yi},Object.defineProperties(fn,hi);var ja=function(){};ja.prototype.edit=function(l,f){return l},ja.prototype.interfaces_=function(){return[fn.GeometryEditorOperation]},ja.prototype.getClass=function(){return ja};var bl=function(){};bl.prototype.edit=function(l,f){var y=this.editCoordinates(l.getCoordinates(),l);return y===null?l:l instanceof Fi?f.createLinearRing(y):l instanceof ln?f.createLineString(y):l instanceof cn?y.length>0?f.createPoint(y[0]):f.createPoint():l},bl.prototype.interfaces_=function(){return[fn.GeometryEditorOperation]},bl.prototype.getClass=function(){return bl};var Yi=function(){};Yi.prototype.edit=function(l,f){return l instanceof Fi?f.createLinearRing(this.edit(l.getCoordinateSequence(),l)):l instanceof ln?f.createLineString(this.edit(l.getCoordinateSequence(),l)):l instanceof cn?f.createPoint(this.edit(l.getCoordinateSequence(),l)):l},Yi.prototype.interfaces_=function(){return[fn.GeometryEditorOperation]},Yi.prototype.getClass=function(){return Yi};var ti=function(){if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var l=arguments[0];this._coordinates=new Array(l).fill(null);for(var f=0;f<l;f++)this._coordinates[f]=new ie}else if(Q(arguments[0],_t)){var y=arguments[0];if(y===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=y.getDimension(),this._coordinates=new Array(y.size()).fill(null);for(var x=0;x<this._coordinates.length;x++)this._coordinates[x]=y.getCoordinateCopy(x)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var O=arguments[0],U=arguments[1];this._coordinates=O,this._dimension=U,O===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var H=arguments[0],me=arguments[1];this._coordinates=new Array(H).fill(null),this._dimension=me;for(var je=0;je<H;je++)this._coordinates[je]=new ie}}},If={serialVersionUID:{configurable:!0}};ti.prototype.setOrdinate=function(l,f,y){switch(f){case _t.X:this._coordinates[l].x=y;break;case _t.Y:this._coordinates[l].y=y;break;case _t.Z:this._coordinates[l].z=y;break;default:throw new G("invalid ordinateIndex")}},ti.prototype.size=function(){return this._coordinates.length},ti.prototype.getOrdinate=function(l,f){switch(f){case _t.X:return this._coordinates[l].x;case _t.Y:return this._coordinates[l].y;case _t.Z:return this._coordinates[l].z}return J.NaN},ti.prototype.getCoordinate=function(){if(arguments.length===1){var l=arguments[0];return this._coordinates[l]}if(arguments.length===2){var f=arguments[0],y=arguments[1];y.x=this._coordinates[f].x,y.y=this._coordinates[f].y,y.z=this._coordinates[f].z}},ti.prototype.getCoordinateCopy=function(l){return new ie(this._coordinates[l])},ti.prototype.getDimension=function(){return this._dimension},ti.prototype.getX=function(l){return this._coordinates[l].x},ti.prototype.clone=function(){for(var l=new Array(this.size()).fill(null),f=0;f<this._coordinates.length;f++)l[f]=this._coordinates[f].clone();return new ti(l,this._dimension)},ti.prototype.expandEnvelope=function(l){for(var f=0;f<this._coordinates.length;f++)l.expandToInclude(this._coordinates[f]);return l},ti.prototype.copy=function(){for(var l=new Array(this.size()).fill(null),f=0;f<this._coordinates.length;f++)l[f]=this._coordinates[f].copy();return new ti(l,this._dimension)},ti.prototype.toString=function(){if(this._coordinates.length>0){var l=new ve(17*this._coordinates.length);l.append("("),l.append(this._coordinates[0]);for(var f=1;f<this._coordinates.length;f++)l.append(", "),l.append(this._coordinates[f]);return l.append(")"),l.toString()}return"()"},ti.prototype.getY=function(l){return this._coordinates[l].y},ti.prototype.toCoordinateArray=function(){return this._coordinates},ti.prototype.interfaces_=function(){return[_t,n]},ti.prototype.getClass=function(){return ti},If.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ti,If);var Us=function(){},ra={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Us.prototype.readResolve=function(){return Us.instance()},Us.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];return new ti(l)}if(Q(arguments[0],_t)){var f=arguments[0];return new ti(f)}}else if(arguments.length===2){var y=arguments[0],x=arguments[1];return x>3&&(x=3),x<2?new ti(y):new ti(y,x)}},Us.prototype.interfaces_=function(){return[Pe,n]},Us.prototype.getClass=function(){return Us},Us.instance=function(){return Us.instanceObject},ra.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ra.instanceObject.get=function(){return new Us},Object.defineProperties(Us,ra);var Tc=function(l){function f(){l.call(this),this.map_=new Map}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.get=function(y){return this.map_.get(y)||null},f.prototype.put=function(y,x){return this.map_.set(y,x),x},f.prototype.values=function(){for(var y=new Kt,x=this.map_.values(),O=x.next();!O.done;)y.add(O.value),O=x.next();return y},f.prototype.entrySet=function(){var y=new lt;return this.map_.entries().forEach(function(x){return y.add(x)}),y},f.prototype.size=function(){return this.map_.size()},f}(We),wn=function l(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=l.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof ha){var f=arguments[0];this._modelType=f,f===l.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var y=arguments[0];this._modelType=l.FIXED,this.setScale(y)}else if(arguments[0]instanceof l){var x=arguments[0];this._modelType=x._modelType,this._scale=x._scale}}},Ma={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};wn.prototype.equals=function(l){if(!(l instanceof wn))return!1;var f=l;return this._modelType===f._modelType&&this._scale===f._scale},wn.prototype.compareTo=function(l){var f=l,y=this.getMaximumSignificantDigits(),x=f.getMaximumSignificantDigits();return new de(y).compareTo(new de(x))},wn.prototype.getScale=function(){return this._scale},wn.prototype.isFloating=function(){return this._modelType===wn.FLOATING||this._modelType===wn.FLOATING_SINGLE},wn.prototype.getType=function(){return this._modelType},wn.prototype.toString=function(){var l="UNKNOWN";return this._modelType===wn.FLOATING?l="Floating":this._modelType===wn.FLOATING_SINGLE?l="Floating-Single":this._modelType===wn.FIXED&&(l="Fixed (Scale="+this.getScale()+")"),l},wn.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var l=arguments[0];return J.isNaN(l)||this._modelType===wn.FLOATING_SINGLE?l:this._modelType===wn.FIXED?Math.round(l*this._scale)/this._scale:l}if(arguments[0]instanceof ie){var f=arguments[0];if(this._modelType===wn.FLOATING)return null;f.x=this.makePrecise(f.x),f.y=this.makePrecise(f.y)}},wn.prototype.getMaximumSignificantDigits=function(){var l=16;return this._modelType===wn.FLOATING?l=16:this._modelType===wn.FLOATING_SINGLE?l=6:this._modelType===wn.FIXED&&(l=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),l},wn.prototype.setScale=function(l){this._scale=Math.abs(l)},wn.prototype.interfaces_=function(){return[n,pe]},wn.prototype.getClass=function(){return wn},wn.mostPrecise=function(l,f){return l.compareTo(f)>=0?l:f},Ma.serialVersionUID.get=function(){return 7777263578777804e3},Ma.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(wn,Ma);var ha=function l(f){this._name=f||null,l.nameToTypeMap.put(f,this)},ro={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ha.prototype.readResolve=function(){return ha.nameToTypeMap.get(this._name)},ha.prototype.toString=function(){return this._name},ha.prototype.interfaces_=function(){return[n]},ha.prototype.getClass=function(){return ha},ro.serialVersionUID.get=function(){return-552860263173159e4},ro.nameToTypeMap.get=function(){return new Tc},Object.defineProperties(ha,ro),wn.Type=ha,wn.FIXED=new ha("FIXED"),wn.FLOATING=new ha("FLOATING"),wn.FLOATING_SINGLE=new ha("FLOATING SINGLE");var dn=function l(){this._precisionModel=new wn,this._SRID=0,this._coordinateSequenceFactory=l.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Q(arguments[0],Pe)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof wn&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},su={serialVersionUID:{configurable:!0}};dn.prototype.toGeometry=function(l){return l.isNull()?this.createPoint(null):l.getMinX()===l.getMaxX()&&l.getMinY()===l.getMaxY()?this.createPoint(new ie(l.getMinX(),l.getMinY())):l.getMinX()===l.getMaxX()||l.getMinY()===l.getMaxY()?this.createLineString([new ie(l.getMinX(),l.getMinY()),new ie(l.getMaxX(),l.getMaxY())]):this.createPolygon(this.createLinearRing([new ie(l.getMinX(),l.getMinY()),new ie(l.getMinX(),l.getMaxY()),new ie(l.getMaxX(),l.getMaxY()),new ie(l.getMaxX(),l.getMinY()),new ie(l.getMinX(),l.getMinY())]),null)},dn.prototype.createLineString=function(l){return l?l instanceof Array?new ln(this.getCoordinateSequenceFactory().create(l),this):Q(l,_t)?new ln(l,this):void 0:new ln(this.getCoordinateSequenceFactory().create([]),this)},dn.prototype.createMultiLineString=function(){if(arguments.length===0)return new fr(null,this);if(arguments.length===1){var l=arguments[0];return new fr(l,this)}},dn.prototype.buildGeometry=function(l){for(var f=null,y=!1,x=!1,O=l.iterator();O.hasNext();){var U=O.next(),H=U.getClass();f===null&&(f=H),H!==f&&(y=!0),U.isGeometryCollectionOrDerived()&&(x=!0)}if(f===null)return this.createGeometryCollection();if(y||x)return this.createGeometryCollection(dn.toGeometryArray(l));var me=l.iterator().next();if(l.size()>1){if(me instanceof yi)return this.createMultiPolygon(dn.toPolygonArray(l));if(me instanceof ln)return this.createMultiLineString(dn.toLineStringArray(l));if(me instanceof cn)return this.createMultiPoint(dn.toPointArray(l));be.shouldNeverReachHere("Unhandled class: "+me.getClass().getName())}return me},dn.prototype.createMultiPointFromCoords=function(l){return this.createMultiPoint(l!==null?this.getCoordinateSequenceFactory().create(l):null)},dn.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof ie){var l=arguments[0];return this.createPoint(l!==null?this.getCoordinateSequenceFactory().create([l]):null)}if(Q(arguments[0],_t)){var f=arguments[0];return new cn(f,this)}}},dn.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},dn.prototype.createPolygon=function(){if(arguments.length===0)return new yi(null,null,this);if(arguments.length===1){if(Q(arguments[0],_t)){var l=arguments[0];return this.createPolygon(this.createLinearRing(l))}if(arguments[0]instanceof Array){var f=arguments[0];return this.createPolygon(this.createLinearRing(f))}if(arguments[0]instanceof Fi){var y=arguments[0];return this.createPolygon(y,null)}}else if(arguments.length===2){var x=arguments[0],O=arguments[1];return new yi(x,O,this)}},dn.prototype.getSRID=function(){return this._SRID},dn.prototype.createGeometryCollection=function(){if(arguments.length===0)return new Et(null,this);if(arguments.length===1){var l=arguments[0];return new Et(l,this)}},dn.prototype.createGeometry=function(l){return new fn(this).edit(l,{edit:function(){if(arguments.length===2){var f=arguments[0];return this._coordinateSequenceFactory.create(f)}}})},dn.prototype.getPrecisionModel=function(){return this._precisionModel},dn.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];return this.createLinearRing(l!==null?this.getCoordinateSequenceFactory().create(l):null)}if(Q(arguments[0],_t)){var f=arguments[0];return new Fi(f,this)}}},dn.prototype.createMultiPolygon=function(){if(arguments.length===0)return new Jn(null,this);if(arguments.length===1){var l=arguments[0];return new Jn(l,this)}},dn.prototype.createMultiPoint=function(){if(arguments.length===0)return new li(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var l=arguments[0];return new li(l,this)}if(arguments[0]instanceof Array){var f=arguments[0];return this.createMultiPoint(f!==null?this.getCoordinateSequenceFactory().create(f):null)}if(Q(arguments[0],_t)){var y=arguments[0];if(y===null)return this.createMultiPoint(new Array(0).fill(null));for(var x=new Array(y.size()).fill(null),O=0;O<y.size();O++){var U=this.getCoordinateSequenceFactory().create(1,y.getDimension());Ur.copy(y,O,U,0,1),x[O]=this.createPoint(U)}return this.createMultiPoint(x)}}},dn.prototype.interfaces_=function(){return[n]},dn.prototype.getClass=function(){return dn},dn.toMultiPolygonArray=function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.toGeometryArray=function(l){if(l===null)return null;var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.getDefaultCoordinateSequenceFactory=function(){return Us.instance()},dn.toMultiLineStringArray=function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.toLineStringArray=function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.toMultiPointArray=function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.toLinearRingArray=function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.toPointArray=function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.toPolygonArray=function(l){var f=new Array(l.size()).fill(null);return l.toArray(f)},dn.createPointFromInternalCoord=function(l,f){return f.getPrecisionModel().makePrecise(l),f.getFactory().createPoint(l)},su.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(dn,su);var yp=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ts=function(l){this.geometryFactory=l||new dn};Ts.prototype.read=function(l){var f,y=(f=typeof l=="string"?JSON.parse(l):l).type;if(!Nu[y])throw new Error("Unknown GeoJSON type: "+f.type);return yp.indexOf(y)!==-1?Nu[y].apply(this,[f.coordinates]):y==="GeometryCollection"?Nu[y].apply(this,[f.geometries]):Nu[y].apply(this,[f])},Ts.prototype.write=function(l){var f=l.getGeometryType();if(!Ba[f])throw new Error("Geometry is not supported");return Ba[f].apply(this,[l])};var Nu={Feature:function(l){var f={};for(var y in l)f[y]=l[y];if(l.geometry){var x=l.geometry.type;if(!Nu[x])throw new Error("Unknown GeoJSON type: "+l.type);f.geometry=this.read(l.geometry)}return l.bbox&&(f.bbox=Nu.bbox.apply(this,[l.bbox])),f},FeatureCollection:function(l){var f={};if(l.features){f.features=[];for(var y=0;y<l.features.length;++y)f.features.push(this.read(l.features[y]))}return l.bbox&&(f.bbox=this.parse.bbox.apply(this,[l.bbox])),f},coordinates:function(l){for(var f=[],y=0;y<l.length;++y){var x=l[y];f.push(new ie(x[0],x[1]))}return f},bbox:function(l){return this.geometryFactory.createLinearRing([new ie(l[0],l[1]),new ie(l[2],l[1]),new ie(l[2],l[3]),new ie(l[0],l[3]),new ie(l[0],l[1])])},Point:function(l){var f=new ie(l[0],l[1]);return this.geometryFactory.createPoint(f)},MultiPoint:function(l){for(var f=[],y=0;y<l.length;++y)f.push(Nu.Point.apply(this,[l[y]]));return this.geometryFactory.createMultiPoint(f)},LineString:function(l){var f=Nu.coordinates.apply(this,[l]);return this.geometryFactory.createLineString(f)},MultiLineString:function(l){for(var f=[],y=0;y<l.length;++y)f.push(Nu.LineString.apply(this,[l[y]]));return this.geometryFactory.createMultiLineString(f)},Polygon:function(l){for(var f=Nu.coordinates.apply(this,[l[0]]),y=this.geometryFactory.createLinearRing(f),x=[],O=1;O<l.length;++O){var U=l[O],H=Nu.coordinates.apply(this,[U]),me=this.geometryFactory.createLinearRing(H);x.push(me)}return this.geometryFactory.createPolygon(y,x)},MultiPolygon:function(l){for(var f=[],y=0;y<l.length;++y){var x=l[y];f.push(Nu.Polygon.apply(this,[x]))}return this.geometryFactory.createMultiPolygon(f)},GeometryCollection:function(l){for(var f=[],y=0;y<l.length;++y){var x=l[y];f.push(this.read(x))}return this.geometryFactory.createGeometryCollection(f)}},Ba={coordinate:function(l){return[l.x,l.y]},Point:function(l){return{type:"Point",coordinates:Ba.coordinate.apply(this,[l.getCoordinate()])}},MultiPoint:function(l){for(var f=[],y=0;y<l._geometries.length;++y){var x=l._geometries[y],O=Ba.Point.apply(this,[x]);f.push(O.coordinates)}return{type:"MultiPoint",coordinates:f}},LineString:function(l){for(var f=[],y=l.getCoordinates(),x=0;x<y.length;++x){var O=y[x];f.push(Ba.coordinate.apply(this,[O]))}return{type:"LineString",coordinates:f}},MultiLineString:function(l){for(var f=[],y=0;y<l._geometries.length;++y){var x=l._geometries[y],O=Ba.LineString.apply(this,[x]);f.push(O.coordinates)}return{type:"MultiLineString",coordinates:f}},Polygon:function(l){var f=[],y=Ba.LineString.apply(this,[l._shell]);f.push(y.coordinates);for(var x=0;x<l._holes.length;++x){var O=l._holes[x],U=Ba.LineString.apply(this,[O]);f.push(U.coordinates)}return{type:"Polygon",coordinates:f}},MultiPolygon:function(l){for(var f=[],y=0;y<l._geometries.length;++y){var x=l._geometries[y],O=Ba.Polygon.apply(this,[x]);f.push(O.coordinates)}return{type:"MultiPolygon",coordinates:f}},GeometryCollection:function(l){for(var f=[],y=0;y<l._geometries.length;++y){var x=l._geometries[y],O=x.getGeometryType();f.push(Ba[O].apply(this,[x]))}return{type:"GeometryCollection",geometries:f}}},$a=function(l){this.geometryFactory=l||new dn,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ts(this.geometryFactory)};$a.prototype.read=function(l){var f=this.parser.read(l);return this.precisionModel.getType()===wn.FIXED&&this.reducePrecision(f),f},$a.prototype.reducePrecision=function(l){var f,y;if(l.coordinate)this.precisionModel.makePrecise(l.coordinate);else if(l.points)for(f=0,y=l.points.length;f<y;f++)this.precisionModel.makePrecise(l.points[f]);else if(l.geometries)for(f=0,y=l.geometries.length;f<y;f++)this.reducePrecision(l.geometries[f])};var rl=function(){this.parser=new Ts(this.geometryFactory)};rl.prototype.write=function(l){return this.parser.write(l)};var Wt=function(){},xl={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.opposite=function(l){return l===Wt.LEFT?Wt.RIGHT:l===Wt.RIGHT?Wt.LEFT:l},xl.ON.get=function(){return 0},xl.LEFT.get=function(){return 1},xl.RIGHT.get=function(){return 2},Object.defineProperties(Wt,xl),(q.prototype=new Error).name="EmptyStackException",(M.prototype=new to).add=function(l){return this.array_.push(l),!0},M.prototype.get=function(l){if(l<0||l>=this.size())throw new Error;return this.array_[l]},M.prototype.push=function(l){return this.array_.push(l),l},M.prototype.pop=function(l){if(this.array_.length===0)throw new q;return this.array_.pop()},M.prototype.peek=function(){if(this.array_.length===0)throw new q;return this.array_[this.array_.length-1]},M.prototype.empty=function(){return this.array_.length===0},M.prototype.isEmpty=function(){return this.empty()},M.prototype.search=function(l){return this.array_.indexOf(l)},M.prototype.size=function(){return this.array_.length},M.prototype.toArray=function(){for(var l=[],f=0,y=this.array_.length;f<y;f++)l.push(this.array_[f]);return l};var Uu=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Uu.prototype.getCoordinate=function(){return this._minCoord},Uu.prototype.getRightmostSide=function(l,f){var y=this.getRightmostSideOfSegment(l,f);return y<0&&(y=this.getRightmostSideOfSegment(l,f-1)),y<0&&(this._minCoord=null,this.checkForRightmostCoordinate(l)),y},Uu.prototype.findRightmostEdgeAtVertex=function(){var l=this._minDe.getEdge().getCoordinates();be.isTrue(this._minIndex>0&&this._minIndex<l.length,"rightmost point expected to be interior vertex of edge");var f=l[this._minIndex-1],y=l[this._minIndex+1],x=mt.computeOrientation(this._minCoord,y,f),O=!1;(f.y<this._minCoord.y&&y.y<this._minCoord.y&&x===mt.COUNTERCLOCKWISE||f.y>this._minCoord.y&&y.y>this._minCoord.y&&x===mt.CLOCKWISE)&&(O=!0),O&&(this._minIndex=this._minIndex-1)},Uu.prototype.getRightmostSideOfSegment=function(l,f){var y=l.getEdge().getCoordinates();if(f<0||f+1>=y.length||y[f].y===y[f+1].y)return-1;var x=Wt.LEFT;return y[f].y<y[f+1].y&&(x=Wt.RIGHT),x},Uu.prototype.getEdge=function(){return this._orientedDe},Uu.prototype.checkForRightmostCoordinate=function(l){for(var f=l.getEdge().getCoordinates(),y=0;y<f.length-1;y++)(this._minCoord===null||f[y].x>this._minCoord.x)&&(this._minDe=l,this._minIndex=y,this._minCoord=f[y])},Uu.prototype.findRightmostEdgeAtNode=function(){var l=this._minDe.getNode().getEdges();this._minDe=l.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Uu.prototype.findEdge=function(l){for(var f=l.iterator();f.hasNext();){var y=f.next();y.isForward()&&this.checkForRightmostCoordinate(y)}be.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Wt.LEFT&&(this._orientedDe=this._minDe.getSym())},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu};var wl=function(l){function f(y,x){l.call(this,f.msgWithCoord(y,x)),this.pt=x?new ie(x):null,this.name="TopologyException"}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.getCoordinate=function(){return this.pt},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f.msgWithCoord=function(y,x){return x?y:y+" [ "+x+" ]"},f}(pt),Jc=function(){this.array_=[]};Jc.prototype.addLast=function(l){this.array_.push(l)},Jc.prototype.removeFirst=function(){return this.array_.shift()},Jc.prototype.isEmpty=function(){return this.array_.length===0};var os=function(){this._finder=null,this._dirEdgeList=new Kt,this._nodes=new Kt,this._rightMostCoord=null,this._env=null,this._finder=new Uu};os.prototype.clearVisitedEdges=function(){for(var l=this._dirEdgeList.iterator();l.hasNext();)l.next().setVisited(!1)},os.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},os.prototype.computeNodeDepth=function(l){for(var f=null,y=l.getEdges().iterator();y.hasNext();){var x=y.next();if(x.isVisited()||x.getSym().isVisited()){f=x;break}}if(f===null)throw new wl("unable to find edge to compute depths at "+l.getCoordinate());l.getEdges().computeDepths(f);for(var O=l.getEdges().iterator();O.hasNext();){var U=O.next();U.setVisited(!0),this.copySymDepths(U)}},os.prototype.computeDepth=function(l){this.clearVisitedEdges();var f=this._finder.getEdge();f.setEdgeDepths(Wt.RIGHT,l),this.copySymDepths(f),this.computeDepths(f)},os.prototype.create=function(l){this.addReachable(l),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},os.prototype.findResultEdges=function(){for(var l=this._dirEdgeList.iterator();l.hasNext();){var f=l.next();f.getDepth(Wt.RIGHT)>=1&&f.getDepth(Wt.LEFT)<=0&&!f.isInteriorAreaEdge()&&f.setInResult(!0)}},os.prototype.computeDepths=function(l){var f=new lt,y=new Jc,x=l.getNode();for(y.addLast(x),f.add(x),l.setVisited(!0);!y.isEmpty();){var O=y.removeFirst();f.add(O),this.computeNodeDepth(O);for(var U=O.getEdges().iterator();U.hasNext();){var H=U.next().getSym();if(!H.isVisited()){var me=H.getNode();f.contains(me)||(y.addLast(me),f.add(me))}}}},os.prototype.compareTo=function(l){var f=l;return this._rightMostCoord.x<f._rightMostCoord.x?-1:this._rightMostCoord.x>f._rightMostCoord.x?1:0},os.prototype.getEnvelope=function(){if(this._env===null){for(var l=new Xt,f=this._dirEdgeList.iterator();f.hasNext();)for(var y=f.next().getEdge().getCoordinates(),x=0;x<y.length-1;x++)l.expandToInclude(y[x]);this._env=l}return this._env},os.prototype.addReachable=function(l){var f=new M;for(f.add(l);!f.empty();){var y=f.pop();this.add(y,f)}},os.prototype.copySymDepths=function(l){var f=l.getSym();f.setDepth(Wt.LEFT,l.getDepth(Wt.RIGHT)),f.setDepth(Wt.RIGHT,l.getDepth(Wt.LEFT))},os.prototype.add=function(l,f){l.setVisited(!0),this._nodes.add(l);for(var y=l.getEdges().iterator();y.hasNext();){var x=y.next();this._dirEdgeList.add(x);var O=x.getSym().getNode();O.isVisited()||f.push(O)}},os.prototype.getNodes=function(){return this._nodes},os.prototype.getDirectedEdges=function(){return this._dirEdgeList},os.prototype.interfaces_=function(){return[pe]},os.prototype.getClass=function(){return os};var Hi=function l(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var f=arguments[0];this.init(f.length)}else if(Number.isInteger(arguments[0])){var y=arguments[0];this.init(1),this.location[Wt.ON]=y}else if(arguments[0]instanceof l){var x=arguments[0];if(this.init(x.location.length),x!==null)for(var O=0;O<this.location.length;O++)this.location[O]=x.location[O]}}else if(arguments.length===3){var U=arguments[0],H=arguments[1],me=arguments[2];this.init(3),this.location[Wt.ON]=U,this.location[Wt.LEFT]=H,this.location[Wt.RIGHT]=me}};Hi.prototype.setAllLocations=function(l){for(var f=0;f<this.location.length;f++)this.location[f]=l},Hi.prototype.isNull=function(){for(var l=0;l<this.location.length;l++)if(this.location[l]!==ae.NONE)return!1;return!0},Hi.prototype.setAllLocationsIfNull=function(l){for(var f=0;f<this.location.length;f++)this.location[f]===ae.NONE&&(this.location[f]=l)},Hi.prototype.isLine=function(){return this.location.length===1},Hi.prototype.merge=function(l){if(l.location.length>this.location.length){var f=new Array(3).fill(null);f[Wt.ON]=this.location[Wt.ON],f[Wt.LEFT]=ae.NONE,f[Wt.RIGHT]=ae.NONE,this.location=f}for(var y=0;y<this.location.length;y++)this.location[y]===ae.NONE&&y<l.location.length&&(this.location[y]=l.location[y])},Hi.prototype.getLocations=function(){return this.location},Hi.prototype.flip=function(){if(this.location.length<=1)return null;var l=this.location[Wt.LEFT];this.location[Wt.LEFT]=this.location[Wt.RIGHT],this.location[Wt.RIGHT]=l},Hi.prototype.toString=function(){var l=new ve;return this.location.length>1&&l.append(ae.toLocationSymbol(this.location[Wt.LEFT])),l.append(ae.toLocationSymbol(this.location[Wt.ON])),this.location.length>1&&l.append(ae.toLocationSymbol(this.location[Wt.RIGHT])),l.toString()},Hi.prototype.setLocations=function(l,f,y){this.location[Wt.ON]=l,this.location[Wt.LEFT]=f,this.location[Wt.RIGHT]=y},Hi.prototype.get=function(l){return l<this.location.length?this.location[l]:ae.NONE},Hi.prototype.isArea=function(){return this.location.length>1},Hi.prototype.isAnyNull=function(){for(var l=0;l<this.location.length;l++)if(this.location[l]===ae.NONE)return!0;return!1},Hi.prototype.setLocation=function(){if(arguments.length===1){var l=arguments[0];this.setLocation(Wt.ON,l)}else if(arguments.length===2){var f=arguments[0],y=arguments[1];this.location[f]=y}},Hi.prototype.init=function(l){this.location=new Array(l).fill(null),this.setAllLocations(ae.NONE)},Hi.prototype.isEqualOnSide=function(l,f){return this.location[f]===l.location[f]},Hi.prototype.allPositionsEqual=function(l){for(var f=0;f<this.location.length;f++)if(this.location[f]!==l)return!1;return!0},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi};var Ai=function l(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var f=arguments[0];this.elt[0]=new Hi(f),this.elt[1]=new Hi(f)}else if(arguments[0]instanceof l){var y=arguments[0];this.elt[0]=new Hi(y.elt[0]),this.elt[1]=new Hi(y.elt[1])}}else if(arguments.length===2){var x=arguments[0],O=arguments[1];this.elt[0]=new Hi(ae.NONE),this.elt[1]=new Hi(ae.NONE),this.elt[x].setLocation(O)}else if(arguments.length===3){var U=arguments[0],H=arguments[1],me=arguments[2];this.elt[0]=new Hi(U,H,me),this.elt[1]=new Hi(U,H,me)}else if(arguments.length===4){var je=arguments[0],nt=arguments[1],wt=arguments[2],kt=arguments[3];this.elt[0]=new Hi(ae.NONE,ae.NONE,ae.NONE),this.elt[1]=new Hi(ae.NONE,ae.NONE,ae.NONE),this.elt[je].setLocations(nt,wt,kt)}};Ai.prototype.getGeometryCount=function(){var l=0;return this.elt[0].isNull()||l++,this.elt[1].isNull()||l++,l},Ai.prototype.setAllLocations=function(l,f){this.elt[l].setAllLocations(f)},Ai.prototype.isNull=function(l){return this.elt[l].isNull()},Ai.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var l=arguments[0];this.setAllLocationsIfNull(0,l),this.setAllLocationsIfNull(1,l)}else if(arguments.length===2){var f=arguments[0],y=arguments[1];this.elt[f].setAllLocationsIfNull(y)}},Ai.prototype.isLine=function(l){return this.elt[l].isLine()},Ai.prototype.merge=function(l){for(var f=0;f<2;f++)this.elt[f]===null&&l.elt[f]!==null?this.elt[f]=new Hi(l.elt[f]):this.elt[f].merge(l.elt[f])},Ai.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Ai.prototype.getLocation=function(){if(arguments.length===1){var l=arguments[0];return this.elt[l].get(Wt.ON)}if(arguments.length===2){var f=arguments[0],y=arguments[1];return this.elt[f].get(y)}},Ai.prototype.toString=function(){var l=new ve;return this.elt[0]!==null&&(l.append("A:"),l.append(this.elt[0].toString())),this.elt[1]!==null&&(l.append(" B:"),l.append(this.elt[1].toString())),l.toString()},Ai.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var l=arguments[0];return this.elt[l].isArea()}},Ai.prototype.isAnyNull=function(l){return this.elt[l].isAnyNull()},Ai.prototype.setLocation=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];this.elt[l].setLocation(Wt.ON,f)}else if(arguments.length===3){var y=arguments[0],x=arguments[1],O=arguments[2];this.elt[y].setLocation(x,O)}},Ai.prototype.isEqualOnSide=function(l,f){return this.elt[0].isEqualOnSide(l.elt[0],f)&&this.elt[1].isEqualOnSide(l.elt[1],f)},Ai.prototype.allPositionsEqual=function(l,f){return this.elt[l].allPositionsEqual(f)},Ai.prototype.toLine=function(l){this.elt[l].isArea()&&(this.elt[l]=new Hi(this.elt[l].location[0]))},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.toLineLabel=function(l){for(var f=new Ai(ae.NONE),y=0;y<2;y++)f.setLocation(y,l.getLocation(y));return f};var Wo=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Kt,this._pts=new Kt,this._label=new Ai(ae.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Kt,this._geometryFactory=null;var l=arguments[0],f=arguments[1];this._geometryFactory=f,this.computePoints(l),this.computeRing()};Wo.prototype.computeRing=function(){if(this._ring!==null)return null;for(var l=new Array(this._pts.size()).fill(null),f=0;f<this._pts.size();f++)l[f]=this._pts.get(f);this._ring=this._geometryFactory.createLinearRing(l),this._isHole=mt.isCCW(this._ring.getCoordinates())},Wo.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},Wo.prototype.computePoints=function(l){this._startDe=l;var f=l,y=!0;do{if(f===null)throw new wl("Found null DirectedEdge");if(f.getEdgeRing()===this)throw new wl("Directed Edge visited twice during ring-building at "+f.getCoordinate());this._edges.add(f);var x=f.getLabel();be.isTrue(x.isArea()),this.mergeLabel(x),this.addPoints(f.getEdge(),f.isForward(),y),y=!1,this.setEdgeRing(f,this),f=this.getNext(f)}while(f!==this._startDe)},Wo.prototype.getLinearRing=function(){return this._ring},Wo.prototype.getCoordinate=function(l){return this._pts.get(l)},Wo.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var l=this._startDe;do{var f=l.getNode().getEdges().getOutgoingDegree(this);f>this._maxNodeDegree&&(this._maxNodeDegree=f),l=this.getNext(l)}while(l!==this._startDe);this._maxNodeDegree*=2},Wo.prototype.addPoints=function(l,f,y){var x=l.getCoordinates();if(f){var O=1;y&&(O=0);for(var U=O;U<x.length;U++)this._pts.add(x[U])}else{var H=x.length-2;y&&(H=x.length-1);for(var me=H;me>=0;me--)this._pts.add(x[me])}},Wo.prototype.isHole=function(){return this._isHole},Wo.prototype.setInResult=function(){var l=this._startDe;do l.getEdge().setInResult(!0),l=l.getNext();while(l!==this._startDe)},Wo.prototype.containsPoint=function(l){var f=this.getLinearRing();if(!f.getEnvelopeInternal().contains(l)||!mt.isPointInRing(l,f.getCoordinates()))return!1;for(var y=this._holes.iterator();y.hasNext();)if(y.next().containsPoint(l))return!1;return!0},Wo.prototype.addHole=function(l){this._holes.add(l)},Wo.prototype.isShell=function(){return this._shell===null},Wo.prototype.getLabel=function(){return this._label},Wo.prototype.getEdges=function(){return this._edges},Wo.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Wo.prototype.getShell=function(){return this._shell},Wo.prototype.mergeLabel=function(){if(arguments.length===1){var l=arguments[0];this.mergeLabel(l,0),this.mergeLabel(l,1)}else if(arguments.length===2){var f=arguments[0],y=arguments[1],x=f.getLocation(y,Wt.RIGHT);if(x===ae.NONE)return null;if(this._label.getLocation(y)===ae.NONE)return this._label.setLocation(y,x),null}},Wo.prototype.setShell=function(l){this._shell=l,l!==null&&l.addHole(this)},Wo.prototype.toPolygon=function(l){for(var f=new Array(this._holes.size()).fill(null),y=0;y<this._holes.size();y++)f[y]=this._holes.get(y).getLinearRing();return l.createPolygon(this.getLinearRing(),f)},Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo};var vp=function(l){function f(){var y=arguments[0],x=arguments[1];l.call(this,y,x)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.setEdgeRing=function(y,x){y.setMinEdgeRing(x)},f.prototype.getNext=function(y){return y.getNextMin()},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Wo),Lc=function(l){function f(){var y=arguments[0],x=arguments[1];l.call(this,y,x)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.buildMinimalRings=function(){var y=new Kt,x=this._startDe;do{if(x.getMinEdgeRing()===null){var O=new vp(x,this._geometryFactory);y.add(O)}x=x.getNext()}while(x!==this._startDe);return y},f.prototype.setEdgeRing=function(y,x){y.setEdgeRing(x)},f.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var y=this._startDe;do y.getNode().getEdges().linkMinimalDirectedEdges(this),y=y.getNext();while(y!==this._startDe)},f.prototype.getNext=function(y){return y.getNext()},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Wo),gs=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var l=arguments[0];this._label=l}}};gs.prototype.setVisited=function(l){this._isVisited=l},gs.prototype.setInResult=function(l){this._isInResult=l},gs.prototype.isCovered=function(){return this._isCovered},gs.prototype.isCoveredSet=function(){return this._isCoveredSet},gs.prototype.setLabel=function(l){this._label=l},gs.prototype.getLabel=function(){return this._label},gs.prototype.setCovered=function(l){this._isCovered=l,this._isCoveredSet=!0},gs.prototype.updateIM=function(l){be.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(l)},gs.prototype.isInResult=function(){return this._isInResult},gs.prototype.isVisited=function(){return this._isVisited},gs.prototype.interfaces_=function(){return[]},gs.prototype.getClass=function(){return gs};var jl=function(l){function f(){l.call(this),this._coord=null,this._edges=null;var y=arguments[0],x=arguments[1];this._coord=y,this._edges=x,this._label=new Ai(0,ae.NONE)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.isIncidentEdgeInResult=function(){for(var y=this.getEdges().getEdges().iterator();y.hasNext();)if(y.next().getEdge().isInResult())return!0;return!1},f.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},f.prototype.getCoordinate=function(){return this._coord},f.prototype.print=function(y){y.println("node "+this._coord+" lbl: "+this._label)},f.prototype.computeIM=function(y){},f.prototype.computeMergedLocation=function(y,x){var O=ae.NONE;if(O=this._label.getLocation(x),!y.isNull(x)){var U=y.getLocation(x);O!==ae.BOUNDARY&&(O=U)}return O},f.prototype.setLabel=function(){if(arguments.length!==2)return l.prototype.setLabel.apply(this,arguments);var y=arguments[0],x=arguments[1];this._label===null?this._label=new Ai(y,x):this._label.setLocation(y,x)},f.prototype.getEdges=function(){return this._edges},f.prototype.mergeLabel=function(){if(arguments[0]instanceof f){var y=arguments[0];this.mergeLabel(y._label)}else if(arguments[0]instanceof Ai)for(var x=arguments[0],O=0;O<2;O++){var U=this.computeMergedLocation(x,O);this._label.getLocation(O)===ae.NONE&&this._label.setLocation(O,U)}},f.prototype.add=function(y){this._edges.insert(y),y.setNode(this)},f.prototype.setLabelBoundary=function(y){if(this._label===null)return null;var x=ae.NONE;this._label!==null&&(x=this._label.getLocation(y));var O=null;switch(x){case ae.BOUNDARY:O=ae.INTERIOR;break;case ae.INTERIOR:default:O=ae.BOUNDARY}this._label.setLocation(y,O)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(gs),mu=function(){this.nodeMap=new k,this.nodeFact=null;var l=arguments[0];this.nodeFact=l};mu.prototype.find=function(l){return this.nodeMap.get(l)},mu.prototype.addNode=function(){if(arguments[0]instanceof ie){var l=arguments[0],f=this.nodeMap.get(l);return f===null&&(f=this.nodeFact.createNode(l),this.nodeMap.put(l,f)),f}if(arguments[0]instanceof jl){var y=arguments[0],x=this.nodeMap.get(y.getCoordinate());return x===null?(this.nodeMap.put(y.getCoordinate(),y),y):(x.mergeLabel(y),x)}},mu.prototype.print=function(l){for(var f=this.iterator();f.hasNext();)f.next().print(l)},mu.prototype.iterator=function(){return this.nodeMap.values().iterator()},mu.prototype.values=function(){return this.nodeMap.values()},mu.prototype.getBoundaryNodes=function(l){for(var f=new Kt,y=this.iterator();y.hasNext();){var x=y.next();x.getLabel().getLocation(l)===ae.BOUNDARY&&f.add(x)}return f},mu.prototype.add=function(l){var f=l.getCoordinate();this.addNode(f).add(l)},mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu};var Ei=function(){},Ls={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.isNorthern=function(l){return l===Ei.NE||l===Ei.NW},Ei.isOpposite=function(l,f){return l===f?!1:(l-f+4)%4===2},Ei.commonHalfPlane=function(l,f){if(l===f)return l;if((l-f+4)%4===2)return-1;var y=l<f?l:f;return y===0&&(l>f?l:f)===3?3:y},Ei.isInHalfPlane=function(l,f){return f===Ei.SE?l===Ei.SE||l===Ei.SW:l===f||l===f+1},Ei.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1];if(l===0&&f===0)throw new G("Cannot compute the quadrant for point ( "+l+", "+f+" )");return l>=0?f>=0?Ei.NE:Ei.SE:f>=0?Ei.NW:Ei.SW}if(arguments[0]instanceof ie&&arguments[1]instanceof ie){var y=arguments[0],x=arguments[1];if(x.x===y.x&&x.y===y.y)throw new G("Cannot compute the quadrant for two identical points "+y);return x.x>=y.x?x.y>=y.y?Ei.NE:Ei.SE:x.y>=y.y?Ei.NW:Ei.SW}},Ls.NE.get=function(){return 0},Ls.NW.get=function(){return 1},Ls.SW.get=function(){return 2},Ls.SE.get=function(){return 3},Object.defineProperties(Ei,Ls);var Xo=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var l=arguments[0];this._edge=l}else if(arguments.length===3){var f=arguments[0],y=arguments[1],x=arguments[2];this._edge=f,this.init(y,x),this._label=null}else if(arguments.length===4){var O=arguments[0],U=arguments[1],H=arguments[2],me=arguments[3];this._edge=O,this.init(U,H),this._label=me}};Xo.prototype.compareDirection=function(l){return this._dx===l._dx&&this._dy===l._dy?0:this._quadrant>l._quadrant?1:this._quadrant<l._quadrant?-1:mt.computeOrientation(l._p0,l._p1,this._p1)},Xo.prototype.getDy=function(){return this._dy},Xo.prototype.getCoordinate=function(){return this._p0},Xo.prototype.setNode=function(l){this._node=l},Xo.prototype.print=function(l){var f=Math.atan2(this._dy,this._dx),y=this.getClass().getName(),x=y.lastIndexOf("."),O=y.substring(x+1);l.print("  "+O+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+f+"   "+this._label)},Xo.prototype.compareTo=function(l){var f=l;return this.compareDirection(f)},Xo.prototype.getDirectedCoordinate=function(){return this._p1},Xo.prototype.getDx=function(){return this._dx},Xo.prototype.getLabel=function(){return this._label},Xo.prototype.getEdge=function(){return this._edge},Xo.prototype.getQuadrant=function(){return this._quadrant},Xo.prototype.getNode=function(){return this._node},Xo.prototype.toString=function(){var l=Math.atan2(this._dy,this._dx),f=this.getClass().getName(),y=f.lastIndexOf(".");return"  "+f.substring(y+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+l+"   "+this._label},Xo.prototype.computeLabel=function(l){},Xo.prototype.init=function(l,f){this._p0=l,this._p1=f,this._dx=f.x-l.x,this._dy=f.y-l.y,this._quadrant=Ei.quadrant(this._dx,this._dy),be.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Xo.prototype.interfaces_=function(){return[pe]},Xo.prototype.getClass=function(){return Xo};var nl=function(l){function f(){var y=arguments[0],x=arguments[1];if(l.call(this,y),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=x,x)this.init(y.getCoordinate(0),y.getCoordinate(1));else{var O=y.getNumPoints()-1;this.init(y.getCoordinate(O),y.getCoordinate(O-1))}this.computeDirectedLabel()}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.getNextMin=function(){return this._nextMin},f.prototype.getDepth=function(y){return this._depth[y]},f.prototype.setVisited=function(y){this._isVisited=y},f.prototype.computeDirectedLabel=function(){this._label=new Ai(this._edge.getLabel()),this._isForward||this._label.flip()},f.prototype.getNext=function(){return this._next},f.prototype.setDepth=function(y,x){if(this._depth[y]!==-999&&this._depth[y]!==x)throw new wl("assigned depths do not match",this.getCoordinate());this._depth[y]=x},f.prototype.isInteriorAreaEdge=function(){for(var y=!0,x=0;x<2;x++)this._label.isArea(x)&&this._label.getLocation(x,Wt.LEFT)===ae.INTERIOR&&this._label.getLocation(x,Wt.RIGHT)===ae.INTERIOR||(y=!1);return y},f.prototype.setNextMin=function(y){this._nextMin=y},f.prototype.print=function(y){l.prototype.print.call(this,y),y.print(" "+this._depth[Wt.LEFT]+"/"+this._depth[Wt.RIGHT]),y.print(" ("+this.getDepthDelta()+")"),this._isInResult&&y.print(" inResult")},f.prototype.setMinEdgeRing=function(y){this._minEdgeRing=y},f.prototype.isLineEdge=function(){var y=this._label.isLine(0)||this._label.isLine(1),x=!this._label.isArea(0)||this._label.allPositionsEqual(0,ae.EXTERIOR),O=!this._label.isArea(1)||this._label.allPositionsEqual(1,ae.EXTERIOR);return y&&x&&O},f.prototype.setEdgeRing=function(y){this._edgeRing=y},f.prototype.getMinEdgeRing=function(){return this._minEdgeRing},f.prototype.getDepthDelta=function(){var y=this._edge.getDepthDelta();return this._isForward||(y=-y),y},f.prototype.setInResult=function(y){this._isInResult=y},f.prototype.getSym=function(){return this._sym},f.prototype.isForward=function(){return this._isForward},f.prototype.getEdge=function(){return this._edge},f.prototype.printEdge=function(y){this.print(y),y.print(" "),this._isForward?this._edge.print(y):this._edge.printReverse(y)},f.prototype.setSym=function(y){this._sym=y},f.prototype.setVisitedEdge=function(y){this.setVisited(y),this._sym.setVisited(y)},f.prototype.setEdgeDepths=function(y,x){var O=this.getEdge().getDepthDelta();this._isForward||(O=-O);var U=1;y===Wt.LEFT&&(U=-1);var H=Wt.opposite(y),me=x+O*U;this.setDepth(y,x),this.setDepth(H,me)},f.prototype.getEdgeRing=function(){return this._edgeRing},f.prototype.isInResult=function(){return this._isInResult},f.prototype.setNext=function(y){this._next=y},f.prototype.isVisited=function(){return this._isVisited},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f.depthFactor=function(y,x){return y===ae.EXTERIOR&&x===ae.INTERIOR?1:y===ae.INTERIOR&&x===ae.EXTERIOR?-1:0},f}(Xo),Mu=function(){};Mu.prototype.createNode=function(l){return new jl(l,null)},Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu};var Ri=function(){if(this._edges=new Kt,this._nodes=null,this._edgeEndList=new Kt,arguments.length===0)this._nodes=new mu(new Mu);else if(arguments.length===1){var l=arguments[0];this._nodes=new mu(l)}};Ri.prototype.printEdges=function(l){l.println("Edges:");for(var f=0;f<this._edges.size();f++){l.println("edge "+f+":");var y=this._edges.get(f);y.print(l),y.eiList.print(l)}},Ri.prototype.find=function(l){return this._nodes.find(l)},Ri.prototype.addNode=function(){if(arguments[0]instanceof jl){var l=arguments[0];return this._nodes.addNode(l)}if(arguments[0]instanceof ie){var f=arguments[0];return this._nodes.addNode(f)}},Ri.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ri.prototype.linkResultDirectedEdges=function(){for(var l=this._nodes.iterator();l.hasNext();)l.next().getEdges().linkResultDirectedEdges()},Ri.prototype.debugPrintln=function(l){Ut.out.println(l)},Ri.prototype.isBoundaryNode=function(l,f){var y=this._nodes.find(f);if(y===null)return!1;var x=y.getLabel();return x!==null&&x.getLocation(l)===ae.BOUNDARY},Ri.prototype.linkAllDirectedEdges=function(){for(var l=this._nodes.iterator();l.hasNext();)l.next().getEdges().linkAllDirectedEdges()},Ri.prototype.matchInSameDirection=function(l,f,y,x){return!!l.equals(y)&&mt.computeOrientation(l,f,x)===mt.COLLINEAR&&Ei.quadrant(l,f)===Ei.quadrant(y,x)},Ri.prototype.getEdgeEnds=function(){return this._edgeEndList},Ri.prototype.debugPrint=function(l){Ut.out.print(l)},Ri.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ri.prototype.findEdgeInSameDirection=function(l,f){for(var y=0;y<this._edges.size();y++){var x=this._edges.get(y),O=x.getCoordinates();if(this.matchInSameDirection(l,f,O[0],O[1])||this.matchInSameDirection(l,f,O[O.length-1],O[O.length-2]))return x}return null},Ri.prototype.insertEdge=function(l){this._edges.add(l)},Ri.prototype.findEdgeEnd=function(l){for(var f=this.getEdgeEnds().iterator();f.hasNext();){var y=f.next();if(y.getEdge()===l)return y}return null},Ri.prototype.addEdges=function(l){for(var f=l.iterator();f.hasNext();){var y=f.next();this._edges.add(y);var x=new nl(y,!0),O=new nl(y,!1);x.setSym(O),O.setSym(x),this.add(x),this.add(O)}},Ri.prototype.add=function(l){this._nodes.add(l),this._edgeEndList.add(l)},Ri.prototype.getNodes=function(){return this._nodes.values()},Ri.prototype.findEdge=function(l,f){for(var y=0;y<this._edges.size();y++){var x=this._edges.get(y),O=x.getCoordinates();if(l.equals(O[0])&&f.equals(O[1]))return x}return null},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.linkResultDirectedEdges=function(l){for(var f=l.iterator();f.hasNext();)f.next().getEdges().linkResultDirectedEdges()};var da=function(){this._geometryFactory=null,this._shellList=new Kt;var l=arguments[0];this._geometryFactory=l};da.prototype.sortShellsAndHoles=function(l,f,y){for(var x=l.iterator();x.hasNext();){var O=x.next();O.isHole()?y.add(O):f.add(O)}},da.prototype.computePolygons=function(l){for(var f=new Kt,y=l.iterator();y.hasNext();){var x=y.next().toPolygon(this._geometryFactory);f.add(x)}return f},da.prototype.placeFreeHoles=function(l,f){for(var y=f.iterator();y.hasNext();){var x=y.next();if(x.getShell()===null){var O=this.findEdgeRingContaining(x,l);if(O===null)throw new wl("unable to assign hole to a shell",x.getCoordinate(0));x.setShell(O)}}},da.prototype.buildMinimalEdgeRings=function(l,f,y){for(var x=new Kt,O=l.iterator();O.hasNext();){var U=O.next();if(U.getMaxNodeDegree()>2){U.linkDirectedEdgesForMinimalEdgeRings();var H=U.buildMinimalRings(),me=this.findShell(H);me!==null?(this.placePolygonHoles(me,H),f.add(me)):y.addAll(H)}else x.add(U)}return x},da.prototype.containsPoint=function(l){for(var f=this._shellList.iterator();f.hasNext();)if(f.next().containsPoint(l))return!0;return!1},da.prototype.buildMaximalEdgeRings=function(l){for(var f=new Kt,y=l.iterator();y.hasNext();){var x=y.next();if(x.isInResult()&&x.getLabel().isArea()&&x.getEdgeRing()===null){var O=new Lc(x,this._geometryFactory);f.add(O),O.setInResult()}}return f},da.prototype.placePolygonHoles=function(l,f){for(var y=f.iterator();y.hasNext();){var x=y.next();x.isHole()&&x.setShell(l)}},da.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},da.prototype.findEdgeRingContaining=function(l,f){for(var y=l.getLinearRing(),x=y.getEnvelopeInternal(),O=y.getCoordinateN(0),U=null,H=null,me=f.iterator();me.hasNext();){var je=me.next(),nt=je.getLinearRing(),wt=nt.getEnvelopeInternal();U!==null&&(H=U.getLinearRing().getEnvelopeInternal());var kt=!1;wt.contains(x)&&mt.isPointInRing(O,nt.getCoordinates())&&(kt=!0),kt&&(U===null||H.contains(wt))&&(U=je)}return U},da.prototype.findShell=function(l){for(var f=0,y=null,x=l.iterator();x.hasNext();){var O=x.next();O.isHole()||(y=O,f++)}return be.isTrue(f<=1,"found two shells in MinimalEdgeRing list"),y},da.prototype.add=function(){if(arguments.length===1){var l=arguments[0];this.add(l.getEdgeEnds(),l.getNodes())}else if(arguments.length===2){var f=arguments[0],y=arguments[1];Ri.linkResultDirectedEdges(y);var x=this.buildMaximalEdgeRings(f),O=new Kt,U=this.buildMinimalEdgeRings(x,this._shellList,O);this.sortShellsAndHoles(U,this._shellList,O),this.placeFreeHoles(this._shellList,O)}},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da};var il=function(){};il.prototype.getBounds=function(){},il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il};var po=function(){this._bounds=null,this._item=null;var l=arguments[0],f=arguments[1];this._bounds=l,this._item=f};po.prototype.getItem=function(){return this._item},po.prototype.getBounds=function(){return this._bounds},po.prototype.interfaces_=function(){return[il,n]},po.prototype.getClass=function(){return po};var Zi=function(){this._size=null,this._items=null,this._size=0,this._items=new Kt,this._items.add(null)};Zi.prototype.poll=function(){if(this.isEmpty())return null;var l=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),l},Zi.prototype.size=function(){return this._size},Zi.prototype.reorder=function(l){for(var f=null,y=this._items.get(l);2*l<=this._size&&((f=2*l)!==this._size&&this._items.get(f+1).compareTo(this._items.get(f))<0&&f++,this._items.get(f).compareTo(y)<0);l=f)this._items.set(l,this._items.get(f));this._items.set(l,y)},Zi.prototype.clear=function(){this._size=0,this._items.clear()},Zi.prototype.isEmpty=function(){return this._size===0},Zi.prototype.add=function(l){this._items.add(null),this._size+=1;var f=this._size;for(this._items.set(0,l);l.compareTo(this._items.get(Math.trunc(f/2)))<0;f/=2)this._items.set(f,this._items.get(Math.trunc(f/2)));this._items.set(f,l)},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi};var uu=function(){};uu.prototype.visitItem=function(l){},uu.prototype.interfaces_=function(){return[]},uu.prototype.getClass=function(){return uu};var Bl=function(){};Bl.prototype.insert=function(l,f){},Bl.prototype.remove=function(l,f){},Bl.prototype.query=function(){},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl};var _a=function(){if(this._childBoundables=new Kt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var l=arguments[0];this._level=l}}},bp={serialVersionUID:{configurable:!0}};_a.prototype.getLevel=function(){return this._level},_a.prototype.size=function(){return this._childBoundables.size()},_a.prototype.getChildBoundables=function(){return this._childBoundables},_a.prototype.addChildBoundable=function(l){be.isTrue(this._bounds===null),this._childBoundables.add(l)},_a.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},_a.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},_a.prototype.interfaces_=function(){return[il,n]},_a.prototype.getClass=function(){return _a},bp.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(_a,bp);var qs=function(){};qs.reverseOrder=function(){return{compare:function(l,f){return f.compareTo(l)}}},qs.min=function(l){return qs.sort(l),l.get(0)},qs.sort=function(l,f){var y=l.toArray();f?jt.sort(y,f):jt.sort(y);for(var x=l.iterator(),O=0,U=y.length;O<U;O++)x.next(),x.set(y[O])},qs.singletonList=function(l){var f=new Kt;return f.add(l),f};var Yo=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var l=arguments[0],f=arguments[1],y=arguments[2];this._boundable1=l,this._boundable2=f,this._itemDistance=y,this._distance=this.distance()};Yo.prototype.expandToQueue=function(l,f){var y=Yo.isComposite(this._boundable1),x=Yo.isComposite(this._boundable2);if(y&&x)return Yo.area(this._boundable1)>Yo.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,l,f),null):(this.expand(this._boundable2,this._boundable1,l,f),null);if(y)return this.expand(this._boundable1,this._boundable2,l,f),null;if(x)return this.expand(this._boundable2,this._boundable1,l,f),null;throw new G("neither boundable is composite")},Yo.prototype.isLeaves=function(){return!(Yo.isComposite(this._boundable1)||Yo.isComposite(this._boundable2))},Yo.prototype.compareTo=function(l){var f=l;return this._distance<f._distance?-1:this._distance>f._distance?1:0},Yo.prototype.expand=function(l,f,y,x){for(var O=l.getChildBoundables().iterator();O.hasNext();){var U=O.next(),H=new Yo(U,f,this._itemDistance);H.getDistance()<x&&y.add(H)}},Yo.prototype.getBoundable=function(l){return l===0?this._boundable1:this._boundable2},Yo.prototype.getDistance=function(){return this._distance},Yo.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Yo.prototype.interfaces_=function(){return[pe]},Yo.prototype.getClass=function(){return Yo},Yo.area=function(l){return l.getBounds().getArea()},Yo.isComposite=function(l){return l instanceof _a};var Pa=function l(){if(this._root=null,this._built=!1,this._itemBoundables=new Kt,this._nodeCapacity=null,arguments.length===0){var f=l.DEFAULT_NODE_CAPACITY;this._nodeCapacity=f}else if(arguments.length===1){var y=arguments[0];be.isTrue(y>1,"Node capacity must be greater than 1"),this._nodeCapacity=y}},Qc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Pa.prototype.getNodeCapacity=function(){return this._nodeCapacity},Pa.prototype.lastNode=function(l){return l.get(l.size()-1)},Pa.prototype.size=function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var l=0,f=arguments[0].getChildBoundables().iterator();f.hasNext();){var y=f.next();y instanceof _a?l+=this.size(y):y instanceof po&&(l+=1)}return l}},Pa.prototype.removeItem=function(l,f){for(var y=null,x=l.getChildBoundables().iterator();x.hasNext();){var O=x.next();O instanceof po&&O.getItem()===f&&(y=O)}return y!==null&&(l.getChildBoundables().remove(y),!0)},Pa.prototype.itemsTree=function(){if(arguments.length===0){this.build();var l=this.itemsTree(this._root);return l===null?new Kt:l}if(arguments.length===1){for(var f=arguments[0],y=new Kt,x=f.getChildBoundables().iterator();x.hasNext();){var O=x.next();if(O instanceof _a){var U=this.itemsTree(O);U!==null&&y.add(U)}else O instanceof po?y.add(O.getItem()):be.shouldNeverReachHere()}return y.size()<=0?null:y}},Pa.prototype.insert=function(l,f){be.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new po(l,f))},Pa.prototype.boundablesAtLevel=function(){if(arguments.length===1){var l=arguments[0],f=new Kt;return this.boundablesAtLevel(l,this._root,f),f}if(arguments.length===3){var y=arguments[0],x=arguments[1],O=arguments[2];if(be.isTrue(y>-2),x.getLevel()===y)return O.add(x),null;for(var U=x.getChildBoundables().iterator();U.hasNext();){var H=U.next();H instanceof _a?this.boundablesAtLevel(y,H,O):(be.isTrue(H instanceof po),y===-1&&O.add(H))}return null}},Pa.prototype.query=function(){if(arguments.length===1){var l=arguments[0];this.build();var f=new Kt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.query(l,this._root,f),f}if(arguments.length===2){var y=arguments[0],x=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),y)&&this.query(y,this._root,x)}else if(arguments.length===3){if(Q(arguments[2],uu)&&arguments[0]instanceof Object&&arguments[1]instanceof _a)for(var O=arguments[0],U=arguments[1],H=arguments[2],me=U.getChildBoundables(),je=0;je<me.size();je++){var nt=me.get(je);this.getIntersectsOp().intersects(nt.getBounds(),O)&&(nt instanceof _a?this.query(O,nt,H):nt instanceof po?H.visitItem(nt.getItem()):be.shouldNeverReachHere())}else if(Q(arguments[2],to)&&arguments[0]instanceof Object&&arguments[1]instanceof _a)for(var wt=arguments[0],kt=arguments[1],ar=arguments[2],nr=kt.getChildBoundables(),Tr=0;Tr<nr.size();Tr++){var Br=nr.get(Tr);this.getIntersectsOp().intersects(Br.getBounds(),wt)&&(Br instanceof _a?this.query(wt,Br,ar):Br instanceof po?ar.add(Br.getItem()):be.shouldNeverReachHere())}}},Pa.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Pa.prototype.getRoot=function(){return this.build(),this._root},Pa.prototype.remove=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.remove(l,this._root,f)}if(arguments.length===3){var y=arguments[0],x=arguments[1],O=arguments[2],U=this.removeItem(x,O);if(U)return!0;for(var H=null,me=x.getChildBoundables().iterator();me.hasNext();){var je=me.next();if(this.getIntersectsOp().intersects(je.getBounds(),y)&&je instanceof _a&&(U=this.remove(y,je,O))){H=je;break}}return H!==null&&H.getChildBoundables().isEmpty()&&x.getChildBoundables().remove(H),U}},Pa.prototype.createHigherLevels=function(l,f){be.isTrue(!l.isEmpty());var y=this.createParentBoundables(l,f+1);return y.size()===1?y.get(0):this.createHigherLevels(y,f+1)},Pa.prototype.depth=function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var l=0,f=arguments[0].getChildBoundables().iterator();f.hasNext();){var y=f.next();if(y instanceof _a){var x=this.depth(y);x>l&&(l=x)}}return l+1}},Pa.prototype.createParentBoundables=function(l,f){be.isTrue(!l.isEmpty());var y=new Kt;y.add(this.createNode(f));var x=new Kt(l);qs.sort(x,this.getComparator());for(var O=x.iterator();O.hasNext();){var U=O.next();this.lastNode(y).getChildBoundables().size()===this.getNodeCapacity()&&y.add(this.createNode(f)),this.lastNode(y).addChildBoundable(U)}return y},Pa.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Pa.prototype.interfaces_=function(){return[n]},Pa.prototype.getClass=function(){return Pa},Pa.compareDoubles=function(l,f){return l>f?1:l<f?-1:0},Qc.IntersectsOp.get=function(){return rh},Qc.serialVersionUID.get=function(){return-3886435814360241e3},Qc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Pa,Qc);var rh=function(){},Nc=function(){};Nc.prototype.distance=function(l,f){},Nc.prototype.interfaces_=function(){return[]},Nc.prototype.getClass=function(){return Nc};var Mc=function(l){function f(x){x=x||f.DEFAULT_NODE_CAPACITY,l.call(this,x)}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return f.prototype.createParentBoundablesFromVerticalSlices=function(x,O){be.isTrue(x.length>0);for(var U=new Kt,H=0;H<x.length;H++)U.addAll(this.createParentBoundablesFromVerticalSlice(x[H],O));return U},f.prototype.createNode=function(x){return new ol(x)},f.prototype.size=function(){return arguments.length===0?l.prototype.size.call(this):l.prototype.size.apply(this,arguments)},f.prototype.insert=function(){if(arguments.length!==2)return l.prototype.insert.apply(this,arguments);var x=arguments[0],O=arguments[1];if(x.isNull())return null;l.prototype.insert.call(this,x,O)},f.prototype.getIntersectsOp=function(){return f.intersectsOp},f.prototype.verticalSlices=function(x,O){for(var U=Math.trunc(Math.ceil(x.size()/O)),H=new Array(O).fill(null),me=x.iterator(),je=0;je<O;je++){H[je]=new Kt;for(var nt=0;me.hasNext()&&nt<U;){var wt=me.next();H[je].add(wt),nt++}}return H},f.prototype.query=function(){if(arguments.length===1){var x=arguments[0];return l.prototype.query.call(this,x)}if(arguments.length===2){var O=arguments[0],U=arguments[1];l.prototype.query.call(this,O,U)}else if(arguments.length===3){if(Q(arguments[2],uu)&&arguments[0]instanceof Object&&arguments[1]instanceof _a){var H=arguments[0],me=arguments[1],je=arguments[2];l.prototype.query.call(this,H,me,je)}else if(Q(arguments[2],to)&&arguments[0]instanceof Object&&arguments[1]instanceof _a){var nt=arguments[0],wt=arguments[1],kt=arguments[2];l.prototype.query.call(this,nt,wt,kt)}}},f.prototype.getComparator=function(){return f.yComparator},f.prototype.createParentBoundablesFromVerticalSlice=function(x,O){return l.prototype.createParentBoundables.call(this,x,O)},f.prototype.remove=function(){if(arguments.length===2){var x=arguments[0],O=arguments[1];return l.prototype.remove.call(this,x,O)}return l.prototype.remove.apply(this,arguments)},f.prototype.depth=function(){return arguments.length===0?l.prototype.depth.call(this):l.prototype.depth.apply(this,arguments)},f.prototype.createParentBoundables=function(x,O){be.isTrue(!x.isEmpty());var U=Math.trunc(Math.ceil(x.size()/this.getNodeCapacity())),H=new Kt(x);qs.sort(H,f.xComparator);var me=this.verticalSlices(H,Math.trunc(Math.ceil(Math.sqrt(U))));return this.createParentBoundablesFromVerticalSlices(me,O)},f.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Q(arguments[0],Nc)){var x=arguments[0],O=new Yo(this.getRoot(),this.getRoot(),x);return this.nearestNeighbour(O)}if(arguments[0]instanceof Yo){var U=arguments[0];return this.nearestNeighbour(U,J.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof f&&Q(arguments[1],Nc)){var H=arguments[0],me=arguments[1],je=new Yo(this.getRoot(),H.getRoot(),me);return this.nearestNeighbour(je)}if(arguments[0]instanceof Yo&&typeof arguments[1]=="number"){var nt=arguments[0],wt=arguments[1],kt=null,ar=new Zi;for(ar.add(nt);!ar.isEmpty()&&wt>0;){var nr=ar.poll(),Tr=nr.getDistance();if(Tr>=wt)break;nr.isLeaves()?(wt=Tr,kt=nr):nr.expandToQueue(ar,wt)}return[kt.getBoundable(0).getItem(),kt.getBoundable(1).getItem()]}}else if(arguments.length===3){var Br=arguments[0],ri=arguments[1],ba=arguments[2],d=new po(Br,ri),b=new Yo(this.getRoot(),d,ba);return this.nearestNeighbour(b)[0]}},f.prototype.interfaces_=function(){return[Bl,n]},f.prototype.getClass=function(){return f},f.centreX=function(x){return f.avg(x.getMinX(),x.getMaxX())},f.avg=function(x,O){return(x+O)/2},f.centreY=function(x){return f.avg(x.getMinY(),x.getMaxY())},y.STRtreeNode.get=function(){return ol},y.serialVersionUID.get=function(){return 0x39920f7d5f261e0},y.xComparator.get=function(){return{interfaces_:function(){return[ee]},compare:function(x,O){return l.compareDoubles(f.centreX(x.getBounds()),f.centreX(O.getBounds()))}}},y.yComparator.get=function(){return{interfaces_:function(){return[ee]},compare:function(x,O){return l.compareDoubles(f.centreY(x.getBounds()),f.centreY(O.getBounds()))}}},y.intersectsOp.get=function(){return{interfaces_:function(){return[l.IntersectsOp]},intersects:function(x,O){return x.intersects(O)}}},y.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(f,y),f}(Pa),ol=function(l){function f(){var y=arguments[0];l.call(this,y)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.computeBounds=function(){for(var y=null,x=this.getChildBoundables().iterator();x.hasNext();){var O=x.next();y===null?y=new Xt(O.getBounds()):y.expandToInclude(O.getBounds())}return y},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(_a),ao=function(){};ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao},ao.relativeSign=function(l,f){return l<f?-1:l>f?1:0},ao.compare=function(l,f,y){if(f.equals2D(y))return 0;var x=ao.relativeSign(f.x,y.x),O=ao.relativeSign(f.y,y.y);switch(l){case 0:return ao.compareValue(x,O);case 1:return ao.compareValue(O,x);case 2:return ao.compareValue(O,-x);case 3:return ao.compareValue(-x,O);case 4:return ao.compareValue(-x,-O);case 5:return ao.compareValue(-O,-x);case 6:return ao.compareValue(-O,x);case 7:return ao.compareValue(x,-O)}return be.shouldNeverReachHere("invalid octant value"),0},ao.compareValue=function(l,f){return l<0?-1:l>0?1:f<0?-1:f>0?1:0};var Vs=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var l=arguments[0],f=arguments[1],y=arguments[2],x=arguments[3];this._segString=l,this.coord=new ie(f),this.segmentIndex=y,this._segmentOctant=x,this._isInterior=!f.equals2D(l.getCoordinate(y))};Vs.prototype.getCoordinate=function(){return this.coord},Vs.prototype.print=function(l){l.print(this.coord),l.print(" seg # = "+this.segmentIndex)},Vs.prototype.compareTo=function(l){var f=l;return this.segmentIndex<f.segmentIndex?-1:this.segmentIndex>f.segmentIndex?1:this.coord.equals2D(f.coord)?0:ao.compare(this._segmentOctant,this.coord,f.coord)},Vs.prototype.isEndPoint=function(l){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===l},Vs.prototype.isInterior=function(){return this._isInterior},Vs.prototype.interfaces_=function(){return[pe]},Vs.prototype.getClass=function(){return Vs};var Vi=function(){this._nodeMap=new k,this._edge=null;var l=arguments[0];this._edge=l};Vi.prototype.getSplitCoordinates=function(){var l=new zi;this.addEndpoints();for(var f=this.iterator(),y=f.next();f.hasNext();){var x=f.next();this.addEdgeCoordinates(y,x,l),y=x}return l.toCoordinateArray()},Vi.prototype.addCollapsedNodes=function(){var l=new Kt;this.findCollapsesFromInsertedNodes(l),this.findCollapsesFromExistingVertices(l);for(var f=l.iterator();f.hasNext();){var y=f.next().intValue();this.add(this._edge.getCoordinate(y),y)}},Vi.prototype.print=function(l){l.println("Intersections:");for(var f=this.iterator();f.hasNext();)f.next().print(l)},Vi.prototype.findCollapsesFromExistingVertices=function(l){for(var f=0;f<this._edge.size()-2;f++){var y=this._edge.getCoordinate(f),x=this._edge.getCoordinate(f+2);y.equals2D(x)&&l.add(new de(f+1))}},Vi.prototype.addEdgeCoordinates=function(l,f,y){var x=this._edge.getCoordinate(f.segmentIndex),O=f.isInterior()||!f.coord.equals2D(x);y.add(new ie(l.coord),!1);for(var U=l.segmentIndex+1;U<=f.segmentIndex;U++)y.add(this._edge.getCoordinate(U));O&&y.add(new ie(f.coord))},Vi.prototype.iterator=function(){return this._nodeMap.values().iterator()},Vi.prototype.addSplitEdges=function(l){this.addEndpoints(),this.addCollapsedNodes();for(var f=this.iterator(),y=f.next();f.hasNext();){var x=f.next(),O=this.createSplitEdge(y,x);l.add(O),y=x}},Vi.prototype.findCollapseIndex=function(l,f,y){if(!l.coord.equals2D(f.coord))return!1;var x=f.segmentIndex-l.segmentIndex;return f.isInterior()||x--,x===1&&(y[0]=l.segmentIndex+1,!0)},Vi.prototype.findCollapsesFromInsertedNodes=function(l){for(var f=new Array(1).fill(null),y=this.iterator(),x=y.next();y.hasNext();){var O=y.next();this.findCollapseIndex(x,O,f)&&l.add(new de(f[0])),x=O}},Vi.prototype.getEdge=function(){return this._edge},Vi.prototype.addEndpoints=function(){var l=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(l),l)},Vi.prototype.createSplitEdge=function(l,f){var y=f.segmentIndex-l.segmentIndex+2,x=this._edge.getCoordinate(f.segmentIndex),O=f.isInterior()||!f.coord.equals2D(x);O||y--;var U=new Array(y).fill(null),H=0;U[H++]=new ie(l.coord);for(var me=l.segmentIndex+1;me<=f.segmentIndex;me++)U[H++]=this._edge.getCoordinate(me);return O&&(U[H]=new ie(f.coord)),new so(U,this._edge.getData())},Vi.prototype.add=function(l,f){var y=new Vs(this._edge,l,f,this._edge.getSegmentOctant(f)),x=this._nodeMap.get(y);return x!==null?(be.isTrue(x.coord.equals2D(l),"Found equal nodes with different coordinates"),x):(this._nodeMap.put(y,y),y)},Vi.prototype.checkSplitEdgesCorrectness=function(l){var f=this._edge.getCoordinates(),y=l.get(0).getCoordinate(0);if(!y.equals2D(f[0]))throw new pt("bad split edge start point at "+y);var x=l.get(l.size()-1).getCoordinates(),O=x[x.length-1];if(!O.equals2D(f[f.length-1]))throw new pt("bad split edge end point at "+O)},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi};var Rc=function(){};Rc.prototype.interfaces_=function(){return[]},Rc.prototype.getClass=function(){return Rc},Rc.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1];if(l===0&&f===0)throw new G("Cannot compute the octant for point ( "+l+", "+f+" )");var y=Math.abs(l),x=Math.abs(f);return l>=0?f>=0?y>=x?0:1:y>=x?7:6:f>=0?y>=x?3:2:y>=x?4:5}if(arguments[0]instanceof ie&&arguments[1]instanceof ie){var O=arguments[0],U=arguments[1],H=U.x-O.x,me=U.y-O.y;if(H===0&&me===0)throw new G("Cannot compute the octant for two identical points "+O);return Rc.octant(H,me)}};var Gs=function(){};Gs.prototype.getCoordinates=function(){},Gs.prototype.size=function(){},Gs.prototype.getCoordinate=function(l){},Gs.prototype.isClosed=function(){},Gs.prototype.setData=function(l){},Gs.prototype.getData=function(){},Gs.prototype.interfaces_=function(){return[]},Gs.prototype.getClass=function(){return Gs};var Sl=function(){};Sl.prototype.addIntersection=function(l,f){},Sl.prototype.interfaces_=function(){return[Gs]},Sl.prototype.getClass=function(){return Sl};var so=function(){this._nodeList=new Vi(this),this._pts=null,this._data=null;var l=arguments[0],f=arguments[1];this._pts=l,this._data=f};so.prototype.getCoordinates=function(){return this._pts},so.prototype.size=function(){return this._pts.length},so.prototype.getCoordinate=function(l){return this._pts[l]},so.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},so.prototype.getSegmentOctant=function(l){return l===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(l),this.getCoordinate(l+1))},so.prototype.setData=function(l){this._data=l},so.prototype.safeOctant=function(l,f){return l.equals2D(f)?0:Rc.octant(l,f)},so.prototype.getData=function(){return this._data},so.prototype.addIntersection=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];this.addIntersectionNode(l,f)}else if(arguments.length===4){var y=arguments[0],x=arguments[1],O=arguments[3],U=new ie(y.getIntersection(O));this.addIntersection(U,x)}},so.prototype.toString=function(){return Mi.toLineString(new ti(this._pts))},so.prototype.getNodeList=function(){return this._nodeList},so.prototype.addIntersectionNode=function(l,f){var y=f,x=y+1;if(x<this._pts.length){var O=this._pts[x];l.equals2D(O)&&(y=x)}return this._nodeList.add(l,y)},so.prototype.addIntersections=function(l,f,y){for(var x=0;x<l.getIntersectionNum();x++)this.addIntersection(l,f,y,x)},so.prototype.interfaces_=function(){return[Sl]},so.prototype.getClass=function(){return so},so.getNodedSubstrings=function(){if(arguments.length===1){var l=arguments[0],f=new Kt;return so.getNodedSubstrings(l,f),f}if(arguments.length===2)for(var y=arguments[0],x=arguments[1],O=y.iterator();O.hasNext();)O.next().getNodeList().addSplitEdges(x)};var Rr=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new ie,this.p1=new ie;else if(arguments.length===1){var l=arguments[0];this.p0=new ie(l.p0),this.p1=new ie(l.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var f=arguments[0],y=arguments[1],x=arguments[2],O=arguments[3];this.p0=new ie(f,y),this.p1=new ie(x,O)}},pc={serialVersionUID:{configurable:!0}};Rr.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Rr.prototype.orientationIndex=function(){if(arguments[0]instanceof Rr){var l=arguments[0],f=mt.orientationIndex(this.p0,this.p1,l.p0),y=mt.orientationIndex(this.p0,this.p1,l.p1);return f>=0&&y>=0||f<=0&&y<=0?Math.max(f,y):0}if(arguments[0]instanceof ie){var x=arguments[0];return mt.orientationIndex(this.p0,this.p1,x)}},Rr.prototype.toGeometry=function(l){return l.createLineString([this.p0,this.p1])},Rr.prototype.isVertical=function(){return this.p0.x===this.p1.x},Rr.prototype.equals=function(l){if(!(l instanceof Rr))return!1;var f=l;return this.p0.equals(f.p0)&&this.p1.equals(f.p1)},Rr.prototype.intersection=function(l){var f=new st;return f.computeIntersection(this.p0,this.p1,l.p0,l.p1),f.hasIntersection()?f.getIntersection(0):null},Rr.prototype.project=function(){if(arguments[0]instanceof ie){var l=arguments[0];if(l.equals(this.p0)||l.equals(this.p1))return new ie(l);var f=this.projectionFactor(l),y=new ie;return y.x=this.p0.x+f*(this.p1.x-this.p0.x),y.y=this.p0.y+f*(this.p1.y-this.p0.y),y}if(arguments[0]instanceof Rr){var x=arguments[0],O=this.projectionFactor(x.p0),U=this.projectionFactor(x.p1);if(O>=1&&U>=1||O<=0&&U<=0)return null;var H=this.project(x.p0);O<0&&(H=this.p0),O>1&&(H=this.p1);var me=this.project(x.p1);return U<0&&(me=this.p0),U>1&&(me=this.p1),new Rr(H,me)}},Rr.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Rr.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Rr.prototype.getCoordinate=function(l){return l===0?this.p0:this.p1},Rr.prototype.distancePerpendicular=function(l){return mt.distancePointLinePerpendicular(l,this.p0,this.p1)},Rr.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Rr.prototype.midPoint=function(){return Rr.midPoint(this.p0,this.p1)},Rr.prototype.projectionFactor=function(l){if(l.equals(this.p0))return 0;if(l.equals(this.p1))return 1;var f=this.p1.x-this.p0.x,y=this.p1.y-this.p0.y,x=f*f+y*y;return x<=0?J.NaN:((l.x-this.p0.x)*f+(l.y-this.p0.y)*y)/x},Rr.prototype.closestPoints=function(l){var f=this.intersection(l);if(f!==null)return[f,f];var y=new Array(2).fill(null),x=J.MAX_VALUE,O=null,U=this.closestPoint(l.p0);x=U.distance(l.p0),y[0]=U,y[1]=l.p0;var H=this.closestPoint(l.p1);(O=H.distance(l.p1))<x&&(x=O,y[0]=H,y[1]=l.p1);var me=l.closestPoint(this.p0);(O=me.distance(this.p0))<x&&(x=O,y[0]=this.p0,y[1]=me);var je=l.closestPoint(this.p1);return(O=je.distance(this.p1))<x&&(x=O,y[0]=this.p1,y[1]=je),y},Rr.prototype.closestPoint=function(l){var f=this.projectionFactor(l);return f>0&&f<1?this.project(l):this.p0.distance(l)<this.p1.distance(l)?this.p0:this.p1},Rr.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Rr.prototype.getLength=function(){return this.p0.distance(this.p1)},Rr.prototype.compareTo=function(l){var f=l,y=this.p0.compareTo(f.p0);return y!==0?y:this.p1.compareTo(f.p1)},Rr.prototype.reverse=function(){var l=this.p0;this.p0=this.p1,this.p1=l},Rr.prototype.equalsTopo=function(l){return this.p0.equals(l.p0)&&(this.p1.equals(l.p1)||this.p0.equals(l.p1))&&this.p1.equals(l.p0)},Rr.prototype.lineIntersection=function(l){try{return Or.intersection(this.p0,this.p1,l.p0,l.p1)}catch(f){if(!(f instanceof It))throw f}return null},Rr.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Rr.prototype.pointAlongOffset=function(l,f){var y=this.p0.x+l*(this.p1.x-this.p0.x),x=this.p0.y+l*(this.p1.y-this.p0.y),O=this.p1.x-this.p0.x,U=this.p1.y-this.p0.y,H=Math.sqrt(O*O+U*U),me=0,je=0;if(f!==0){if(H<=0)throw new Error("Cannot compute offset from zero-length line segment");me=f*O/H,je=f*U/H}return new ie(y-je,x+me)},Rr.prototype.setCoordinates=function(){if(arguments.length===1){var l=arguments[0];this.setCoordinates(l.p0,l.p1)}else if(arguments.length===2){var f=arguments[0],y=arguments[1];this.p0.x=f.x,this.p0.y=f.y,this.p1.x=y.x,this.p1.y=y.y}},Rr.prototype.segmentFraction=function(l){var f=this.projectionFactor(l);return f<0?f=0:(f>1||J.isNaN(f))&&(f=1),f},Rr.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Rr.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Rr.prototype.distance=function(){if(arguments[0]instanceof Rr){var l=arguments[0];return mt.distanceLineLine(this.p0,this.p1,l.p0,l.p1)}if(arguments[0]instanceof ie){var f=arguments[0];return mt.distancePointLine(f,this.p0,this.p1)}},Rr.prototype.pointAlong=function(l){var f=new ie;return f.x=this.p0.x+l*(this.p1.x-this.p0.x),f.y=this.p0.y+l*(this.p1.y-this.p0.y),f},Rr.prototype.hashCode=function(){var l=J.doubleToLongBits(this.p0.x);l^=31*J.doubleToLongBits(this.p0.y);var f=Math.trunc(l)^Math.trunc(l>>32),y=J.doubleToLongBits(this.p1.x);return y^=31*J.doubleToLongBits(this.p1.y),f^(Math.trunc(y)^Math.trunc(y>>32))},Rr.prototype.interfaces_=function(){return[pe,n]},Rr.prototype.getClass=function(){return Rr},Rr.midPoint=function(l,f){return new ie((l.x+f.x)/2,(l.y+f.y)/2)},pc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Rr,pc);var El=function(){this.tempEnv1=new Xt,this.tempEnv2=new Xt,this._overlapSeg1=new Rr,this._overlapSeg2=new Rr};El.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var l=arguments[0],f=arguments[1],y=arguments[2],x=arguments[3];l.getLineSegment(f,this._overlapSeg1),y.getLineSegment(x,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El};var Ha=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var l=arguments[0],f=arguments[1],y=arguments[2],x=arguments[3];this._pts=l,this._start=f,this._end=y,this._context=x};Ha.prototype.getLineSegment=function(l,f){f.p0=this._pts[l],f.p1=this._pts[l+1]},Ha.prototype.computeSelect=function(l,f,y,x){var O=this._pts[f],U=this._pts[y];if(x.tempEnv1.init(O,U),y-f==1)return x.select(this,f),null;if(!l.intersects(x.tempEnv1))return null;var H=Math.trunc((f+y)/2);f<H&&this.computeSelect(l,f,H,x),H<y&&this.computeSelect(l,H,y,x)},Ha.prototype.getCoordinates=function(){for(var l=new Array(this._end-this._start+1).fill(null),f=0,y=this._start;y<=this._end;y++)l[f++]=this._pts[y];return l},Ha.prototype.computeOverlaps=function(l,f){this.computeOverlapsInternal(this._start,this._end,l,l._start,l._end,f)},Ha.prototype.setId=function(l){this._id=l},Ha.prototype.select=function(l,f){this.computeSelect(l,this._start,this._end,f)},Ha.prototype.getEnvelope=function(){if(this._env===null){var l=this._pts[this._start],f=this._pts[this._end];this._env=new Xt(l,f)}return this._env},Ha.prototype.getEndIndex=function(){return this._end},Ha.prototype.getStartIndex=function(){return this._start},Ha.prototype.getContext=function(){return this._context},Ha.prototype.getId=function(){return this._id},Ha.prototype.computeOverlapsInternal=function(l,f,y,x,O,U){var H=this._pts[l],me=this._pts[f],je=y._pts[x],nt=y._pts[O];if(f-l==1&&O-x==1)return U.overlap(this,l,y,x),null;if(U.tempEnv1.init(H,me),U.tempEnv2.init(je,nt),!U.tempEnv1.intersects(U.tempEnv2))return null;var wt=Math.trunc((l+f)/2),kt=Math.trunc((x+O)/2);l<wt&&(x<kt&&this.computeOverlapsInternal(l,wt,y,x,kt,U),kt<O&&this.computeOverlapsInternal(l,wt,y,kt,O,U)),wt<f&&(x<kt&&this.computeOverlapsInternal(wt,f,y,x,kt,U),kt<O&&this.computeOverlapsInternal(wt,f,y,kt,O,U))},Ha.prototype.interfaces_=function(){return[]},Ha.prototype.getClass=function(){return Ha};var Ns=function(){};Ns.prototype.interfaces_=function(){return[]},Ns.prototype.getClass=function(){return Ns},Ns.getChainStartIndices=function(l){var f=0,y=new Kt;y.add(new de(f));do{var x=Ns.findChainEnd(l,f);y.add(new de(x)),f=x}while(f<l.length-1);return Ns.toIntArray(y)},Ns.findChainEnd=function(l,f){for(var y=f;y<l.length-1&&l[y].equals2D(l[y+1]);)y++;if(y>=l.length-1)return l.length-1;for(var x=Ei.quadrant(l[y],l[y+1]),O=f+1;O<l.length&&!(!l[O-1].equals2D(l[O])&&Ei.quadrant(l[O-1],l[O])!==x);)O++;return O-1},Ns.getChains=function(){if(arguments.length===1){var l=arguments[0];return Ns.getChains(l,null)}if(arguments.length===2){for(var f=arguments[0],y=arguments[1],x=new Kt,O=Ns.getChainStartIndices(f),U=0;U<O.length-1;U++){var H=new Ha(f,O[U],O[U+1],y);x.add(H)}return x}},Ns.toIntArray=function(l){for(var f=new Array(l.size()).fill(null),y=0;y<f.length;y++)f[y]=l.get(y).intValue();return f};var Dc=function(){};Dc.prototype.computeNodes=function(l){},Dc.prototype.getNodedSubstrings=function(){},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc};var Xf=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var l=arguments[0];this.setSegmentIntersector(l)}}};Xf.prototype.setSegmentIntersector=function(l){this._segInt=l},Xf.prototype.interfaces_=function(){return[Dc]},Xf.prototype.getClass=function(){return Xf};var Ji=function(l){function f(x){x?l.call(this,x):l.call(this),this._monoChains=new Kt,this._index=new Mc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}l&&(f.__proto__=l),(f.prototype=Object.create(l&&l.prototype)).constructor=f;var y={SegmentOverlapAction:{configurable:!0}};return f.prototype.getMonotoneChains=function(){return this._monoChains},f.prototype.getNodedSubstrings=function(){return so.getNodedSubstrings(this._nodedSegStrings)},f.prototype.getIndex=function(){return this._index},f.prototype.add=function(x){for(var O=Ns.getChains(x.getCoordinates(),x).iterator();O.hasNext();){var U=O.next();U.setId(this._idCounter++),this._index.insert(U.getEnvelope(),U),this._monoChains.add(U)}},f.prototype.computeNodes=function(x){this._nodedSegStrings=x;for(var O=x.iterator();O.hasNext();)this.add(O.next());this.intersectChains()},f.prototype.intersectChains=function(){for(var x=new Ed(this._segInt),O=this._monoChains.iterator();O.hasNext();)for(var U=O.next(),H=this._index.query(U.getEnvelope()).iterator();H.hasNext();){var me=H.next();if(me.getId()>U.getId()&&(U.computeOverlaps(me,x),this._nOverlaps++),this._segInt.isDone())return null}},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},y.SegmentOverlapAction.get=function(){return Ed},Object.defineProperties(f,y),f}(Xf),Ed=function(l){function f(){l.call(this),this._si=null;var y=arguments[0];this._si=y}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.overlap=function(){if(arguments.length!==4)return l.prototype.overlap.apply(this,arguments);var y=arguments[0],x=arguments[1],O=arguments[2],U=arguments[3],H=y.getContext(),me=O.getContext();this._si.processIntersections(H,x,me,U)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(El),Si=function l(){if(this._quadrantSegments=l.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=l.CAP_ROUND,this._joinStyle=l.JOIN_ROUND,this._mitreLimit=l.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=l.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var f=arguments[0];this.setQuadrantSegments(f)}else if(arguments.length===2){var y=arguments[0],x=arguments[1];this.setQuadrantSegments(y),this.setEndCapStyle(x)}else if(arguments.length===4){var O=arguments[0],U=arguments[1],H=arguments[2],me=arguments[3];this.setQuadrantSegments(O),this.setEndCapStyle(U),this.setJoinStyle(H),this.setMitreLimit(me)}}},$l={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Si.prototype.getEndCapStyle=function(){return this._endCapStyle},Si.prototype.isSingleSided=function(){return this._isSingleSided},Si.prototype.setQuadrantSegments=function(l){this._quadrantSegments=l,this._quadrantSegments===0&&(this._joinStyle=Si.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Si.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),l<=0&&(this._quadrantSegments=1),this._joinStyle!==Si.JOIN_ROUND&&(this._quadrantSegments=Si.DEFAULT_QUADRANT_SEGMENTS)},Si.prototype.getJoinStyle=function(){return this._joinStyle},Si.prototype.setJoinStyle=function(l){this._joinStyle=l},Si.prototype.setSimplifyFactor=function(l){this._simplifyFactor=l<0?0:l},Si.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Si.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Si.prototype.setEndCapStyle=function(l){this._endCapStyle=l},Si.prototype.getMitreLimit=function(){return this._mitreLimit},Si.prototype.setMitreLimit=function(l){this._mitreLimit=l},Si.prototype.setSingleSided=function(l){this._isSingleSided=l},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.bufferDistanceError=function(l){var f=Math.PI/2/l;return 1-Math.cos(f/2)},$l.CAP_ROUND.get=function(){return 1},$l.CAP_FLAT.get=function(){return 2},$l.CAP_SQUARE.get=function(){return 3},$l.JOIN_ROUND.get=function(){return 1},$l.JOIN_MITRE.get=function(){return 2},$l.JOIN_BEVEL.get=function(){return 3},$l.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},$l.DEFAULT_MITRE_LIMIT.get=function(){return 5},$l.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Si,$l);var ua=function(l){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=mt.COUNTERCLOCKWISE,this._inputLine=l||null},Yf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};ua.prototype.isDeletable=function(l,f,y,x){var O=this._inputLine[l],U=this._inputLine[f],H=this._inputLine[y];return!!this.isConcave(O,U,H)&&!!this.isShallow(O,U,H,x)&&this.isShallowSampled(O,U,l,y,x)},ua.prototype.deleteShallowConcavities=function(){for(var l=1,f=this.findNextNonDeletedIndex(l),y=this.findNextNonDeletedIndex(f),x=!1;y<this._inputLine.length;){var O=!1;this.isDeletable(l,f,y,this._distanceTol)&&(this._isDeleted[f]=ua.DELETE,O=!0,x=!0),l=O?y:f,f=this.findNextNonDeletedIndex(l),y=this.findNextNonDeletedIndex(f)}return x},ua.prototype.isShallowConcavity=function(l,f,y,x){return mt.computeOrientation(l,f,y)!==this._angleOrientation?!1:mt.distancePointLine(f,l,y)<x},ua.prototype.isShallowSampled=function(l,f,y,x,O){var U=Math.trunc((x-y)/ua.NUM_PTS_TO_CHECK);U<=0&&(U=1);for(var H=y;H<x;H+=U)if(!this.isShallow(l,f,this._inputLine[H],O))return!1;return!0},ua.prototype.isConcave=function(l,f,y){var x=mt.computeOrientation(l,f,y)===this._angleOrientation;return x},ua.prototype.simplify=function(l){this._distanceTol=Math.abs(l),l<0&&(this._angleOrientation=mt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var f=!1;do f=this.deleteShallowConcavities();while(f);return this.collapseLine()},ua.prototype.findNextNonDeletedIndex=function(l){for(var f=l+1;f<this._inputLine.length&&this._isDeleted[f]===ua.DELETE;)f++;return f},ua.prototype.isShallow=function(l,f,y,x){return mt.distancePointLine(f,l,y)<x},ua.prototype.collapseLine=function(){for(var l=new zi,f=0;f<this._inputLine.length;f++)this._isDeleted[f]!==ua.DELETE&&l.add(this._inputLine[f]);return l.toCoordinateArray()},ua.prototype.interfaces_=function(){return[]},ua.prototype.getClass=function(){return ua},ua.simplify=function(l,f){return new ua(l).simplify(f)},Yf.INIT.get=function(){return 0},Yf.DELETE.get=function(){return 1},Yf.KEEP.get=function(){return 1},Yf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(ua,Yf);var gu=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Kt},ef={COORDINATE_ARRAY_TYPE:{configurable:!0}};gu.prototype.getCoordinates=function(){return this._ptList.toArray(gu.COORDINATE_ARRAY_TYPE)},gu.prototype.setPrecisionModel=function(l){this._precisionModel=l},gu.prototype.addPt=function(l){var f=new ie(l);if(this._precisionModel.makePrecise(f),this.isRedundant(f))return null;this._ptList.add(f)},gu.prototype.revere=function(){},gu.prototype.addPts=function(l,f){if(f)for(var y=0;y<l.length;y++)this.addPt(l[y]);else for(var x=l.length-1;x>=0;x--)this.addPt(l[x])},gu.prototype.isRedundant=function(l){if(this._ptList.size()<1)return!1;var f=this._ptList.get(this._ptList.size()-1);return l.distance(f)<this._minimimVertexDistance},gu.prototype.toString=function(){return new dn().createLineString(this.getCoordinates()).toString()},gu.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var l=new ie(this._ptList.get(0)),f=this._ptList.get(this._ptList.size()-1);if(l.equals(f))return null;this._ptList.add(l)},gu.prototype.setMinimumVertexDistance=function(l){this._minimimVertexDistance=l},gu.prototype.interfaces_=function(){return[]},gu.prototype.getClass=function(){return gu},ef.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(gu,ef);var Un=function(){},al={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un},Un.toDegrees=function(l){return 180*l/Math.PI},Un.normalize=function(l){for(;l>Math.PI;)l-=Un.PI_TIMES_2;for(;l<=-Math.PI;)l+=Un.PI_TIMES_2;return l},Un.angle=function(){if(arguments.length===1){var l=arguments[0];return Math.atan2(l.y,l.x)}if(arguments.length===2){var f=arguments[0],y=arguments[1],x=y.x-f.x,O=y.y-f.y;return Math.atan2(O,x)}},Un.isAcute=function(l,f,y){var x=l.x-f.x,O=l.y-f.y;return x*(y.x-f.x)+O*(y.y-f.y)>0},Un.isObtuse=function(l,f,y){var x=l.x-f.x,O=l.y-f.y;return x*(y.x-f.x)+O*(y.y-f.y)<0},Un.interiorAngle=function(l,f,y){var x=Un.angle(f,l),O=Un.angle(f,y);return Math.abs(O-x)},Un.normalizePositive=function(l){if(l<0){for(;l<0;)l+=Un.PI_TIMES_2;l>=Un.PI_TIMES_2&&(l=0)}else{for(;l>=Un.PI_TIMES_2;)l-=Un.PI_TIMES_2;l<0&&(l=0)}return l},Un.angleBetween=function(l,f,y){var x=Un.angle(f,l),O=Un.angle(f,y);return Un.diff(x,O)},Un.diff=function(l,f){var y=null;return(y=l<f?f-l:l-f)>Math.PI&&(y=2*Math.PI-y),y},Un.toRadians=function(l){return l*Math.PI/180},Un.getTurn=function(l,f){var y=Math.sin(f-l);return y>0?Un.COUNTERCLOCKWISE:y<0?Un.CLOCKWISE:Un.NONE},Un.angleBetweenOriented=function(l,f,y){var x=Un.angle(f,l),O=Un.angle(f,y)-x;return O<=-Math.PI?O+Un.PI_TIMES_2:O>Math.PI?O-Un.PI_TIMES_2:O},al.PI_TIMES_2.get=function(){return 2*Math.PI},al.PI_OVER_2.get=function(){return Math.PI/2},al.PI_OVER_4.get=function(){return Math.PI/4},al.COUNTERCLOCKWISE.get=function(){return mt.COUNTERCLOCKWISE},al.CLOCKWISE.get=function(){return mt.CLOCKWISE},al.NONE.get=function(){return mt.COLLINEAR},Object.defineProperties(Un,al);var ho=function l(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Rr,this._seg1=new Rr,this._offset0=new Rr,this._offset1=new Rr,this._side=0,this._hasNarrowConcaveAngle=!1;var f=arguments[0],y=arguments[1],x=arguments[2];this._precisionModel=f,this._bufParams=y,this._li=new st,this._filletAngleQuantum=Math.PI/2/y.getQuadrantSegments(),y.getQuadrantSegments()>=8&&y.getJoinStyle()===Si.JOIN_ROUND&&(this._closingSegLengthFactor=l.MAX_CLOSING_SEG_LEN_FACTOR),this.init(x)},Hf={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};ho.prototype.addNextSegment=function(l,f){if(this._s0=this._s1,this._s1=this._s2,this._s2=l,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var y=mt.computeOrientation(this._s0,this._s1,this._s2),x=y===mt.CLOCKWISE&&this._side===Wt.LEFT||y===mt.COUNTERCLOCKWISE&&this._side===Wt.RIGHT;y===0?this.addCollinear(f):x?this.addOutsideTurn(y,f):this.addInsideTurn(y,f)},ho.prototype.addLineEndCap=function(l,f){var y=new Rr(l,f),x=new Rr;this.computeOffsetSegment(y,Wt.LEFT,this._distance,x);var O=new Rr;this.computeOffsetSegment(y,Wt.RIGHT,this._distance,O);var U=f.x-l.x,H=f.y-l.y,me=Math.atan2(H,U);switch(this._bufParams.getEndCapStyle()){case Si.CAP_ROUND:this._segList.addPt(x.p1),this.addFilletArc(f,me+Math.PI/2,me-Math.PI/2,mt.CLOCKWISE,this._distance),this._segList.addPt(O.p1);break;case Si.CAP_FLAT:this._segList.addPt(x.p1),this._segList.addPt(O.p1);break;case Si.CAP_SQUARE:var je=new ie;je.x=Math.abs(this._distance)*Math.cos(me),je.y=Math.abs(this._distance)*Math.sin(me);var nt=new ie(x.p1.x+je.x,x.p1.y+je.y),wt=new ie(O.p1.x+je.x,O.p1.y+je.y);this._segList.addPt(nt),this._segList.addPt(wt)}},ho.prototype.getCoordinates=function(){return this._segList.getCoordinates()},ho.prototype.addMitreJoin=function(l,f,y,x){var O=!0,U=null;try{U=Or.intersection(f.p0,f.p1,y.p0,y.p1),(x<=0?1:U.distance(l)/Math.abs(x))>this._bufParams.getMitreLimit()&&(O=!1)}catch(H){if(!(H instanceof It))throw H;U=new ie(0,0),O=!1}O?this._segList.addPt(U):this.addLimitedMitreJoin(f,y,x,this._bufParams.getMitreLimit())},ho.prototype.addFilletCorner=function(l,f,y,x,O){var U=f.x-l.x,H=f.y-l.y,me=Math.atan2(H,U),je=y.x-l.x,nt=y.y-l.y,wt=Math.atan2(nt,je);x===mt.CLOCKWISE?me<=wt&&(me+=2*Math.PI):me>=wt&&(me-=2*Math.PI),this._segList.addPt(f),this.addFilletArc(l,me,wt,x,O),this._segList.addPt(y)},ho.prototype.addOutsideTurn=function(l,f){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*ho.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Si.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Si.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(f&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,l,this._distance),this._segList.addPt(this._offset1.p0))},ho.prototype.createSquare=function(l){this._segList.addPt(new ie(l.x+this._distance,l.y+this._distance)),this._segList.addPt(new ie(l.x+this._distance,l.y-this._distance)),this._segList.addPt(new ie(l.x-this._distance,l.y-this._distance)),this._segList.addPt(new ie(l.x-this._distance,l.y+this._distance)),this._segList.closeRing()},ho.prototype.addSegments=function(l,f){this._segList.addPts(l,f)},ho.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},ho.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},ho.prototype.initSideSegments=function(l,f,y){this._s1=l,this._s2=f,this._side=y,this._seg1.setCoordinates(l,f),this.computeOffsetSegment(this._seg1,y,this._distance,this._offset1)},ho.prototype.addLimitedMitreJoin=function(l,f,y,x){var O=this._seg0.p1,U=Un.angle(O,this._seg0.p0),H=Un.angleBetweenOriented(this._seg0.p0,O,this._seg1.p1)/2,me=Un.normalize(U+H),je=Un.normalize(me+Math.PI),nt=x*y,wt=y-nt*Math.abs(Math.sin(H)),kt=O.x+nt*Math.cos(je),ar=O.y+nt*Math.sin(je),nr=new ie(kt,ar),Tr=new Rr(O,nr),Br=Tr.pointAlongOffset(1,wt),ri=Tr.pointAlongOffset(1,-wt);this._side===Wt.LEFT?(this._segList.addPt(Br),this._segList.addPt(ri)):(this._segList.addPt(ri),this._segList.addPt(Br))},ho.prototype.computeOffsetSegment=function(l,f,y,x){var O=f===Wt.LEFT?1:-1,U=l.p1.x-l.p0.x,H=l.p1.y-l.p0.y,me=Math.sqrt(U*U+H*H),je=O*y*U/me,nt=O*y*H/me;x.p0.x=l.p0.x-nt,x.p0.y=l.p0.y+je,x.p1.x=l.p1.x-nt,x.p1.y=l.p1.y+je},ho.prototype.addFilletArc=function(l,f,y,x,O){var U=x===mt.CLOCKWISE?-1:1,H=Math.abs(f-y),me=Math.trunc(H/this._filletAngleQuantum+.5);if(me<1)return null;for(var je=H/me,nt=0,wt=new ie;nt<H;){var kt=f+U*nt;wt.x=l.x+O*Math.cos(kt),wt.y=l.y+O*Math.sin(kt),this._segList.addPt(wt),nt+=je}},ho.prototype.addInsideTurn=function(l,f){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*ho.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var y=new ie((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(y);var x=new ie((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(x)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},ho.prototype.createCircle=function(l){var f=new ie(l.x+this._distance,l.y);this._segList.addPt(f),this.addFilletArc(l,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},ho.prototype.addBevelJoin=function(l,f){this._segList.addPt(l.p1),this._segList.addPt(f.p0)},ho.prototype.init=function(l){this._distance=l,this._maxCurveSegmentError=l*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new gu,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(l*ho.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},ho.prototype.addCollinear=function(l){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Si.JOIN_BEVEL||this._bufParams.getJoinStyle()===Si.JOIN_MITRE?(l&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,mt.CLOCKWISE,this._distance))},ho.prototype.closeRing=function(){this._segList.closeRing()},ho.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},ho.prototype.interfaces_=function(){return[]},ho.prototype.getClass=function(){return ho},Hf.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},Hf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},Hf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Hf.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(ho,Hf);var Ms=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var l=arguments[0],f=arguments[1];this._precisionModel=l,this._bufParams=f};Ms.prototype.getOffsetCurve=function(l,f){if(this._distance=f,f===0)return null;var y=f<0,x=Math.abs(f),O=this.getSegGen(x);l.length<=1?this.computePointCurve(l[0],O):this.computeOffsetCurve(l,y,O);var U=O.getCoordinates();return y&&se.reverse(U),U},Ms.prototype.computeSingleSidedBufferCurve=function(l,f,y){var x=this.simplifyTolerance(this._distance);if(f){y.addSegments(l,!0);var O=ua.simplify(l,-x),U=O.length-1;y.initSideSegments(O[U],O[U-1],Wt.LEFT),y.addFirstSegment();for(var H=U-2;H>=0;H--)y.addNextSegment(O[H],!0)}else{y.addSegments(l,!1);var me=ua.simplify(l,x),je=me.length-1;y.initSideSegments(me[0],me[1],Wt.LEFT),y.addFirstSegment();for(var nt=2;nt<=je;nt++)y.addNextSegment(me[nt],!0)}y.addLastSegment(),y.closeRing()},Ms.prototype.computeRingBufferCurve=function(l,f,y){var x=this.simplifyTolerance(this._distance);f===Wt.RIGHT&&(x=-x);var O=ua.simplify(l,x),U=O.length-1;y.initSideSegments(O[U-1],O[0],f);for(var H=1;H<=U;H++){var me=H!==1;y.addNextSegment(O[H],me)}y.closeRing()},Ms.prototype.computeLineBufferCurve=function(l,f){var y=this.simplifyTolerance(this._distance),x=ua.simplify(l,y),O=x.length-1;f.initSideSegments(x[0],x[1],Wt.LEFT);for(var U=2;U<=O;U++)f.addNextSegment(x[U],!0);f.addLastSegment(),f.addLineEndCap(x[O-1],x[O]);var H=ua.simplify(l,-y),me=H.length-1;f.initSideSegments(H[me],H[me-1],Wt.LEFT);for(var je=me-2;je>=0;je--)f.addNextSegment(H[je],!0);f.addLastSegment(),f.addLineEndCap(H[1],H[0]),f.closeRing()},Ms.prototype.computePointCurve=function(l,f){switch(this._bufParams.getEndCapStyle()){case Si.CAP_ROUND:f.createCircle(l);break;case Si.CAP_SQUARE:f.createSquare(l)}},Ms.prototype.getLineCurve=function(l,f){if(this._distance=f,f<0&&!this._bufParams.isSingleSided()||f===0)return null;var y=Math.abs(f),x=this.getSegGen(y);if(l.length<=1)this.computePointCurve(l[0],x);else if(this._bufParams.isSingleSided()){var O=f<0;this.computeSingleSidedBufferCurve(l,O,x)}else this.computeLineBufferCurve(l,x);return x.getCoordinates()},Ms.prototype.getBufferParameters=function(){return this._bufParams},Ms.prototype.simplifyTolerance=function(l){return l*this._bufParams.getSimplifyFactor()},Ms.prototype.getRingCurve=function(l,f,y){if(this._distance=y,l.length<=2)return this.getLineCurve(l,y);if(y===0)return Ms.copyCoordinates(l);var x=this.getSegGen(y);return this.computeRingBufferCurve(l,f,x),x.getCoordinates()},Ms.prototype.computeOffsetCurve=function(l,f,y){var x=this.simplifyTolerance(this._distance);if(f){var O=ua.simplify(l,-x),U=O.length-1;y.initSideSegments(O[U],O[U-1],Wt.LEFT),y.addFirstSegment();for(var H=U-2;H>=0;H--)y.addNextSegment(O[H],!0)}else{var me=ua.simplify(l,x),je=me.length-1;y.initSideSegments(me[0],me[1],Wt.LEFT),y.addFirstSegment();for(var nt=2;nt<=je;nt++)y.addNextSegment(me[nt],!0)}y.addLastSegment()},Ms.prototype.getSegGen=function(l){return new ho(this._precisionModel,this._bufParams,l)},Ms.prototype.interfaces_=function(){return[]},Ms.prototype.getClass=function(){return Ms},Ms.copyCoordinates=function(l){for(var f=new Array(l.length).fill(null),y=0;y<f.length;y++)f[y]=new ie(l[y]);return f};var sl=function(){this._subgraphs=null,this._seg=new Rr,this._cga=new mt;var l=arguments[0];this._subgraphs=l},Rh={DepthSegment:{configurable:!0}};sl.prototype.findStabbedSegments=function(){if(arguments.length===1){for(var l=arguments[0],f=new Kt,y=this._subgraphs.iterator();y.hasNext();){var x=y.next(),O=x.getEnvelope();l.y<O.getMinY()||l.y>O.getMaxY()||this.findStabbedSegments(l,x.getDirectedEdges(),f)}return f}if(arguments.length===3){if(Q(arguments[2],to)&&arguments[0]instanceof ie&&arguments[1]instanceof nl){for(var U=arguments[0],H=arguments[1],me=arguments[2],je=H.getEdge().getCoordinates(),nt=0;nt<je.length-1;nt++)if(this._seg.p0=je[nt],this._seg.p1=je[nt+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<U.x)&&!(this._seg.isHorizontal()||U.y<this._seg.p0.y||U.y>this._seg.p1.y||mt.computeOrientation(this._seg.p0,this._seg.p1,U)===mt.RIGHT)){var wt=H.getDepth(Wt.LEFT);this._seg.p0.equals(je[nt])||(wt=H.getDepth(Wt.RIGHT));var kt=new Ru(this._seg,wt);me.add(kt)}}else if(Q(arguments[2],to)&&arguments[0]instanceof ie&&Q(arguments[1],to))for(var ar=arguments[0],nr=arguments[1],Tr=arguments[2],Br=nr.iterator();Br.hasNext();){var ri=Br.next();ri.isForward()&&this.findStabbedSegments(ar,ri,Tr)}}},sl.prototype.getDepth=function(l){var f=this.findStabbedSegments(l);return f.size()===0?0:qs.min(f)._leftDepth},sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl},Rh.DepthSegment.get=function(){return Ru},Object.defineProperties(sl,Rh);var Ru=function(){this._upwardSeg=null,this._leftDepth=null;var l=arguments[0],f=arguments[1];this._upwardSeg=new Rr(l),this._leftDepth=f};Ru.prototype.compareTo=function(l){var f=l;if(this._upwardSeg.minX()>=f._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=f._upwardSeg.minX())return-1;var y=this._upwardSeg.orientationIndex(f._upwardSeg);return y!==0||(y=-1*f._upwardSeg.orientationIndex(this._upwardSeg))!=0?y:this._upwardSeg.compareTo(f._upwardSeg)},Ru.prototype.compareX=function(l,f){var y=l.p0.compareTo(f.p0);return y!==0?y:l.p1.compareTo(f.p1)},Ru.prototype.toString=function(){return this._upwardSeg.toString()},Ru.prototype.interfaces_=function(){return[pe]},Ru.prototype.getClass=function(){return Ru};var ci=function(l,f,y){this.p0=l||null,this.p1=f||null,this.p2=y||null};ci.prototype.area=function(){return ci.area(this.p0,this.p1,this.p2)},ci.prototype.signedArea=function(){return ci.signedArea(this.p0,this.p1,this.p2)},ci.prototype.interpolateZ=function(l){if(l===null)throw new G("Supplied point is null.");return ci.interpolateZ(l,this.p0,this.p1,this.p2)},ci.prototype.longestSideLength=function(){return ci.longestSideLength(this.p0,this.p1,this.p2)},ci.prototype.isAcute=function(){return ci.isAcute(this.p0,this.p1,this.p2)},ci.prototype.circumcentre=function(){return ci.circumcentre(this.p0,this.p1,this.p2)},ci.prototype.area3D=function(){return ci.area3D(this.p0,this.p1,this.p2)},ci.prototype.centroid=function(){return ci.centroid(this.p0,this.p1,this.p2)},ci.prototype.inCentre=function(){return ci.inCentre(this.p0,this.p1,this.p2)},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.area=function(l,f,y){return Math.abs(((y.x-l.x)*(f.y-l.y)-(f.x-l.x)*(y.y-l.y))/2)},ci.signedArea=function(l,f,y){return((y.x-l.x)*(f.y-l.y)-(f.x-l.x)*(y.y-l.y))/2},ci.det=function(l,f,y,x){return l*x-f*y},ci.interpolateZ=function(l,f,y,x){var O=f.x,U=f.y,H=y.x-O,me=x.x-O,je=y.y-U,nt=x.y-U,wt=H*nt-me*je,kt=l.x-O,ar=l.y-U,nr=(nt*kt-me*ar)/wt,Tr=(-je*kt+H*ar)/wt;return f.z+nr*(y.z-f.z)+Tr*(x.z-f.z)},ci.longestSideLength=function(l,f,y){var x=l.distance(f),O=f.distance(y),U=y.distance(l),H=x;return O>H&&(H=O),U>H&&(H=U),H},ci.isAcute=function(l,f,y){return!!Un.isAcute(l,f,y)&&!!Un.isAcute(f,y,l)&&!!Un.isAcute(y,l,f)},ci.circumcentre=function(l,f,y){var x=y.x,O=y.y,U=l.x-x,H=l.y-O,me=f.x-x,je=f.y-O,nt=2*ci.det(U,H,me,je),wt=ci.det(H,U*U+H*H,je,me*me+je*je),kt=ci.det(U,U*U+H*H,me,me*me+je*je);return new ie(x-wt/nt,O+kt/nt)},ci.perpendicularBisector=function(l,f){var y=f.x-l.x,x=f.y-l.y,O=new Or(l.x+y/2,l.y+x/2,1),U=new Or(l.x-x+y/2,l.y+y+x/2,1);return new Or(O,U)},ci.angleBisector=function(l,f,y){var x=f.distance(l),O=x/(x+f.distance(y)),U=y.x-l.x,H=y.y-l.y;return new ie(l.x+O*U,l.y+O*H)},ci.area3D=function(l,f,y){var x=f.x-l.x,O=f.y-l.y,U=f.z-l.z,H=y.x-l.x,me=y.y-l.y,je=y.z-l.z,nt=O*je-U*me,wt=U*H-x*je,kt=x*me-O*H,ar=nt*nt+wt*wt+kt*kt,nr=Math.sqrt(ar)/2;return nr},ci.centroid=function(l,f,y){var x=(l.x+f.x+y.x)/3,O=(l.y+f.y+y.y)/3;return new ie(x,O)},ci.inCentre=function(l,f,y){var x=f.distance(y),O=l.distance(y),U=l.distance(f),H=x+O+U,me=(x*l.x+O*f.x+U*y.x)/H,je=(x*l.y+O*f.y+U*y.y)/H;return new ie(me,je)};var Du=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Kt;var l=arguments[0],f=arguments[1],y=arguments[2];this._inputGeom=l,this._distance=f,this._curveBuilder=y};Du.prototype.addPoint=function(l){if(this._distance<=0)return null;var f=l.getCoordinates(),y=this._curveBuilder.getLineCurve(f,this._distance);this.addCurve(y,ae.EXTERIOR,ae.INTERIOR)},Du.prototype.addPolygon=function(l){var f=this._distance,y=Wt.LEFT;this._distance<0&&(f=-this._distance,y=Wt.RIGHT);var x=l.getExteriorRing(),O=se.removeRepeatedPoints(x.getCoordinates());if(this._distance<0&&this.isErodedCompletely(x,this._distance)||this._distance<=0&&O.length<3)return null;this.addPolygonRing(O,f,y,ae.EXTERIOR,ae.INTERIOR);for(var U=0;U<l.getNumInteriorRing();U++){var H=l.getInteriorRingN(U),me=se.removeRepeatedPoints(H.getCoordinates());this._distance>0&&this.isErodedCompletely(H,-this._distance)||this.addPolygonRing(me,f,Wt.opposite(y),ae.INTERIOR,ae.EXTERIOR)}},Du.prototype.isTriangleErodedCompletely=function(l,f){var y=new ci(l[0],l[1],l[2]),x=y.inCentre();return mt.distancePointLine(x,y.p0,y.p1)<Math.abs(f)},Du.prototype.addLineString=function(l){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var f=se.removeRepeatedPoints(l.getCoordinates()),y=this._curveBuilder.getLineCurve(f,this._distance);this.addCurve(y,ae.EXTERIOR,ae.INTERIOR)},Du.prototype.addCurve=function(l,f,y){if(l===null||l.length<2)return null;var x=new so(l,new Ai(0,ae.BOUNDARY,f,y));this._curveList.add(x)},Du.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Du.prototype.addPolygonRing=function(l,f,y,x,O){if(f===0&&l.length<Fi.MINIMUM_VALID_SIZE)return null;var U=x,H=O;l.length>=Fi.MINIMUM_VALID_SIZE&&mt.isCCW(l)&&(U=O,H=x,y=Wt.opposite(y));var me=this._curveBuilder.getRingCurve(l,y,f);this.addCurve(me,U,H)},Du.prototype.add=function(l){if(l.isEmpty())return null;l instanceof yi?this.addPolygon(l):l instanceof ln?this.addLineString(l):l instanceof cn?this.addPoint(l):l instanceof li?this.addCollection(l):l instanceof fr?this.addCollection(l):l instanceof Jn?this.addCollection(l):l instanceof Et&&this.addCollection(l)},Du.prototype.isErodedCompletely=function(l,f){var y=l.getCoordinates();if(y.length<4)return f<0;if(y.length===4)return this.isTriangleErodedCompletely(y,f);var x=l.getEnvelopeInternal(),O=Math.min(x.getHeight(),x.getWidth());return f<0&&2*Math.abs(f)>O},Du.prototype.addCollection=function(l){for(var f=0;f<l.getNumGeometries();f++){var y=l.getGeometryN(f);this.add(y)}},Du.prototype.interfaces_=function(){return[]},Du.prototype.getClass=function(){return Du};var hc=function(){};hc.prototype.locate=function(l){},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc};var Pi=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var l=arguments[0];this._parent=l,this._atStart=!0,this._index=0,this._max=l.getNumGeometries()};Pi.prototype.next=function(){if(this._atStart)return this._atStart=!1,Pi.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new u;var l=this._parent.getGeometryN(this._index++);return l instanceof Et?(this._subcollectionIterator=new Pi(l),this._subcollectionIterator.next()):l},Pi.prototype.remove=function(){throw new Error(this.getClass().getName())},Pi.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Pi.prototype.interfaces_=function(){return[Fa]},Pi.prototype.getClass=function(){return Pi},Pi.isAtomic=function(l){return!(l instanceof Et)};var Ws=function(){this._geom=null;var l=arguments[0];this._geom=l};Ws.prototype.locate=function(l){return Ws.locate(l,this._geom)},Ws.prototype.interfaces_=function(){return[hc]},Ws.prototype.getClass=function(){return Ws},Ws.isPointInRing=function(l,f){return!!f.getEnvelopeInternal().intersects(l)&&mt.isPointInRing(l,f.getCoordinates())},Ws.containsPointInPolygon=function(l,f){if(f.isEmpty())return!1;var y=f.getExteriorRing();if(!Ws.isPointInRing(l,y))return!1;for(var x=0;x<f.getNumInteriorRing();x++){var O=f.getInteriorRingN(x);if(Ws.isPointInRing(l,O))return!1}return!0},Ws.containsPoint=function(l,f){if(f instanceof yi)return Ws.containsPointInPolygon(l,f);if(f instanceof Et)for(var y=new Pi(f);y.hasNext();){var x=y.next();if(x!==f&&Ws.containsPoint(l,x))return!0}return!1},Ws.locate=function(l,f){return f.isEmpty()?ae.EXTERIOR:Ws.containsPoint(l,f)?ae.INTERIOR:ae.EXTERIOR};var Rs=function(){this._edgeMap=new k,this._edgeList=null,this._ptInAreaLocation=[ae.NONE,ae.NONE]};Rs.prototype.getNextCW=function(l){this.getEdges();var f=this._edgeList.indexOf(l),y=f-1;return f===0&&(y=this._edgeList.size()-1),this._edgeList.get(y)},Rs.prototype.propagateSideLabels=function(l){for(var f=ae.NONE,y=this.iterator();y.hasNext();){var x=y.next().getLabel();x.isArea(l)&&x.getLocation(l,Wt.LEFT)!==ae.NONE&&(f=x.getLocation(l,Wt.LEFT))}if(f===ae.NONE)return null;for(var O=f,U=this.iterator();U.hasNext();){var H=U.next(),me=H.getLabel();if(me.getLocation(l,Wt.ON)===ae.NONE&&me.setLocation(l,Wt.ON,O),me.isArea(l)){var je=me.getLocation(l,Wt.LEFT),nt=me.getLocation(l,Wt.RIGHT);if(nt!==ae.NONE){if(nt!==O)throw new wl("side location conflict",H.getCoordinate());je===ae.NONE&&be.shouldNeverReachHere("found single null side (at "+H.getCoordinate()+")"),O=je}else be.isTrue(me.getLocation(l,Wt.LEFT)===ae.NONE,"found single null side"),me.setLocation(l,Wt.RIGHT,O),me.setLocation(l,Wt.LEFT,O)}}},Rs.prototype.getCoordinate=function(){var l=this.iterator();return l.hasNext()?l.next().getCoordinate():null},Rs.prototype.print=function(l){Ut.out.println("EdgeEndStar:   "+this.getCoordinate());for(var f=this.iterator();f.hasNext();)f.next().print(l)},Rs.prototype.isAreaLabelsConsistent=function(l){return this.computeEdgeEndLabels(l.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Rs.prototype.checkAreaLabelsConsistent=function(l){var f=this.getEdges();if(f.size()<=0)return!0;var y=f.size()-1,x=f.get(y).getLabel().getLocation(l,Wt.LEFT);be.isTrue(x!==ae.NONE,"Found unlabelled area edge");for(var O=x,U=this.iterator();U.hasNext();){var H=U.next().getLabel();be.isTrue(H.isArea(l),"Found non-area edge");var me=H.getLocation(l,Wt.LEFT),je=H.getLocation(l,Wt.RIGHT);if(me===je||je!==O)return!1;O=me}return!0},Rs.prototype.findIndex=function(l){this.iterator();for(var f=0;f<this._edgeList.size();f++)if(this._edgeList.get(f)===l)return f;return-1},Rs.prototype.iterator=function(){return this.getEdges().iterator()},Rs.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new Kt(this._edgeMap.values())),this._edgeList},Rs.prototype.getLocation=function(l,f,y){return this._ptInAreaLocation[l]===ae.NONE&&(this._ptInAreaLocation[l]=Ws.locate(f,y[l].getGeometry())),this._ptInAreaLocation[l]},Rs.prototype.toString=function(){var l=new ve;l.append("EdgeEndStar:   "+this.getCoordinate()),l.append(`
`);for(var f=this.iterator();f.hasNext();){var y=f.next();l.append(y),l.append(`
`)}return l.toString()},Rs.prototype.computeEdgeEndLabels=function(l){for(var f=this.iterator();f.hasNext();)f.next().computeLabel(l)},Rs.prototype.computeLabelling=function(l){this.computeEdgeEndLabels(l[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var f=[!1,!1],y=this.iterator();y.hasNext();)for(var x=y.next().getLabel(),O=0;O<2;O++)x.isLine(O)&&x.getLocation(O)===ae.BOUNDARY&&(f[O]=!0);for(var U=this.iterator();U.hasNext();)for(var H=U.next(),me=H.getLabel(),je=0;je<2;je++)if(me.isAnyNull(je)){var nt=ae.NONE;if(f[je])nt=ae.EXTERIOR;else{var wt=H.getCoordinate();nt=this.getLocation(je,wt,l)}me.setAllLocationsIfNull(je,nt)}},Rs.prototype.getDegree=function(){return this._edgeMap.size()},Rs.prototype.insertEdgeEnd=function(l,f){this._edgeMap.put(l,f),this._edgeList=null},Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs};var Zf=function(l){function f(){l.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var y=null,x=null,O=this._SCANNING_FOR_INCOMING,U=0;U<this._resultAreaEdgeList.size();U++){var H=this._resultAreaEdgeList.get(U),me=H.getSym();if(H.getLabel().isArea())switch(y===null&&H.isInResult()&&(y=H),O){case this._SCANNING_FOR_INCOMING:if(!me.isInResult())continue;x=me,O=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!H.isInResult())continue;x.setNext(H),O=this._SCANNING_FOR_INCOMING}}if(O===this._LINKING_TO_OUTGOING){if(y===null)throw new wl("no outgoing dirEdge found",this.getCoordinate());be.isTrue(y.isInResult(),"unable to link last incoming dirEdge"),x.setNext(y)}},f.prototype.insert=function(y){var x=y;this.insertEdgeEnd(x,x)},f.prototype.getRightmostEdge=function(){var y=this.getEdges(),x=y.size();if(x<1)return null;var O=y.get(0);if(x===1)return O;var U=y.get(x-1),H=O.getQuadrant(),me=U.getQuadrant();return Ei.isNorthern(H)&&Ei.isNorthern(me)?O:Ei.isNorthern(H)||Ei.isNorthern(me)?O.getDy()!==0?O:U.getDy()!==0?U:(be.shouldNeverReachHere("found two horizontal edges incident on node"),null):U},f.prototype.print=function(y){Ut.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var x=this.iterator();x.hasNext();){var O=x.next();y.print("out "),O.print(y),y.println(),y.print("in "),O.getSym().print(y),y.println()}},f.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Kt;for(var y=this.iterator();y.hasNext();){var x=y.next();(x.isInResult()||x.getSym().isInResult())&&this._resultAreaEdgeList.add(x)}return this._resultAreaEdgeList},f.prototype.updateLabelling=function(y){for(var x=this.iterator();x.hasNext();){var O=x.next().getLabel();O.setAllLocationsIfNull(0,y.getLocation(0)),O.setAllLocationsIfNull(1,y.getLocation(1))}},f.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var y=null,x=null,O=this._edgeList.size()-1;O>=0;O--){var U=this._edgeList.get(O),H=U.getSym();x===null&&(x=H),y!==null&&H.setNext(y),y=U}x.setNext(y)},f.prototype.computeDepths=function(){if(arguments.length===1){var y=arguments[0],x=this.findIndex(y),O=y.getDepth(Wt.LEFT),U=y.getDepth(Wt.RIGHT),H=this.computeDepths(x+1,this._edgeList.size(),O);if(this.computeDepths(0,x,H)!==U)throw new wl("depth mismatch at "+y.getCoordinate())}else if(arguments.length===3){for(var me=arguments[0],je=arguments[1],nt=arguments[2],wt=me;wt<je;wt++){var kt=this._edgeList.get(wt);kt.setEdgeDepths(Wt.RIGHT,nt),nt=kt.getDepth(Wt.LEFT)}return nt}},f.prototype.mergeSymLabels=function(){for(var y=this.iterator();y.hasNext();){var x=y.next();x.getLabel().merge(x.getSym().getLabel())}},f.prototype.linkMinimalDirectedEdges=function(y){for(var x=null,O=null,U=this._SCANNING_FOR_INCOMING,H=this._resultAreaEdgeList.size()-1;H>=0;H--){var me=this._resultAreaEdgeList.get(H),je=me.getSym();switch(x===null&&me.getEdgeRing()===y&&(x=me),U){case this._SCANNING_FOR_INCOMING:if(je.getEdgeRing()!==y)continue;O=je,U=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(me.getEdgeRing()!==y)continue;O.setNextMin(me),U=this._SCANNING_FOR_INCOMING}}U===this._LINKING_TO_OUTGOING&&(be.isTrue(x!==null,"found null for first outgoing dirEdge"),be.isTrue(x.getEdgeRing()===y,"unable to link last incoming dirEdge"),O.setNextMin(x))},f.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var y=0,x=this.iterator();x.hasNext();)x.next().isInResult()&&y++;return y}if(arguments.length===1){for(var O=arguments[0],U=0,H=this.iterator();H.hasNext();)H.next().getEdgeRing()===O&&U++;return U}},f.prototype.getLabel=function(){return this._label},f.prototype.findCoveredLineEdges=function(){for(var y=ae.NONE,x=this.iterator();x.hasNext();){var O=x.next(),U=O.getSym();if(!O.isLineEdge()){if(O.isInResult()){y=ae.INTERIOR;break}if(U.isInResult()){y=ae.EXTERIOR;break}}}if(y===ae.NONE)return null;for(var H=y,me=this.iterator();me.hasNext();){var je=me.next(),nt=je.getSym();je.isLineEdge()?je.getEdge().setCovered(H===ae.INTERIOR):(je.isInResult()&&(H=ae.EXTERIOR),nt.isInResult()&&(H=ae.INTERIOR))}},f.prototype.computeLabelling=function(y){l.prototype.computeLabelling.call(this,y),this._label=new Ai(ae.NONE);for(var x=this.iterator();x.hasNext();)for(var O=x.next().getEdge().getLabel(),U=0;U<2;U++){var H=O.getLocation(U);H!==ae.INTERIOR&&H!==ae.BOUNDARY||this._label.setLocation(U,ae.INTERIOR)}},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Rs),Dh=function(l){function f(){l.apply(this,arguments)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.createNode=function(y){return new jl(y,new Zf)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Mu),zc=function l(){this._pts=null,this._orientation=null;var f=arguments[0];this._pts=f,this._orientation=l.orientation(f)};zc.prototype.compareTo=function(l){var f=l;return zc.compareOriented(this._pts,this._orientation,f._pts,f._orientation)},zc.prototype.interfaces_=function(){return[pe]},zc.prototype.getClass=function(){return zc},zc.orientation=function(l){return se.increasingDirection(l)===1},zc.compareOriented=function(l,f,y,x){for(var O=f?1:-1,U=x?1:-1,H=f?l.length:-1,me=x?y.length:-1,je=f?0:l.length-1,nt=x?0:y.length-1;;){var wt=l[je].compareTo(y[nt]);if(wt!==0)return wt;var kt=(je+=O)===H,ar=(nt+=U)===me;if(kt&&!ar)return-1;if(!kt&&ar)return 1;if(kt&&ar)return 0}};var qu=function(){this._edges=new Kt,this._ocaMap=new k};qu.prototype.print=function(l){l.print("MULTILINESTRING ( ");for(var f=0;f<this._edges.size();f++){var y=this._edges.get(f);f>0&&l.print(","),l.print("(");for(var x=y.getCoordinates(),O=0;O<x.length;O++)O>0&&l.print(","),l.print(x[O].x+" "+x[O].y);l.println(")")}l.print(")  ")},qu.prototype.addAll=function(l){for(var f=l.iterator();f.hasNext();)this.add(f.next())},qu.prototype.findEdgeIndex=function(l){for(var f=0;f<this._edges.size();f++)if(this._edges.get(f).equals(l))return f;return-1},qu.prototype.iterator=function(){return this._edges.iterator()},qu.prototype.getEdges=function(){return this._edges},qu.prototype.get=function(l){return this._edges.get(l)},qu.prototype.findEqualEdge=function(l){var f=new zc(l.getCoordinates());return this._ocaMap.get(f)},qu.prototype.add=function(l){this._edges.add(l);var f=new zc(l.getCoordinates());this._ocaMap.put(f,l)},qu.prototype.interfaces_=function(){return[]},qu.prototype.getClass=function(){return qu};var Ul=function(){};Ul.prototype.processIntersections=function(l,f,y,x){},Ul.prototype.isDone=function(){},Ul.prototype.interfaces_=function(){return[]},Ul.prototype.getClass=function(){return Ul};var ys=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var l=arguments[0];this._li=l};ys.prototype.isTrivialIntersection=function(l,f,y,x){if(l===y&&this._li.getIntersectionNum()===1){if(ys.isAdjacentSegments(f,x))return!0;if(l.isClosed()){var O=l.size()-1;if(f===0&&x===O||x===0&&f===O)return!0}}return!1},ys.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ys.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ys.prototype.getLineIntersector=function(){return this._li},ys.prototype.hasProperIntersection=function(){return this._hasProper},ys.prototype.processIntersections=function(l,f,y,x){if(l===y&&f===x)return null;this.numTests++;var O=l.getCoordinates()[f],U=l.getCoordinates()[f+1],H=y.getCoordinates()[x],me=y.getCoordinates()[x+1];this._li.computeIntersection(O,U,H,me),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(l,f,y,x)||(this._hasIntersection=!0,l.addIntersections(this._li,f,0),y.addIntersections(this._li,x,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},ys.prototype.hasIntersection=function(){return this._hasIntersection},ys.prototype.isDone=function(){return!1},ys.prototype.hasInteriorIntersection=function(){return this._hasInterior},ys.prototype.interfaces_=function(){return[Ul]},ys.prototype.getClass=function(){return ys},ys.isAdjacentSegments=function(l,f){return Math.abs(l-f)===1};var Pn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var l=arguments[0],f=arguments[1],y=arguments[2];this.coord=new ie(l),this.segmentIndex=f,this.dist=y};Pn.prototype.getSegmentIndex=function(){return this.segmentIndex},Pn.prototype.getCoordinate=function(){return this.coord},Pn.prototype.print=function(l){l.print(this.coord),l.print(" seg # = "+this.segmentIndex),l.println(" dist = "+this.dist)},Pn.prototype.compareTo=function(l){var f=l;return this.compare(f.segmentIndex,f.dist)},Pn.prototype.isEndPoint=function(l){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===l},Pn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Pn.prototype.getDistance=function(){return this.dist},Pn.prototype.compare=function(l,f){return this.segmentIndex<l?-1:this.segmentIndex>l?1:this.dist<f?-1:this.dist>f?1:0},Pn.prototype.interfaces_=function(){return[pe]},Pn.prototype.getClass=function(){return Pn};var lu=function(){this._nodeMap=new k,this.edge=null;var l=arguments[0];this.edge=l};lu.prototype.print=function(l){l.println("Intersections:");for(var f=this.iterator();f.hasNext();)f.next().print(l)},lu.prototype.iterator=function(){return this._nodeMap.values().iterator()},lu.prototype.addSplitEdges=function(l){this.addEndpoints();for(var f=this.iterator(),y=f.next();f.hasNext();){var x=f.next(),O=this.createSplitEdge(y,x);l.add(O),y=x}},lu.prototype.addEndpoints=function(){var l=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[l],l,0)},lu.prototype.createSplitEdge=function(l,f){var y=f.segmentIndex-l.segmentIndex+2,x=this.edge.pts[f.segmentIndex],O=f.dist>0||!f.coord.equals2D(x);O||y--;var U=new Array(y).fill(null),H=0;U[H++]=new ie(l.coord);for(var me=l.segmentIndex+1;me<=f.segmentIndex;me++)U[H++]=this.edge.pts[me];return O&&(U[H]=f.coord),new ul(U,new Ai(this.edge._label))},lu.prototype.add=function(l,f,y){var x=new Pn(l,f,y),O=this._nodeMap.get(x);return O!==null?O:(this._nodeMap.put(x,x),x)},lu.prototype.isIntersection=function(l){for(var f=this.iterator();f.hasNext();)if(f.next().coord.equals(l))return!0;return!1},lu.prototype.interfaces_=function(){return[]},lu.prototype.getClass=function(){return lu};var yu=function(){};yu.prototype.getChainStartIndices=function(l){var f=0,y=new Kt;y.add(new de(f));do{var x=this.findChainEnd(l,f);y.add(new de(x)),f=x}while(f<l.length-1);return yu.toIntArray(y)},yu.prototype.findChainEnd=function(l,f){for(var y=Ei.quadrant(l[f],l[f+1]),x=f+1;x<l.length&&Ei.quadrant(l[x-1],l[x])===y;)x++;return x-1},yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu},yu.toIntArray=function(l){for(var f=new Array(l.size()).fill(null),y=0;y<f.length;y++)f[y]=l.get(y).intValue();return f};var cu=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Xt,this.env2=new Xt;var l=arguments[0];this.e=l,this.pts=l.getCoordinates();var f=new yu;this.startIndex=f.getChainStartIndices(this.pts)};cu.prototype.getCoordinates=function(){return this.pts},cu.prototype.getMaxX=function(l){var f=this.pts[this.startIndex[l]].x,y=this.pts[this.startIndex[l+1]].x;return f>y?f:y},cu.prototype.getMinX=function(l){var f=this.pts[this.startIndex[l]].x,y=this.pts[this.startIndex[l+1]].x;return f<y?f:y},cu.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var l=arguments[0],f=arguments[1],y=arguments[2],x=arguments[3];this.computeIntersectsForChain(this.startIndex[l],this.startIndex[l+1],f,f.startIndex[y],f.startIndex[y+1],x)}else if(arguments.length===6){var O=arguments[0],U=arguments[1],H=arguments[2],me=arguments[3],je=arguments[4],nt=arguments[5],wt=this.pts[O],kt=this.pts[U],ar=H.pts[me],nr=H.pts[je];if(U-O==1&&je-me==1)return nt.addIntersections(this.e,O,H.e,me),null;if(this.env1.init(wt,kt),this.env2.init(ar,nr),!this.env1.intersects(this.env2))return null;var Tr=Math.trunc((O+U)/2),Br=Math.trunc((me+je)/2);O<Tr&&(me<Br&&this.computeIntersectsForChain(O,Tr,H,me,Br,nt),Br<je&&this.computeIntersectsForChain(O,Tr,H,Br,je,nt)),Tr<U&&(me<Br&&this.computeIntersectsForChain(Tr,U,H,me,Br,nt),Br<je&&this.computeIntersectsForChain(Tr,U,H,Br,je,nt))}},cu.prototype.getStartIndexes=function(){return this.startIndex},cu.prototype.computeIntersects=function(l,f){for(var y=0;y<this.startIndex.length-1;y++)for(var x=0;x<l.startIndex.length-1;x++)this.computeIntersectsForChain(y,l,x,f)},cu.prototype.interfaces_=function(){return[]},cu.prototype.getClass=function(){return cu};var vs=function l(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var f=0;f<2;f++)for(var y=0;y<3;y++)this._depth[f][y]=l.NULL_VALUE},Kf={NULL_VALUE:{configurable:!0}};vs.prototype.getDepth=function(l,f){return this._depth[l][f]},vs.prototype.setDepth=function(l,f,y){this._depth[l][f]=y},vs.prototype.isNull=function(){if(arguments.length===0){for(var l=0;l<2;l++)for(var f=0;f<3;f++)if(this._depth[l][f]!==vs.NULL_VALUE)return!1;return!0}if(arguments.length===1){var y=arguments[0];return this._depth[y][1]===vs.NULL_VALUE}if(arguments.length===2){var x=arguments[0],O=arguments[1];return this._depth[x][O]===vs.NULL_VALUE}},vs.prototype.normalize=function(){for(var l=0;l<2;l++)if(!this.isNull(l)){var f=this._depth[l][1];this._depth[l][2]<f&&(f=this._depth[l][2]),f<0&&(f=0);for(var y=1;y<3;y++){var x=0;this._depth[l][y]>f&&(x=1),this._depth[l][y]=x}}},vs.prototype.getDelta=function(l){return this._depth[l][Wt.RIGHT]-this._depth[l][Wt.LEFT]},vs.prototype.getLocation=function(l,f){return this._depth[l][f]<=0?ae.EXTERIOR:ae.INTERIOR},vs.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},vs.prototype.add=function(){if(arguments.length===1)for(var l=arguments[0],f=0;f<2;f++)for(var y=1;y<3;y++){var x=l.getLocation(f,y);x!==ae.EXTERIOR&&x!==ae.INTERIOR||(this.isNull(f,y)?this._depth[f][y]=vs.depthAtLocation(x):this._depth[f][y]+=vs.depthAtLocation(x))}else if(arguments.length===3){var O=arguments[0],U=arguments[1];arguments[2]===ae.INTERIOR&&this._depth[O][U]++}},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs},vs.depthAtLocation=function(l){return l===ae.EXTERIOR?0:l===ae.INTERIOR?1:vs.NULL_VALUE},Kf.NULL_VALUE.get=function(){return-1},Object.defineProperties(vs,Kf);var ul=function(l){function f(){if(l.call(this),this.pts=null,this._env=null,this.eiList=new lu(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new vs,this._depthDelta=0,arguments.length===1){var y=arguments[0];f.call(this,y,null)}else if(arguments.length===2){var x=arguments[0],O=arguments[1];this.pts=x,this._label=O}}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.getDepth=function(){return this._depth},f.prototype.getCollapsedEdge=function(){var y=new Array(2).fill(null);return y[0]=this.pts[0],y[1]=this.pts[1],new f(y,Ai.toLineLabel(this._label))},f.prototype.isIsolated=function(){return this._isIsolated},f.prototype.getCoordinates=function(){return this.pts},f.prototype.setIsolated=function(y){this._isIsolated=y},f.prototype.setName=function(y){this._name=y},f.prototype.equals=function(y){if(!(y instanceof f))return!1;var x=y;if(this.pts.length!==x.pts.length)return!1;for(var O=!0,U=!0,H=this.pts.length,me=0;me<this.pts.length;me++)if(this.pts[me].equals2D(x.pts[me])||(O=!1),this.pts[me].equals2D(x.pts[--H])||(U=!1),!O&&!U)return!1;return!0},f.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var y=arguments[0];return this.pts[y]}},f.prototype.print=function(y){y.print("edge "+this._name+": "),y.print("LINESTRING (");for(var x=0;x<this.pts.length;x++)x>0&&y.print(","),y.print(this.pts[x].x+" "+this.pts[x].y);y.print(")  "+this._label+" "+this._depthDelta)},f.prototype.computeIM=function(y){f.updateIM(this._label,y)},f.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},f.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},f.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},f.prototype.getDepthDelta=function(){return this._depthDelta},f.prototype.getNumPoints=function(){return this.pts.length},f.prototype.printReverse=function(y){y.print("edge "+this._name+": ");for(var x=this.pts.length-1;x>=0;x--)y.print(this.pts[x]+" ");y.println("")},f.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new cu(this)),this._mce},f.prototype.getEnvelope=function(){if(this._env===null){this._env=new Xt;for(var y=0;y<this.pts.length;y++)this._env.expandToInclude(this.pts[y])}return this._env},f.prototype.addIntersection=function(y,x,O,U){var H=new ie(y.getIntersection(U)),me=x,je=y.getEdgeDistance(O,U),nt=me+1;if(nt<this.pts.length){var wt=this.pts[nt];H.equals2D(wt)&&(me=nt,je=0)}this.eiList.add(H,me,je)},f.prototype.toString=function(){var y=new ve;y.append("edge "+this._name+": "),y.append("LINESTRING (");for(var x=0;x<this.pts.length;x++)x>0&&y.append(","),y.append(this.pts[x].x+" "+this.pts[x].y);return y.append(")  "+this._label+" "+this._depthDelta),y.toString()},f.prototype.isPointwiseEqual=function(y){if(this.pts.length!==y.pts.length)return!1;for(var x=0;x<this.pts.length;x++)if(!this.pts[x].equals2D(y.pts[x]))return!1;return!0},f.prototype.setDepthDelta=function(y){this._depthDelta=y},f.prototype.getEdgeIntersectionList=function(){return this.eiList},f.prototype.addIntersections=function(y,x,O){for(var U=0;U<y.getIntersectionNum();U++)this.addIntersection(y,x,O,U)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f.updateIM=function(){if(arguments.length!==2)return l.prototype.updateIM.apply(this,arguments);var y=arguments[0],x=arguments[1];x.setAtLeastIfValid(y.getLocation(0,Wt.ON),y.getLocation(1,Wt.ON),1),y.isArea()&&(x.setAtLeastIfValid(y.getLocation(0,Wt.LEFT),y.getLocation(1,Wt.LEFT),2),x.setAtLeastIfValid(y.getLocation(0,Wt.RIGHT),y.getLocation(1,Wt.RIGHT),2))},f}(gs),ma=function(l){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new qu,this._bufParams=l||null};ma.prototype.setWorkingPrecisionModel=function(l){this._workingPrecisionModel=l},ma.prototype.insertUniqueEdge=function(l){var f=this._edgeList.findEqualEdge(l);if(f!==null){var y=f.getLabel(),x=l.getLabel();f.isPointwiseEqual(l)||(x=new Ai(l.getLabel())).flip(),y.merge(x);var O=ma.depthDelta(x),U=f.getDepthDelta()+O;f.setDepthDelta(U)}else this._edgeList.add(l),l.setDepthDelta(ma.depthDelta(l.getLabel()))},ma.prototype.buildSubgraphs=function(l,f){for(var y=new Kt,x=l.iterator();x.hasNext();){var O=x.next(),U=O.getRightmostCoordinate(),H=new sl(y).getDepth(U);O.computeDepth(H),O.findResultEdges(),y.add(O),f.add(O.getDirectedEdges(),O.getNodes())}},ma.prototype.createSubgraphs=function(l){for(var f=new Kt,y=l.getNodes().iterator();y.hasNext();){var x=y.next();if(!x.isVisited()){var O=new os;O.create(x),f.add(O)}}return qs.sort(f,qs.reverseOrder()),f},ma.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ma.prototype.getNoder=function(l){if(this._workingNoder!==null)return this._workingNoder;var f=new Ji,y=new st;return y.setPrecisionModel(l),f.setSegmentIntersector(new ys(y)),f},ma.prototype.buffer=function(l,f){var y=this._workingPrecisionModel;y===null&&(y=l.getPrecisionModel()),this._geomFact=l.getFactory();var x=new Ms(y,this._bufParams),O=new Du(l,f,x).getCurves();if(O.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(O,y),this._graph=new Ri(new Dh),this._graph.addEdges(this._edgeList.getEdges());var U=this.createSubgraphs(this._graph),H=new da(this._geomFact);this.buildSubgraphs(U,H);var me=H.getPolygons();return me.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(me)},ma.prototype.computeNodedEdges=function(l,f){var y=this.getNoder(f);y.computeNodes(l);for(var x=y.getNodedSubstrings().iterator();x.hasNext();){var O=x.next(),U=O.getCoordinates();if(U.length!==2||!U[0].equals2D(U[1])){var H=O.getData(),me=new ul(O.getCoordinates(),new Ai(H));this.insertUniqueEdge(me)}}},ma.prototype.setNoder=function(l){this._workingNoder=l},ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma},ma.depthDelta=function(l){var f=l.getLocation(0,Wt.LEFT),y=l.getLocation(0,Wt.RIGHT);return f===ae.INTERIOR&&y===ae.EXTERIOR?1:f===ae.EXTERIOR&&y===ae.INTERIOR?-1:0},ma.convertSegStrings=function(l){for(var f=new dn,y=new Kt;l.hasNext();){var x=l.next(),O=f.createLineString(x.getCoordinates());y.add(O)}return f.buildGeometry(y)};var dc=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var l=arguments[0],f=arguments[1];this._noder=l,this._scaleFactor=f,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var y=arguments[0],x=arguments[1],O=arguments[2],U=arguments[3];this._noder=y,this._scaleFactor=x,this._offsetX=O,this._offsetY=U,this._isScaled=!this.isIntegerPrecision()}};dc.prototype.rescale=function(){if(Q(arguments[0],ui))for(var l=arguments[0].iterator();l.hasNext();){var f=l.next();this.rescale(f.getCoordinates())}else if(arguments[0]instanceof Array){for(var y=arguments[0],x=0;x<y.length;x++)y[x].x=y[x].x/this._scaleFactor+this._offsetX,y[x].y=y[x].y/this._scaleFactor+this._offsetY;y.length===2&&y[0].equals2D(y[1])&&Ut.out.println(y)}},dc.prototype.scale=function(){if(Q(arguments[0],ui)){for(var l=arguments[0],f=new Kt,y=l.iterator();y.hasNext();){var x=y.next();f.add(new so(this.scale(x.getCoordinates()),x.getData()))}return f}if(arguments[0]instanceof Array){for(var O=arguments[0],U=new Array(O.length).fill(null),H=0;H<O.length;H++)U[H]=new ie(Math.round((O[H].x-this._offsetX)*this._scaleFactor),Math.round((O[H].y-this._offsetY)*this._scaleFactor),O[H].z);return se.removeRepeatedPoints(U)}},dc.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},dc.prototype.getNodedSubstrings=function(){var l=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(l),l},dc.prototype.computeNodes=function(l){var f=l;this._isScaled&&(f=this.scale(l)),this._noder.computeNodes(f)},dc.prototype.interfaces_=function(){return[Dc]},dc.prototype.getClass=function(){return dc};var ql=function(){this._li=new st,this._segStrings=null;var l=arguments[0];this._segStrings=l},Jf={fact:{configurable:!0}};ql.prototype.checkEndPtVertexIntersections=function(){if(arguments.length===0)for(var l=this._segStrings.iterator();l.hasNext();){var f=l.next().getCoordinates();this.checkEndPtVertexIntersections(f[0],this._segStrings),this.checkEndPtVertexIntersections(f[f.length-1],this._segStrings)}else if(arguments.length===2){for(var y=arguments[0],x=arguments[1].iterator();x.hasNext();)for(var O=x.next().getCoordinates(),U=1;U<O.length-1;U++)if(O[U].equals(y))throw new pt("found endpt/interior pt intersection at index "+U+" :pt "+y)}},ql.prototype.checkInteriorIntersections=function(){if(arguments.length===0)for(var l=this._segStrings.iterator();l.hasNext();)for(var f=l.next(),y=this._segStrings.iterator();y.hasNext();){var x=y.next();this.checkInteriorIntersections(f,x)}else if(arguments.length===2)for(var O=arguments[0],U=arguments[1],H=O.getCoordinates(),me=U.getCoordinates(),je=0;je<H.length-1;je++)for(var nt=0;nt<me.length-1;nt++)this.checkInteriorIntersections(O,je,U,nt);else if(arguments.length===4){var wt=arguments[0],kt=arguments[1],ar=arguments[2],nr=arguments[3];if(wt===ar&&kt===nr)return null;var Tr=wt.getCoordinates()[kt],Br=wt.getCoordinates()[kt+1],ri=ar.getCoordinates()[nr],ba=ar.getCoordinates()[nr+1];if(this._li.computeIntersection(Tr,Br,ri,ba),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Tr,Br)||this.hasInteriorIntersection(this._li,ri,ba)))throw new pt("found non-noded intersection at "+Tr+"-"+Br+" and "+ri+"-"+ba)}},ql.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ql.prototype.checkCollapses=function(){if(arguments.length===0)for(var l=this._segStrings.iterator();l.hasNext();){var f=l.next();this.checkCollapses(f)}else if(arguments.length===1)for(var y=arguments[0].getCoordinates(),x=0;x<y.length-2;x++)this.checkCollapse(y[x],y[x+1],y[x+2])},ql.prototype.hasInteriorIntersection=function(l,f,y){for(var x=0;x<l.getIntersectionNum();x++){var O=l.getIntersection(x);if(!O.equals(f)&&!O.equals(y))return!0}return!1},ql.prototype.checkCollapse=function(l,f,y){if(l.equals(y))throw new pt("found non-noded collapse at "+ql.fact.createLineString([l,f,y]))},ql.prototype.interfaces_=function(){return[]},ql.prototype.getClass=function(){return ql},Jf.fact.get=function(){return new dn},Object.defineProperties(ql,Jf);var Za=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var l=arguments[0],f=arguments[1],y=arguments[2];if(this._originalPt=l,this._pt=l,this._scaleFactor=f,this._li=y,f<=0)throw new G("Scale factor must be non-zero");f!==1&&(this._pt=new ie(this.scale(l.x),this.scale(l.y)),this._p0Scaled=new ie,this._p1Scaled=new ie),this.initCorners(this._pt)},xp={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Za.prototype.intersectsScaled=function(l,f){var y=Math.min(l.x,f.x),x=Math.max(l.x,f.x),O=Math.min(l.y,f.y),U=Math.max(l.y,f.y),H=this._maxx<y||this._minx>x||this._maxy<O||this._miny>U;if(H)return!1;var me=this.intersectsToleranceSquare(l,f);return be.isTrue(!(H&&me),"Found bad envelope test"),me},Za.prototype.initCorners=function(l){this._minx=l.x-.5,this._maxx=l.x+.5,this._miny=l.y-.5,this._maxy=l.y+.5,this._corner[0]=new ie(this._maxx,this._maxy),this._corner[1]=new ie(this._minx,this._maxy),this._corner[2]=new ie(this._minx,this._miny),this._corner[3]=new ie(this._maxx,this._miny)},Za.prototype.intersects=function(l,f){return this._scaleFactor===1?this.intersectsScaled(l,f):(this.copyScaled(l,this._p0Scaled),this.copyScaled(f,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Za.prototype.scale=function(l){return Math.round(l*this._scaleFactor)},Za.prototype.getCoordinate=function(){return this._originalPt},Za.prototype.copyScaled=function(l,f){f.x=this.scale(l.x),f.y=this.scale(l.y)},Za.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var l=Za.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Xt(this._originalPt.x-l,this._originalPt.x+l,this._originalPt.y-l,this._originalPt.y+l)}return this._safeEnv},Za.prototype.intersectsPixelClosure=function(l,f){return this._li.computeIntersection(l,f,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(l,f,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(l,f,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(l,f,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Za.prototype.intersectsToleranceSquare=function(l,f){var y=!1,x=!1;return this._li.computeIntersection(l,f,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(l,f,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(y=!0),this._li.computeIntersection(l,f,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(x=!0),this._li.computeIntersection(l,f,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!y||!x)||!!l.equals(this._pt)||!!f.equals(this._pt))))},Za.prototype.addSnappedNode=function(l,f){var y=l.getCoordinate(f),x=l.getCoordinate(f+1);return!!this.intersects(y,x)&&(l.addIntersection(this.getCoordinate(),f),!0)},Za.prototype.interfaces_=function(){return[]},Za.prototype.getClass=function(){return Za},xp.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(Za,xp);var Pl=function(){this.tempEnv1=new Xt,this.selectedSegment=new Rr};Pl.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var l=arguments[0],f=arguments[1];l.getLineSegment(f,this.selectedSegment),this.select(this.selectedSegment)}}},Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl};var Fc=function(){this._index=null;var l=arguments[0];this._index=l},Il={HotPixelSnapAction:{configurable:!0}};Fc.prototype.snap=function(){if(arguments.length===1){var l=arguments[0];return this.snap(l,null,-1)}if(arguments.length===3){var f=arguments[0],y=arguments[1],x=arguments[2],O=f.getSafeEnvelope(),U=new wp(f,y,x);return this._index.query(O,{interfaces_:function(){return[uu]},visitItem:function(H){H.select(O,U)}}),U.isNodeAdded()}},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc},Il.HotPixelSnapAction.get=function(){return wp},Object.defineProperties(Fc,Il);var wp=function(l){function f(){l.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var y=arguments[0],x=arguments[1],O=arguments[2];this._hotPixel=y,this._parentEdge=x,this._hotPixelVertexIndex=O}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.isNodeAdded=function(){return this._isNodeAdded},f.prototype.select=function(){if(arguments.length!==2)return l.prototype.select.apply(this,arguments);var y=arguments[0],x=arguments[1],O=y.getContext();if(this._parentEdge!==null&&O===this._parentEdge&&x===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(O,x)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Pl),_c=function(){this._li=null,this._interiorIntersections=null;var l=arguments[0];this._li=l,this._interiorIntersections=new Kt};_c.prototype.processIntersections=function(l,f,y,x){if(l===y&&f===x)return null;var O=l.getCoordinates()[f],U=l.getCoordinates()[f+1],H=y.getCoordinates()[x],me=y.getCoordinates()[x+1];if(this._li.computeIntersection(O,U,H,me),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var je=0;je<this._li.getIntersectionNum();je++)this._interiorIntersections.add(this._li.getIntersection(je));l.addIntersections(this._li,f,0),y.addIntersections(this._li,x,1)}},_c.prototype.isDone=function(){return!1},_c.prototype.getInteriorIntersections=function(){return this._interiorIntersections},_c.prototype.interfaces_=function(){return[Ul]},_c.prototype.getClass=function(){return _c};var vu=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var l=arguments[0];this._pm=l,this._li=new st,this._li.setPrecisionModel(l),this._scaleFactor=l.getScale()};vu.prototype.checkCorrectness=function(l){var f=so.getNodedSubstrings(l),y=new ql(f);try{y.checkValid()}catch(x){if(!(x instanceof Yt))throw x;x.printStackTrace()}},vu.prototype.getNodedSubstrings=function(){return so.getNodedSubstrings(this._nodedSegStrings)},vu.prototype.snapRound=function(l,f){var y=this.findInteriorIntersections(l,f);this.computeIntersectionSnaps(y),this.computeVertexSnaps(l)},vu.prototype.findInteriorIntersections=function(l,f){var y=new _c(f);return this._noder.setSegmentIntersector(y),this._noder.computeNodes(l),y.getInteriorIntersections()},vu.prototype.computeVertexSnaps=function(){if(Q(arguments[0],ui))for(var l=arguments[0].iterator();l.hasNext();){var f=l.next();this.computeVertexSnaps(f)}else if(arguments[0]instanceof so)for(var y=arguments[0],x=y.getCoordinates(),O=0;O<x.length;O++){var U=new Za(x[O],this._scaleFactor,this._li);this._pointSnapper.snap(U,y,O)&&y.addIntersection(x[O],O)}},vu.prototype.computeNodes=function(l){this._nodedSegStrings=l,this._noder=new Ji,this._pointSnapper=new Fc(this._noder.getIndex()),this.snapRound(l,this._li)},vu.prototype.computeIntersectionSnaps=function(l){for(var f=l.iterator();f.hasNext();){var y=f.next(),x=new Za(y,this._scaleFactor,this._li);this._pointSnapper.snap(x)}},vu.prototype.interfaces_=function(){return[Dc]},vu.prototype.getClass=function(){return vu};var An=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Si,this._resultGeometry=null,this._saveException=null,arguments.length===1){var l=arguments[0];this._argGeom=l}else if(arguments.length===2){var f=arguments[0],y=arguments[1];this._argGeom=f,this._bufParams=y}},fu={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};An.prototype.bufferFixedPrecision=function(l){var f=new dc(new vu(new wn(1)),l.getScale()),y=new ma(this._bufParams);y.setWorkingPrecisionModel(l),y.setNoder(f),this._resultGeometry=y.buffer(this._argGeom,this._distance)},An.prototype.bufferReducedPrecision=function(){var l=this;if(arguments.length===0){for(var f=An.MAX_PRECISION_DIGITS;f>=0;f--){try{l.bufferReducedPrecision(f)}catch(U){if(!(U instanceof wl))throw U;l._saveException=U}if(l._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var y=arguments[0],x=An.precisionScaleFactor(this._argGeom,this._distance,y),O=new wn(x);this.bufferFixedPrecision(O)}},An.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var l=this._argGeom.getFactory().getPrecisionModel();l.getType()===wn.FIXED?this.bufferFixedPrecision(l):this.bufferReducedPrecision()},An.prototype.setQuadrantSegments=function(l){this._bufParams.setQuadrantSegments(l)},An.prototype.bufferOriginalPrecision=function(){try{var l=new ma(this._bufParams);this._resultGeometry=l.buffer(this._argGeom,this._distance)}catch(f){if(!(f instanceof pt))throw f;this._saveException=f}},An.prototype.getResultGeometry=function(l){return this._distance=l,this.computeGeometry(),this._resultGeometry},An.prototype.setEndCapStyle=function(l){this._bufParams.setEndCapStyle(l)},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},An.bufferOp=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];return new An(l).getResultGeometry(f)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof tr&&typeof arguments[1]=="number"){var y=arguments[0],x=arguments[1],O=arguments[2],U=new An(y);return U.setQuadrantSegments(O),U.getResultGeometry(x)}if(arguments[2]instanceof Si&&arguments[0]instanceof tr&&typeof arguments[1]=="number"){var H=arguments[0],me=arguments[1],je=arguments[2];return new An(H,je).getResultGeometry(me)}}else if(arguments.length===4){var nt=arguments[0],wt=arguments[1],kt=arguments[2],ar=arguments[3],nr=new An(nt);return nr.setQuadrantSegments(kt),nr.setEndCapStyle(ar),nr.getResultGeometry(wt)}},An.precisionScaleFactor=function(l,f,y){var x=l.getEnvelopeInternal(),O=te.max(Math.abs(x.getMaxX()),Math.abs(x.getMaxY()),Math.abs(x.getMinX()),Math.abs(x.getMinY()))+2*(f>0?f:0),U=y-Math.trunc(Math.log(O)/Math.log(10)+1);return Math.pow(10,U)},fu.CAP_ROUND.get=function(){return Si.CAP_ROUND},fu.CAP_BUTT.get=function(){return Si.CAP_FLAT},fu.CAP_FLAT.get=function(){return Si.CAP_FLAT},fu.CAP_SQUARE.get=function(){return Si.CAP_SQUARE},fu.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(An,fu);var bs=function(){this._pt=[new ie,new ie],this._distance=J.NaN,this._isNull=!0};bs.prototype.getCoordinates=function(){return this._pt},bs.prototype.getCoordinate=function(l){return this._pt[l]},bs.prototype.setMinimum=function(){if(arguments.length===1){var l=arguments[0];this.setMinimum(l._pt[0],l._pt[1])}else if(arguments.length===2){var f=arguments[0],y=arguments[1];if(this._isNull)return this.initialize(f,y),null;var x=f.distance(y);x<this._distance&&this.initialize(f,y,x)}},bs.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var l=arguments[0],f=arguments[1];this._pt[0].setCoordinate(l),this._pt[1].setCoordinate(f),this._distance=l.distance(f),this._isNull=!1}else if(arguments.length===3){var y=arguments[0],x=arguments[1],O=arguments[2];this._pt[0].setCoordinate(y),this._pt[1].setCoordinate(x),this._distance=O,this._isNull=!1}},bs.prototype.getDistance=function(){return this._distance},bs.prototype.setMaximum=function(){if(arguments.length===1){var l=arguments[0];this.setMaximum(l._pt[0],l._pt[1])}else if(arguments.length===2){var f=arguments[0],y=arguments[1];if(this._isNull)return this.initialize(f,y),null;var x=f.distance(y);x>this._distance&&this.initialize(f,y,x)}},bs.prototype.interfaces_=function(){return[]},bs.prototype.getClass=function(){return bs};var ga=function(){};ga.prototype.interfaces_=function(){return[]},ga.prototype.getClass=function(){return ga},ga.computeDistance=function(){if(arguments[2]instanceof bs&&arguments[0]instanceof ln&&arguments[1]instanceof ie)for(var l=arguments[0],f=arguments[1],y=arguments[2],x=l.getCoordinates(),O=new Rr,U=0;U<x.length-1;U++){O.setCoordinates(x[U],x[U+1]);var H=O.closestPoint(f);y.setMinimum(H,f)}else if(arguments[2]instanceof bs&&arguments[0]instanceof yi&&arguments[1]instanceof ie){var me=arguments[0],je=arguments[1],nt=arguments[2];ga.computeDistance(me.getExteriorRing(),je,nt);for(var wt=0;wt<me.getNumInteriorRing();wt++)ga.computeDistance(me.getInteriorRingN(wt),je,nt)}else if(arguments[2]instanceof bs&&arguments[0]instanceof tr&&arguments[1]instanceof ie){var kt=arguments[0],ar=arguments[1],nr=arguments[2];if(kt instanceof ln)ga.computeDistance(kt,ar,nr);else if(kt instanceof yi)ga.computeDistance(kt,ar,nr);else if(kt instanceof Et)for(var Tr=kt,Br=0;Br<Tr.getNumGeometries();Br++){var ri=Tr.getGeometryN(Br);ga.computeDistance(ri,ar,nr)}else nr.setMinimum(kt.getCoordinate(),ar)}else if(arguments[2]instanceof bs&&arguments[0]instanceof Rr&&arguments[1]instanceof ie){var ba=arguments[0],d=arguments[1],b=arguments[2],g=ba.closestPoint(d);b.setMinimum(g,d)}};var bu=function(l){this._maxPtDist=new bs,this._inputGeom=l||null},jc={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};bu.prototype.computeMaxMidpointDistance=function(l){var f=new ll(this._inputGeom);l.apply(f),this._maxPtDist.setMaximum(f.getMaxPointDistance())},bu.prototype.computeMaxVertexDistance=function(l){var f=new Cf(this._inputGeom);l.apply(f),this._maxPtDist.setMaximum(f.getMaxPointDistance())},bu.prototype.findDistance=function(l){return this.computeMaxVertexDistance(l),this.computeMaxMidpointDistance(l),this._maxPtDist.getDistance()},bu.prototype.getDistancePoints=function(){return this._maxPtDist},bu.prototype.interfaces_=function(){return[]},bu.prototype.getClass=function(){return bu},jc.MaxPointDistanceFilter.get=function(){return Cf},jc.MaxMidpointDistanceFilter.get=function(){return ll},Object.defineProperties(bu,jc);var Cf=function(l){this._maxPtDist=new bs,this._minPtDist=new bs,this._geom=l||null};Cf.prototype.filter=function(l){this._minPtDist.initialize(),ga.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Cf.prototype.getMaxPointDistance=function(){return this._maxPtDist},Cf.prototype.interfaces_=function(){return[si]},Cf.prototype.getClass=function(){return Cf};var ll=function(l){this._maxPtDist=new bs,this._minPtDist=new bs,this._geom=l||null};ll.prototype.filter=function(l,f){if(f===0)return null;var y=l.getCoordinate(f-1),x=l.getCoordinate(f),O=new ie((y.x+x.x)/2,(y.y+x.y)/2);this._minPtDist.initialize(),ga.computeDistance(this._geom,O,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ll.prototype.isDone=function(){return!1},ll.prototype.isGeometryChanged=function(){return!1},ll.prototype.getMaxPointDistance=function(){return this._maxPtDist},ll.prototype.interfaces_=function(){return[cr]},ll.prototype.getClass=function(){return ll};var Ii=function(l){this._comps=l||null};Ii.prototype.filter=function(l){l instanceof yi&&this._comps.add(l)},Ii.prototype.interfaces_=function(){return[_r]},Ii.prototype.getClass=function(){return Ii},Ii.getPolygons=function(){if(arguments.length===1){var l=arguments[0];return Ii.getPolygons(l,new Kt)}if(arguments.length===2){var f=arguments[0],y=arguments[1];return f instanceof yi?y.add(f):f instanceof Et&&f.apply(new Ii(y)),y}};var xs=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var l=arguments[0];this._lines=l}else if(arguments.length===2){var f=arguments[0],y=arguments[1];this._lines=f,this._isForcedToLineString=y}};xs.prototype.filter=function(l){if(this._isForcedToLineString&&l instanceof Fi){var f=l.getFactory().createLineString(l.getCoordinateSequence());return this._lines.add(f),null}l instanceof ln&&this._lines.add(l)},xs.prototype.setForceToLineString=function(l){this._isForcedToLineString=l},xs.prototype.interfaces_=function(){return[Qr]},xs.prototype.getClass=function(){return xs},xs.getGeometry=function(){if(arguments.length===1){var l=arguments[0];return l.getFactory().buildGeometry(xs.getLines(l))}if(arguments.length===2){var f=arguments[0],y=arguments[1];return f.getFactory().buildGeometry(xs.getLines(f,y))}},xs.getLines=function(){if(arguments.length===1){var l=arguments[0];return xs.getLines(l,!1)}if(arguments.length===2){if(Q(arguments[0],ui)&&Q(arguments[1],ui)){for(var f=arguments[0],y=arguments[1],x=f.iterator();x.hasNext();){var O=x.next();xs.getLines(O,y)}return y}if(arguments[0]instanceof tr&&typeof arguments[1]=="boolean"){var U=arguments[0],H=arguments[1],me=new Kt;return U.apply(new xs(me,H)),me}if(arguments[0]instanceof tr&&Q(arguments[1],ui)){var je=arguments[0],nt=arguments[1];return je instanceof ln?nt.add(je):je.apply(new xs(nt)),nt}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Q(arguments[0],ui)&&Q(arguments[1],ui)){for(var wt=arguments[0],kt=arguments[1],ar=arguments[2],nr=wt.iterator();nr.hasNext();){var Tr=nr.next();xs.getLines(Tr,kt,ar)}return kt}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof tr&&Q(arguments[1],ui)){var Br=arguments[0],ri=arguments[1],ba=arguments[2];return Br.apply(new xs(ri,ba)),ri}}};var Xs=function(){if(this._boundaryRule=$n.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var l=arguments[0];if(l===null)throw new G("Rule must be non-null");this._boundaryRule=l}}};Xs.prototype.locateInternal=function(){if(arguments[0]instanceof ie&&arguments[1]instanceof yi){var l=arguments[0],f=arguments[1];if(f.isEmpty())return ae.EXTERIOR;var y=f.getExteriorRing(),x=this.locateInPolygonRing(l,y);if(x===ae.EXTERIOR)return ae.EXTERIOR;if(x===ae.BOUNDARY)return ae.BOUNDARY;for(var O=0;O<f.getNumInteriorRing();O++){var U=f.getInteriorRingN(O),H=this.locateInPolygonRing(l,U);if(H===ae.INTERIOR)return ae.EXTERIOR;if(H===ae.BOUNDARY)return ae.BOUNDARY}return ae.INTERIOR}if(arguments[0]instanceof ie&&arguments[1]instanceof ln){var me=arguments[0],je=arguments[1];if(!je.getEnvelopeInternal().intersects(me))return ae.EXTERIOR;var nt=je.getCoordinates();return je.isClosed()||!me.equals(nt[0])&&!me.equals(nt[nt.length-1])?mt.isOnLine(me,nt)?ae.INTERIOR:ae.EXTERIOR:ae.BOUNDARY}if(arguments[0]instanceof ie&&arguments[1]instanceof cn){var wt=arguments[0];return arguments[1].getCoordinate().equals2D(wt)?ae.INTERIOR:ae.EXTERIOR}},Xs.prototype.locateInPolygonRing=function(l,f){return f.getEnvelopeInternal().intersects(l)?mt.locatePointInRing(l,f.getCoordinates()):ae.EXTERIOR},Xs.prototype.intersects=function(l,f){return this.locate(l,f)!==ae.EXTERIOR},Xs.prototype.updateLocationInfo=function(l){l===ae.INTERIOR&&(this._isIn=!0),l===ae.BOUNDARY&&this._numBoundaries++},Xs.prototype.computeLocation=function(l,f){if(f instanceof cn&&this.updateLocationInfo(this.locateInternal(l,f)),f instanceof ln)this.updateLocationInfo(this.locateInternal(l,f));else if(f instanceof yi)this.updateLocationInfo(this.locateInternal(l,f));else if(f instanceof fr)for(var y=f,x=0;x<y.getNumGeometries();x++){var O=y.getGeometryN(x);this.updateLocationInfo(this.locateInternal(l,O))}else if(f instanceof Jn)for(var U=f,H=0;H<U.getNumGeometries();H++){var me=U.getGeometryN(H);this.updateLocationInfo(this.locateInternal(l,me))}else if(f instanceof Et)for(var je=new Pi(f);je.hasNext();){var nt=je.next();nt!==f&&this.computeLocation(l,nt)}},Xs.prototype.locate=function(l,f){return f.isEmpty()?ae.EXTERIOR:f instanceof ln?this.locateInternal(l,f):f instanceof yi?this.locateInternal(l,f):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(l,f),this._boundaryRule.isInBoundary(this._numBoundaries)?ae.BOUNDARY:this._numBoundaries>0||this._isIn?ae.INTERIOR:ae.EXTERIOR)},Xs.prototype.interfaces_=function(){return[]},Xs.prototype.getClass=function(){return Xs};var uo=function l(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var f=arguments[0],y=arguments[1];l.call(this,f,l.INSIDE_AREA,y)}else if(arguments.length===3){var x=arguments[0],O=arguments[1],U=arguments[2];this._component=x,this._segIndex=O,this._pt=U}},di={INSIDE_AREA:{configurable:!0}};uo.prototype.isInsideArea=function(){return this._segIndex===uo.INSIDE_AREA},uo.prototype.getCoordinate=function(){return this._pt},uo.prototype.getGeometryComponent=function(){return this._component},uo.prototype.getSegmentIndex=function(){return this._segIndex},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo},di.INSIDE_AREA.get=function(){return-1},Object.defineProperties(uo,di);var Gi=function(l){this._pts=l||null};Gi.prototype.filter=function(l){l instanceof cn&&this._pts.add(l)},Gi.prototype.interfaces_=function(){return[_r]},Gi.prototype.getClass=function(){return Gi},Gi.getPoints=function(){if(arguments.length===1){var l=arguments[0];return l instanceof cn?qs.singletonList(l):Gi.getPoints(l,new Kt)}if(arguments.length===2){var f=arguments[0],y=arguments[1];return f instanceof cn?y.add(f):f instanceof Et&&f.apply(new Gi(y)),y}};var Ys=function(){this._locations=null;var l=arguments[0];this._locations=l};Ys.prototype.filter=function(l){(l instanceof cn||l instanceof ln||l instanceof yi)&&this._locations.add(new uo(l,0,l.getCoordinate()))},Ys.prototype.interfaces_=function(){return[_r]},Ys.prototype.getClass=function(){return Ys},Ys.getLocations=function(l){var f=new Kt;return l.apply(new Ys(f)),f};var Qi=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Xs,this._minDistanceLocation=null,this._minDistance=J.MAX_VALUE,arguments.length===2){var l=arguments[0],f=arguments[1];this._geom=[l,f],this._terminateDistance=0}else if(arguments.length===3){var y=arguments[0],x=arguments[1],O=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=y,this._geom[1]=x,this._terminateDistance=O}};Qi.prototype.computeContainmentDistance=function(){if(arguments.length===0){var l=new Array(2).fill(null);if(this.computeContainmentDistance(0,l),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,l)}else if(arguments.length===2){var f=arguments[0],y=arguments[1],x=1-f,O=Ii.getPolygons(this._geom[f]);if(O.size()>0){var U=Ys.getLocations(this._geom[x]);if(this.computeContainmentDistance(U,O,y),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[x]=y[0],this._minDistanceLocation[f]=y[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Q(arguments[0],to)&&Q(arguments[1],to)){for(var H=arguments[0],me=arguments[1],je=arguments[2],nt=0;nt<H.size();nt++)for(var wt=H.get(nt),kt=0;kt<me.size();kt++)if(this.computeContainmentDistance(wt,me.get(kt),je),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof uo&&arguments[1]instanceof yi){var ar=arguments[0],nr=arguments[1],Tr=arguments[2],Br=ar.getCoordinate();if(ae.EXTERIOR!==this._ptLocator.locate(Br,nr))return this._minDistance=0,Tr[0]=ar,Tr[1]=new uo(nr,Br),null}}},Qi.prototype.computeMinDistanceLinesPoints=function(l,f,y){for(var x=0;x<l.size();x++)for(var O=l.get(x),U=0;U<f.size();U++){var H=f.get(U);if(this.computeMinDistance(O,H,y),this._minDistance<=this._terminateDistance)return null}},Qi.prototype.computeFacetDistance=function(){var l=new Array(2).fill(null),f=xs.getLines(this._geom[0]),y=xs.getLines(this._geom[1]),x=Gi.getPoints(this._geom[0]),O=Gi.getPoints(this._geom[1]);return this.computeMinDistanceLines(f,y,l),this.updateMinDistance(l,!1),this._minDistance<=this._terminateDistance?null:(l[0]=null,l[1]=null,this.computeMinDistanceLinesPoints(f,O,l),this.updateMinDistance(l,!1),this._minDistance<=this._terminateDistance?null:(l[0]=null,l[1]=null,this.computeMinDistanceLinesPoints(y,x,l),this.updateMinDistance(l,!0),this._minDistance<=this._terminateDistance?null:(l[0]=null,l[1]=null,this.computeMinDistancePoints(x,O,l),void this.updateMinDistance(l,!1))))},Qi.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Qi.prototype.updateMinDistance=function(l,f){if(l[0]===null)return null;f?(this._minDistanceLocation[0]=l[1],this._minDistanceLocation[1]=l[0]):(this._minDistanceLocation[0]=l[0],this._minDistanceLocation[1]=l[1])},Qi.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Qi.prototype.computeMinDistance=function(){if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof ln&&arguments[1]instanceof cn){var l=arguments[0],f=arguments[1],y=arguments[2];if(l.getEnvelopeInternal().distance(f.getEnvelopeInternal())>this._minDistance)return null;for(var x=l.getCoordinates(),O=f.getCoordinate(),U=0;U<x.length-1;U++){var H=mt.distancePointLine(O,x[U],x[U+1]);if(H<this._minDistance){this._minDistance=H;var me=new Rr(x[U],x[U+1]).closestPoint(O);y[0]=new uo(l,U,me),y[1]=new uo(f,0,O)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof ln&&arguments[1]instanceof ln){var je=arguments[0],nt=arguments[1],wt=arguments[2];if(je.getEnvelopeInternal().distance(nt.getEnvelopeInternal())>this._minDistance)return null;for(var kt=je.getCoordinates(),ar=nt.getCoordinates(),nr=0;nr<kt.length-1;nr++)for(var Tr=0;Tr<ar.length-1;Tr++){var Br=mt.distanceLineLine(kt[nr],kt[nr+1],ar[Tr],ar[Tr+1]);if(Br<this._minDistance){this._minDistance=Br;var ri=new Rr(kt[nr],kt[nr+1]),ba=new Rr(ar[Tr],ar[Tr+1]),d=ri.closestPoints(ba);wt[0]=new uo(je,nr,d[0]),wt[1]=new uo(nt,Tr,d[1])}if(this._minDistance<=this._terminateDistance)return null}}}},Qi.prototype.computeMinDistancePoints=function(l,f,y){for(var x=0;x<l.size();x++)for(var O=l.get(x),U=0;U<f.size();U++){var H=f.get(U),me=O.getCoordinate().distance(H.getCoordinate());if(me<this._minDistance&&(this._minDistance=me,y[0]=new uo(O,0,O.getCoordinate()),y[1]=new uo(H,0,H.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Qi.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new G("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Qi.prototype.computeMinDistanceLines=function(l,f,y){for(var x=0;x<l.size();x++)for(var O=l.get(x),U=0;U<f.size();U++){var H=f.get(U);if(this.computeMinDistance(O,H,y),this._minDistance<=this._terminateDistance)return null}},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi},Qi.distance=function(l,f){return new Qi(l,f).distance()},Qi.isWithinDistance=function(l,f,y){return new Qi(l,f,y).distance()<=y},Qi.nearestPoints=function(l,f){return new Qi(l,f).nearestPoints()};var Ia=function(){this._pt=[new ie,new ie],this._distance=J.NaN,this._isNull=!0};Ia.prototype.getCoordinates=function(){return this._pt},Ia.prototype.getCoordinate=function(l){return this._pt[l]},Ia.prototype.setMinimum=function(){if(arguments.length===1){var l=arguments[0];this.setMinimum(l._pt[0],l._pt[1])}else if(arguments.length===2){var f=arguments[0],y=arguments[1];if(this._isNull)return this.initialize(f,y),null;var x=f.distance(y);x<this._distance&&this.initialize(f,y,x)}},Ia.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var l=arguments[0],f=arguments[1];this._pt[0].setCoordinate(l),this._pt[1].setCoordinate(f),this._distance=l.distance(f),this._isNull=!1}else if(arguments.length===3){var y=arguments[0],x=arguments[1],O=arguments[2];this._pt[0].setCoordinate(y),this._pt[1].setCoordinate(x),this._distance=O,this._isNull=!1}},Ia.prototype.toString=function(){return Mi.toLineString(this._pt[0],this._pt[1])},Ia.prototype.getDistance=function(){return this._distance},Ia.prototype.setMaximum=function(){if(arguments.length===1){var l=arguments[0];this.setMaximum(l._pt[0],l._pt[1])}else if(arguments.length===2){var f=arguments[0],y=arguments[1];if(this._isNull)return this.initialize(f,y),null;var x=f.distance(y);x>this._distance&&this.initialize(f,y,x)}},Ia.prototype.interfaces_=function(){return[]},Ia.prototype.getClass=function(){return Ia};var Ca=function(){};Ca.prototype.interfaces_=function(){return[]},Ca.prototype.getClass=function(){return Ca},Ca.computeDistance=function(){if(arguments[2]instanceof Ia&&arguments[0]instanceof ln&&arguments[1]instanceof ie)for(var l=arguments[0],f=arguments[1],y=arguments[2],x=new Rr,O=l.getCoordinates(),U=0;U<O.length-1;U++){x.setCoordinates(O[U],O[U+1]);var H=x.closestPoint(f);y.setMinimum(H,f)}else if(arguments[2]instanceof Ia&&arguments[0]instanceof yi&&arguments[1]instanceof ie){var me=arguments[0],je=arguments[1],nt=arguments[2];Ca.computeDistance(me.getExteriorRing(),je,nt);for(var wt=0;wt<me.getNumInteriorRing();wt++)Ca.computeDistance(me.getInteriorRingN(wt),je,nt)}else if(arguments[2]instanceof Ia&&arguments[0]instanceof tr&&arguments[1]instanceof ie){var kt=arguments[0],ar=arguments[1],nr=arguments[2];if(kt instanceof ln)Ca.computeDistance(kt,ar,nr);else if(kt instanceof yi)Ca.computeDistance(kt,ar,nr);else if(kt instanceof Et)for(var Tr=kt,Br=0;Br<Tr.getNumGeometries();Br++){var ri=Tr.getGeometryN(Br);Ca.computeDistance(ri,ar,nr)}else nr.setMinimum(kt.getCoordinate(),ar)}else if(arguments[2]instanceof Ia&&arguments[0]instanceof Rr&&arguments[1]instanceof ie){var ba=arguments[0],d=arguments[1],b=arguments[2],g=ba.closestPoint(d);b.setMinimum(g,d)}};var Cl=function(){this._g0=null,this._g1=null,this._ptDist=new Ia,this._densifyFrac=0;var l=arguments[0],f=arguments[1];this._g0=l,this._g1=f},Pd={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Cl.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Cl.prototype.setDensifyFraction=function(l){if(l>1||l<=0)throw new G("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=l},Cl.prototype.compute=function(l,f){this.computeOrientedDistance(l,f,this._ptDist),this.computeOrientedDistance(f,l,this._ptDist)},Cl.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Cl.prototype.computeOrientedDistance=function(l,f,y){var x=new Vl(f);if(l.apply(x),y.setMaximum(x.getMaxPointDistance()),this._densifyFrac>0){var O=new Gl(f,this._densifyFrac);l.apply(O),y.setMaximum(O.getMaxPointDistance())}},Cl.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl},Cl.distance=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1];return new Cl(l,f).distance()}if(arguments.length===3){var y=arguments[0],x=arguments[1],O=arguments[2],U=new Cl(y,x);return U.setDensifyFraction(O),U.distance()}},Pd.MaxPointDistanceFilter.get=function(){return Vl},Pd.MaxDensifiedByFractionDistanceFilter.get=function(){return Gl},Object.defineProperties(Cl,Pd);var Vl=function(){this._maxPtDist=new Ia,this._minPtDist=new Ia,this._euclideanDist=new Ca,this._geom=null;var l=arguments[0];this._geom=l};Vl.prototype.filter=function(l){this._minPtDist.initialize(),Ca.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Vl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vl.prototype.interfaces_=function(){return[si]},Vl.prototype.getClass=function(){return Vl};var Gl=function(){this._maxPtDist=new Ia,this._minPtDist=new Ia,this._geom=null,this._numSubSegs=0;var l=arguments[0],f=arguments[1];this._geom=l,this._numSubSegs=Math.trunc(Math.round(1/f))};Gl.prototype.filter=function(l,f){if(f===0)return null;for(var y=l.getCoordinate(f-1),x=l.getCoordinate(f),O=(x.x-y.x)/this._numSubSegs,U=(x.y-y.y)/this._numSubSegs,H=0;H<this._numSubSegs;H++){var me=y.x+H*O,je=y.y+H*U,nt=new ie(me,je);this._minPtDist.initialize(),Ca.computeDistance(this._geom,nt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Gl.prototype.isDone=function(){return!1},Gl.prototype.isGeometryChanged=function(){return!1},Gl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Gl.prototype.interfaces_=function(){return[cr]},Gl.prototype.getClass=function(){return Gl};var Ka=function(l,f,y){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=l||null,this._bufDistance=f||null,this._result=y||null},Ja={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ka.prototype.checkMaximumDistance=function(l,f,y){var x=new Cl(f,l);if(x.setDensifyFraction(.25),this._maxDistanceFound=x.orientedDistance(),this._maxDistanceFound>y){this._isValid=!1;var O=x.getCoordinates();this._errorLocation=O[1],this._errorIndicator=l.getFactory().createLineString(O),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Mi.toLineString(O[0],O[1])+")"}},Ka.prototype.isValid=function(){var l=Math.abs(this._bufDistance),f=Ka.MAX_DISTANCE_DIFF_FRAC*l;return this._minValidDistance=l-f,this._maxValidDistance=l+f,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ka.VERBOSE&&Ut.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ka.prototype.checkNegativeValid=function(){if(!(this._input instanceof yi||this._input instanceof Jn||this._input instanceof Et))return null;var l=this.getPolygonLines(this._input);if(this.checkMinimumDistance(l,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(l,this._result,this._maxValidDistance)},Ka.prototype.getErrorIndicator=function(){return this._errorIndicator},Ka.prototype.checkMinimumDistance=function(l,f,y){var x=new Qi(l,f,y);if(this._minDistanceFound=x.distance(),this._minDistanceFound<y){this._isValid=!1;var O=x.nearestPoints();this._errorLocation=x.nearestPoints()[1],this._errorIndicator=l.getFactory().createLineString(O),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Mi.toLineString(O[0],O[1])+" )"}},Ka.prototype.checkPositiveValid=function(){var l=this._result.getBoundary();if(this.checkMinimumDistance(this._input,l,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,l,this._maxValidDistance)},Ka.prototype.getErrorLocation=function(){return this._errorLocation},Ka.prototype.getPolygonLines=function(l){for(var f=new Kt,y=new xs(f),x=Ii.getPolygons(l).iterator();x.hasNext();)x.next().apply(y);return l.getFactory().buildGeometry(f)},Ka.prototype.getErrorMessage=function(){return this._errMsg},Ka.prototype.interfaces_=function(){return[]},Ka.prototype.getClass=function(){return Ka},Ja.VERBOSE.get=function(){return!1},Ja.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Ka,Ja);var Ra=function(l,f,y){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=l||null,this._distance=f||null,this._result=y||null},zh={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Ra.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Ra.prototype.checkEnvelope=function(){if(this._distance<0)return null;var l=this._distance*Ra.MAX_ENV_DIFF_FRAC;l===0&&(l=.001);var f=new Xt(this._input.getEnvelopeInternal());f.expandBy(this._distance);var y=new Xt(this._result.getEnvelopeInternal());y.expandBy(l),y.contains(f)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(y)),this.report("Envelope")},Ra.prototype.checkDistance=function(){var l=new Ka(this._input,this._distance,this._result);l.isValid()||(this._isValid=!1,this._errorMsg=l.getErrorMessage(),this._errorLocation=l.getErrorLocation(),this._errorIndicator=l.getErrorIndicator()),this.report("Distance")},Ra.prototype.checkArea=function(){var l=this._input.getArea(),f=this._result.getArea();this._distance>0&&l>f&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&l<f&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Ra.prototype.checkPolygonal=function(){this._result instanceof yi||this._result instanceof Jn||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Ra.prototype.getErrorIndicator=function(){return this._errorIndicator},Ra.prototype.getErrorLocation=function(){return this._errorLocation},Ra.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Ra.prototype.report=function(l){if(!Ra.VERBOSE)return null;Ut.out.println("Check "+l+": "+(this._isValid?"passed":"FAILED"))},Ra.prototype.getErrorMessage=function(){return this._errorMsg},Ra.prototype.interfaces_=function(){return[]},Ra.prototype.getClass=function(){return Ra},Ra.isValidMsg=function(l,f,y){var x=new Ra(l,f,y);return x.isValid()?null:x.getErrorMessage()},Ra.isValid=function(l,f,y){return!!new Ra(l,f,y).isValid()},zh.VERBOSE.get=function(){return!1},zh.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Ra,zh);var vi=function(){this._pts=null,this._data=null;var l=arguments[0],f=arguments[1];this._pts=l,this._data=f};vi.prototype.getCoordinates=function(){return this._pts},vi.prototype.size=function(){return this._pts.length},vi.prototype.getCoordinate=function(l){return this._pts[l]},vi.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},vi.prototype.getSegmentOctant=function(l){return l===this._pts.length-1?-1:Rc.octant(this.getCoordinate(l),this.getCoordinate(l+1))},vi.prototype.setData=function(l){this._data=l},vi.prototype.getData=function(){return this._data},vi.prototype.toString=function(){return Mi.toLineString(new ti(this._pts))},vi.prototype.interfaces_=function(){return[Gs]},vi.prototype.getClass=function(){return vi};var rr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Kt,this._intersectionCount=0,this._keepIntersections=!0;var l=arguments[0];this._li=l,this._interiorIntersection=null};rr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},rr.prototype.setCheckEndSegmentsOnly=function(l){this._isCheckEndSegmentsOnly=l},rr.prototype.getIntersectionSegments=function(){return this._intSegments},rr.prototype.count=function(){return this._intersectionCount},rr.prototype.getIntersections=function(){return this._intersections},rr.prototype.setFindAllIntersections=function(l){this._findAllIntersections=l},rr.prototype.setKeepIntersections=function(l){this._keepIntersections=l},rr.prototype.processIntersections=function(l,f,y,x){if(!this._findAllIntersections&&this.hasIntersection()||l===y&&f===x||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(l,f)||this.isEndSegment(y,x)))return null;var O=l.getCoordinates()[f],U=l.getCoordinates()[f+1],H=y.getCoordinates()[x],me=y.getCoordinates()[x+1];this._li.computeIntersection(O,U,H,me),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=O,this._intSegments[1]=U,this._intSegments[2]=H,this._intSegments[3]=me,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},rr.prototype.isEndSegment=function(l,f){return f===0||f>=l.size()-2},rr.prototype.hasIntersection=function(){return this._interiorIntersection!==null},rr.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},rr.prototype.interfaces_=function(){return[Ul]},rr.prototype.getClass=function(){return rr},rr.createAllIntersectionsFinder=function(l){var f=new rr(l);return f.setFindAllIntersections(!0),f},rr.createAnyIntersectionFinder=function(l){return new rr(l)},rr.createIntersectionCounter=function(l){var f=new rr(l);return f.setFindAllIntersections(!0),f.setKeepIntersections(!1),f};var Aa=function(){this._li=new st,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var l=arguments[0];this._segStrings=l};Aa.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},Aa.prototype.getIntersections=function(){return this._segInt.getIntersections()},Aa.prototype.isValid=function(){return this.execute(),this._isValid},Aa.prototype.setFindAllIntersections=function(l){this._findAllIntersections=l},Aa.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new rr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var l=new Ji;if(l.setSegmentIntersector(this._segInt),l.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Aa.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new wl(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Aa.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var l=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Mi.toLineString(l[0],l[1])+" and "+Mi.toLineString(l[2],l[3])},Aa.prototype.interfaces_=function(){return[]},Aa.prototype.getClass=function(){return Aa},Aa.computeIntersections=function(l){var f=new Aa(l);return f.setFindAllIntersections(!0),f.isValid(),f.getIntersections()};var Bc=function l(){this._nv=null;var f=arguments[0];this._nv=new Aa(l.toSegmentStrings(f))};Bc.prototype.checkValid=function(){this._nv.checkValid()},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc},Bc.toSegmentStrings=function(l){for(var f=new Kt,y=l.iterator();y.hasNext();){var x=y.next();f.add(new vi(x.getCoordinates(),x))}return f},Bc.checkValid=function(l){new Bc(l).checkValid()};var Wl=function(l){this._mapOp=l};Wl.prototype.map=function(l){for(var f=new Kt,y=0;y<l.getNumGeometries();y++){var x=this._mapOp.map(l.getGeometryN(y));x.isEmpty()||f.add(x)}return l.getFactory().createGeometryCollection(dn.toGeometryArray(f))},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl},Wl.map=function(l,f){return new Wl(f).map(l)};var ws=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Kt,this._resultLineList=new Kt;var l=arguments[0],f=arguments[1],y=arguments[2];this._op=l,this._geometryFactory=f,this._ptLocator=y};ws.prototype.collectLines=function(l){for(var f=this._op.getGraph().getEdgeEnds().iterator();f.hasNext();){var y=f.next();this.collectLineEdge(y,l,this._lineEdgesList),this.collectBoundaryTouchEdge(y,l,this._lineEdgesList)}},ws.prototype.labelIsolatedLine=function(l,f){var y=this._ptLocator.locate(l.getCoordinate(),this._op.getArgGeometry(f));l.getLabel().setLocation(f,y)},ws.prototype.build=function(l){return this.findCoveredLineEdges(),this.collectLines(l),this.buildLines(l),this._resultLineList},ws.prototype.collectLineEdge=function(l,f,y){var x=l.getLabel(),O=l.getEdge();l.isLineEdge()&&(l.isVisited()||!pn.isResultOfOp(x,f)||O.isCovered()||(y.add(O),l.setVisitedEdge(!0)))},ws.prototype.findCoveredLineEdges=function(){for(var l=this._op.getGraph().getNodes().iterator();l.hasNext();)l.next().getEdges().findCoveredLineEdges();for(var f=this._op.getGraph().getEdgeEnds().iterator();f.hasNext();){var y=f.next(),x=y.getEdge();if(y.isLineEdge()&&!x.isCoveredSet()){var O=this._op.isCoveredByA(y.getCoordinate());x.setCovered(O)}}},ws.prototype.labelIsolatedLines=function(l){for(var f=l.iterator();f.hasNext();){var y=f.next(),x=y.getLabel();y.isIsolated()&&(x.isNull(0)?this.labelIsolatedLine(y,0):this.labelIsolatedLine(y,1))}},ws.prototype.buildLines=function(l){for(var f=this._lineEdgesList.iterator();f.hasNext();){var y=f.next(),x=this._geometryFactory.createLineString(y.getCoordinates());this._resultLineList.add(x),y.setInResult(!0)}},ws.prototype.collectBoundaryTouchEdge=function(l,f,y){var x=l.getLabel();return l.isLineEdge()||l.isVisited()||l.isInteriorAreaEdge()||l.getEdge().isInResult()?null:(be.isTrue(!(l.isInResult()||l.getSym().isInResult())||!l.getEdge().isInResult()),void(pn.isResultOfOp(x,f)&&f===pn.INTERSECTION&&(y.add(l.getEdge()),l.setVisitedEdge(!0))))},ws.prototype.interfaces_=function(){return[]},ws.prototype.getClass=function(){return ws};var Oa=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Kt;var l=arguments[0],f=arguments[1];this._op=l,this._geometryFactory=f};Oa.prototype.filterCoveredNodeToPoint=function(l){var f=l.getCoordinate();if(!this._op.isCoveredByLA(f)){var y=this._geometryFactory.createPoint(f);this._resultPointList.add(y)}},Oa.prototype.extractNonCoveredResultNodes=function(l){for(var f=this._op.getGraph().getNodes().iterator();f.hasNext();){var y=f.next();if(!y.isInResult()&&!y.isIncidentEdgeInResult()&&(y.getEdges().getDegree()===0||l===pn.INTERSECTION)){var x=y.getLabel();pn.isResultOfOp(x,l)&&this.filterCoveredNodeToPoint(y)}}},Oa.prototype.build=function(l){return this.extractNonCoveredResultNodes(l),this._resultPointList},Oa.prototype.interfaces_=function(){return[]},Oa.prototype.getClass=function(){return Oa};var Hs=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Hs.prototype.transformPoint=function(l,f){return this._factory.createPoint(this.transformCoordinates(l.getCoordinateSequence(),l))},Hs.prototype.transformPolygon=function(l,f){var y=!0,x=this.transformLinearRing(l.getExteriorRing(),l);x!==null&&x instanceof Fi&&!x.isEmpty()||(y=!1);for(var O=new Kt,U=0;U<l.getNumInteriorRing();U++){var H=this.transformLinearRing(l.getInteriorRingN(U),l);H===null||H.isEmpty()||(H instanceof Fi||(y=!1),O.add(H))}if(y)return this._factory.createPolygon(x,O.toArray([]));var me=new Kt;return x!==null&&me.add(x),me.addAll(O),this._factory.buildGeometry(me)},Hs.prototype.createCoordinateSequence=function(l){return this._factory.getCoordinateSequenceFactory().create(l)},Hs.prototype.getInputGeometry=function(){return this._inputGeom},Hs.prototype.transformMultiLineString=function(l,f){for(var y=new Kt,x=0;x<l.getNumGeometries();x++){var O=this.transformLineString(l.getGeometryN(x),l);O!==null&&(O.isEmpty()||y.add(O))}return this._factory.buildGeometry(y)},Hs.prototype.transformCoordinates=function(l,f){return this.copy(l)},Hs.prototype.transformLineString=function(l,f){return this._factory.createLineString(this.transformCoordinates(l.getCoordinateSequence(),l))},Hs.prototype.transformMultiPoint=function(l,f){for(var y=new Kt,x=0;x<l.getNumGeometries();x++){var O=this.transformPoint(l.getGeometryN(x),l);O!==null&&(O.isEmpty()||y.add(O))}return this._factory.buildGeometry(y)},Hs.prototype.transformMultiPolygon=function(l,f){for(var y=new Kt,x=0;x<l.getNumGeometries();x++){var O=this.transformPolygon(l.getGeometryN(x),l);O!==null&&(O.isEmpty()||y.add(O))}return this._factory.buildGeometry(y)},Hs.prototype.copy=function(l){return l.copy()},Hs.prototype.transformGeometryCollection=function(l,f){for(var y=new Kt,x=0;x<l.getNumGeometries();x++){var O=this.transform(l.getGeometryN(x));O!==null&&(this._pruneEmptyGeometry&&O.isEmpty()||y.add(O))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(dn.toGeometryArray(y)):this._factory.buildGeometry(y)},Hs.prototype.transform=function(l){if(this._inputGeom=l,this._factory=l.getFactory(),l instanceof cn)return this.transformPoint(l,null);if(l instanceof li)return this.transformMultiPoint(l,null);if(l instanceof Fi)return this.transformLinearRing(l,null);if(l instanceof ln)return this.transformLineString(l,null);if(l instanceof fr)return this.transformMultiLineString(l,null);if(l instanceof yi)return this.transformPolygon(l,null);if(l instanceof Jn)return this.transformMultiPolygon(l,null);if(l instanceof Et)return this.transformGeometryCollection(l,null);throw new G("Unknown Geometry subtype: "+l.getClass().getName())},Hs.prototype.transformLinearRing=function(l,f){var y=this.transformCoordinates(l.getCoordinateSequence(),l);if(y===null)return this._factory.createLinearRing(null);var x=y.size();return x>0&&x<4&&!this._preserveType?this._factory.createLineString(y):this._factory.createLinearRing(y)},Hs.prototype.interfaces_=function(){return[]},Hs.prototype.getClass=function(){return Hs};var Jt=function l(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Rr,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof ln&&typeof arguments[1]=="number"){var f=arguments[0],y=arguments[1];l.call(this,f.getCoordinates(),y)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var x=arguments[0],O=arguments[1];this._srcPts=x,this._isClosed=l.isClosed(x),this._snapTolerance=O}};Jt.prototype.snapVertices=function(l,f){for(var y=this._isClosed?l.size()-1:l.size(),x=0;x<y;x++){var O=l.get(x),U=this.findSnapForVertex(O,f);U!==null&&(l.set(x,new ie(U)),x===0&&this._isClosed&&l.set(l.size()-1,new ie(U)))}},Jt.prototype.findSnapForVertex=function(l,f){for(var y=0;y<f.length;y++){if(l.equals2D(f[y]))return null;if(l.distance(f[y])<this._snapTolerance)return f[y]}return null},Jt.prototype.snapTo=function(l){var f=new zi(this._srcPts);return this.snapVertices(f,l),this.snapSegments(f,l),f.toCoordinateArray()},Jt.prototype.snapSegments=function(l,f){if(f.length===0)return null;var y=f.length;f[0].equals2D(f[f.length-1])&&(y=f.length-1);for(var x=0;x<y;x++){var O=f[x],U=this.findSegmentIndexToSnap(O,l);U>=0&&l.add(U+1,new ie(O),!1)}},Jt.prototype.findSegmentIndexToSnap=function(l,f){for(var y=J.MAX_VALUE,x=-1,O=0;O<f.size()-1;O++){if(this._seg.p0=f.get(O),this._seg.p1=f.get(O+1),this._seg.p0.equals2D(l)||this._seg.p1.equals2D(l)){if(this._allowSnappingToSourceVertices)continue;return-1}var U=this._seg.distance(l);U<this._snapTolerance&&U<y&&(y=U,x=O)}return x},Jt.prototype.setAllowSnappingToSourceVertices=function(l){this._allowSnappingToSourceVertices=l},Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt},Jt.isClosed=function(l){return!(l.length<=1)&&l[0].equals2D(l[l.length-1])};var ya=function(l){this._srcGeom=l||null},Fh={SNAP_PRECISION_FACTOR:{configurable:!0}};ya.prototype.snapTo=function(l,f){var y=this.extractTargetCoordinates(l);return new Id(f,y).transform(this._srcGeom)},ya.prototype.snapToSelf=function(l,f){var y=this.extractTargetCoordinates(this._srcGeom),x=new Id(l,y,!0).transform(this._srcGeom),O=x;return f&&Q(O,Ln)&&(O=x.buffer(0)),O},ya.prototype.computeSnapTolerance=function(l){return this.computeMinimumSegmentLength(l)/10},ya.prototype.extractTargetCoordinates=function(l){for(var f=new V,y=l.getCoordinates(),x=0;x<y.length;x++)f.add(y[x]);return f.toArray(new Array(0).fill(null))},ya.prototype.computeMinimumSegmentLength=function(l){for(var f=J.MAX_VALUE,y=0;y<l.length-1;y++){var x=l[y].distance(l[y+1]);x<f&&(f=x)}return f},ya.prototype.interfaces_=function(){return[]},ya.prototype.getClass=function(){return ya},ya.snap=function(l,f,y){var x=new Array(2).fill(null),O=new ya(l);x[0]=O.snapTo(f,y);var U=new ya(f);return x[1]=U.snapTo(x[0],y),x},ya.computeOverlaySnapTolerance=function(){if(arguments.length===1){var l=arguments[0],f=ya.computeSizeBasedSnapTolerance(l),y=l.getPrecisionModel();if(y.getType()===wn.FIXED){var x=1/y.getScale()*2/1.415;x>f&&(f=x)}return f}if(arguments.length===2){var O=arguments[0],U=arguments[1];return Math.min(ya.computeOverlaySnapTolerance(O),ya.computeOverlaySnapTolerance(U))}},ya.computeSizeBasedSnapTolerance=function(l){var f=l.getEnvelopeInternal();return Math.min(f.getHeight(),f.getWidth())*ya.SNAP_PRECISION_FACTOR},ya.snapToSelf=function(l,f,y){return new ya(l).snapToSelf(f,y)},Fh.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(ya,Fh);var Id=function(l){function f(y,x,O){l.call(this),this._snapTolerance=y||null,this._snapPts=x||null,this._isSelfSnap=O!==void 0&&O}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.snapLine=function(y,x){var O=new Jt(y,this._snapTolerance);return O.setAllowSnappingToSourceVertices(this._isSelfSnap),O.snapTo(x)},f.prototype.transformCoordinates=function(y,x){var O=y.toCoordinateArray(),U=this.snapLine(O,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(U)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Hs),la=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};la.prototype.getCommon=function(){return J.longBitsToDouble(this._commonBits)},la.prototype.add=function(l){var f=J.doubleToLongBits(l);if(this._isFirst)return this._commonBits=f,this._commonSignExp=la.signExpBits(this._commonBits),this._isFirst=!1,null;if(la.signExpBits(f)!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=la.numCommonMostSigMantissaBits(this._commonBits,f),this._commonBits=la.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))},la.prototype.toString=function(){if(arguments.length===1){var l=arguments[0],f=J.longBitsToDouble(l),y="0000000000000000000000000000000000000000000000000000000000000000"+J.toBinaryString(l),x=y.substring(y.length-64);return x.substring(0,1)+"  "+x.substring(1,12)+"(exp) "+x.substring(12)+" [ "+f+" ]"}},la.prototype.interfaces_=function(){return[]},la.prototype.getClass=function(){return la},la.getBit=function(l,f){return(l&1<<f)!=0?1:0},la.signExpBits=function(l){return l>>52},la.zeroLowerBits=function(l,f){return l&~((1<<f)-1)},la.numCommonMostSigMantissaBits=function(l,f){for(var y=0,x=52;x>=0;x--){if(la.getBit(l,x)!==la.getBit(f,x))return y;y++}return 52};var Ss=function(){this._commonCoord=null,this._ccFilter=new Af},jh={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Ss.prototype.addCommonBits=function(l){var f=new Qa(this._commonCoord);l.apply(f),l.geometryChanged()},Ss.prototype.removeCommonBits=function(l){if(this._commonCoord.x===0&&this._commonCoord.y===0)return l;var f=new ie(this._commonCoord);f.x=-f.x,f.y=-f.y;var y=new Qa(f);return l.apply(y),l.geometryChanged(),l},Ss.prototype.getCommonCoordinate=function(){return this._commonCoord},Ss.prototype.add=function(l){l.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Ss.prototype.interfaces_=function(){return[]},Ss.prototype.getClass=function(){return Ss},jh.CommonCoordinateFilter.get=function(){return Af},jh.Translater.get=function(){return Qa},Object.defineProperties(Ss,jh);var Af=function(){this._commonBitsX=new la,this._commonBitsY=new la};Af.prototype.filter=function(l){this._commonBitsX.add(l.x),this._commonBitsY.add(l.y)},Af.prototype.getCommonCoordinate=function(){return new ie(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Af.prototype.interfaces_=function(){return[si]},Af.prototype.getClass=function(){return Af};var Qa=function(){this.trans=null;var l=arguments[0];this.trans=l};Qa.prototype.filter=function(l,f){var y=l.getOrdinate(f,0)+this.trans.x,x=l.getOrdinate(f,1)+this.trans.y;l.setOrdinate(f,0,y),l.setOrdinate(f,1,x)},Qa.prototype.isDone=function(){return!1},Qa.prototype.isGeometryChanged=function(){return!0},Qa.prototype.interfaces_=function(){return[cr]},Qa.prototype.getClass=function(){return Qa};var Ho=function(l,f){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=l,this._geom[1]=f,this.computeSnapTolerance()};Ho.prototype.selfSnap=function(l){return new ya(l).snapTo(l,this._snapTolerance)},Ho.prototype.removeCommonBits=function(l){this._cbr=new Ss,this._cbr.add(l[0]),this._cbr.add(l[1]);var f=new Array(2).fill(null);return f[0]=this._cbr.removeCommonBits(l[0].copy()),f[1]=this._cbr.removeCommonBits(l[1].copy()),f},Ho.prototype.prepareResult=function(l){return this._cbr.addCommonBits(l),l},Ho.prototype.getResultGeometry=function(l){var f=this.snap(this._geom),y=pn.overlayOp(f[0],f[1],l);return this.prepareResult(y)},Ho.prototype.checkValid=function(l){l.isValid()||Ut.out.println("Snapped geometry is invalid")},Ho.prototype.computeSnapTolerance=function(){this._snapTolerance=ya.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Ho.prototype.snap=function(l){var f=this.removeCommonBits(l);return ya.snap(f[0],f[1],this._snapTolerance)},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho},Ho.overlayOp=function(l,f,y){return new Ho(l,f).getResultGeometry(y)},Ho.union=function(l,f){return Ho.overlayOp(l,f,pn.UNION)},Ho.intersection=function(l,f){return Ho.overlayOp(l,f,pn.INTERSECTION)},Ho.symDifference=function(l,f){return Ho.overlayOp(l,f,pn.SYMDIFFERENCE)},Ho.difference=function(l,f){return Ho.overlayOp(l,f,pn.DIFFERENCE)};var Zs=function(l,f){this._geom=new Array(2).fill(null),this._geom[0]=l,this._geom[1]=f};Zs.prototype.getResultGeometry=function(l){var f=null,y=!1,x=null;try{f=pn.overlayOp(this._geom[0],this._geom[1],l),y=!0}catch(O){if(!(O instanceof pt))throw O;x=O}if(!y)try{f=Ho.overlayOp(this._geom[0],this._geom[1],l)}catch(O){throw O instanceof pt?x:O}return f},Zs.prototype.interfaces_=function(){return[]},Zs.prototype.getClass=function(){return Zs},Zs.overlayOp=function(l,f,y){return new Zs(l,f).getResultGeometry(y)},Zs.union=function(l,f){return Zs.overlayOp(l,f,pn.UNION)},Zs.intersection=function(l,f){return Zs.overlayOp(l,f,pn.INTERSECTION)},Zs.symDifference=function(l,f){return Zs.overlayOp(l,f,pn.SYMDIFFERENCE)},Zs.difference=function(l,f){return Zs.overlayOp(l,f,pn.DIFFERENCE)};var Al=function(){this.mce=null,this.chainIndex=null;var l=arguments[0],f=arguments[1];this.mce=l,this.chainIndex=f};Al.prototype.computeIntersections=function(l,f){this.mce.computeIntersectsForChain(this.chainIndex,l.mce,l.chainIndex,f)},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al};var xu=function l(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var f=arguments[0],y=arguments[1];this._eventType=l.DELETE,this._xValue=f,this._insertEvent=y}else if(arguments.length===3){var x=arguments[0],O=arguments[1],U=arguments[2];this._eventType=l.INSERT,this._label=x,this._xValue=O,this._obj=U}},Cd={INSERT:{configurable:!0},DELETE:{configurable:!0}};xu.prototype.isDelete=function(){return this._eventType===xu.DELETE},xu.prototype.setDeleteEventIndex=function(l){this._deleteEventIndex=l},xu.prototype.getObject=function(){return this._obj},xu.prototype.compareTo=function(l){var f=l;return this._xValue<f._xValue?-1:this._xValue>f._xValue?1:this._eventType<f._eventType?-1:this._eventType>f._eventType?1:0},xu.prototype.getInsertEvent=function(){return this._insertEvent},xu.prototype.isInsert=function(){return this._eventType===xu.INSERT},xu.prototype.isSameLabel=function(l){return this._label!==null&&this._label===l._label},xu.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},xu.prototype.interfaces_=function(){return[pe]},xu.prototype.getClass=function(){return xu},Cd.INSERT.get=function(){return 1},Cd.DELETE.get=function(){return 2},Object.defineProperties(xu,Cd);var pu=function(){};pu.prototype.interfaces_=function(){return[]},pu.prototype.getClass=function(){return pu};var _o=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var l=arguments[0],f=arguments[1],y=arguments[2];this._li=l,this._includeProper=f,this._recordIsolated=y};_o.prototype.isTrivialIntersection=function(l,f,y,x){if(l===y&&this._li.getIntersectionNum()===1){if(_o.isAdjacentSegments(f,x))return!0;if(l.isClosed()){var O=l.getNumPoints()-1;if(f===0&&x===O||x===0&&f===O)return!0}}return!1},_o.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},_o.prototype.setIsDoneIfProperInt=function(l){this._isDoneWhenProperInt=l},_o.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},_o.prototype.isBoundaryPointInternal=function(l,f){for(var y=f.iterator();y.hasNext();){var x=y.next().getCoordinate();if(l.isIntersection(x))return!0}return!1},_o.prototype.hasProperIntersection=function(){return this._hasProper},_o.prototype.hasIntersection=function(){return this._hasIntersection},_o.prototype.isDone=function(){return this._isDone},_o.prototype.isBoundaryPoint=function(l,f){return f!==null&&(!!this.isBoundaryPointInternal(l,f[0])||!!this.isBoundaryPointInternal(l,f[1]))},_o.prototype.setBoundaryNodes=function(l,f){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=l,this._bdyNodes[1]=f},_o.prototype.addIntersections=function(l,f,y,x){if(l===y&&f===x)return null;this.numTests++;var O=l.getCoordinates()[f],U=l.getCoordinates()[f+1],H=y.getCoordinates()[x],me=y.getCoordinates()[x+1];this._li.computeIntersection(O,U,H,me),this._li.hasIntersection()&&(this._recordIsolated&&(l.setIsolated(!1),y.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(l,f,y,x)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(l.addIntersections(this._li,f,0),y.addIntersections(this._li,x,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},_o.isAdjacentSegments=function(l,f){return Math.abs(l-f)===1};var _i=function(l){function f(){l.call(this),this.events=new Kt,this.nOverlaps=null}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.prepareEvents=function(){qs.sort(this.events);for(var y=0;y<this.events.size();y++){var x=this.events.get(y);x.isDelete()&&x.getInsertEvent().setDeleteEventIndex(y)}},f.prototype.computeIntersections=function(){if(arguments.length===1){var y=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var x=0;x<this.events.size();x++){var O=this.events.get(x);if(O.isInsert()&&this.processOverlaps(x,O.getDeleteEventIndex(),O,y),y.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof _o&&Q(arguments[0],to)&&Q(arguments[1],to)){var U=arguments[0],H=arguments[1],me=arguments[2];this.addEdges(U,U),this.addEdges(H,H),this.computeIntersections(me)}else if(typeof arguments[2]=="boolean"&&Q(arguments[0],to)&&arguments[1]instanceof _o){var je=arguments[0],nt=arguments[1];arguments[2]?this.addEdges(je,null):this.addEdges(je),this.computeIntersections(nt)}}},f.prototype.addEdge=function(y,x){for(var O=y.getMonotoneChainEdge(),U=O.getStartIndexes(),H=0;H<U.length-1;H++){var me=new Al(O,H),je=new xu(x,O.getMinX(H),me);this.events.add(je),this.events.add(new xu(O.getMaxX(H),je))}},f.prototype.processOverlaps=function(y,x,O,U){for(var H=O.getObject(),me=y;me<x;me++){var je=this.events.get(me);if(je.isInsert()){var nt=je.getObject();O.isSameLabel(je)||(H.computeIntersections(nt,U),this.nOverlaps++)}}},f.prototype.addEdges=function(){if(arguments.length===1)for(var y=arguments[0].iterator();y.hasNext();){var x=y.next();this.addEdge(x,x)}else if(arguments.length===2)for(var O=arguments[0],U=arguments[1],H=O.iterator();H.hasNext();){var me=H.next();this.addEdge(me,U)}},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(pu),Ds=function(){this._min=J.POSITIVE_INFINITY,this._max=J.NEGATIVE_INFINITY},Xl={NodeComparator:{configurable:!0}};Ds.prototype.getMin=function(){return this._min},Ds.prototype.intersects=function(l,f){return!(this._min>f||this._max<l)},Ds.prototype.getMax=function(){return this._max},Ds.prototype.toString=function(){return Mi.toLineString(new ie(this._min,0),new ie(this._max,0))},Ds.prototype.interfaces_=function(){return[]},Ds.prototype.getClass=function(){return Ds},Xl.NodeComparator.get=function(){return es},Object.defineProperties(Ds,Xl);var es=function(){};es.prototype.compare=function(l,f){var y=l,x=f,O=(y._min+y._max)/2,U=(x._min+x._max)/2;return O<U?-1:O>U?1:0},es.prototype.interfaces_=function(){return[ee]},es.prototype.getClass=function(){return es};var Qf=function(l){function f(){l.call(this),this._item=null;var y=arguments[0],x=arguments[1],O=arguments[2];this._min=y,this._max=x,this._item=O}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.query=function(y,x,O){if(!this.intersects(y,x))return null;O.visitItem(this._item)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Ds),Sp=function(l){function f(){l.call(this),this._node1=null,this._node2=null;var y=arguments[0],x=arguments[1];this._node1=y,this._node2=x,this.buildExtent(this._node1,this._node2)}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.buildExtent=function(y,x){this._min=Math.min(y._min,x._min),this._max=Math.max(y._max,x._max)},f.prototype.query=function(y,x,O){if(!this.intersects(y,x))return null;this._node1!==null&&this._node1.query(y,x,O),this._node2!==null&&this._node2.query(y,x,O)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(Ds),as=function(){this._leaves=new Kt,this._root=null,this._level=0};as.prototype.buildTree=function(){qs.sort(this._leaves,new Ds.NodeComparator);for(var l=this._leaves,f=null,y=new Kt;;){if(this.buildLevel(l,y),y.size()===1)return y.get(0);f=l,l=y,y=f}},as.prototype.insert=function(l,f,y){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Qf(l,f,y))},as.prototype.query=function(l,f,y){this.init(),this._root.query(l,f,y)},as.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},as.prototype.printNode=function(l){Ut.out.println(Mi.toLineString(new ie(l._min,this._level),new ie(l._max,this._level)))},as.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},as.prototype.buildLevel=function(l,f){this._level++,f.clear();for(var y=0;y<l.size();y+=2){var x=l.get(y);if((y+1<l.size()?l.get(y):null)===null)f.add(x);else{var O=new Sp(l.get(y),l.get(y+1));f.add(O)}}},as.prototype.interfaces_=function(){return[]},as.prototype.getClass=function(){return as};var ss=function(){this._items=new Kt};ss.prototype.visitItem=function(l){this._items.add(l)},ss.prototype.getItems=function(){return this._items},ss.prototype.interfaces_=function(){return[uu]},ss.prototype.getClass=function(){return ss};var tf=function(){this._index=null;var l=arguments[0];if(!Q(l,Ln))throw new G("Argument must be Polygonal");this._index=new mc(l)},Fr={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};tf.prototype.locate=function(l){var f=new Rt(l),y=new Er(f);return this._index.query(l.y,l.y,y),f.getLocation()},tf.prototype.interfaces_=function(){return[hc]},tf.prototype.getClass=function(){return tf},Fr.SegmentVisitor.get=function(){return Er},Fr.IntervalIndexedGeometry.get=function(){return mc},Object.defineProperties(tf,Fr);var Er=function(){this._counter=null;var l=arguments[0];this._counter=l};Er.prototype.visitItem=function(l){var f=l;this._counter.countSegment(f.getCoordinate(0),f.getCoordinate(1))},Er.prototype.interfaces_=function(){return[uu]},Er.prototype.getClass=function(){return Er};var mc=function(){this._index=new as;var l=arguments[0];this.init(l)};mc.prototype.init=function(l){for(var f=xs.getLines(l).iterator();f.hasNext();){var y=f.next().getCoordinates();this.addLine(y)}},mc.prototype.addLine=function(l){for(var f=1;f<l.length;f++){var y=new Rr(l[f-1],l[f]),x=Math.min(y.p0.y,y.p1.y),O=Math.max(y.p0.y,y.p1.y);this._index.insert(x,O,y)}},mc.prototype.query=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1],y=new ss;return this._index.query(l,f,y),y.getItems()}if(arguments.length===3){var x=arguments[0],O=arguments[1],U=arguments[2];this._index.query(x,O,U)}},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc};var Rn=function(l){function f(){if(l.call(this),this._parentGeom=null,this._lineEdgeMap=new Tc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Xs,arguments.length===2){var y=arguments[0],x=arguments[1],O=$n.OGC_SFS_BOUNDARY_RULE;this._argIndex=y,this._parentGeom=x,this._boundaryNodeRule=O,x!==null&&this.add(x)}else if(arguments.length===3){var U=arguments[0],H=arguments[1],me=arguments[2];this._argIndex=U,this._parentGeom=H,this._boundaryNodeRule=me,H!==null&&this.add(H)}}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.insertBoundaryPoint=function(y,x){var O=this._nodes.addNode(x).getLabel(),U=1;O.getLocation(y,Wt.ON)===ae.BOUNDARY&&U++;var H=f.determineBoundary(this._boundaryNodeRule,U);O.setLocation(y,H)},f.prototype.computeSelfNodes=function(){if(arguments.length===2){var y=arguments[0],x=arguments[1];return this.computeSelfNodes(y,x,!1)}if(arguments.length===3){var O=arguments[0],U=arguments[1],H=arguments[2],me=new _o(O,!0,!1);me.setIsDoneIfProperInt(H);var je=this.createEdgeSetIntersector(),nt=this._parentGeom instanceof Fi||this._parentGeom instanceof yi||this._parentGeom instanceof Jn,wt=U||!nt;return je.computeIntersections(this._edges,me,wt),this.addSelfIntersectionNodes(this._argIndex),me}},f.prototype.computeSplitEdges=function(y){for(var x=this._edges.iterator();x.hasNext();)x.next().eiList.addSplitEdges(y)},f.prototype.computeEdgeIntersections=function(y,x,O){var U=new _o(x,O,!0);return U.setBoundaryNodes(this.getBoundaryNodes(),y.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,y._edges,U),U},f.prototype.getGeometry=function(){return this._parentGeom},f.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},f.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},f.prototype.addPoint=function(){if(arguments[0]instanceof cn){var y=arguments[0].getCoordinate();this.insertPoint(this._argIndex,y,ae.INTERIOR)}else if(arguments[0]instanceof ie){var x=arguments[0];this.insertPoint(this._argIndex,x,ae.INTERIOR)}},f.prototype.addPolygon=function(y){this.addPolygonRing(y.getExteriorRing(),ae.EXTERIOR,ae.INTERIOR);for(var x=0;x<y.getNumInteriorRing();x++){var O=y.getInteriorRingN(x);this.addPolygonRing(O,ae.INTERIOR,ae.EXTERIOR)}},f.prototype.addEdge=function(y){this.insertEdge(y);var x=y.getCoordinates();this.insertPoint(this._argIndex,x[0],ae.BOUNDARY),this.insertPoint(this._argIndex,x[x.length-1],ae.BOUNDARY)},f.prototype.addLineString=function(y){var x=se.removeRepeatedPoints(y.getCoordinates());if(x.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=x[0],null;var O=new ul(x,new Ai(this._argIndex,ae.INTERIOR));this._lineEdgeMap.put(y,O),this.insertEdge(O),be.isTrue(x.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,x[0]),this.insertBoundaryPoint(this._argIndex,x[x.length-1])},f.prototype.getInvalidPoint=function(){return this._invalidPoint},f.prototype.getBoundaryPoints=function(){for(var y=this.getBoundaryNodes(),x=new Array(y.size()).fill(null),O=0,U=y.iterator();U.hasNext();){var H=U.next();x[O++]=H.getCoordinate().copy()}return x},f.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},f.prototype.addSelfIntersectionNode=function(y,x,O){if(this.isBoundaryNode(y,x))return null;O===ae.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(y,x):this.insertPoint(y,x,O)},f.prototype.addPolygonRing=function(y,x,O){if(y.isEmpty())return null;var U=se.removeRepeatedPoints(y.getCoordinates());if(U.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=U[0],null;var H=x,me=O;mt.isCCW(U)&&(H=O,me=x);var je=new ul(U,new Ai(this._argIndex,ae.BOUNDARY,H,me));this._lineEdgeMap.put(y,je),this.insertEdge(je),this.insertPoint(this._argIndex,U[0],ae.BOUNDARY)},f.prototype.insertPoint=function(y,x,O){var U=this._nodes.addNode(x),H=U.getLabel();H===null?U._label=new Ai(y,O):H.setLocation(y,O)},f.prototype.createEdgeSetIntersector=function(){return new _i},f.prototype.addSelfIntersectionNodes=function(y){for(var x=this._edges.iterator();x.hasNext();)for(var O=x.next(),U=O.getLabel().getLocation(y),H=O.eiList.iterator();H.hasNext();){var me=H.next();this.addSelfIntersectionNode(y,me.coord,U)}},f.prototype.add=function(){if(arguments.length!==1)return l.prototype.add.apply(this,arguments);var y=arguments[0];if(y.isEmpty())return null;if(y instanceof Jn&&(this._useBoundaryDeterminationRule=!1),y instanceof yi)this.addPolygon(y);else if(y instanceof ln)this.addLineString(y);else if(y instanceof cn)this.addPoint(y);else if(y instanceof li)this.addCollection(y);else if(y instanceof fr)this.addCollection(y);else if(y instanceof Jn)this.addCollection(y);else{if(!(y instanceof Et))throw new Error(y.getClass().getName());this.addCollection(y)}},f.prototype.addCollection=function(y){for(var x=0;x<y.getNumGeometries();x++){var O=y.getGeometryN(x);this.add(O)}},f.prototype.locate=function(y){return Q(this._parentGeom,Ln)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new tf(this._parentGeom)),this._areaPtLocator.locate(y)):this._ptLocator.locate(y,this._parentGeom)},f.prototype.findEdge=function(){if(arguments.length===1){var y=arguments[0];return this._lineEdgeMap.get(y)}return l.prototype.findEdge.apply(this,arguments)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f.determineBoundary=function(y,x){return y.isInBoundary(x)?ae.BOUNDARY:ae.INTERIOR},f}(Ri),ji=function(){if(this._li=new st,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var l=arguments[0];this.setComputationPrecision(l.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Rn(0,l)}else if(arguments.length===2){var f=arguments[0],y=arguments[1],x=$n.OGC_SFS_BOUNDARY_RULE;f.getPrecisionModel().compareTo(y.getPrecisionModel())>=0?this.setComputationPrecision(f.getPrecisionModel()):this.setComputationPrecision(y.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Rn(0,f,x),this._arg[1]=new Rn(1,y,x)}else if(arguments.length===3){var O=arguments[0],U=arguments[1],H=arguments[2];O.getPrecisionModel().compareTo(U.getPrecisionModel())>=0?this.setComputationPrecision(O.getPrecisionModel()):this.setComputationPrecision(U.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Rn(0,O,H),this._arg[1]=new Rn(1,U,H)}};ji.prototype.getArgGeometry=function(l){return this._arg[l].getGeometry()},ji.prototype.setComputationPrecision=function(l){this._resultPrecisionModel=l,this._li.setPrecisionModel(this._resultPrecisionModel)},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var lo=function(){};lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo},lo.map=function(){if(arguments[0]instanceof tr&&Q(arguments[1],lo.MapOp)){for(var l=arguments[0],f=arguments[1],y=new Kt,x=0;x<l.getNumGeometries();x++){var O=f.map(l.getGeometryN(x));O!==null&&y.add(O)}return l.getFactory().buildGeometry(y)}if(Q(arguments[0],ui)&&Q(arguments[1],lo.MapOp)){for(var U=arguments[0],H=arguments[1],me=new Kt,je=U.iterator();je.hasNext();){var nt=je.next(),wt=H.map(nt);wt!==null&&me.add(wt)}return me}},lo.MapOp=function(){};var pn=function(l){function f(){var y=arguments[0],x=arguments[1];l.call(this,y,x),this._ptLocator=new Xs,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new qu,this._resultPolyList=new Kt,this._resultLineList=new Kt,this._resultPointList=new Kt,this._graph=new Ri(new Dh),this._geomFact=y.getFactory()}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.insertUniqueEdge=function(y){var x=this._edgeList.findEqualEdge(y);if(x!==null){var O=x.getLabel(),U=y.getLabel();x.isPointwiseEqual(y)||(U=new Ai(y.getLabel())).flip();var H=x.getDepth();H.isNull()&&H.add(O),H.add(U),O.merge(U)}else this._edgeList.add(y)},f.prototype.getGraph=function(){return this._graph},f.prototype.cancelDuplicateResultEdges=function(){for(var y=this._graph.getEdgeEnds().iterator();y.hasNext();){var x=y.next(),O=x.getSym();x.isInResult()&&O.isInResult()&&(x.setInResult(!1),O.setInResult(!1))}},f.prototype.isCoveredByLA=function(y){return!!this.isCovered(y,this._resultLineList)||!!this.isCovered(y,this._resultPolyList)},f.prototype.computeGeometry=function(y,x,O,U){var H=new Kt;return H.addAll(y),H.addAll(x),H.addAll(O),H.isEmpty()?f.createEmptyResult(U,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(H)},f.prototype.mergeSymLabels=function(){for(var y=this._graph.getNodes().iterator();y.hasNext();)y.next().getEdges().mergeSymLabels()},f.prototype.isCovered=function(y,x){for(var O=x.iterator();O.hasNext();){var U=O.next();if(this._ptLocator.locate(y,U)!==ae.EXTERIOR)return!0}return!1},f.prototype.replaceCollapsedEdges=function(){for(var y=new Kt,x=this._edgeList.iterator();x.hasNext();){var O=x.next();O.isCollapsed()&&(x.remove(),y.add(O.getCollapsedEdge()))}this._edgeList.addAll(y)},f.prototype.updateNodeLabelling=function(){for(var y=this._graph.getNodes().iterator();y.hasNext();){var x=y.next(),O=x.getEdges().getLabel();x.getLabel().merge(O)}},f.prototype.getResultGeometry=function(y){return this.computeOverlay(y),this._resultGeom},f.prototype.insertUniqueEdges=function(y){for(var x=y.iterator();x.hasNext();){var O=x.next();this.insertUniqueEdge(O)}},f.prototype.computeOverlay=function(y){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var x=new Kt;this._arg[0].computeSplitEdges(x),this._arg[1].computeSplitEdges(x),this.insertUniqueEdges(x),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Bc.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(y),this.cancelDuplicateResultEdges();var O=new da(this._geomFact);O.add(this._graph),this._resultPolyList=O.getPolygons();var U=new ws(this,this._geomFact,this._ptLocator);this._resultLineList=U.build(y);var H=new Oa(this,this._geomFact,this._ptLocator);this._resultPointList=H.build(y),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,y)},f.prototype.labelIncompleteNode=function(y,x){var O=this._ptLocator.locate(y.getCoordinate(),this._arg[x].getGeometry());y.getLabel().setLocation(x,O)},f.prototype.copyPoints=function(y){for(var x=this._arg[y].getNodeIterator();x.hasNext();){var O=x.next();this._graph.addNode(O.getCoordinate()).setLabel(y,O.getLabel().getLocation(y))}},f.prototype.findResultAreaEdges=function(y){for(var x=this._graph.getEdgeEnds().iterator();x.hasNext();){var O=x.next(),U=O.getLabel();U.isArea()&&!O.isInteriorAreaEdge()&&f.isResultOfOp(U.getLocation(0,Wt.RIGHT),U.getLocation(1,Wt.RIGHT),y)&&O.setInResult(!0)}},f.prototype.computeLabelsFromDepths=function(){for(var y=this._edgeList.iterator();y.hasNext();){var x=y.next(),O=x.getLabel(),U=x.getDepth();if(!U.isNull()){U.normalize();for(var H=0;H<2;H++)O.isNull(H)||!O.isArea()||U.isNull(H)||(U.getDelta(H)===0?O.toLine(H):(be.isTrue(!U.isNull(H,Wt.LEFT),"depth of LEFT side has not been initialized"),O.setLocation(H,Wt.LEFT,U.getLocation(H,Wt.LEFT)),be.isTrue(!U.isNull(H,Wt.RIGHT),"depth of RIGHT side has not been initialized"),O.setLocation(H,Wt.RIGHT,U.getLocation(H,Wt.RIGHT))))}}},f.prototype.computeLabelling=function(){for(var y=this._graph.getNodes().iterator();y.hasNext();)y.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},f.prototype.labelIncompleteNodes=function(){for(var y=this._graph.getNodes().iterator();y.hasNext();){var x=y.next(),O=x.getLabel();x.isIsolated()&&(O.isNull(0)?this.labelIncompleteNode(x,0):this.labelIncompleteNode(x,1)),x.getEdges().updateLabelling(O)}},f.prototype.isCoveredByA=function(y){return!!this.isCovered(y,this._resultPolyList)},f.prototype.interfaces_=function(){return[]},f.prototype.getClass=function(){return f},f}(ji);pn.overlayOp=function(l,f,y){return new pn(l,f).getResultGeometry(y)},pn.intersection=function(l,f){if(l.isEmpty()||f.isEmpty())return pn.createEmptyResult(pn.INTERSECTION,l,f,l.getFactory());if(l.isGeometryCollection()){var y=f;return Wl.map(l,{interfaces_:function(){return[lo.MapOp]},map:function(x){return x.intersection(y)}})}return l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(f),Zs.overlayOp(l,f,pn.INTERSECTION)},pn.symDifference=function(l,f){if(l.isEmpty()||f.isEmpty()){if(l.isEmpty()&&f.isEmpty())return pn.createEmptyResult(pn.SYMDIFFERENCE,l,f,l.getFactory());if(l.isEmpty())return f.copy();if(f.isEmpty())return l.copy()}return l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(f),Zs.overlayOp(l,f,pn.SYMDIFFERENCE)},pn.resultDimension=function(l,f,y){var x=f.getDimension(),O=y.getDimension(),U=-1;switch(l){case pn.INTERSECTION:U=Math.min(x,O);break;case pn.UNION:U=Math.max(x,O);break;case pn.DIFFERENCE:U=x;break;case pn.SYMDIFFERENCE:U=Math.max(x,O)}return U},pn.createEmptyResult=function(l,f,y,x){var O=null;switch(pn.resultDimension(l,f,y)){case-1:O=x.createGeometryCollection(new Array(0).fill(null));break;case 0:O=x.createPoint();break;case 1:O=x.createLineString();break;case 2:O=x.createPolygon()}return O},pn.difference=function(l,f){return l.isEmpty()?pn.createEmptyResult(pn.DIFFERENCE,l,f,l.getFactory()):f.isEmpty()?l.copy():(l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(f),Zs.overlayOp(l,f,pn.DIFFERENCE))},pn.isResultOfOp=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1],y=l.getLocation(0),x=l.getLocation(1);return pn.isResultOfOp(y,x,f)}if(arguments.length===3){var O=arguments[0],U=arguments[1],H=arguments[2];switch(O===ae.BOUNDARY&&(O=ae.INTERIOR),U===ae.BOUNDARY&&(U=ae.INTERIOR),H){case pn.INTERSECTION:return O===ae.INTERIOR&&U===ae.INTERIOR;case pn.UNION:return O===ae.INTERIOR||U===ae.INTERIOR;case pn.DIFFERENCE:return O===ae.INTERIOR&&U!==ae.INTERIOR;case pn.SYMDIFFERENCE:return O===ae.INTERIOR&&U!==ae.INTERIOR||O!==ae.INTERIOR&&U===ae.INTERIOR}return!1}},pn.INTERSECTION=1,pn.UNION=2,pn.DIFFERENCE=3,pn.SYMDIFFERENCE=4;var $c=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Xs,this._seg=new Rr;var l=arguments[0],f=arguments[1];this._g=l,this._boundaryDistanceTolerance=f,this._linework=this.extractLinework(l)};$c.prototype.isWithinToleranceOfBoundary=function(l){for(var f=0;f<this._linework.getNumGeometries();f++)for(var y=this._linework.getGeometryN(f).getCoordinateSequence(),x=0;x<y.size()-1;x++)if(y.getCoordinate(x,this._seg.p0),y.getCoordinate(x+1,this._seg.p1),this._seg.distance(l)<=this._boundaryDistanceTolerance)return!0;return!1},$c.prototype.getLocation=function(l){return this.isWithinToleranceOfBoundary(l)?ae.BOUNDARY:this._ptLocator.locate(l,this._g)},$c.prototype.extractLinework=function(l){var f=new hu;l.apply(f);var y=f.getLinework(),x=dn.toLineStringArray(y);return l.getFactory().createMultiLineString(x)},$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c};var hu=function(){this._linework=null,this._linework=new Kt};hu.prototype.getLinework=function(){return this._linework},hu.prototype.filter=function(l){if(l instanceof yi){var f=l;this._linework.add(f.getExteriorRing());for(var y=0;y<f.getNumInteriorRing();y++)this._linework.add(f.getInteriorRingN(y))}},hu.prototype.interfaces_=function(){return[_r]},hu.prototype.getClass=function(){return hu};var Ci=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var l=arguments[0];this._g=l};Ci.prototype.extractPoints=function(l,f,y){for(var x=l.getCoordinates(),O=0;O<x.length-1;O++)this.computeOffsetPoints(x[O],x[O+1],f,y)},Ci.prototype.setSidesToGenerate=function(l,f){this._doLeft=l,this._doRight=f},Ci.prototype.getPoints=function(l){for(var f=new Kt,y=xs.getLines(this._g).iterator();y.hasNext();){var x=y.next();this.extractPoints(x,l,f)}return f},Ci.prototype.computeOffsetPoints=function(l,f,y,x){var O=f.x-l.x,U=f.y-l.y,H=Math.sqrt(O*O+U*U),me=y*O/H,je=y*U/H,nt=(f.x+l.x)/2,wt=(f.y+l.y)/2;if(this._doLeft){var kt=new ie(nt-je,wt+me);x.add(kt)}if(this._doRight){var ar=new ie(nt+je,wt-me);x.add(ar)}},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci};var co=function l(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=l.TOLERANCE,this._testCoords=new Kt;var f=arguments[0],y=arguments[1],x=arguments[2];this._boundaryDistanceTolerance=l.computeBoundaryDistanceTolerance(f,y),this._geom=[f,y,x],this._locFinder=[new $c(this._geom[0],this._boundaryDistanceTolerance),new $c(this._geom[1],this._boundaryDistanceTolerance),new $c(this._geom[2],this._boundaryDistanceTolerance)]},zu={TOLERANCE:{configurable:!0}};co.prototype.reportResult=function(l,f,y){Ut.out.println("Overlay result invalid - A:"+ae.toLocationSymbol(f[0])+" B:"+ae.toLocationSymbol(f[1])+" expected:"+(y?"i":"e")+" actual:"+ae.toLocationSymbol(f[2]))},co.prototype.isValid=function(l){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var f=this.checkValid(l);return f},co.prototype.checkValid=function(){if(arguments.length===1){for(var l=arguments[0],f=0;f<this._testCoords.size();f++){var y=this._testCoords.get(f);if(!this.checkValid(l,y))return this._invalidLocation=y,!1}return!0}if(arguments.length===2){var x=arguments[0],O=arguments[1];return this._location[0]=this._locFinder[0].getLocation(O),this._location[1]=this._locFinder[1].getLocation(O),this._location[2]=this._locFinder[2].getLocation(O),!!co.hasLocation(this._location,ae.BOUNDARY)||this.isValidResult(x,this._location)}},co.prototype.addTestPts=function(l){var f=new Ci(l);this._testCoords.addAll(f.getPoints(5*this._boundaryDistanceTolerance))},co.prototype.isValidResult=function(l,f){var y=pn.isResultOfOp(f[0],f[1],l),x=!(y^f[2]===ae.INTERIOR);return x||this.reportResult(l,f,y),x},co.prototype.getInvalidLocation=function(){return this._invalidLocation},co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co},co.hasLocation=function(l,f){for(var y=0;y<3;y++)if(l[y]===f)return!0;return!1},co.computeBoundaryDistanceTolerance=function(l,f){return Math.min(ya.computeSizeBasedSnapTolerance(l),ya.computeSizeBasedSnapTolerance(f))},co.isValid=function(l,f,y,x){return new co(l,f,x).isValid(y)},zu.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(co,zu);var zs=function l(f){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=l.extractFactory(f),this._inputGeoms=f};zs.prototype.extractElements=function(l,f){if(l===null)return null;for(var y=0;y<l.getNumGeometries();y++){var x=l.getGeometryN(y);this._skipEmpty&&x.isEmpty()||f.add(x)}},zs.prototype.combine=function(){for(var l=new Kt,f=this._inputGeoms.iterator();f.hasNext();){var y=f.next();this.extractElements(y,l)}return l.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(l)},zs.prototype.interfaces_=function(){return[]},zs.prototype.getClass=function(){return zs},zs.combine=function(){if(arguments.length===1){var l=arguments[0];return new zs(l).combine()}if(arguments.length===2){var f=arguments[0],y=arguments[1];return new zs(zs.createList(f,y)).combine()}if(arguments.length===3){var x=arguments[0],O=arguments[1],U=arguments[2];return new zs(zs.createList(x,O,U)).combine()}},zs.extractFactory=function(l){return l.isEmpty()?null:l.iterator().next().getFactory()},zs.createList=function(){if(arguments.length===2){var l=arguments[0],f=arguments[1],y=new Kt;return y.add(l),y.add(f),y}if(arguments.length===3){var x=arguments[0],O=arguments[1],U=arguments[2],H=new Kt;return H.add(x),H.add(O),H.add(U),H}};var va=function(){this._inputPolys=null,this._geomFactory=null;var l=arguments[0];this._inputPolys=l,this._inputPolys===null&&(this._inputPolys=new Kt)},rf={STRTREE_NODE_CAPACITY:{configurable:!0}};va.prototype.reduceToGeometries=function(l){for(var f=new Kt,y=l.iterator();y.hasNext();){var x=y.next(),O=null;Q(x,to)?O=this.unionTree(x):x instanceof tr&&(O=x),f.add(O)}return f},va.prototype.extractByEnvelope=function(l,f,y){for(var x=new Kt,O=0;O<f.getNumGeometries();O++){var U=f.getGeometryN(O);U.getEnvelopeInternal().intersects(l)?x.add(U):y.add(U)}return this._geomFactory.buildGeometry(x)},va.prototype.unionOptimized=function(l,f){var y=l.getEnvelopeInternal(),x=f.getEnvelopeInternal();if(!y.intersects(x))return zs.combine(l,f);if(l.getNumGeometries()<=1&&f.getNumGeometries()<=1)return this.unionActual(l,f);var O=y.intersection(x);return this.unionUsingEnvelopeIntersection(l,f,O)},va.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var l=new Mc(va.STRTREE_NODE_CAPACITY),f=this._inputPolys.iterator();f.hasNext();){var y=f.next();l.insert(y.getEnvelopeInternal(),y)}this._inputPolys=null;var x=l.itemsTree();return this.unionTree(x)},va.prototype.binaryUnion=function(){if(arguments.length===1){var l=arguments[0];return this.binaryUnion(l,0,l.size())}if(arguments.length===3){var f=arguments[0],y=arguments[1],x=arguments[2];if(x-y<=1){var O=va.getGeometry(f,y);return this.unionSafe(O,null)}if(x-y==2)return this.unionSafe(va.getGeometry(f,y),va.getGeometry(f,y+1));var U=Math.trunc((x+y)/2),H=this.binaryUnion(f,y,U),me=this.binaryUnion(f,U,x);return this.unionSafe(H,me)}},va.prototype.repeatedUnion=function(l){for(var f=null,y=l.iterator();y.hasNext();){var x=y.next();f=f===null?x.copy():f.union(x)}return f},va.prototype.unionSafe=function(l,f){return l===null&&f===null?null:l===null?f.copy():f===null?l.copy():this.unionOptimized(l,f)},va.prototype.unionActual=function(l,f){return va.restrictToPolygons(l.union(f))},va.prototype.unionTree=function(l){var f=this.reduceToGeometries(l);return this.binaryUnion(f)},va.prototype.unionUsingEnvelopeIntersection=function(l,f,y){var x=new Kt,O=this.extractByEnvelope(y,l,x),U=this.extractByEnvelope(y,f,x),H=this.unionActual(O,U);return x.add(H),zs.combine(x)},va.prototype.bufferUnion=function(){if(arguments.length===1){var l=arguments[0];return l.get(0).getFactory().buildGeometry(l).buffer(0)}if(arguments.length===2){var f=arguments[0],y=arguments[1];return f.getFactory().createGeometryCollection([f,y]).buffer(0)}},va.prototype.interfaces_=function(){return[]},va.prototype.getClass=function(){return va},va.restrictToPolygons=function(l){if(Q(l,Ln))return l;var f=Ii.getPolygons(l);return f.size()===1?f.get(0):l.getFactory().createMultiPolygon(dn.toPolygonArray(f))},va.getGeometry=function(l,f){return f>=l.size()?null:l.get(f)},va.union=function(l){return new va(l).union()},rf.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(va,rf);var wu=function(){};wu.prototype.interfaces_=function(){return[]},wu.prototype.getClass=function(){return wu},wu.union=function(l,f){if(l.isEmpty()||f.isEmpty()){if(l.isEmpty()&&f.isEmpty())return pn.createEmptyResult(pn.UNION,l,f,l.getFactory());if(l.isEmpty())return f.copy();if(f.isEmpty())return l.copy()}return l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(f),Zs.overlayOp(l,f,pn.UNION)},r.GeoJSONReader=$a,r.GeoJSONWriter=rl,r.OverlayOp=pn,r.UnionOp=wu,r.BufferOp=An,Object.defineProperty(r,"__esModule",{value:!0})})})(g3,g3.exports);function av(){return new CC}function CC(){this.reset()}CC.prototype={constructor:CC,reset:function(){this.s=this.t=0},add:function(e){v9(sI,e,this.t),v9(this,sI.s,this.s),this.s?this.t+=sI.t:this.s=sI.t},valueOf:function(){return this.s}};var sI=new CC;function v9(e,t,r){var n=e.s=t+r,i=n-t,u=n-i;e.t=t-u+(r-i)}var Kn=1e-6,b9=1e-12,Na=Math.PI,uc=Na/2,AC=Na/4,Qp=Na*2,Tu=180/Na,gi=Na/180,ns=Math.abs,Ox=Math.atan,_p=Math.atan2,Hn=Math.cos,uI=Math.ceil,FW=Math.exp,OC=Math.log,EN=Math.pow,kn=Math.sin,uE=Math.sign||function(e){return e>0?1:e<0?-1:0},Ac=Math.sqrt,dz=Math.tan;function jW(e){return e>1?0:e<-1?Na:Math.acos(e)}function Oh(e){return e>1?uc:e<-1?-uc:Math.asin(e)}function x9(e){return(e=kn(e/2))*e}function Qu(){}function kC(e,t){e&&S9.hasOwnProperty(e.type)&&S9[e.type](e,t)}var w9={Feature:function(e,t){kC(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)kC(r[n].geometry,t)}},S9={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){y3(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)y3(r[n],t,0)},Polygon:function(e,t){E9(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)E9(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)kC(r[n],t)}};function y3(e,t,r){var n=-1,i=e.length-r,u;for(t.lineStart();++n<i;)u=e[n],t.point(u[0],u[1],u[2]);t.lineEnd()}function E9(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)y3(e[r],t,1);t.polygonEnd()}function e_(e,t){e&&w9.hasOwnProperty(e.type)?w9[e.type](e,t):kC(e,t)}var TC=av(),LC=av(),BW,$W,v3,b3,x3,rm={point:Qu,lineStart:Qu,lineEnd:Qu,polygonStart:function(){TC.reset(),rm.lineStart=Cde,rm.lineEnd=Ade},polygonEnd:function(){var e=+TC;LC.add(e<0?Qp+e:e),this.lineStart=this.lineEnd=this.point=Qu},sphere:function(){LC.add(Qp)}};function Cde(){rm.point=Ode}function Ade(){UW(BW,$W)}function Ode(e,t){rm.point=UW,BW=e,$W=t,e*=gi,t*=gi,v3=e,b3=Hn(t=t/2+AC),x3=kn(t)}function UW(e,t){e*=gi,t*=gi,t=t/2+AC;var r=e-v3,n=r>=0?1:-1,i=n*r,u=Hn(t),s=kn(t),m=x3*s,v=b3*u+m*Hn(i),_=m*n*kn(i);TC.add(_p(_,v)),v3=e,b3=u,x3=s}function kde(e){return LC.reset(),e_(e,rm),LC*2}function NC(e){return[_p(e[1],e[0]),Oh(e[2])]}function O0(e){var t=e[0],r=e[1],n=Hn(r);return[n*Hn(t),n*kn(t),kn(r)]}function lI(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ux(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function PN(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cI(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function MC(e){var t=Ac(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var yl,Eh,Dl,_d,i0,qW,VW,ex,kS=av(),Oy,lg,Qm={point:w3,lineStart:P9,lineEnd:I9,polygonStart:function(){Qm.point=WW,Qm.lineStart=Tde,Qm.lineEnd=Lde,kS.reset(),rm.polygonStart()},polygonEnd:function(){rm.polygonEnd(),Qm.point=w3,Qm.lineStart=P9,Qm.lineEnd=I9,TC<0?(yl=-(Dl=180),Eh=-(_d=90)):kS>Kn?_d=90:kS<-Kn&&(Eh=-90),lg[0]=yl,lg[1]=Dl}};function w3(e,t){Oy.push(lg=[yl=e,Dl=e]),t<Eh&&(Eh=t),t>_d&&(_d=t)}function GW(e,t){var r=O0([e*gi,t*gi]);if(ex){var n=ux(ex,r),i=[n[1],-n[0],0],u=ux(i,n);MC(u),u=NC(u);var s=e-i0,m=s>0?1:-1,v=u[0]*Tu*m,_,P=ns(s)>180;P^(m*i0<v&&v<m*e)?(_=u[1]*Tu,_>_d&&(_d=_)):(v=(v+360)%360-180,P^(m*i0<v&&v<m*e)?(_=-u[1]*Tu,_<Eh&&(Eh=_)):(t<Eh&&(Eh=t),t>_d&&(_d=t))),P?e<i0?Sh(yl,e)>Sh(yl,Dl)&&(Dl=e):Sh(e,Dl)>Sh(yl,Dl)&&(yl=e):Dl>=yl?(e<yl&&(yl=e),e>Dl&&(Dl=e)):e>i0?Sh(yl,e)>Sh(yl,Dl)&&(Dl=e):Sh(e,Dl)>Sh(yl,Dl)&&(yl=e)}else Oy.push(lg=[yl=e,Dl=e]);t<Eh&&(Eh=t),t>_d&&(_d=t),ex=r,i0=e}function P9(){Qm.point=GW}function I9(){lg[0]=yl,lg[1]=Dl,Qm.point=w3,ex=null}function WW(e,t){if(ex){var r=e-i0;kS.add(ns(r)>180?r+(r>0?360:-360):r)}else qW=e,VW=t;rm.point(e,t),GW(e,t)}function Tde(){rm.lineStart()}function Lde(){WW(qW,VW),rm.lineEnd(),ns(kS)>Kn&&(yl=-(Dl=180)),lg[0]=yl,lg[1]=Dl,ex=null}function Sh(e,t){return(t-=e)<0?t+360:t}function Nde(e,t){return e[0]-t[0]}function C9(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Mde(e){var t,r,n,i,u,s,m;if(_d=Dl=-(yl=Eh=1/0),Oy=[],e_(e,Qm),r=Oy.length){for(Oy.sort(Nde),t=1,n=Oy[0],u=[n];t<r;++t)i=Oy[t],C9(n,i[0])||C9(n,i[1])?(Sh(n[0],i[1])>Sh(n[0],n[1])&&(n[1]=i[1]),Sh(i[0],n[1])>Sh(n[0],n[1])&&(n[0]=i[0])):u.push(n=i);for(s=-1/0,r=u.length-1,t=0,n=u[r];t<=r;n=i,++t)i=u[t],(m=Sh(n[1],i[0]))>s&&(s=m,yl=i[0],Dl=n[1])}return Oy=lg=null,yl===1/0||Eh===1/0?[[NaN,NaN],[NaN,NaN]]:[[yl,Eh],[Dl,_d]]}var cS,RC,DC,zC,FC,jC,BC,$C,S3,E3,P3,XW,YW,fp,pp,hp,r_={sphere:Qu,point:_z,lineStart:A9,lineEnd:O9,polygonStart:function(){r_.lineStart=zde,r_.lineEnd=Fde},polygonEnd:function(){r_.lineStart=A9,r_.lineEnd=O9}};function _z(e,t){e*=gi,t*=gi;var r=Hn(t);zE(r*Hn(e),r*kn(e),kn(t))}function zE(e,t,r){++cS,DC+=(e-DC)/cS,zC+=(t-zC)/cS,FC+=(r-FC)/cS}function A9(){r_.point=Rde}function Rde(e,t){e*=gi,t*=gi;var r=Hn(t);fp=r*Hn(e),pp=r*kn(e),hp=kn(t),r_.point=Dde,zE(fp,pp,hp)}function Dde(e,t){e*=gi,t*=gi;var r=Hn(t),n=r*Hn(e),i=r*kn(e),u=kn(t),s=_p(Ac((s=pp*u-hp*i)*s+(s=hp*n-fp*u)*s+(s=fp*i-pp*n)*s),fp*n+pp*i+hp*u);RC+=s,jC+=s*(fp+(fp=n)),BC+=s*(pp+(pp=i)),$C+=s*(hp+(hp=u)),zE(fp,pp,hp)}function O9(){r_.point=_z}function zde(){r_.point=jde}function Fde(){HW(XW,YW),r_.point=_z}function jde(e,t){XW=e,YW=t,e*=gi,t*=gi,r_.point=HW;var r=Hn(t);fp=r*Hn(e),pp=r*kn(e),hp=kn(t),zE(fp,pp,hp)}function HW(e,t){e*=gi,t*=gi;var r=Hn(t),n=r*Hn(e),i=r*kn(e),u=kn(t),s=pp*u-hp*i,m=hp*n-fp*u,v=fp*i-pp*n,_=Ac(s*s+m*m+v*v),P=Oh(_),C=_&&-P/_;S3+=C*s,E3+=C*m,P3+=C*v,RC+=P,jC+=P*(fp+(fp=n)),BC+=P*(pp+(pp=i)),$C+=P*(hp+(hp=u)),zE(fp,pp,hp)}function Bde(e){cS=RC=DC=zC=FC=jC=BC=$C=S3=E3=P3=0,e_(e,r_);var t=S3,r=E3,n=P3,i=t*t+r*r+n*n;return i<b9&&(t=jC,r=BC,n=$C,RC<Kn&&(t=DC,r=zC,n=FC),i=t*t+r*r+n*n,i<b9)?[NaN,NaN]:[_p(r,t)*Tu,Oh(n/Ac(i))*Tu]}function xb(e){return function(){return e}}function ZW(e,t){function r(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),r}function I3(e,t){return[e>Na?e-Qp:e<-Na?e+Qp:e,t]}I3.invert=I3;function mz(e,t,r){return(e%=Qp)?t||r?ZW(T9(e),L9(t,r)):T9(e):t||r?L9(t,r):I3}function k9(e){return function(t,r){return t+=e,[t>Na?t-Qp:t<-Na?t+Qp:t,r]}}function T9(e){var t=k9(e);return t.invert=k9(-e),t}function L9(e,t){var r=Hn(e),n=kn(e),i=Hn(t),u=kn(t);function s(m,v){var _=Hn(v),P=Hn(m)*_,C=kn(m)*_,I=kn(v),k=I*r+P*n;return[_p(C*i-k*u,P*r-I*n),Oh(k*i+C*u)]}return s.invert=function(m,v){var _=Hn(v),P=Hn(m)*_,C=kn(m)*_,I=kn(v),k=I*i-C*u;return[_p(C*i+I*u,P*r+k*n),Oh(k*r-P*n)]},s}function KW(e){e=mz(e[0]*gi,e[1]*gi,e.length>2?e[2]*gi:0);function t(r){return r=e(r[0]*gi,r[1]*gi),r[0]*=Tu,r[1]*=Tu,r}return t.invert=function(r){return r=e.invert(r[0]*gi,r[1]*gi),r[0]*=Tu,r[1]*=Tu,r},t}function JW(e,t,r,n,i,u){if(!!r){var s=Hn(t),m=kn(t),v=n*r;i==null?(i=t+n*Qp,u=t-v/2):(i=N9(s,i),u=N9(s,u),(n>0?i<u:i>u)&&(i+=n*Qp));for(var _,P=i;n>0?P>u:P<u;P-=v)_=NC([s,-m*Hn(P),-m*kn(P)]),e.point(_[0],_[1])}}function N9(e,t){t=O0(t),t[0]-=e,MC(t);var r=jW(-t[1]);return((-t[2]<0?-r:r)+Qp-Kn)%Qp}function $de(){var e=xb([0,0]),t=xb(90),r=xb(6),n,i,u={point:s};function s(v,_){n.push(v=i(v,_)),v[0]*=Tu,v[1]*=Tu}function m(){var v=e.apply(this,arguments),_=t.apply(this,arguments)*gi,P=r.apply(this,arguments)*gi;return n=[],i=mz(-v[0]*gi,-v[1]*gi,0).invert,JW(u,_,P,1),v={type:"Polygon",coordinates:[n]},n=i=null,v}return m.center=function(v){return arguments.length?(e=typeof v=="function"?v:xb([+v[0],+v[1]]),m):e},m.radius=function(v){return arguments.length?(t=typeof v=="function"?v:xb(+v),m):t},m.precision=function(v){return arguments.length?(r=typeof v=="function"?v:xb(+v),m):r},m}function QW(){var e=[],t;return{point:function(r,n){t.push([r,n])},lineStart:function(){e.push(t=[])},lineEnd:Qu,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Ude(e,t,r,n,i,u){var s=e[0],m=e[1],v=t[0],_=t[1],P=0,C=1,I=v-s,k=_-m,F;if(F=r-s,!(!I&&F>0)){if(F/=I,I<0){if(F<P)return;F<C&&(C=F)}else if(I>0){if(F>C)return;F>P&&(P=F)}if(F=i-s,!(!I&&F<0)){if(F/=I,I<0){if(F>C)return;F>P&&(P=F)}else if(I>0){if(F<P)return;F<C&&(C=F)}if(F=n-m,!(!k&&F>0)){if(F/=k,k<0){if(F<P)return;F<C&&(C=F)}else if(k>0){if(F>C)return;F>P&&(P=F)}if(F=u-m,!(!k&&F<0)){if(F/=k,k<0){if(F>C)return;F>P&&(P=F)}else if(k>0){if(F<P)return;F<C&&(C=F)}return P>0&&(e[0]=s+P*I,e[1]=m+P*k),C<1&&(t[0]=s+C*I,t[1]=m+C*k),!0}}}}}function zI(e,t){return ns(e[0]-t[0])<Kn&&ns(e[1]-t[1])<Kn}function fI(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function eX(e,t,r,n,i){var u=[],s=[],m,v;if(e.forEach(function(F){if(!((V=F.length-1)<=0)){var V,Y=F[0],q=F[V],M;if(zI(Y,q)){for(i.lineStart(),m=0;m<V;++m)i.point((Y=F[m])[0],Y[1]);i.lineEnd();return}u.push(M=new fI(Y,F,null,!0)),s.push(M.o=new fI(Y,null,M,!1)),u.push(M=new fI(q,F,null,!1)),s.push(M.o=new fI(q,null,M,!0))}}),!!u.length){for(s.sort(t),M9(u),M9(s),m=0,v=s.length;m<v;++m)s[m].e=r=!r;for(var _=u[0],P,C;;){for(var I=_,k=!0;I.v;)if((I=I.n)===_)return;P=I.z,i.lineStart();do{if(I.v=I.o.v=!0,I.e){if(k)for(m=0,v=P.length;m<v;++m)i.point((C=P[m])[0],C[1]);else n(I.x,I.n.x,1,i);I=I.n}else{if(k)for(P=I.p.z,m=P.length-1;m>=0;--m)i.point((C=P[m])[0],C[1]);else n(I.x,I.p.x,-1,i);I=I.p}I=I.o,P=I.z,k=!k}while(!I.v);i.lineEnd()}}}function M9(e){if(!!(t=e.length)){for(var t,r=0,n=e[0],i;++r<t;)n.n=i=e[r],i.p=n,n=i;n.n=i=e[0],i.p=n}}function tX(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function qde(e){return e.length===1&&(e=Vde(e)),{left:function(t,r,n,i){for(n==null&&(n=0),i==null&&(i=t.length);n<i;){var u=n+i>>>1;e(t[u],r)<0?n=u+1:i=u}return n},right:function(t,r,n,i){for(n==null&&(n=0),i==null&&(i=t.length);n<i;){var u=n+i>>>1;e(t[u],r)>0?i=u:n=u+1}return n}}}function Vde(e){return function(t,r){return tX(e(t),r)}}qde(tX);function Ub(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,u=new Array(i);++n<i;)u[n]=e+n*r;return u}function rX(e){for(var t=e.length,r,n=-1,i=0,u,s;++n<t;)i+=e[n].length;for(u=new Array(i);--t>=0;)for(s=e[t],r=s.length;--r>=0;)u[--i]=s[r];return u}var fS=1e9,pI=-fS;function gz(e,t,r,n){function i(_,P){return e<=_&&_<=r&&t<=P&&P<=n}function u(_,P,C,I){var k=0,F=0;if(_==null||(k=s(_,C))!==(F=s(P,C))||v(_,P)<0^C>0)do I.point(k===0||k===3?e:r,k>1?n:t);while((k=(k+C+4)%4)!==F);else I.point(P[0],P[1])}function s(_,P){return ns(_[0]-e)<Kn?P>0?0:3:ns(_[0]-r)<Kn?P>0?2:1:ns(_[1]-t)<Kn?P>0?1:0:P>0?3:2}function m(_,P){return v(_.x,P.x)}function v(_,P){var C=s(_,1),I=s(P,1);return C!==I?C-I:C===0?P[1]-_[1]:C===1?_[0]-P[0]:C===2?_[1]-P[1]:P[0]-_[0]}return function(_){var P=_,C=QW(),I,k,F,V,Y,q,M,j,G,J,he,pe={point:ne,lineStart:Se,lineEnd:Pe,polygonStart:ie,polygonEnd:we};function ne(Be,Q){i(Be,Q)&&P.point(Be,Q)}function ee(){for(var Be=0,Q=0,te=k.length;Q<te;++Q)for(var oe=k[Q],ve=1,de=oe.length,ze=oe[0],ye,Je,Qe=ze[0],yt=ze[1];ve<de;++ve)ye=Qe,Je=yt,ze=oe[ve],Qe=ze[0],yt=ze[1],Je<=n?yt>n&&(Qe-ye)*(n-Je)>(yt-Je)*(e-ye)&&++Be:yt<=n&&(Qe-ye)*(n-Je)<(yt-Je)*(e-ye)&&--Be;return Be}function ie(){P=C,I=[],k=[],he=!0}function we(){var Be=ee(),Q=he&&Be,te=(I=rX(I)).length;(Q||te)&&(_.polygonStart(),Q&&(_.lineStart(),u(null,null,1,_),_.lineEnd()),te&&eX(I,m,Be,u,_),_.polygonEnd()),P=_,I=k=F=null}function Se(){pe.point=ae,k&&k.push(F=[]),J=!0,G=!1,M=j=NaN}function Pe(){I&&(ae(V,Y),q&&G&&C.rejoin(),I.push(C.result())),pe.point=ne,G&&P.lineEnd()}function ae(Be,Q){var te=i(Be,Q);if(k&&F.push([Be,Q]),J)V=Be,Y=Q,q=te,J=!1,te&&(P.lineStart(),P.point(Be,Q));else if(te&&G)P.point(Be,Q);else{var oe=[M=Math.max(pI,Math.min(fS,M)),j=Math.max(pI,Math.min(fS,j))],ve=[Be=Math.max(pI,Math.min(fS,Be)),Q=Math.max(pI,Math.min(fS,Q))];Ude(oe,ve,e,t,r,n)?(G||(P.lineStart(),P.point(oe[0],oe[1])),P.point(ve[0],ve[1]),te||P.lineEnd(),he=!1):te&&(P.lineStart(),P.point(Be,Q),he=!1)}M=Be,j=Q,G=te}return pe}}function Gde(){var e=0,t=0,r=960,n=500,i,u,s;return s={stream:function(m){return i&&u===m?i:i=gz(e,t,r,n)(u=m)},extent:function(m){return arguments.length?(e=+m[0][0],t=+m[0][1],r=+m[1][0],n=+m[1][1],i=u=null,s):[[e,t],[r,n]]}}}var IN=av();function nX(e,t){var r=t[0],n=t[1],i=[kn(r),-Hn(r),0],u=0,s=0;IN.reset();for(var m=0,v=e.length;m<v;++m)if(!!(P=(_=e[m]).length))for(var _,P,C=_[P-1],I=C[0],k=C[1]/2+AC,F=kn(k),V=Hn(k),Y=0;Y<P;++Y,I=M,F=G,V=J,C=q){var q=_[Y],M=q[0],j=q[1]/2+AC,G=kn(j),J=Hn(j),he=M-I,pe=he>=0?1:-1,ne=pe*he,ee=ne>Na,ie=F*G;if(IN.add(_p(ie*pe*kn(ne),V*J+ie*Hn(ne))),u+=ee?he+pe*Qp:he,ee^I>=r^M>=r){var we=ux(O0(C),O0(q));MC(we);var Se=ux(i,we);MC(Se);var Pe=(ee^he>=0?-1:1)*Oh(Se[2]);(n>Pe||n===Pe&&(we[0]||we[1]))&&(s+=ee^he>=0?1:-1)}}return(u<-Kn||u<Kn&&IN<-Kn)^s&1}var C3=av(),A3,FI,jI,lx={sphere:Qu,point:Qu,lineStart:Wde,lineEnd:Qu,polygonStart:Qu,polygonEnd:Qu};function Wde(){lx.point=Yde,lx.lineEnd=Xde}function Xde(){lx.point=lx.lineEnd=Qu}function Yde(e,t){e*=gi,t*=gi,A3=e,FI=kn(t),jI=Hn(t),lx.point=Hde}function Hde(e,t){e*=gi,t*=gi;var r=kn(t),n=Hn(t),i=ns(e-A3),u=Hn(i),s=kn(i),m=n*s,v=jI*r-FI*n*u,_=FI*r+jI*n*u;C3.add(_p(Ac(m*m+v*v),_)),A3=e,FI=r,jI=n}function iX(e){return C3.reset(),e_(e,lx),+C3}var O3=[null,null],Zde={type:"LineString",coordinates:O3};function TS(e,t){return O3[0]=e,O3[1]=t,iX(Zde)}var R9={Feature:function(e,t){return UC(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)if(UC(r[n].geometry,t))return!0;return!1}},D9={Sphere:function(){return!0},Point:function(e,t){return z9(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(z9(r[n],t))return!0;return!1},LineString:function(e,t){return F9(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(F9(r[n],t))return!0;return!1},Polygon:function(e,t){return j9(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(j9(r[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)if(UC(r[n],t))return!0;return!1}};function UC(e,t){return e&&D9.hasOwnProperty(e.type)?D9[e.type](e,t):!1}function z9(e,t){return TS(e,t)===0}function F9(e,t){var r=TS(e[0],e[1]),n=TS(e[0],t),i=TS(t,e[1]);return n+i<=r+Kn}function j9(e,t){return!!nX(e.map(Kde),oX(t))}function Kde(e){return e=e.map(oX),e.pop(),e}function oX(e){return[e[0]*gi,e[1]*gi]}function Jde(e,t){return(e&&R9.hasOwnProperty(e.type)?R9[e.type]:UC)(e,t)}function B9(e,t,r){var n=Ub(e,t-Kn,r).concat(t);return function(i){return n.map(function(u){return[i,u]})}}function $9(e,t,r){var n=Ub(e,t-Kn,r).concat(t);return function(i){return n.map(function(u){return[u,i]})}}function aX(){var e,t,r,n,i,u,s,m,v=10,_=v,P=90,C=360,I,k,F,V,Y=2.5;function q(){return{type:"MultiLineString",coordinates:M()}}function M(){return Ub(uI(n/P)*P,r,P).map(F).concat(Ub(uI(m/C)*C,s,C).map(V)).concat(Ub(uI(t/v)*v,e,v).filter(function(j){return ns(j%P)>Kn}).map(I)).concat(Ub(uI(u/_)*_,i,_).filter(function(j){return ns(j%C)>Kn}).map(k))}return q.lines=function(){return M().map(function(j){return{type:"LineString",coordinates:j}})},q.outline=function(){return{type:"Polygon",coordinates:[F(n).concat(V(s).slice(1),F(r).reverse().slice(1),V(m).reverse().slice(1))]}},q.extent=function(j){return arguments.length?q.extentMajor(j).extentMinor(j):q.extentMinor()},q.extentMajor=function(j){return arguments.length?(n=+j[0][0],r=+j[1][0],m=+j[0][1],s=+j[1][1],n>r&&(j=n,n=r,r=j),m>s&&(j=m,m=s,s=j),q.precision(Y)):[[n,m],[r,s]]},q.extentMinor=function(j){return arguments.length?(t=+j[0][0],e=+j[1][0],u=+j[0][1],i=+j[1][1],t>e&&(j=t,t=e,e=j),u>i&&(j=u,u=i,i=j),q.precision(Y)):[[t,u],[e,i]]},q.step=function(j){return arguments.length?q.stepMajor(j).stepMinor(j):q.stepMinor()},q.stepMajor=function(j){return arguments.length?(P=+j[0],C=+j[1],q):[P,C]},q.stepMinor=function(j){return arguments.length?(v=+j[0],_=+j[1],q):[v,_]},q.precision=function(j){return arguments.length?(Y=+j,I=B9(u,i,90),k=$9(t,e,Y),F=B9(m,s,90),V=$9(n,r,Y),q):Y},q.extentMajor([[-180,-90+Kn],[180,90-Kn]]).extentMinor([[-180,-80-Kn],[180,80+Kn]])}function Qde(){return aX()()}function e_e(e,t){var r=e[0]*gi,n=e[1]*gi,i=t[0]*gi,u=t[1]*gi,s=Hn(n),m=kn(n),v=Hn(u),_=kn(u),P=s*Hn(r),C=s*kn(r),I=v*Hn(i),k=v*kn(i),F=2*Oh(Ac(x9(u-n)+s*v*x9(i-r))),V=kn(F),Y=F?function(q){var M=kn(q*=F)/V,j=kn(F-q)/V,G=j*P+M*I,J=j*C+M*k,he=j*m+M*_;return[_p(J,G)*Tu,_p(he,Ac(G*G+J*J))*Tu]}:function(){return[r*Tu,n*Tu]};return Y.distance=F,Y}function m0(e){return e}var CN=av(),k3=av(),sX,uX,T3,L3,tg={point:Qu,lineStart:Qu,lineEnd:Qu,polygonStart:function(){tg.lineStart=t_e,tg.lineEnd=n_e},polygonEnd:function(){tg.lineStart=tg.lineEnd=tg.point=Qu,CN.add(ns(k3)),k3.reset()},result:function(){var e=CN/2;return CN.reset(),e}};function t_e(){tg.point=r_e}function r_e(e,t){tg.point=lX,sX=T3=e,uX=L3=t}function lX(e,t){k3.add(L3*e-T3*t),T3=e,L3=t}function n_e(){lX(sX,uX)}var cx=1/0,qC=cx,lE=-cx,VC=lE,GC={point:i_e,lineStart:Qu,lineEnd:Qu,polygonStart:Qu,polygonEnd:Qu,result:function(){var e=[[cx,qC],[lE,VC]];return lE=VC=-(qC=cx=1/0),e}};function i_e(e,t){e<cx&&(cx=e),e>lE&&(lE=e),t<qC&&(qC=t),t>VC&&(VC=t)}var N3=0,M3=0,pS=0,WC=0,XC=0,qb=0,R3=0,D3=0,hS=0,cX,fX,Z_,K_,md={point:k0,lineStart:U9,lineEnd:q9,polygonStart:function(){md.lineStart=s_e,md.lineEnd=u_e},polygonEnd:function(){md.point=k0,md.lineStart=U9,md.lineEnd=q9},result:function(){var e=hS?[R3/hS,D3/hS]:qb?[WC/qb,XC/qb]:pS?[N3/pS,M3/pS]:[NaN,NaN];return N3=M3=pS=WC=XC=qb=R3=D3=hS=0,e}};function k0(e,t){N3+=e,M3+=t,++pS}function U9(){md.point=o_e}function o_e(e,t){md.point=a_e,k0(Z_=e,K_=t)}function a_e(e,t){var r=e-Z_,n=t-K_,i=Ac(r*r+n*n);WC+=i*(Z_+e)/2,XC+=i*(K_+t)/2,qb+=i,k0(Z_=e,K_=t)}function q9(){md.point=k0}function s_e(){md.point=l_e}function u_e(){pX(cX,fX)}function l_e(e,t){md.point=pX,k0(cX=Z_=e,fX=K_=t)}function pX(e,t){var r=e-Z_,n=t-K_,i=Ac(r*r+n*n);WC+=i*(Z_+e)/2,XC+=i*(K_+t)/2,qb+=i,i=K_*e-Z_*t,R3+=i*(Z_+e),D3+=i*(K_+t),hS+=i*3,k0(Z_=e,K_=t)}function hX(e){this._context=e}hX.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Qp);break}}},result:Qu};var z3=av(),AN,dX,_X,dS,_S,cE={point:Qu,lineStart:function(){cE.point=c_e},lineEnd:function(){AN&&mX(dX,_X),cE.point=Qu},polygonStart:function(){AN=!0},polygonEnd:function(){AN=null},result:function(){var e=+z3;return z3.reset(),e}};function c_e(e,t){cE.point=mX,dX=dS=e,_X=_S=t}function mX(e,t){dS-=e,_S-=t,z3.add(Ac(dS*dS+_S*_S)),dS=e,_S=t}function gX(){this._string=[]}gX.prototype={_radius:4.5,_circle:V9(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=V9(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function V9(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function f_e(e,t){var r=4.5,n,i;function u(s){return s&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),e_(s,n(i))),i.result()}return u.area=function(s){return e_(s,n(tg)),tg.result()},u.measure=function(s){return e_(s,n(cE)),cE.result()},u.bounds=function(s){return e_(s,n(GC)),GC.result()},u.centroid=function(s){return e_(s,n(md)),md.result()},u.projection=function(s){return arguments.length?(n=s==null?(e=null,m0):(e=s).stream,u):e},u.context=function(s){return arguments.length?(i=s==null?(t=null,new gX):new hX(t=s),typeof r!="function"&&i.pointRadius(r),u):t},u.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(i.pointRadius(+s),+s),u):r},u.projection(e).context(t)}function yX(e,t,r,n){return function(i,u){var s=t(u),m=i.invert(n[0],n[1]),v=QW(),_=t(v),P=!1,C,I,k,F={point:V,lineStart:q,lineEnd:M,polygonStart:function(){F.point=j,F.lineStart=G,F.lineEnd=J,I=[],C=[]},polygonEnd:function(){F.point=V,F.lineStart=q,F.lineEnd=M,I=rX(I);var he=nX(C,m);I.length?(P||(u.polygonStart(),P=!0),eX(I,h_e,he,r,u)):he&&(P||(u.polygonStart(),P=!0),u.lineStart(),r(null,null,1,u),u.lineEnd()),P&&(u.polygonEnd(),P=!1),I=C=null},sphere:function(){u.polygonStart(),u.lineStart(),r(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function V(he,pe){var ne=i(he,pe);e(he=ne[0],pe=ne[1])&&u.point(he,pe)}function Y(he,pe){var ne=i(he,pe);s.point(ne[0],ne[1])}function q(){F.point=Y,s.lineStart()}function M(){F.point=V,s.lineEnd()}function j(he,pe){k.push([he,pe]);var ne=i(he,pe);_.point(ne[0],ne[1])}function G(){_.lineStart(),k=[]}function J(){j(k[0][0],k[0][1]),_.lineEnd();var he=_.clean(),pe=v.result(),ne,ee=pe.length,ie,we,Se;if(k.pop(),C.push(k),k=null,!!ee){if(he&1){if(we=pe[0],(ie=we.length-1)>0){for(P||(u.polygonStart(),P=!0),u.lineStart(),ne=0;ne<ie;++ne)u.point((Se=we[ne])[0],Se[1]);u.lineEnd()}return}ee>1&&he&2&&pe.push(pe.pop().concat(pe.shift())),I.push(pe.filter(p_e))}}return F}}function p_e(e){return e.length>1}function h_e(e,t){return((e=e.x)[0]<0?e[1]-uc-Kn:uc-e[1])-((t=t.x)[0]<0?t[1]-uc-Kn:uc-t[1])}var G9=yX(function(){return!0},d_e,m_e,[-Na,-uc]);function d_e(e){var t=NaN,r=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(u,s){var m=u>0?Na:-Na,v=ns(u-t);ns(v-Na)<Kn?(e.point(t,r=(r+s)/2>0?uc:-uc),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(m,r),e.point(u,r),i=0):n!==m&&v>=Na&&(ns(t-n)<Kn&&(t-=n*Kn),ns(u-m)<Kn&&(u-=m*Kn),r=__e(t,r,u,s),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(m,r),i=0),e.point(t=u,r=s),n=m},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function __e(e,t,r,n){var i,u,s=kn(e-r);return ns(s)>Kn?Ox((kn(t)*(u=Hn(n))*kn(r)-kn(n)*(i=Hn(t))*kn(e))/(i*u*s)):(t+n)/2}function m_e(e,t,r,n){var i;if(e==null)i=r*uc,n.point(-Na,i),n.point(0,i),n.point(Na,i),n.point(Na,0),n.point(Na,-i),n.point(0,-i),n.point(-Na,-i),n.point(-Na,0),n.point(-Na,i);else if(ns(e[0]-t[0])>Kn){var u=e[0]<t[0]?Na:-Na;i=r*u/2,n.point(-u,i),n.point(0,i),n.point(u,i)}else n.point(t[0],t[1])}function g_e(e,t){var r=Hn(e),n=r>0,i=ns(r)>Kn;function u(P,C,I,k){JW(k,e,t,I,P,C)}function s(P,C){return Hn(P)*Hn(C)>r}function m(P){var C,I,k,F,V;return{lineStart:function(){F=k=!1,V=1},point:function(Y,q){var M=[Y,q],j,G=s(Y,q),J=n?G?0:_(Y,q):G?_(Y+(Y<0?Na:-Na),q):0;if(!C&&(F=k=G)&&P.lineStart(),G!==k&&(j=v(C,M),(!j||zI(C,j)||zI(M,j))&&(M[0]+=Kn,M[1]+=Kn,G=s(M[0],M[1]))),G!==k)V=0,G?(P.lineStart(),j=v(M,C),P.point(j[0],j[1])):(j=v(C,M),P.point(j[0],j[1]),P.lineEnd()),C=j;else if(i&&C&&n^G){var he;!(J&I)&&(he=v(M,C,!0))&&(V=0,n?(P.lineStart(),P.point(he[0][0],he[0][1]),P.point(he[1][0],he[1][1]),P.lineEnd()):(P.point(he[1][0],he[1][1]),P.lineEnd(),P.lineStart(),P.point(he[0][0],he[0][1])))}G&&(!C||!zI(C,M))&&P.point(M[0],M[1]),C=M,k=G,I=J},lineEnd:function(){k&&P.lineEnd(),C=null},clean:function(){return V|(F&&k)<<1}}}function v(P,C,I){var k=O0(P),F=O0(C),V=[1,0,0],Y=ux(k,F),q=lI(Y,Y),M=Y[0],j=q-M*M;if(!j)return!I&&P;var G=r*q/j,J=-r*M/j,he=ux(V,Y),pe=cI(V,G),ne=cI(Y,J);PN(pe,ne);var ee=he,ie=lI(pe,ee),we=lI(ee,ee),Se=ie*ie-we*(lI(pe,pe)-1);if(!(Se<0)){var Pe=Ac(Se),ae=cI(ee,(-ie-Pe)/we);if(PN(ae,pe),ae=NC(ae),!I)return ae;var Be=P[0],Q=C[0],te=P[1],oe=C[1],ve;Q<Be&&(ve=Be,Be=Q,Q=ve);var de=Q-Be,ze=ns(de-Na)<Kn,ye=ze||de<Kn;if(!ze&&oe<te&&(ve=te,te=oe,oe=ve),ye?ze?te+oe>0^ae[1]<(ns(ae[0]-Be)<Kn?te:oe):te<=ae[1]&&ae[1]<=oe:de>Na^(Be<=ae[0]&&ae[0]<=Q)){var Je=cI(ee,(-ie+Pe)/we);return PN(Je,pe),[ae,NC(Je)]}}}function _(P,C){var I=n?e:Na-e,k=0;return P<-I?k|=1:P>I&&(k|=2),C<-I?k|=4:C>I&&(k|=8),k}return yX(s,m,u,n?[0,-e]:[-Na,e-Na])}function y_e(e){return{stream:uO(e)}}function uO(e){return function(t){var r=new F3;for(var n in e)r[n]=e[n];return r.stream=t,r}}function F3(){}F3.prototype={constructor:F3,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function lO(e,t,r){var n=t[1][0]-t[0][0],i=t[1][1]-t[0][1],u=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),u!=null&&e.clipExtent(null),e_(r,e.stream(GC));var s=GC.result(),m=Math.min(n/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),v=+t[0][0]+(n-m*(s[1][0]+s[0][0]))/2,_=+t[0][1]+(i-m*(s[1][1]+s[0][1]))/2;return u!=null&&e.clipExtent(u),e.scale(m*150).translate([v,_])}function yz(e,t,r){return lO(e,[[0,0],t],r)}var W9=16,v_e=Hn(30*gi);function X9(e,t){return+t?x_e(e,t):b_e(e)}function b_e(e){return uO({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function x_e(e,t){function r(n,i,u,s,m,v,_,P,C,I,k,F,V,Y){var q=_-n,M=P-i,j=q*q+M*M;if(j>4*t&&V--){var G=s+I,J=m+k,he=v+F,pe=Ac(G*G+J*J+he*he),ne=Oh(he/=pe),ee=ns(ns(he)-1)<Kn||ns(u-C)<Kn?(u+C)/2:_p(J,G),ie=e(ee,ne),we=ie[0],Se=ie[1],Pe=we-n,ae=Se-i,Be=M*Pe-q*ae;(Be*Be/j>t||ns((q*Pe+M*ae)/j-.5)>.3||s*I+m*k+v*F<v_e)&&(r(n,i,u,s,m,v,we,Se,ee,G/=pe,J/=pe,he,V,Y),Y.point(we,Se),r(we,Se,ee,G,J,he,_,P,C,I,k,F,V,Y))}}return function(n){var i,u,s,m,v,_,P,C,I,k,F,V,Y={point:q,lineStart:M,lineEnd:G,polygonStart:function(){n.polygonStart(),Y.lineStart=J},polygonEnd:function(){n.polygonEnd(),Y.lineStart=M}};function q(ne,ee){ne=e(ne,ee),n.point(ne[0],ne[1])}function M(){C=NaN,Y.point=j,n.lineStart()}function j(ne,ee){var ie=O0([ne,ee]),we=e(ne,ee);r(C,I,P,k,F,V,C=we[0],I=we[1],P=ne,k=ie[0],F=ie[1],V=ie[2],W9,n),n.point(C,I)}function G(){Y.point=q,n.lineEnd()}function J(){M(),Y.point=he,Y.lineEnd=pe}function he(ne,ee){j(i=ne,ee),u=C,s=I,m=k,v=F,_=V,Y.point=j}function pe(){r(C,I,P,k,F,V,u,s,i,m,v,_,W9,n),Y.lineEnd=G,G()}return Y}}var w_e=uO({point:function(e,t){this.stream.point(e*gi,t*gi)}});function _g(e){return vz(function(){return e})()}function vz(e){var t,r=150,n=480,i=250,u,s,m=0,v=0,_=0,P=0,C=0,I,k,F=null,V=G9,Y=null,q,M,j,G=m0,J=.5,he=X9(we,J),pe,ne;function ee(ae){return ae=k(ae[0]*gi,ae[1]*gi),[ae[0]*r+u,s-ae[1]*r]}function ie(ae){return ae=k.invert((ae[0]-u)/r,(s-ae[1])/r),ae&&[ae[0]*Tu,ae[1]*Tu]}function we(ae,Be){return ae=t(ae,Be),[ae[0]*r+u,s-ae[1]*r]}ee.stream=function(ae){return pe&&ne===ae?pe:pe=w_e(V(I,he(G(ne=ae))))},ee.clipAngle=function(ae){return arguments.length?(V=+ae?g_e(F=ae*gi,6*gi):(F=null,G9),Pe()):F*Tu},ee.clipExtent=function(ae){return arguments.length?(G=ae==null?(Y=q=M=j=null,m0):gz(Y=+ae[0][0],q=+ae[0][1],M=+ae[1][0],j=+ae[1][1]),Pe()):Y==null?null:[[Y,q],[M,j]]},ee.scale=function(ae){return arguments.length?(r=+ae,Se()):r},ee.translate=function(ae){return arguments.length?(n=+ae[0],i=+ae[1],Se()):[n,i]},ee.center=function(ae){return arguments.length?(m=ae[0]%360*gi,v=ae[1]%360*gi,Se()):[m*Tu,v*Tu]},ee.rotate=function(ae){return arguments.length?(_=ae[0]%360*gi,P=ae[1]%360*gi,C=ae.length>2?ae[2]%360*gi:0,Se()):[_*Tu,P*Tu,C*Tu]},ee.precision=function(ae){return arguments.length?(he=X9(we,J=ae*ae),Pe()):Ac(J)},ee.fitExtent=function(ae,Be){return lO(ee,ae,Be)},ee.fitSize=function(ae,Be){return yz(ee,ae,Be)};function Se(){k=ZW(I=mz(_,P,C),t);var ae=t(m,v);return u=n-ae[0]*r,s=i+ae[1]*r,Pe()}function Pe(){return pe=ne=null,ee}return function(){return t=e.apply(this,arguments),ee.invert=t.invert&&ie,Se()}}function bz(e){var t=0,r=Na/3,n=vz(e),i=n(t,r);return i.parallels=function(u){return arguments.length?n(t=u[0]*gi,r=u[1]*gi):[t*Tu,r*Tu]},i}function S_e(e){var t=Hn(e);function r(n,i){return[n*t,kn(i)/t]}return r.invert=function(n,i){return[n/t,Oh(i*t)]},r}function vX(e,t){var r=kn(e),n=(r+kn(t))/2;if(ns(n)<Kn)return S_e(e);var i=1+r*(2*n-r),u=Ac(i)/n;function s(m,v){var _=Ac(i-2*n*kn(v))/n;return[_*kn(m*=n),u-_*Hn(m)]}return s.invert=function(m,v){var _=u-v;return[_p(m,ns(_))/n*uE(_),Oh((i-(m*m+_*_)*n*n)/(2*n))]},s}function YC(){return bz(vX).scale(155.424).center([0,33.6442])}function bX(){return YC().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function E_e(e){var t=e.length;return{point:function(r,n){for(var i=-1;++i<t;)e[i].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function P_e(){var e,t,r=bX(),n,i=YC().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,s=YC().rotate([157,0]).center([-3,19.9]).parallels([8,18]),m,v,_={point:function(I,k){v=[I,k]}};function P(I){var k=I[0],F=I[1];return v=null,n.point(k,F),v||(u.point(k,F),v)||(m.point(k,F),v)}P.invert=function(I){var k=r.scale(),F=r.translate(),V=(I[0]-F[0])/k,Y=(I[1]-F[1])/k;return(Y>=.12&&Y<.234&&V>=-.425&&V<-.214?i:Y>=.166&&Y<.234&&V>=-.214&&V<-.115?s:r).invert(I)},P.stream=function(I){return e&&t===I?e:e=E_e([r.stream(t=I),i.stream(I),s.stream(I)])},P.precision=function(I){return arguments.length?(r.precision(I),i.precision(I),s.precision(I),C()):r.precision()},P.scale=function(I){return arguments.length?(r.scale(I),i.scale(I*.35),s.scale(I),P.translate(r.translate())):r.scale()},P.translate=function(I){if(!arguments.length)return r.translate();var k=r.scale(),F=+I[0],V=+I[1];return n=r.translate(I).clipExtent([[F-.455*k,V-.238*k],[F+.455*k,V+.238*k]]).stream(_),u=i.translate([F-.307*k,V+.201*k]).clipExtent([[F-.425*k+Kn,V+.12*k+Kn],[F-.214*k-Kn,V+.234*k-Kn]]).stream(_),m=s.translate([F-.205*k,V+.212*k]).clipExtent([[F-.214*k+Kn,V+.166*k+Kn],[F-.115*k-Kn,V+.234*k-Kn]]).stream(_),C()},P.fitExtent=function(I,k){return lO(P,I,k)},P.fitSize=function(I,k){return yz(P,I,k)};function C(){return e=t=null,P}return P.scale(1070)}function xX(e){return function(t,r){var n=Hn(t),i=Hn(r),u=e(n*i);return[u*i*kn(t),u*kn(r)]}}function FE(e){return function(t,r){var n=Ac(t*t+r*r),i=e(n),u=kn(i),s=Hn(i);return[_p(t*u,n*s),Oh(n&&r*u/n)]}}var xz=xX(function(e){return Ac(2/(1+e))});xz.invert=FE(function(e){return 2*Oh(e/2)});function I_e(){return _g(xz).scale(124.75).clipAngle(180-.001)}var wz=xX(function(e){return(e=jW(e))&&e/kn(e)});wz.invert=FE(function(e){return e});function C_e(){return _g(wz).scale(79.4188).clipAngle(180-.001)}function jE(e,t){return[e,OC(dz((uc+t)/2))]}jE.invert=function(e,t){return[e,2*Ox(FW(t))-uc]};function A_e(){return wX(jE).scale(961/Qp)}function wX(e){var t=_g(e),r=t.center,n=t.scale,i=t.translate,u=t.clipExtent,s=null,m,v,_;t.scale=function(C){return arguments.length?(n(C),P()):n()},t.translate=function(C){return arguments.length?(i(C),P()):i()},t.center=function(C){return arguments.length?(r(C),P()):r()},t.clipExtent=function(C){return arguments.length?(C==null?s=m=v=_=null:(s=+C[0][0],m=+C[0][1],v=+C[1][0],_=+C[1][1]),P()):s==null?null:[[s,m],[v,_]]};function P(){var C=Na*n(),I=t(KW(t.rotate()).invert([0,0]));return u(s==null?[[I[0]-C,I[1]-C],[I[0]+C,I[1]+C]]:e===jE?[[Math.max(I[0]-C,s),m],[Math.min(I[0]+C,v),_]]:[[s,Math.max(I[1]-C,m)],[v,Math.min(I[1]+C,_)]])}return P()}function hI(e){return dz((uc+e)/2)}function SX(e,t){var r=Hn(e),n=e===t?kn(e):OC(r/Hn(t))/OC(hI(t)/hI(e)),i=r*EN(hI(e),n)/n;if(!n)return jE;function u(s,m){i>0?m<-uc+Kn&&(m=-uc+Kn):m>uc-Kn&&(m=uc-Kn);var v=i/EN(hI(m),n);return[v*kn(n*s),i-v*Hn(n*s)]}return u.invert=function(s,m){var v=i-m,_=uE(n)*Ac(s*s+v*v);return[_p(s,ns(v))/n*uE(v),2*Ox(EN(i/_,1/n))-uc]},u}function O_e(){return bz(SX).scale(109.5).parallels([30,30])}function fE(e,t){return[e,t]}fE.invert=fE;function k_e(){return _g(fE).scale(152.63)}function EX(e,t){var r=Hn(e),n=e===t?kn(e):(r-Hn(t))/(t-e),i=r/n+e;if(ns(n)<Kn)return fE;function u(s,m){var v=i-m,_=n*s;return[v*kn(_),i-v*Hn(_)]}return u.invert=function(s,m){var v=i-m;return[_p(s,ns(v))/n*uE(v),i-uE(n)*Ac(s*s+v*v)]},u}function T_e(){return bz(EX).scale(131.154).center([0,13.9389])}function Sz(e,t){var r=Hn(t),n=Hn(e)*r;return[r*kn(e)/n,kn(t)/n]}Sz.invert=FE(Ox);function L_e(){return _g(Sz).scale(144.049).clipAngle(60)}function dI(e,t,r,n){return e===1&&t===1&&r===0&&n===0?m0:uO({point:function(i,u){this.stream.point(i*e+r,u*t+n)}})}function N_e(){var e=1,t=0,r=0,n=1,i=1,u=m0,s=null,m,v,_,P=m0,C,I,k;function F(){return C=I=null,k}return k={stream:function(V){return C&&I===V?C:C=u(P(I=V))},clipExtent:function(V){return arguments.length?(P=V==null?(s=m=v=_=null,m0):gz(s=+V[0][0],m=+V[0][1],v=+V[1][0],_=+V[1][1]),F()):s==null?null:[[s,m],[v,_]]},scale:function(V){return arguments.length?(u=dI((e=+V)*n,e*i,t,r),F()):e},translate:function(V){return arguments.length?(u=dI(e*n,e*i,t=+V[0],r=+V[1]),F()):[t,r]},reflectX:function(V){return arguments.length?(u=dI(e*(n=V?-1:1),e*i,t,r),F()):n<0},reflectY:function(V){return arguments.length?(u=dI(e*n,e*(i=V?-1:1),t,r),F()):i<0},fitExtent:function(V,Y){return lO(k,V,Y)},fitSize:function(V,Y){return yz(k,V,Y)}}}function Ez(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),t*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}Ez.invert=function(e,t){var r=t,n=25,i;do{var u=r*r,s=u*u;r-=i=(r*(1.007226+u*(.015085+s*(-.044475+.028874*u-.005916*s)))-t)/(1.007226+u*(.015085*3+s*(-.044475*7+.028874*9*u-.005916*11*s)))}while(ns(i)>Kn&&--n>0);return[e/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function M_e(){return _g(Ez).scale(175.295)}function Pz(e,t){return[Hn(t)*kn(e),kn(t)]}Pz.invert=FE(Oh);function R_e(){return _g(Pz).scale(249.5).clipAngle(90+Kn)}function Iz(e,t){var r=Hn(t),n=1+Hn(e)*r;return[r*kn(e)/n,kn(t)/n]}Iz.invert=FE(function(e){return 2*Ox(e)});function D_e(){return _g(Iz).scale(250).clipAngle(142)}function Cz(e,t){return[OC(dz((uc+t)/2)),-e]}Cz.invert=function(e,t){return[-t,2*Ox(FW(e))-uc]};function z_e(){var e=wX(Cz),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}var F_e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoArea:kde,geoBounds:Mde,geoCentroid:Bde,geoCircle:$de,geoClipExtent:Gde,geoContains:Jde,geoDistance:TS,geoGraticule:aX,geoGraticule10:Qde,geoInterpolate:e_e,geoLength:iX,geoPath:f_e,geoAlbers:bX,geoAlbersUsa:P_e,geoAzimuthalEqualArea:I_e,geoAzimuthalEqualAreaRaw:xz,geoAzimuthalEquidistant:C_e,geoAzimuthalEquidistantRaw:wz,geoConicConformal:O_e,geoConicConformalRaw:SX,geoConicEqualArea:YC,geoConicEqualAreaRaw:vX,geoConicEquidistant:T_e,geoConicEquidistantRaw:EX,geoEquirectangular:k_e,geoEquirectangularRaw:fE,geoGnomonic:L_e,geoGnomonicRaw:Sz,geoIdentity:N_e,geoProjection:_g,geoProjectionMutator:vz,geoMercator:A_e,geoMercatorRaw:jE,geoNaturalEarth1:M_e,geoNaturalEarth1Raw:Ez,geoOrthographic:R_e,geoOrthographicRaw:Pz,geoStereographic:D_e,geoStereographicRaw:Iz,geoTransverseMercator:z_e,geoTransverseMercatorRaw:Cz,geoRotation:KW,geoStream:e_,geoTransform:y_e}),j_e=R0(F_e),B_e=bx,ON=g3.exports,BI=Jr,$_e=j_e,c0=Cr;function U_e(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var q_e=U_e(B_e);function PX(e,t,r){r=r||{};var n=r.units||"kilometers",i=r.steps||8;if(!e)throw new Error("geojson is required");if(typeof r!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var u=[];switch(e.type){case"GeometryCollection":return BI.geomEach(e,function(s){var m=$I(s,t,n,i);m&&u.push(m)}),c0.featureCollection(u);case"FeatureCollection":return BI.featureEach(e,function(s){var m=$I(s,t,n,i);m&&BI.featureEach(m,function(v){v&&u.push(v)})}),c0.featureCollection(u)}return $I(e,t,n,i)}function $I(e,t,r,n){var i=e.properties||{},u=e.type==="Feature"?e.geometry:e;if(u.type==="GeometryCollection"){var s=[];return BI.geomEach(e,function(V){var Y=$I(V,t,r,n);Y&&s.push(Y)}),c0.featureCollection(s)}var m=V_e(u),v={type:u.type,coordinates:CX(u.coordinates,m)},_=new ON.GeoJSONReader,P=_.read(v),C=c0.radiansToLength(c0.lengthToRadians(t,r),"meters"),I=ON.BufferOp.bufferOp(P,C,n),k=new ON.GeoJSONWriter;if(I=k.write(I),!IX(I.coordinates)){var F={type:I.type,coordinates:AX(I.coordinates,m)};return c0.feature(F,i)}}function IX(e){return Array.isArray(e[0])?IX(e[0]):isNaN(e[0])}function CX(e,t){return typeof e[0]!="object"?t(e):e.map(function(r){return CX(r,t)})}function AX(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(r){return AX(r,t)})}function V_e(e){var t=q_e.default(e).geometry.coordinates,r=[-t[0],-t[1]];return $_e.geoAzimuthalEquidistant().rotate(r).scale(c0.earthRadius)}hz.exports=PX;hz.exports.default=PX;var Az={},G_e=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Az,"__esModule",{value:!0});var W_e=G_e(Ax.exports),Y9=En,H9=Cr;function X_e(e,t,r){r===void 0&&(r={});var n=Y9.getGeom(e),i=Y9.getGeom(t),u=W_e.default.union(n.coordinates,i.coordinates);return u.length===0?null:u.length===1?H9.polygon(u[0],r.properties):H9.multiPolygon(u,r.properties)}Az.default=X_e;var BE={},Y_e=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BE,"__esModule",{value:!0});var Z9=Cr,K9=En,H_e=Y_e(Ax.exports);function Z_e(e,t,r){r===void 0&&(r={});var n=K9.getGeom(e),i=K9.getGeom(t),u=H_e.default.intersection(n.coordinates,i.coordinates);return u.length===0?null:u.length===1?Z9.polygon(u[0],r.properties):Z9.multiPolygon(u,r.properties)}BE.default=Z_e;var Oz={exports:{}},_I=Cr,K_e=En,J_e=Jr,Q_e=$A.exports,eme=Ax.exports;function OX(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var J9=OX(Q_e),Q9=OX(eme);function kX(e,t){if(t=t||{},!_I.isObject(t))throw new Error("options is invalid");var r=t.propertyName;K_e.collectionOf(e,"Polygon","dissolve");var n=[];if(t.propertyName){var i={};J_e.featureEach(e,function(v){Object.prototype.hasOwnProperty.call(i,v.properties[r])||(i[v.properties[r]]=[]),i[v.properties[r]].push(v)});for(var u=Object.keys(i),s=0;s<u.length;s++){var m=_I.multiPolygon(Q9.default.union.apply(null,i[u[s]].map(function(v){return v.geometry.coordinates})));m.properties[r]=u[s],n.push(m)}}else return J9.default(_I.multiPolygon(Q9.default.union.apply(null,e.features.map(function(v){return v.geometry.coordinates}))));return J9.default(_I.featureCollection(n))}Oz.exports=kX;Oz.exports.default=kX;var cO={},TX=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cO,"__esModule",{value:!0});var e8=TX(fc),t8=TX(BE),kz=Cr;function tme(e,t,r){r===void 0&&(r={});var n=JSON.stringify(r.properties||{}),i=e[0],u=e[1],s=e[2],m=e[3],v=(u+m)/2,_=(i+s)/2,P=t*2/e8.default([i,v],[s,v],r),C=P*(s-i),I=t*2/e8.default([_,u],[_,m],r),k=I*(m-u),F=C/2,V=F*2,Y=Math.sqrt(3)/2*k,q=s-i,M=m-u,j=3/4*V,G=Y,J=(q-V)/(V-F/2),he=Math.floor(J),pe=(he*j-F/2-q)/2-F/2+j/2,ne=Math.floor((M-Y)/Y),ee=(M-ne*Y)/2,ie=ne*Y-M>Y/2;ie&&(ee-=Y/4);for(var we=[],Se=[],Pe=0;Pe<6;Pe++){var ae=2*Math.PI/6*Pe;we.push(Math.cos(ae)),Se.push(Math.sin(ae))}for(var Be=[],Q=0;Q<=he;Q++)for(var te=0;te<=ne;te++){var oe=Q%2===1;if(!(te===0&&oe)&&!(te===0&&ie)){var ve=Q*j+i-pe,de=te*G+u+ee;if(oe&&(de-=Y/2),r.triangles===!0)nme([ve,de],C/2,k/2,JSON.parse(n),we,Se).forEach(function(ye){r.mask?t8.default(r.mask,ye)&&Be.push(ye):Be.push(ye)});else{var ze=rme([ve,de],C/2,k/2,JSON.parse(n),we,Se);r.mask?t8.default(r.mask,ze)&&Be.push(ze):Be.push(ze)}}}return kz.featureCollection(Be)}function rme(e,t,r,n,i,u){for(var s=[],m=0;m<6;m++){var v=e[0]+t*i[m],_=e[1]+r*u[m];s.push([v,_])}return s.push(s[0].slice()),kz.polygon([s],n)}function nme(e,t,r,n,i,u){for(var s=[],m=0;m<6;m++){var v=[];v.push(e),v.push([e[0]+t*i[m],e[1]+r*u[m]]),v.push([e[0]+t*i[(m+1)%6],e[1]+r*u[(m+1)%6]]),v.push(e),s.push(kz.polygon([v],n))}return s}cO.default=tme;var Tz={exports:{}},LX=Cr,ime=Ax.exports;function ome(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var UI=ome(ime);function NX(e,t){var r=sme(t),n=null;return e.type==="FeatureCollection"?n=ame(e):n=MX(UI.default.union(e.geometry.coordinates)),n.geometry.coordinates.forEach(function(i){r.geometry.coordinates.push(i[0])}),r}function ame(e){var t=e.features.length===2?UI.default.union(e.features[0].geometry.coordinates,e.features[1].geometry.coordinates):UI.default.union.apply(UI.default,e.features.map(function(r){return r.geometry.coordinates}));return MX(t)}function MX(e){return LX.multiPolygon(e)}function sme(e){var t=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]],r=e&&e.geometry.coordinates||t;return LX.polygon(r)}Tz.exports=NX;Tz.exports.default=NX;var fO={},Lz={},RX=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lz,"__esModule",{value:!0});var ume=RX(tO),r8=RX(fc),n8=Cr;function lme(e,t,r,n){n===void 0&&(n={});for(var i=[],u=e[0],s=e[1],m=e[2],v=e[3],_=t/r8.default([u,s],[m,s],n),P=_*(m-u),C=r/r8.default([u,s],[u,v],n),I=C*(v-s),k=m-u,F=v-s,V=Math.floor(k/P),Y=Math.floor(F/I),q=(k-V*P)/2,M=(F-Y*I)/2,j=u+q,G=0;G<V;G++){for(var J=s+M,he=0;he<Y;he++){var pe=n8.polygon([[[j,J],[j,J+I],[j+P,J+I],[j+P,J],[j,J]]],n.properties);n.mask?ume.default(n.mask,pe)&&i.push(pe):i.push(pe),J+=I}j+=P}return n8.featureCollection(i)}Lz.default=lme;var cme=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fO,"__esModule",{value:!0});var fme=cme(Lz);function pme(e,t,r){return r===void 0&&(r={}),fme.default(e,t,t,r)}fO.default=pme;var pO={},DX=Ne&&Ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pO,"__esModule",{value:!0});var i8=DX(fc),o8=DX(BE),Ym=Cr;function hme(e,t,r){r===void 0&&(r={});for(var n=[],i=t/i8.default([e[0],e[1]],[e[2],e[1]],r),u=i*(e[2]-e[0]),s=t/i8.default([e[0],e[1]],[e[0],e[3]],r),m=s*(e[3]-e[1]),v=0,_=e[0];_<=e[2];){for(var P=0,C=e[1];C<=e[3];){var I=null,k=null;v%2===0&&P%2===0?(I=Ym.polygon([[[_,C],[_,C+m],[_+u,C],[_,C]]],r.properties),k=Ym.polygon([[[_,C+m],[_+u,C+m],[_+u,C],[_,C+m]]],r.properties)):v%2===0&&P%2===1?(I=Ym.polygon([[[_,C],[_+u,C+m],[_+u,C],[_,C]]],r.properties),k=Ym.polygon([[[_,C],[_,C+m],[_+u,C+m],[_,C]]],r.properties)):P%2===0&&v%2===1?(I=Ym.polygon([[[_,C],[_,C+m],[_+u,C+m],[_,C]]],r.properties),k=Ym.polygon([[[_,C],[_+u,C+m],[_+u,C],[_,C]]],r.properties)):P%2===1&&v%2===1&&(I=Ym.polygon([[[_,C],[_,C+m],[_+u,C],[_,C]]],r.properties),k=Ym.polygon([[[_,C+m],[_+u,C+m],[_+u,C],[_,C+m]]],r.properties)),r.mask?(o8.default(r.mask,I)&&n.push(I),o8.default(r.mask,k)&&n.push(k)):(n.push(I),n.push(k)),C+=m,P++}v++,_+=u}return Ym.featureCollection(n)}pO.default=hme;var Nz={exports:{}},dme=Pf,_me=cO,mme=FA,gme=fc,yme=hg,vme=fO,bme=pO,xme=Oc,wme=Cr,a8=Jr,Sme=En;function sv(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Eme=sv(dme),Pme=sv(_me),Ime=sv(mme),Cme=sv(gme),Ame=sv(yme),Ome=sv(vme),kme=sv(bme),Tme=sv(xme);function zX(e,t,r){if(r=r||{},typeof r!="object")throw new Error("options is invalid");var n=r.gridType,i=r.property,u=r.weight;if(!e)throw new Error("points is required");if(Sme.collectionOf(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(u!==void 0&&typeof u!="number")throw new Error("weight must be a number");i=i||"elevation",n=n||"square",u=u||1;var s=Eme.default(e),m;switch(n){case"point":case"points":m=Ime.default(s,t,r);break;case"square":case"squares":m=Ome.default(s,t,r);break;case"hex":case"hexes":m=Pme.default(s,t,r);break;case"triangle":case"triangles":m=kme.default(s,t,r);break;default:throw new Error("invalid gridType")}var v=[];return a8.featureEach(m,function(_){var P=0,C=0;a8.featureEach(e,function(k){var F=n==="point"?_:Ame.default(_),V=Cme.default(F,k,r),Y;if(i!==void 0&&(Y=k.properties[i]),Y===void 0&&(Y=k.geometry.coordinates[2]),Y===void 0)throw new Error("zValue is missing");V===0&&(P=Y);var q=1/Math.pow(V,u);C+=q,P+=q*Y});var I=Tme.default(_);I.properties[i]=P/C,v.push(I)}),wme.featureCollection(v)}Nz.exports=zX;Nz.exports.default=zX;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=wR.exports,r=wA,n=EA.exports,i=IR,u=DR,s=FR.exports,m=jR.exports,v=BR,_=UR.exports,P=qR.exports,C=OA.exports,I=kA.exports,k=CE,F=VR.exports,V=bx,Y=WR,q=hg,M=XR,j=fc,G=xx.exports,J=Pf,he=YR.exports,pe=IE,ne=Wf,ee=AE,ie=wx,we=ZR,Se=KR.exports,Pe=PA,ae=rv,Be=pg,Q=JR,te=QR.exports,oe=kE,ve=eD,de=DA,ze=rD.exports,ye=zA.exports,Je=FA,Qe=BA,yt=$A.exports,_t=nv,Tt=oD.exports,Yt=aD.exports,It=uD.exports,Ut=$0,Or=fD.exports,Xt=UA,Ht=iv,xr=dD,Lr=_D,Xr=VA,ea=bD.exports,Mi=q0,pt=Sx,Le=V0,be=xD.exports,Oe=SD.exports,Ze=ED.exports,st=HA.exports,Pt=ZA.exports,Rt=ND.exports,mt=MD.exports,Nr=RD,Qr=JA,tr=Nh,on=VD,Bn=YA,si=GD,$n=Ex,Fn=XD,Vo=jA,ta=tO,Ea=Oc,Go=B0,ui=YD,Fa=KD,to=MA,Kt=JD,ms=ez.exports,zi=tz.exports,se=oO.exports,Ee=RE,Ie=nz,Re=oz.exports,We=sz,at=uz.exports,lt=cz,Me=DE,Xe=aO,ht=Cx,$t=dg,jt=Cr,dt=En,zt=Jr,_r=pz.exports,cr=hz.exports,Et=Az,fr=BE,Zt=Oz.exports,or=cO,en=Tz.exports,dr=fO,Ur=pO,ln=Nz.exports;function Lt(Pn){return Pn&&typeof Pn=="object"&&"default"in Pn?Pn:{default:Pn}}function cn(Pn){if(Pn&&Pn.__esModule)return Pn;var lu=Object.create(null);return Pn&&Object.keys(Pn).forEach(function(yu){if(yu!=="default"){var cu=Object.getOwnPropertyDescriptor(Pn,yu);Object.defineProperty(lu,yu,cu.get?cu:{enumerable:!0,get:function(){return Pn[yu]}})}}),lu.default=Pn,Object.freeze(lu)}var Ln=Lt(t),yi=Lt(r),li=Lt(n),Fi=Lt(i),Jn=Lt(u),fn=Lt(s),hi=Lt(m),ja=Lt(v),bl=Lt(_),Yi=Lt(P),ti=Lt(C),If=Lt(I),Us=Lt(k),ra=Lt(F),Tc=Lt(V),wn=Lt(Y),Ma=Lt(q),ha=Lt(M),ro=Lt(j),dn=Lt(G),su=Lt(J),yp=Lt(he),Ts=Lt(pe),Nu=Lt(ne),Ba=Lt(ee),$a=Lt(ie),rl=Lt(we),Wt=Lt(Se),xl=Lt(Pe),Uu=Lt(ae),wl=Lt(Be),Jc=Lt(Q),os=Lt(te),Hi=Lt(oe),Ai=Lt(ve),Wo=Lt(de),vp=Lt(ze),Lc=Lt(ye),gs=Lt(Je),jl=Lt(Qe),mu=Lt(yt),Ei=Lt(_t),Ls=Lt(Tt),Xo=Lt(Yt),nl=Lt(It),Mu=Lt(Ut),Ri=Lt(Or),da=Lt(Xt),il=Lt(Ht),po=Lt(xr),Zi=Lt(Lr),uu=Lt(Xr),Bl=Lt(ea),_a=Lt(Mi),bp=Lt(pt),qs=Lt(Le),Yo=Lt(be),Pa=Lt(Oe),Qc=Lt(Ze),rh=Lt(st),Nc=Lt(Pt),Mc=Lt(Rt),ol=Lt(mt),ao=Lt(Nr),Vs=Lt(Qr),Vi=Lt(tr),Rc=Lt(on),Gs=Lt(Bn),Sl=Lt(si),so=Lt($n),Rr=Lt(Fn),pc=Lt(Vo),El=Lt(ta),Ha=Lt(Ea),Ns=Lt(Go),Dc=Lt(ui),Xf=Lt(Fa),Ji=Lt(to),Ed=Lt(Kt),Si=Lt(ms),$l=Lt(zi),ua=Lt(se),Yf=Lt(Ee),gu=Lt(Ie),ef=Lt(Re),Un=Lt(We),al=Lt(at),ho=Lt(lt),Hf=Lt(Me),Ms=cn(Xe),sl=cn(ht),Rh=cn($t),Ru=cn(jt),ci=cn(dt),Du=cn(zt),hc=Lt(_r),Pi=Lt(cr),Ws=Lt(Et),Rs=Lt(fr),Zf=Lt(Zt),Dh=Lt(or),zc=Lt(en),qu=Lt(dr),Ul=Lt(Ur),ys=Lt(ln);Object.keys(Xe).forEach(function(Pn){Pn!=="default"&&Object.defineProperty(e,Pn,{enumerable:!0,get:function(){return Xe[Pn]}})}),Object.keys(ht).forEach(function(Pn){Pn!=="default"&&Object.defineProperty(e,Pn,{enumerable:!0,get:function(){return ht[Pn]}})}),Object.keys($t).forEach(function(Pn){Pn!=="default"&&Object.defineProperty(e,Pn,{enumerable:!0,get:function(){return $t[Pn]}})}),Object.keys(jt).forEach(function(Pn){Pn!=="default"&&Object.defineProperty(e,Pn,{enumerable:!0,get:function(){return jt[Pn]}})}),Object.keys(dt).forEach(function(Pn){Pn!=="default"&&Object.defineProperty(e,Pn,{enumerable:!0,get:function(){return dt[Pn]}})}),Object.keys(zt).forEach(function(Pn){Pn!=="default"&&Object.defineProperty(e,Pn,{enumerable:!0,get:function(){return zt[Pn]}})}),Object.defineProperty(e,"isolines",{enumerable:!0,get:function(){return Ln.default}}),Object.defineProperty(e,"convex",{enumerable:!0,get:function(){return yi.default}}),Object.defineProperty(e,"pointsWithinPolygon",{enumerable:!0,get:function(){return li.default}}),Object.defineProperty(e,"within",{enumerable:!0,get:function(){return li.default}}),Object.defineProperty(e,"concave",{enumerable:!0,get:function(){return Fi.default}}),Object.defineProperty(e,"collect",{enumerable:!0,get:function(){return Jn.default}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(e,"simplify",{enumerable:!0,get:function(){return hi.default}}),Object.defineProperty(e,"bezier",{enumerable:!0,get:function(){return ja.default}}),Object.defineProperty(e,"bezierSpline",{enumerable:!0,get:function(){return ja.default}}),Object.defineProperty(e,"tag",{enumerable:!0,get:function(){return bl.default}}),Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Yi.default}}),Object.defineProperty(e,"envelope",{enumerable:!0,get:function(){return ti.default}}),Object.defineProperty(e,"square",{enumerable:!0,get:function(){return If.default}}),Object.defineProperty(e,"circle",{enumerable:!0,get:function(){return Us.default}}),Object.defineProperty(e,"midpoint",{enumerable:!0,get:function(){return ra.default}}),Object.defineProperty(e,"center",{enumerable:!0,get:function(){return Tc.default}}),Object.defineProperty(e,"centerOfMass",{enumerable:!0,get:function(){return wn.default}}),Object.defineProperty(e,"centroid",{enumerable:!0,get:function(){return Ma.default}}),Object.defineProperty(e,"combine",{enumerable:!0,get:function(){return ha.default}}),Object.defineProperty(e,"distance",{enumerable:!0,get:function(){return ro.default}}),Object.defineProperty(e,"explode",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(e,"bbox",{enumerable:!0,get:function(){return su.default}}),Object.defineProperty(e,"tesselate",{enumerable:!0,get:function(){return yp.default}}),Object.defineProperty(e,"bboxPolygon",{enumerable:!0,get:function(){return Ts.default}}),Object.defineProperty(e,"booleanPointInPolygon",{enumerable:!0,get:function(){return Nu.default}}),Object.defineProperty(e,"inside",{enumerable:!0,get:function(){return Nu.default}}),Object.defineProperty(e,"nearest",{enumerable:!0,get:function(){return Ba.default}}),Object.defineProperty(e,"nearestPoint",{enumerable:!0,get:function(){return Ba.default}}),Object.defineProperty(e,"nearestPointOnLine",{enumerable:!0,get:function(){return $a.default}}),Object.defineProperty(e,"pointOnLine",{enumerable:!0,get:function(){return $a.default}}),Object.defineProperty(e,"nearestPointToLine",{enumerable:!0,get:function(){return rl.default}}),Object.defineProperty(e,"planepoint",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(e,"tin",{enumerable:!0,get:function(){return xl.default}}),Object.defineProperty(e,"bearing",{enumerable:!0,get:function(){return Uu.default}}),Object.defineProperty(e,"destination",{enumerable:!0,get:function(){return wl.default}}),Object.defineProperty(e,"kinks",{enumerable:!0,get:function(){return Jc.default}}),Object.defineProperty(e,"pointOnFeature",{enumerable:!0,get:function(){return os.default}}),Object.defineProperty(e,"pointOnSurface",{enumerable:!0,get:function(){return os.default}}),Object.defineProperty(e,"area",{enumerable:!0,get:function(){return Hi.default}}),Object.defineProperty(e,"along",{enumerable:!0,get:function(){return Ai.default}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){return Wo.default}}),Object.defineProperty(e,"lineDistance",{enumerable:!0,get:function(){return Wo.default}}),Object.defineProperty(e,"lineSlice",{enumerable:!0,get:function(){return vp.default}}),Object.defineProperty(e,"lineSliceAlong",{enumerable:!0,get:function(){return Lc.default}}),Object.defineProperty(e,"pointGrid",{enumerable:!0,get:function(){return gs.default}}),Object.defineProperty(e,"truncate",{enumerable:!0,get:function(){return jl.default}}),Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){return mu.default}}),Object.defineProperty(e,"lineIntersect",{enumerable:!0,get:function(){return Ei.default}}),Object.defineProperty(e,"lineChunk",{enumerable:!0,get:function(){return Ls.default}}),Object.defineProperty(e,"unkinkPolygon",{enumerable:!0,get:function(){return Xo.default}}),Object.defineProperty(e,"greatCircle",{enumerable:!0,get:function(){return nl.default}}),Object.defineProperty(e,"lineSegment",{enumerable:!0,get:function(){return Mu.default}}),Object.defineProperty(e,"lineSplit",{enumerable:!0,get:function(){return Ri.default}}),Object.defineProperty(e,"lineArc",{enumerable:!0,get:function(){return da.default}}),Object.defineProperty(e,"polygonToLine",{enumerable:!0,get:function(){return il.default}}),Object.defineProperty(e,"polygonToLineString",{enumerable:!0,get:function(){return il.default}}),Object.defineProperty(e,"lineStringToPolygon",{enumerable:!0,get:function(){return po.default}}),Object.defineProperty(e,"lineToPolygon",{enumerable:!0,get:function(){return po.default}}),Object.defineProperty(e,"bboxClip",{enumerable:!0,get:function(){return Zi.default}}),Object.defineProperty(e,"lineOverlap",{enumerable:!0,get:function(){return uu.default}}),Object.defineProperty(e,"sector",{enumerable:!0,get:function(){return Bl.default}}),Object.defineProperty(e,"rhumbBearing",{enumerable:!0,get:function(){return _a.default}}),Object.defineProperty(e,"rhumbDistance",{enumerable:!0,get:function(){return bp.default}}),Object.defineProperty(e,"rhumbDestination",{enumerable:!0,get:function(){return qs.default}}),Object.defineProperty(e,"polygonTangents",{enumerable:!0,get:function(){return Yo.default}}),Object.defineProperty(e,"rewind",{enumerable:!0,get:function(){return Pa.default}}),Object.defineProperty(e,"isobands",{enumerable:!0,get:function(){return Qc.default}}),Object.defineProperty(e,"transformRotate",{enumerable:!0,get:function(){return rh.default}}),Object.defineProperty(e,"transformScale",{enumerable:!0,get:function(){return Nc.default}}),Object.defineProperty(e,"transformTranslate",{enumerable:!0,get:function(){return Mc.default}}),Object.defineProperty(e,"lineOffset",{enumerable:!0,get:function(){return ol.default}}),Object.defineProperty(e,"polygonize",{enumerable:!0,get:function(){return ao.default}}),Object.defineProperty(e,"booleanDisjoint",{enumerable:!0,get:function(){return Vs.default}}),Object.defineProperty(e,"booleanContains",{enumerable:!0,get:function(){return Vi.default}}),Object.defineProperty(e,"booleanCrosses",{enumerable:!0,get:function(){return Rc.default}}),Object.defineProperty(e,"booleanClockwise",{enumerable:!0,get:function(){return Gs.default}}),Object.defineProperty(e,"booleanOverlap",{enumerable:!0,get:function(){return Sl.default}}),Object.defineProperty(e,"booleanPointOnLine",{enumerable:!0,get:function(){return so.default}}),Object.defineProperty(e,"booleanEqual",{enumerable:!0,get:function(){return Rr.default}}),Object.defineProperty(e,"booleanWithin",{enumerable:!0,get:function(){return pc.default}}),Object.defineProperty(e,"booleanIntersects",{enumerable:!0,get:function(){return El.default}}),Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return Ha.default}}),Object.defineProperty(e,"cleanCoords",{enumerable:!0,get:function(){return Ns.default}}),Object.defineProperty(e,"clustersDbscan",{enumerable:!0,get:function(){return Dc.default}}),Object.defineProperty(e,"clustersKmeans",{enumerable:!0,get:function(){return Xf.default}}),Object.defineProperty(e,"pointToLineDistance",{enumerable:!0,get:function(){return Ji.default}}),Object.defineProperty(e,"booleanParallel",{enumerable:!0,get:function(){return Ed.default}}),Object.defineProperty(e,"shortestPath",{enumerable:!0,get:function(){return Si.default}}),Object.defineProperty(e,"voronoi",{enumerable:!0,get:function(){return $l.default}}),Object.defineProperty(e,"ellipse",{enumerable:!0,get:function(){return ua.default}}),Object.defineProperty(e,"centerMean",{enumerable:!0,get:function(){return Yf.default}}),Object.defineProperty(e,"centerMedian",{enumerable:!0,get:function(){return gu.default}}),Object.defineProperty(e,"standardDeviationalEllipse",{enumerable:!0,get:function(){return ef.default}}),Object.defineProperty(e,"angle",{enumerable:!0,get:function(){return Un.default}}),Object.defineProperty(e,"polygonSmooth",{enumerable:!0,get:function(){return al.default}}),Object.defineProperty(e,"moranIndex",{enumerable:!0,get:function(){return ho.default}}),Object.defineProperty(e,"distanceWeight",{enumerable:!0,get:function(){return Hf.default}}),e.projection=Ms,e.random=sl,e.clusters=Rh,Object.defineProperty(e,"bearingToAngle",{enumerable:!0,get:function(){return jt.bearingToAzimuth}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return jt.convertLength}}),Object.defineProperty(e,"degrees2radians",{enumerable:!0,get:function(){return jt.degreesToRadians}}),Object.defineProperty(e,"distanceToDegrees",{enumerable:!0,get:function(){return jt.lengthToDegrees}}),Object.defineProperty(e,"distanceToRadians",{enumerable:!0,get:function(){return jt.lengthToRadians}}),e.helpers=Ru,Object.defineProperty(e,"radians2degrees",{enumerable:!0,get:function(){return jt.radiansToDegrees}}),Object.defineProperty(e,"radiansToDistance",{enumerable:!0,get:function(){return jt.radiansToLength}}),e.invariant=ci,e.meta=Du,Object.defineProperty(e,"difference",{enumerable:!0,get:function(){return hc.default}}),Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return Pi.default}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return Ws.default}}),Object.defineProperty(e,"intersect",{enumerable:!0,get:function(){return Rs.default}}),Object.defineProperty(e,"dissolve",{enumerable:!0,get:function(){return Zf.default}}),Object.defineProperty(e,"hexGrid",{enumerable:!0,get:function(){return Dh.default}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return zc.default}}),Object.defineProperty(e,"squareGrid",{enumerable:!0,get:function(){return qu.default}}),Object.defineProperty(e,"triangleGrid",{enumerable:!0,get:function(){return Ul.default}}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return ys.default}})})(Tn);function fd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s8{constructor(t){fd(this,"configuration",{avoidElevators:!1,avoidEscalators:!1,avoidStaircases:!1,avoidRamps:!1,avoidNarrowPaths:!1,avoidRevolvingDoors:!1,avoidTicketGates:!1,avoidBarriers:!1,avoidHills:!1}),fd(this,"POI_TYPE",{ELEVATOR:"elevator",ESCALATOR:"escalator",STAIRCASE:"staircase",RAMP:"ramp",HILL:"hill",NARROW_PATH:"narrow_path",REVOLVING_DOOR:"door",TICKET_GATE:"ticket_gate",BARRIER:"barrier"}),fd(this,"ACCESSIBILITY_POI_TYPE",["door","ticket_gate"]),fd(this,"LEVEL_CHANGER_TYPE",["elevator","escalator","staircase","ramp","hill"]),fd(this,"PATH_TYPE","path"),fd(this,"LINE_STRING_TYPE","LineString"),fd(this,"DIRECTION_UP","up"),fd(this,"DIRECTION_DOWN","down"),fd(this,"ROUTABLE_TYPE",["MultiPolygon","Polygon"]),fd(this,"UNIT_TYPE","meters"),fd(this,"pathFixDistance",1),fd(this,"wallOffsetDistance",.5);const r=t.features,{minLevel:n,maxLevel:i}=this.extractMinMaxLevel(r);if(n===void 0)throw"No feature with level was supplied!";const u=r.filter(v=>v.properties.routable&&this.ROUTABLE_TYPE.includes(v.geometry.type));let s=new Map;for(let v=n;v<=i;v++){let _=u.filter(P=>P.properties.level===v);s.set(v,Tn.featureCollection(_!==void 0?_:[]))}this.floorList=s,this.corridors=r.filter(v=>v.properties.class===this.PATH_TYPE&&v.geometry.type===this.LINE_STRING_TYPE);let m=r.filter(v=>this.LEVEL_CHANGER_TYPE.includes(v.properties.type));m.forEach(v=>{v.id===void 0&&(v.id=v.properties.id)}),m.forEach(v=>{if(v.properties.levels===void 0&&(v.properties.levels=[],v.properties.level_min!==void 0&&v.properties.level_max!==void 0))for(let _=v.properties.level_min;_<=v.properties.level_max;_++)v.properties.levels.push(_)}),this.levelChangerList=m,this.accessibilityPoi=r.filter(v=>this.ACCESSIBILITY_POI_TYPE.includes(v.properties.type)),this.rebuildData()}setConfiguration(t,r=1){Object.keys(t).forEach(n=>{this.configuration.hasOwnProperty(n)&&(this.configuration[n]=t[n])}),this.pathFixDistance=r}extractMinMaxLevel(t){let r,n;return t.forEach(i=>{const u=i.properties.level;(r===void 0||u<r)&&(r=u),(n===void 0||n<u)&&(n=u),i.properties.levels!==void 0&&i.properties.levels.forEach(s=>{(r===void 0||s<r)&&(r=s),(n===void 0||n<s)&&(n=s)})}),{minLevel:r,maxLevel:n}}rebuildData(){let t=new Map;this.floorList.forEach((_,P)=>{let C=[],I=[],k=[];_.features.forEach(F=>{Tn.flatten(Tn.polygonToLine(F)).features.map(Y=>Y.geometry).forEach(Y=>{let q,M;for(let j=0;j<Y.coordinates.length-1;j++){let G;j===0?(q=Tn.point(Y.coordinates[j]),q.properties.level=P,q.properties.neighbours=[],q.properties.walkableAreaId=F.id,G=q):G=M,j===Y.coordinates.length-2?M=q:(M=Tn.point(Y.coordinates[j+1]),M.properties.level=P,M.properties.neighbours=[],M.properties.walkableAreaId=F.id),G.properties.neighbours.push(M),M.properties.neighbours.push(G),C.push(G),I.push([G,M])}}),k=k.concat(Tn.flatten(F).features)}),t.set(P,{areas:k,points:C,walls:I,wallFeatures:I.map(F=>Tn.lineString([F[0].geometry.coordinates,F[1].geometry.coordinates]))})}),this.bearingCache=new Map,this.floorData=t,this.floorData.forEach((_,P)=>{this.accessibilityPoi.filter(I=>P===I.properties.level).filter(I=>_.areas.filter(k=>Tn.booleanContains(k,I)).length>0).forEach(I=>{let k=[Tn.destination(I.geometry.coordinates,I.properties.radius+this.wallOffsetDistance,0,{units:this.UNIT_TYPE}),Tn.destination(I.geometry.coordinates,I.properties.radius+this.wallOffsetDistance,60,{units:this.UNIT_TYPE}),Tn.destination(I.geometry.coordinates,I.properties.radius+this.wallOffsetDistance,120,{units:this.UNIT_TYPE}),Tn.destination(I.geometry.coordinates,I.properties.radius+this.wallOffsetDistance,180,{units:this.UNIT_TYPE}),Tn.destination(I.geometry.coordinates,I.properties.radius+this.wallOffsetDistance,-120,{units:this.UNIT_TYPE}),Tn.destination(I.geometry.coordinates,I.properties.radius+this.wallOffsetDistance,-60,{units:this.UNIT_TYPE})].filter(F=>_.areas.filter(V=>Tn.booleanContains(V,F)).length>0);k.forEach(F=>{F.properties.level=P,F.properties.isDetourPoint=!0}),_.points=_.points.concat(k),this.detourPointList=k})});let r=[],n=[];this.corridors.forEach((_,P)=>{let C=_.geometry.coordinates,I=null;for(let k=0;k<C.length-1;k++){let F;I!=null?F=I:(F=Tn.point(C[k]),F.properties.neighbours=[],F.properties.level=_.properties.level);let V=Tn.point(C[k+1]);V.properties.level=_.properties.level,V.properties.neighbours=[],(_.properties.bidirectional!=!1||_.properties.swapDirection!=!1)&&F.properties.neighbours.push(V),(_.properties.bidirectional!=!1||_.properties.swapDirection==!0)&&V.properties.neighbours.push(F);let Y=Tn.lineString([F.geometry.coordinates,V.geometry.coordinates]);Y.properties.level=_.properties.level,Y.properties.bidirectional=_.properties.bidirectional,Y.properties.swapDirection=_.properties.swapDirection,_.properties.narrowPath&&(F.properties.narrowPath=!0,V.properties.narrowPath=!0,Y.properties.narrowPath=!0),_.properties.ramp&&(F.properties.ramp=!0,V.properties.ramp=!0,Y.properties.ramp=!0),_.properties.hill&&(F.properties.hill=!0,V.properties.hill=!0,Y.properties.hill=!0),r.push([F,V]),n.push(Y),I=V}});let i=[],u=new Map,s=0;for(s=0;s<r.length;){let _=r[s],P=n[s];u.has(s)||u.set(s,[]);for(let C=s+1;C<r.length;C++){u.has(C)||u.set(C,[]);let I=r[C];if(P.properties.level!==n[C].properties.level||I.includes(_[0])||I.includes(_[1]))continue;let k=n[C],F=Tn.lineIntersect(P,k).features;if(F.length>0){let V=F[0];V.properties.level=_[0].properties.level,V.properties.isCorridorPoint=!0,(P.properties.narrowPath||k.properties.narrowPath)&&(V.properties.narrowPath=!0),(P.properties.ramp||k.properties.ramp)&&(V.properties.ramp=!0),(P.properties.hill||k.properties.hill)&&(V.properties.hill=!0),u.get(s).push(V),u.get(C).push(V),i.push(V)}}s++}for(s=0;s<r.length;){let _=r[s],P=n[s],C=_[0],I=_[1],k=u.get(s);k.sort((F,V)=>this._comparePointsByDistanceFromReference(C,F,V)),k?(k.forEach(F=>{if(this._setNeighbourhoodBasedOnCorridorDirectionality(P,C,I,F),P.properties.bidirectional!=!1)F.properties.neighbours=F.properties.neighbours.concat(k.filter(V=>V!==F));else if(P.properties.swapDirection!=!0){let V=k.slice(k.indexOf(F));F.properties.neighbours.push(...V)}else{let V=k.slice(0,k.indexOf(F));F.properties.neighbours.push(...V)}}),n[s].properties.intersectionPointList=k):n[s].properties.intersectionPointList=[],s++}let m=[];for(s=0;s<r.length;){let _=r[s],P=n[s],C=[],I=this.floorData.get(_[0].properties.level).walls;if(this.floorData.get(_[0].properties.level).wallFeatures.forEach((F,V)=>{let Y=Tn.lineIntersect(P,F).features;if(Y.length>0){let q=Y[0];q.properties.level=_[0].properties.level,q.properties.neighbours=[],q.properties.bordersArea=!0,q.properties.walkableAreaId=I[0][0].properties.walkableAreaId,P.properties.narrowPath&&(q.properties.narrowPath=!0),P.properties.ramp&&(q.properties.ramp=!0),P.properties.hill&&(q.properties.hill=!0);let M=this._distance(_[0],q);C.push({point:q,distance:M,wallIndex:V})}}),C.length>0){C.sort((Y,q)=>Y.distance-q.distance);let F=_[0];C.forEach((Y,q)=>{F.properties.neighbours.push(Y.point),I[Y.wallIndex][0].properties.neighbours.push(Y.point),I[Y.wallIndex][1].properties.neighbours.push(Y.point),Y.point.properties.neighbours.push(F,I[Y.wallIndex][0],I[Y.wallIndex][1]),Y.point.properties.neighbours.push(...n[s].properties.intersectionPointList),n[s].properties.intersectionPointList.forEach(M=>M.properties.neighbours.push(Y.point)),F=Y.point,n[s].properties.intersectionPointList.push(Y.point)});let V=Tn.lineString([F.geometry.coordinates,_[1].geometry.coordinates]);V.properties.level=F.properties.level,_[1].properties.neighbours.push(F),F.properties.neighbours.push(_[1]),m.push(...C.map(Y=>Y.point))}s++}m.forEach(_=>{this.floorData.get(_.properties.level).points.push(_)}),m.forEach(_=>{let P=this._findNeighbours(_,null,null,this.floorData.get(_.properties.level).points);_.properties.neighbours.push(...P)}),this.corridorLinePointPairs=r,this.corridorLineFeatures=n,this.corridorLinePoints=[],this.corridorLinePointPairs.forEach(_=>{_[0].properties.isCorridorPoint=!0,_[1].properties.isCorridorPoint=!0,this.corridorLinePoints.includes(_[0])||this.corridorLinePoints.push(_[0]),this.corridorLinePoints.includes(_[1])||this.corridorLinePoints.push(_[1])}),this.corridorLinePoints=this.corridorLinePoints.concat(i);let v=new Map;this.levelChangerList.forEach(_=>{if(_.properties.group!==void 0){let P=_.properties.group;v.has(P)||v.set(P,[]),v.get(P).push(_)}else v.set(_.id,[_]);_.properties.fixedPointMap=new Map,_.properties.levels.forEach(P=>{let C=this._copyPoint(_);C.properties.level=P;let I=this._getFixPointInArea(C);I.id=_.id,I.properties.amenity=_.properties.amenity,I.properties.direction=_.properties.direction,I.properties.id=_.properties.id,I.properties.level=P,I.properties.type=_.properties.type,I.properties.neighbours===void 0&&(I.properties.neighbours=[]),!(this._distance(C,I)>5)&&(_.properties.fixedPointMap.set(P,I),I.properties.onCorridor&&I.properties.neighboursLeadingTo!==void 0&&(I.properties.neighboursLeadingTo.forEach(k=>{k.properties.neighbours===void 0&&(k.properties.neighbours=[]),k.properties.neighbours.push(I)}),this.corridorLineFeatures[I.properties.corridorIndex].properties.intersectionPointList.push(I)))})}),v.forEach((_,P)=>{let C=_.map(k=>k.properties.direction).find(k=>k!==void 0),I=[];_.forEach(k=>{I.push(...k.properties.fixedPointMap.values())}),I.forEach(k=>{k.properties.neighbours==null&&(k.properties.neighbours=[]),C===this.DIRECTION_UP?k.properties.neighbours.push(...I.filter(F=>F.properties.level>k.properties.level)):C===this.DIRECTION_DOWN?k.properties.neighbours.push(...I.filter(F=>F.properties.level<k.properties.level)):k.properties.neighbours.push(...I.filter(F=>F.properties.level!==k.properties.level))})})}_removeItemFromList(t,r){const n=t.indexOf(r);n>=0&&t.splice(n,1)}load(t,r){this.neighbourMap=t,this.rebuildData(),this.wallOffsets=r,this.wallOffsetLineList=[],this._getPointList().forEach((n,i)=>{let u=this.wallOffsets[i];if(!u)return;let s=Tn.lineString([n.geometry.coordinates,u.geometry.coordinates]);s.properties.level=n.properties.level,this.wallOffsetLineList.push(s)})}_isPointOnLevel(t,r){return t.properties.fixedPointMap!==void 0?t.properties.fixedPointMap.has(r):t.properties.level===r}_getPointList(){let t=[];return this.floorData.forEach((r,n)=>{t=t.concat(r.points)}),this.levelChangerList.forEach(r=>t.push(...r.properties.fixedPointMap.values())),t=t.concat(),t=t.concat(this.corridorLinePoints),t}preprocess(){return{neighbourhood:this._generateNeighbourhoodMap(),wallOffsets:this._generateWallOffsets()}}_generateNeighbourhoodMap(){let t=this._getPointList(),r={};return this.floorData.forEach((n,i)=>{let u={},s=n.points.concat(this.levelChangerList.filter(m=>this._isPointOnLevel(m,i)).map(m=>m.properties.fixedPointMap.get(i)));s.forEach(m=>{let v=t.indexOf(m),_=this._unwrapLevelChangerPoint(m,i),P=_===m?null:_,C=this._findNeighbours(_,P,null,s);u[v]=C.map(I=>t.indexOf(I))}),r[i]=u}),this.corridorLinePoints.forEach(n=>{let i=t.indexOf(n),u=n.properties.level,s,m=r[u];if(n.properties.bordersArea){let v=this.floorData.get(u).points.concat(this.levelChangerList.filter(_=>this._isPointOnLevel(_,u))).concat(this.corridorLinePoints.filter(_=>_.properties.bordersArea&&this._isPointOnLevel(_,u)));s=this._findNeighbours(n,n,null,v),s.forEach(_=>{let P=t.indexOf(_);m[P]===void 0&&(m[P]=[]),m[P].includes(i)||m[P].push(i)})}else s=n.properties.neighbours;m[i]===void 0?m[i]=s.map(v=>t.indexOf(v)):s.forEach(v=>m[i].push(t.indexOf(v)))}),this.neighbourMap=r,r}_generateWallOffsets(){this.wallOffsetLineList=[],this.wallOffsets={};let t=this._getPointList();return t.forEach(r=>{if(r.properties.level==null)return;let n=this.floorData.get(r.properties.level).walls.filter(q=>q.includes(r));if(n.length===0)return;let i=n[0][0]===r?n[0][1]:n[0][0],u=n[1][0]===r?n[1][1]:n[1][0],s=Tn.bearing(r,i),m=Tn.bearing(r,u),v=this._averageBearing(s,m),_=v>0?v-180:v+180,P=Tn.destination(r.geometry.coordinates,.01,v,{units:this.UNIT_TYPE}),C=Tn.destination(r.geometry.coordinates,.01,_,{units:this.UNIT_TYPE}),I=null;for(let q in this.floorData.get(r.properties.level).areas){let M=this.floorData.get(r.properties.level).areas[q];if(Tn.booleanContains(M,P)){I=P;break}else if(Tn.booleanContains(M,C)){I=C;break}}if(I==null)return;let k=Tn.destination(r.geometry.coordinates,this.wallOffsetDistance*2,I===P?v:_,{units:this.UNIT_TYPE}),F=Tn.lineString([r.geometry.coordinates,k.geometry.coordinates]);this.floorData.get(r.properties.level).walls.forEach((q,M)=>{if(n.includes(q))return;let j=this.floorData.get(r.properties.level).wallFeatures[M],G=Tn.lineIntersect(F,j);G.features.length>0&&(k=Tn.point(G.features[0].geometry.coordinates),F=Tn.lineString([r.geometry.coordinates,k.geometry.coordinates]))});let V=Tn.midpoint(r.geometry.coordinates,k.geometry.coordinates);V.properties.level=r.properties.level,this.wallOffsets[t.indexOf(r)]=V;let Y=Tn.lineString([r.geometry.coordinates,V.geometry.coordinates]);Y.properties.level=r.properties.level,this.wallOffsetLineList.push(Y)}),this.wallOffsets}reconstructPath(t){let r=[],n=t;do this._calculateWallOffsetPointList(t,r.length>0?r[r.length-1]:n).forEach(s=>{if(n===t||n.geometry.coordinates[0]!==s.geometry.coordinates[0]||n.geometry.coordinates[1]!==s.geometry.coordinates[1]){let m=this._copyPoint(s);m.properties.level=t.properties.level,m.properties.walkableAreaId=t.properties.walkableAreaId,m.properties.bordersArea=t.properties.bordersArea,r.push(m),n=s}}),t=t.properties.cameFrom;while(t!=null);r.reverse();let i=[];for(let u=0;u<r.length-1;u++){let s=r[u],m=r[u+1];if(s.properties.level!==m.properties.level)continue;this._distance(s,m)<.5&&i.push(s)}r=r.filter(u=>!i.includes(u)),i=[];for(let u=1;u<r.length-1;u++){let s=r[u-1],m=r[u],v=r[u+1];if(s.properties.level!==m.properties.level||s.properties.level!==v.properties.level)continue;let _=this.bearing(s.geometry.coordinates,m.geometry.coordinates),P=this.bearing(m.geometry.coordinates,v.geometry.coordinates),C=Math.abs(_-P);C>Math.PI&&(C-=Math.PI),C<.03488888&&i.push(m)}return r=r.filter(u=>!i.includes(u)),r}_calculateWallOffsetPointList(t,r){let n=this._getPointList(),i=n.indexOf(t),u=n.indexOf(r),s=[],m=t;i>=0&&this.wallOffsets[i]&&(m=this.wallOffsets[i]),s.push(m);let v;do{let _=Tn.lineString([r.geometry.coordinates,m.geometry.coordinates]);v=[],this.wallOffsetLineList.forEach((P,C)=>{if(P.properties.level!==t.properties.level||C===u||C===i)return;let I=Tn.lineIntersect(_,P);if(I.features.length>0){let k=this.wallOffsets[C];k.properties.distance=this._distance(I.features[0],m),k.properties.offsetIndex=C,v.push(k)}}),v.length>0&&(v.sort((P,C)=>P.properties.distance-C.properties.distance),m=v[0],i=m.properties.offsetIndex,s.push(m))}while(v.length>0);return s.reverse()}_getIntersectingOffsetPoints(t,r){if(t===r||t.properties.level!==r.properties.level)return[];let n=Tn.lineString([t.geometry.coordinates,r.geometry.coordinates]),i=[];return this.wallOffsetLineList.forEach((u,s)=>{if(u.properties.level===t.properties.level&&Tn.lineIntersect(n,u).features.length>0){let m=this.wallOffsets[s];m.properties.distance=Tn.pointToLineDistance(t.geometry.coordinates,u,{units:this.UNIT_TYPE}),i.push(m)}}),i.sort((u,s)=>s.properties.distance-s.properties.distance),i}clearData(){this.floorData.forEach((t,r)=>{for(let n in t.points){let i=t.points[n];delete i.properties.cameFrom,delete i.properties.gscore,delete i.properties.fscore}}),this.levelChangerList.forEach(t=>{t.properties.fixedPointMap.forEach((r,n)=>{delete r.properties.cameFrom,delete r.properties.gscore,delete r.properties.fscore})}),this.corridorLinePoints.forEach(t=>{delete t.properties.cameFrom,delete t.properties.gscore,delete t.properties.fscore})}runAStar(t,r){const n=this.calculatePath(t,r),i=this.calculatePath(r,t);return i===void 0||n.length>=i.length?n:i}calculatePath(t,r){this.clearData(),this.nbLines=[],this.bearingCache=new Map;let n=this._getFixPointInArea(t),i=this._getFixEndPoint(r,t.properties.level),u=[n],s=[];for(n.properties.gscore=0,n.properties.fscore=this._heuristic(n,i);u.length>0;){let m=this._getMinFScore(u,s);if(m===null)break;if(m===i){let _=this.reconstructPath(m);return i!==r&&(!i.properties.onCorridor||this._distance(i,r)>this.pathFixDistance)&&(r.properties.fixed=!0,_.push(r)),n!==t&&(!n.properties.onCorridor||this._distance(n,t)>this.pathFixDistance)&&(t.properties.fixed=!0,_.unshift(t)),_[_.length-1].properties.gscore=m.properties.gscore,_}s.push(u.splice(u.indexOf(m),1));let v=this._getNeighbours(m,n,i);v.forEach(_=>this.nbLines.push(Tn.lineString([m.geometry.coordinates,_.geometry.coordinates]))),v.forEach(_=>{if(s.indexOf(_)<=-1){let P=m.properties.gscore+this._distance(m,_),C=_.properties.gscore!=null?_.properties.gscore:1/0;P<C&&(_.properties.cameFrom=m,_.properties.gscore=P+.2,_.properties.fscore=P+this._heuristic(_,i),u.indexOf(_)<0&&u.push(_))}})}}_checkIfCrossingTwoPolygon(t,r){const n=t.properties||{},i=r.properties||{};return i.walkableAreaId!==void 0&&n.walkableAreaId!==void 0&&(i.walkableAreaId!==n.walkableAreaId||i.bordersArea===void 0)?!0:n.walkableAreaId!==void 0&&i.walkableAreaId===void 0?i.isCorridorPoint!==!0:!1}_getNeighbours(t,r,n){let i=[];if(t===r){let u=this._getPointList().filter(s=>this._isPointOnLevel(s,t.properties.level));i=this._findNeighbours(t,r,n,u),i=i.filter(s=>{let m=t.properties.level,v=this.configuration.avoidRevolvingDoors&&this._testAccessibilityPoiNeighbourhood(t,s,m,this.POI_TYPE.REVOLVING_DOOR),_=this.configuration.avoidTicketGates&&this._testAccessibilityPoiNeighbourhood(t,s,m,this.POI_TYPE.TICKET_GATE);const P=this._checkIfCrossingTwoPolygon(t,s);return!v&&!_&&!P})}else{let u=this._getPointList(),s=u.indexOf(t);if(s>=0&&this.floorData.forEach((m,v)=>{let _=this.neighbourMap[v];_.hasOwnProperty(s)&&_[s].forEach(P=>{const C=u[P],I=this.configuration.avoidRevolvingDoors&&this._testAccessibilityPoiNeighbourhood(t,C,v,this.POI_TYPE.REVOLVING_DOOR),k=this.configuration.avoidTicketGates&&this._testAccessibilityPoiNeighbourhood(t,C,v,this.POI_TYPE.TICKET_GATE),F=this._checkIfCrossingTwoPolygon(t,C);!i.includes(C)&&!I&&!k&&!F&&i.push(C)})}),t.properties.level!==void 0&&t.properties.level===n.properties.level||t.properties.fixedPointMap!=null&&t.properties.fixedPointMap.has(n.properties.level)){const m=this.configuration.avoidRevolvingDoors&&this._testAccessibilityPoiNeighbourhood(t,n,n.properties.level,this.POI_TYPE.REVOLVING_DOOR),v=this.configuration.avoidTicketGates&&this._testAccessibilityPoiNeighbourhood(t,n,n.properties.level,this.POI_TYPE.TICKET_GATE),_=this._checkIfCrossingTwoPolygon(t,n);if(!m&&!v&&!_)if(n.properties.onCorridor)n.properties.neighbours.includes(t)?this.corridorLineFeatures[n.properties.corridorIndex].properties.bidirectional!=!1&&i.push(n):n.properties.neighboursLeadingTo!==void 0&&n.properties.neighboursLeadingTo.includes(t)&&i.push(n);else{let P=this._unwrapLevelChangerPoint(t,n.properties.level),C=1;(P.properties.isCorridorPoint||P.properties.onCorridor)&&C--,this._countIntersections(P,n,C)&&i.push(n)}}}return i.filter(u=>this.configuration.avoidElevators&&u.properties.type===this.POI_TYPE.ELEVATOR||this.configuration.avoidEscalators&&u.properties.type===this.POI_TYPE.ESCALATOR||this.configuration.avoidStaircases&&u.properties.type===this.POI_TYPE.STAIRCASE||this.configuration.avoidNarrowPaths&&u.properties.narrowPath||this.configuration.avoidRamps&&u.properties.ramp?!1:!(this.configuration.avoidHills&&u.properties.hill))}_testAccessibilityPoiNeighbourhood(t,r,n,i){let u=!1;if(i===this.POI_TYPE.REVOLVING_DOOR&&this.configuration.avoidRevolvingDoors){const s=Tn.lineString([t.geometry.coordinates,r.geometry.coordinates]);this.accessibilityPoi.filter(v=>v.properties.level===n&&v.properties.type===i).forEach(v=>{Tn.pointToLineDistance(v.geometry.coordinates,s,{units:this.UNIT_TYPE})<=v.properties.radius&&(u=!0)})}return u}_findNeighbours(t,r,n,i){let u=[];if(t.properties.neighbours!=null&&(u=[...t.properties.neighbours]),t===r&&t.properties.onCorridor||t.properties.isCorridorPoint&&!t.properties.bordersArea)return n&&n.properties.onCorridor&&r.properties.corridorIndex===n.properties.corridorIndex&&u.push(n),u;let s=0;n&&this._isPointOnLevel(n,t.properties.level)&&i.push(n);let m=this._unwrapLevelChangerPoint(t,t.properties.level);for(let v in i){let _=i[v];if(t===_||u.indexOf(_)>=0)continue;let P=this._unwrapLevelChangerPoint(_,t.properties.level);if(s=2,t===r&&s--,_===r&&s--,t!==m&&s--,_!==P&&s--,(_.properties.isCorridorPoint||_.properties.onCorridor)&&s--,this._countIntersections(t,P,s)){let I=Tn.midpoint(t.geometry.coordinates,_.geometry.coordinates);for(let k in this.floorData.get(t.properties.level).areas){let F=this.floorData.get(t.properties.level).areas[k];if(Tn.booleanContains(F,I)){u.push(_);break}}}}return u}_comparePointLevels(t,r){if(t.properties.levels==null&&r.properties.levels==null)return t.properties.level===r.properties.level;let n=t.properties.fixedPointMap!==void 0?[...t.properties.fixedPointMap.keys()]:[t.properties.level],i=r.properties.fixedPointMap!==void 0?[...r.properties.fixedPointMap.keys()]:[r.properties.level];return n.filter(u=>i.includes(u)).length>0}_unwrapLevelChangerPoint(t,r){let n=t.properties.fixedPointMap;if(n){let i=n.get(r);return i||t}else return t}_countIntersections(t,r,n){let i=t.geometry.coordinates,u=r.geometry.coordinates,s=this.bearing(i,u),m=0,v=[],_=this.floorData.get(t.properties.level).walls,P=this.floorData.get(t.properties.level).wallFeatures;for(let C in _){let I=_[C],k=!1,F=!1;if(t==I[0]||t==I[1])k=!0,F=!0;else{let V=this.bearing(i,I[0].geometry.coordinates),Y=this.bearing(i,I[1].geometry.coordinates);if(V>Y){let M=V;V=Y,Y=M}Y-V<Math.PI?V<=s&&s<=Y&&(k=!0):(V>=s||s>=Y)&&(k=!0)}if(k){if(F)this._testIdenticalPointInList(t,v)||(v.push(t),m++);else{let V=Tn.lineIntersect(Tn.lineString([i,u]),P[C]).features;V.length>0&&(this._testIdenticalPointInList(V[0],v)||(v.push(V[0]),m++))}if(m>n)return!1}}return!0}_averageBearing(t,r){if(t>r){let i=t;t=r,r=i}r-t>180&&(r-=360);let n=(r+t)/2;return n<=-180?360+n:n}toRadians(t){return t*Math.PI/180}bearing(t,r){let n=this.bearingCache.get(t);if(n){let I=n.get(r);if(I!=null)return I}let i=this.toRadians(t[0]),u=this.toRadians(t[1]),s=this.toRadians(r[0]),m=this.toRadians(r[1]),v=Math.cos(m),_=Math.sin(s-i)*v,P=Math.cos(u)*Math.sin(m)-Math.sin(u)*v*Math.cos(s-i),C=Math.atan2(_,P);return this._storeBearingCache(t,r,C),C}_storeBearingCache(t,r,n){let i=this.bearingCache.get(t);i||(i=new Map,this.bearingCache.set(t,i)),i.set(r,n),i=this.bearingCache.get(r),i||(i=new Map,this.bearingCache.set(r,i)),n<=0?n+=Math.PI:n-=Math.PI,i.set(t,n)}_testIdenticalPointInList(t,r){return r.find(n=>n.geometry.coordinates[0]===t.geometry.coordinates[0]&&n.geometry.coordinates[1]===t.geometry.coordinates[1])!==void 0}_getMinFScore(t,r){let n=null,i=1/0;return(r.slice(-1).properties||{}).walkableAreaId,(r.slice(-2).properties||{}).walkableAreaId,t.forEach(u=>{const s=u.properties;s.fscore<i&&(n=u,i=s.fscore)}),n}_heuristic(t,r){if(this._comparePointLevels(t,r)){let n=0;return(t.properties.levels!==void 0||r.properties.levels!==void 0)&&(n=20),this._distance(t,r)+n}else{let n=this.levelChangerList.filter(u=>u!==t&&u!==r&&this._comparePointLevels(u,t)&&this._comparePointLevels(u,r)),i=1/0;return n.forEach(u=>{let s=this._distance(t,u)+this._distance(u,r)+10;s<i&&(i=s)}),i<1/0?i:2e3}}_distance(t,r){let n=0;return r.properties.level!==t.properties.level&&(n=10),Tn.distance(t,r,{units:this.UNIT_TYPE})+n}_getFixEndPoint(t,r){let n=this.levelChangerList.find(i=>i.id===t.id);if(n!==void 0&&n.properties.fixedPointMap!==void 0){let i;n.properties.fixedPointMap.forEach((u,s)=>{(i===void 0||Math.abs(i-r)>Math.abs(s-r))&&(i=s)}),t=this._copyPoint(t),t.properties.level=i}return this._getFixPointInArea(t)}_getFixPointInArea(t){let r=this.floorData.get(t.properties.level),n;if(r.areas.forEach(_=>{if(Tn.booleanContains(_,t)){n=t;return}}),n!==void 0)return n;let i=null,u=1/0;r.wallFeatures.forEach(_=>{let P=Tn.pointToLineDistance(t.geometry.coordinates,_,{units:this.UNIT_TYPE});P<=u&&(i=_,u=P)});let s=this.corridorLineFeatures.filter(_=>_.properties.level===t.properties.level),m=null,v=1/0;if(s.forEach(_=>{let P=this.corridorLineFeatures.indexOf(_),C=Tn.pointToLineDistance(t.geometry.coordinates,_,{units:this.UNIT_TYPE});C<v&&(m=P,v=C)}),i===null&&m===null)return t;{let _;if(m!==void 0&&v<u){let P=this.corridorLineFeatures[m];if(_=Tn.nearestPointOnLine(P,t),_.properties.onCorridor=!0,_.properties.corridorIndex=m,_.properties.neighbours||(_.properties.neighbours=[]),this.corridorLineFeatures[m].properties.bidirectional!=!1)_.properties.neighbours.push(this.corridorLinePointPairs[m][0],this.corridorLinePointPairs[m][1]),_.properties.neighbours.push(...P.properties.intersectionPointList),_.properties.neighboursLeadingTo=[this.corridorLinePointPairs[m][0],this.corridorLinePointPairs[m][1],...P.properties.intersectionPointList];else if(this.corridorLineFeatures[m].properties.swapDirection!=!0){_.properties.neighbours.push(this.corridorLinePointPairs[m][0]);let C=this._distance(_,this.corridorLinePointPairs[m][0]),I=P.properties.intersectionPointList.filter(F=>this._distance(F,this.corridorLinePointPairs[m][0])<C),k=P.properties.intersectionPointList.filter(F=>this._distance(F,this.corridorLinePointPairs[m][0])>=C);_.properties.neighbours.push(...k),_.properties.neighboursLeadingTo=I}else{_.properties.neighbours.push(this.corridorLinePointPairs[m][1]);let C=this._distance(_,this.corridorLinePointPairs[m][0]),I=P.properties.intersectionPointList.filter(F=>this._distance(F,this.corridorLinePointPairs[m][0])<=C),k=P.properties.intersectionPointList.filter(F=>this._distance(F,this.corridorLinePointPairs[m][0])>C);_.properties.neighbours.push(...I),_.properties.neighboursLeadingTo=k}}else if(i!==null){let P=Tn.nearestPointOnLine(i,t),C=Tn.bearing(t,P);_=Tn.destination(t.geometry.coordinates,u+.05,C,{units:this.UNIT_TYPE})}return _.properties.level=t.properties.level,_}}_copyPoint(t){let r=Tn.point([t.geometry.coordinates[0],t.geometry.coordinates[1]]);return t.id!==void 0&&(r.id=t.id),t.properties.id!==void 0&&(r.properties.id=t.properties.id),t.properties.amenity!==void 0&&(r.properties.amenity=t.properties.amenity),t.properties.type!==void 0&&(r.properties.type=t.properties.type),r}_setNeighbourhoodBasedOnCorridorDirectionality(t,r,n,i){i.properties.neighbours===void 0&&(i.properties.neighbours=[]),t.properties.bidirectional!=!1?(i.properties.neighbours.push(r,n),r.properties.neighbours.push(i),n.properties.neighbours.push(i)):t.properties.swapDirection===!1?(r.properties.neighbours.push(i),i.properties.neighbours.push(n)):(n.properties.neighbours.push(i),i.properties.neighbours.push(r))}_comparePointsByDistanceFromReference(t,r,n){let i=Tn.distance(t,r),u=Tn.distance(t,n);return i>u?1:u>i?-1:0}}var Lme=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Wayfinding:s8,default:s8}),Nme=R0(Lme);Object.defineProperty(xR,"__esModule",{value:!0});var Mme=Nme,mI=Jp,u8=Cr,Rme=function(){function e(){this.data=new mI.FeatureCollection({})}return e.prototype.setData=function(t){this.data=t,this.wayfinding=new Mme.Wayfinding(this.data),this.wayfinding.preprocess()},e.prototype.toggleOnlyAccessible=function(t){t?this.wayfinding.setConfiguration({avoidStaircases:!0,avoidBarriers:!0,avoidNarrowPaths:!0,avoidRevolvingDoors:!0,avoidTicketGates:!0}):this.wayfinding.setConfiguration({avoidElevators:!1,avoidEscalators:!1,avoidStaircases:!1,avoidRamps:!1,avoidNarrowPaths:!1,avoidRevolvingDoors:!1,avoidTicketGates:!1,avoidBarriers:!1,avoidHills:!1})},e.prototype.route=function(t,r){var n=this.wayfinding.runAStar(t,r);if(!n)return null;n=n.map(function(M){return new mI.default(M)});var i={},u=0;n.forEach(function(M,j){typeof i["path-part-"+u]=="undefined"&&(i["path-part-"+u]=[]),i["path-part-"+u].push(M),M.isLevelChanger&&n[j+1].isLevelChanger&&u++});for(var s={},m=0,v=Object.entries(i);m<v.length;m++){var _=v[m],P=_[0],C=_[1];C.length>1?s[P]=new mI.default(u8.lineString(C.map(function(M){return M.geometry.coordinates}))):s[P]=new mI.default(u8.point(C.map(function(M){return M.geometry.coordinates}))),s[P].id=P,s[P].properties={level:C[C.length-1].properties.level,amenity:"chevron_right"}}for(var I={},k=0,F=Object.entries(s);k<F.length;k++){var V=F[k],P=V[0],Y=V[1];typeof I[Y.properties.level]=="undefined"?I[Y.properties.level]={level:Y.properties.level,paths:[Y]}:I[Y.properties.level].paths.push(Y)}var q={};return n.forEach(function(M){typeof q[M.properties.level]=="undefined"&&(q[M.properties.level]=[]),q[M.properties.level].push(M)}),{paths:s,points:n,levelPaths:I,levelPoints:q}},e}();xR.default=Rme;var Dme=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zme=Ne&&Ne.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(s){s(u)})}return new(r||(r=Promise))(function(u,s){function m(P){try{_(n.next(P))}catch(C){s(C)}}function v(P){try{_(n.throw(P))}catch(C){s(C)}}function _(P){P.done?u(P.value):i(P.value).then(m,v)}_((n=n.apply(e,t||[])).next())})},Fme=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(bR,"__esModule",{value:!0});var jme=vx,kN=Jp,Bme=xR,$me=function(e){Dme(t,e);function t(){var r=e.call(this,"route")||this;return r.isEditable=!1,r.changes=[],r.routing=new Bme.default,r}return t.prototype.toggleAccessible=function(r){this.routing.toggleOnlyAccessible(r)},t.prototype.update=function(r,n){return zme(this,void 0,void 0,function(){var i,u,s,m,v,_,P;return Fme(this,function(C){if(this.start=r,this.finish=n,this.data=new kN.FeatureCollection({features:[this.start,this.finish].concat(this.lines||[]).filter(function(I){return I})}),this.notify("feature-updated"),r&&n){if(this.notify("loading-start"),i=this.routing.route(r,n),u=i==null?void 0:i.paths,this.route=i==null?void 0:i.paths,this.points=i==null?void 0:i.points,this.levelPaths=i==null?void 0:i.levelPaths,this.levelPoints=i==null?void 0:i.levelPoints,u){for(s=[],m=0,v=Object.entries(u);m<v.length;m++)_=v[m],P=_[1],s.push(P);this.lines=s}else this.lines=[],this.notify("route-undefined");this.data=new kN.FeatureCollection({features:[this.start,this.finish].concat(this.lines||[]).filter(function(I){return I})}),this.notify("loading-finished"),this.notify("feature-updated")}return[2]})})},t.prototype.cancel=function(){this.start=void 0,this.finish=void 0,this.lines=void 0,this.route=void 0,this.points=void 0,this.levelPaths=void 0,this.levelPoints=void 0,this.data=new kN.FeatureCollection({features:[this.start,this.finish].concat(this.lines||[]).filter(function(r){return r})}),this.notify("feature-updated")},t}(jme.default);bR.default=$me;var Mz={},Ume=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Mz,"__esModule",{value:!0});var qme=vx,Vme=Jp,Gme=function(e){Ume(t,e);function t(){var r=e.call(this,"clusters")||this;return r.cluster=!0,r.data=new Vme.FeatureCollection({}),r}return t}(qme.default);Mz.default=Gme;var Rz={},Wme=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xme=Ne&&Ne.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(s){s(u)})}return new(r||(r=Promise))(function(u,s){function m(P){try{_(n.next(P))}catch(C){s(C)}}function v(P){try{_(n.throw(P))}catch(C){s(C)}}function _(P){P.done?u(P.value):i(P.value).then(m,v)}_((n=n.apply(e,t||[])).next())})},Yme=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(Rz,"__esModule",{value:!0});var Hme=EE,Zme=yx,Kme=function(e){Wme(t,e);function t(){var r=e.call(this)||this;return r.sources=[],r.layers=[],r.floors={data:[],total:0},r.belowLayer="proximiio-floors",r.enabled=!0,r}return t.prototype.initialize=function(){return Xme(this,void 0,void 0,function(){var r;return Yme(this,function(n){switch(n.label){case 0:return r=this,[4,Zme.getFloors()];case 1:return r.floors=n.sent(),[2]}})})},t.prototype.setLevel=function(r,n){var i=this;if(this.layers.forEach(function(s){try{r.getLayer(s)&&r.removeLayer(s)}catch{console.log("unable to remove layer",s)}}),this.sources.forEach(function(s){try{r.getSource(s)&&r.removeSource(s)}catch{console.log("unable to remove source",s)}}),this.enabled){var u=this.floors.data.filter(function(s){return s.hasFloorplan&&s.level===n});u.forEach(function(s){var m={type:"image",url:s.floorplanImageUrl,coordinates:s.anchors},v="image-source-"+s.id;r.addSource(v,m),i.sources.push(v);var _={id:"image-layer-"+s.id,type:"raster",source:v,layout:{visibility:"visible"}};r.addLayer(_,i.belowLayer),i.layers.push(_.id)})}},t}(Hme.Eventable);Rz.default=Kme;var FX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pulsingDot=e.floorchangeUpImage=e.floorchangeDownImage=e.person=e.chevron=e.defaultIcon=e.marker=e.routeB=e.routeA=e.door=e.ticketGate=e.staircase=e.poi=e.landmark=e.decision=e.hazard=e.entrance=e.escalator=e.elevator=void 0,e.elevator="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFfgAABX4BPgLDIQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA+pSURBVHic7Z17fFTlmce/z5kzyWQyl1yogqJQEESoYne9QAhoRC2tq36Uql01Vru6ih9dFfGylUrBov1YqLrqqrS1FuxWi7eq9W6jkASs3YqyyFWRikiEkJnJ5Doz590/kmAucznnzCUJ5PvfnHPe53ny/vKe857nvRxhgNNQVVSkOY0JorSJhqgJgkwENVxBvoAb8ADOzssjQFhBs0AbIl8qpTZqSjYpjA2xAsemkhMagv3316RG+juA3tSvLRmpR6IVSuQUgVOBsRl2sU3BOyLqXac4q9xl9V9k2H5aDAhBwrXFx0YNo1LgPOConDoXtgo8J8qxwlu+b0NOfccNp59oWuUeEZO8ixFVqWByf8XRi3Ugyx2RyB88FU27+yOAnAsSqvVOQGmLlGI2oOXav0kiiDwlKrbYV964OZeOcyZIYJX/n8QhC1HqewxcIXpjIPKKIdxZXBb4IBcOsy5I/doSnx6LLkLJdYAj2/6yRFQJD7S35/30kIo94Ww6ypogSiHBav9VItwDlGTLT46pQ8mtvvLAChFUNhxkRZD6tSUj9WjsV8CsbNgfALyi47yqsHzvrkwbzrgggWr/RQLLAF+mbQ8wQkpxZdH04MpMGs2YIKp2ZEFIhR9DqcpM2RwMiLDMGwz+h3yPtozYy4SR8NrCQ2NR/XlgaibsDT6kRjOi53lnhPekbSldA6Fa7wRlaK8Bo9K1Ncj5TDBmpfvektb7QGiVd5oytBqGxAAYrdBqQ7XesnSM2G4hDauLTtVEvQh40wngACSkiZztnRZYZaewLUFC1cXlBsYbAgV2yifCMOCmJS28Wh1hbqWLay7IS8verj0GF97azPqtMVvljxvv4I/3uhkxzPKNpFk04wxfWWOt1YKWPTWsLpqsMF7OtBgAi5a18sSL7dTtU9z+Xy38qSqSlr2//l/MthgAH22J8df1tsq7laG92LjGc4zVgpYEaVhTNFoT4xXAb9VRKp56PcJ9T37dc1QKrl7cwodb7FfozJN0xoy0/5gcO1Jj5sm63eKlsZjjzYaaIkvPV9PRqipcWkw9B3KY9diSs/rvUa67p7nP8ZZWxQXzmvjiK8OWXW+h8MJ9hQwrsn5nHlYkPH9fIR63/Y6owOGaUivVBkzfe00LEnT6HwS+bSuyJHy606ByfjORaPzzdfsUF93WTHOrvdTRqBEaKxa7yXOmvraLPCesWOxm1IiMJKVPDDX47zd7sSmPwRrfpQJX2o8pgd2w4qLbmmgIJa/s9Vtj/PuiFgx7DYWyyTr3zTP/yLtvXgFlk23fquIxJ1jtu9jMhSkF6RhQkkfSj6kn0RhcsaCZLTvM1fJLqyIs/k2rbX+XnpVnqtc254J8Lj0rvd5dfOSxULX36FRXJRVEKQRDe4SOmR0Z5c7/buXt9xLcpxKwdHkbT79uv+d19/UFzCpL/J8/q0xn8fUu2/ZT4FFoD6W6KKkgjbVFP1QdMz8yylOvR3j4aeu5OKXghl/Y73k5NHh0vjtuz2vsSI1H57txZHcs8/Rgje/SZBck7EKE3vOWqoi2GSjNdFTjzwlRt8/++M6sMp2n7y20XX7LDoPTrw4TDHfE4PcIbz3mYfyonIws1xkRmVBcEQjEO5kwAhXR7iILYgBMHJveSG665ceP0nhikZsCl+B2Cb+7y50rMQAO1ZwsSnQybgsJvusbh0M+BjLa1ejCMGBnnYFho5Hk52EnlRGXUGcL8XlyPvkmohQTiqYHP+19In6F69pPUCorYgBoGhyZmT5+WvSDEF04gfnAj3qf6BNRZ+vYyOCdITJYiKgYRxedEtze/WCfViCa3KIsiLFrj8HCR1upej/K3oAiZvPlbbDi0OAbxULFiU4WXJNv5XbqFAe3AnO6H+zRQjqHYncA+WYs7tpjcPrV9nNNBxojD9V4e5mH4aWmb4WtmhE7svvQbw85jaheiUkxABb/um1IjG7srDO421o2wWVoeo/3kh6CKNTlVqy9VpPeeMWByKvVVuuk5yyd/YI01BQdDzLJiqm9gaxM3hvUfGX9hffb4driY7t+7H+oa4ZRiWS/G1jgEqYe58BXKOzea/D+hlhaHYEjR2hMHt/RB1m3Ocbnu+0bc2hw0rd0Di0VQk2KNR/FaLGZ9reCoYxLgNuhey9L5NxsOy4/XufxRW4OLfla+PVbY1zy42Z2fGmtIjUN7rrWxbUX5qN1tvOYAQ8/3caCR1otp+pHH6bxP/e4mdQtC7C7XvGjBc3UrLOWBLWKUpxLpyACnUOzMbU9aak4+MvNL9cbM1Kj+rceCgv6tsJtnxuUXdZIm4Xb721X5PPjf4ufmV20rJWly80nLwvyhTXLPXzz8L5d1nCzouyHYUv/MMFq6yPcUd1xROmUfTs1AEeU0yxbsMg138+PKwbAUUdonHea+SG9fCdc/4PEncEbLs63NEJ4/kxnXDEAPG5hzoXZGB/piR4xToPOh7oSKrLtcPLRyd81U53vzpiRDryFiZ93fo8krOB4HDcuRWzjc5C0EKMC9vey1CnZ9tfUnPzhGO47xyEhjSlsdVxj3l5TS+Zis4+cCqA11ngOAY7ItrtXU7yzpDrfnZ11Bhs+STxI9eGWGLssvLBmMrY0GB16z1uqKeUcnwtvy19qZ81H8Xsry55t5+8brY0C3rSkJW6XtKVVMXdJiyVb72+I8fgL7XHP1ayL8uSf45/LOFHGa2CkHHjPBG0ROG9uM/c+0cb2LwxiRsfMwBvubeHW+61VIMB762OcMaeJP1VFaGpRhJsVL1RFmHl1E3/72PoQ79ylLdy0pIX1Wzvei7Z/YfDzx9uYfXMz7TlLSDiOlkC1/16BW+wUt9LtPZiw0+0FEPi5hjAuw/EMYZ9xuiiG59Kj7oBSv1DgEsLNivqgQqWRnXC7hNLOqaL1AWV7hiOASEdsHrfQ0toRW9T+1GLLKGS4Dsqbi/0DhpcKd1zl4pxTnBR5v/a3s87gD69FWLq8jZY285X5nTKdGy/JZ8qxeo/UyZqPotz/ZBtvrjWf7ihwCfMq8/nX7zo5/JCv318aQooX343ws1+12kkaWkZQXglW+z/D5goos8+Qf57o4NklhRT7Egu/cXuMc29oMjU9aOEcFzdeknzY5pcr2lj4WOqxieGlwosPeDh6dOIXyfqgYvbNTXywyVxzsfsMAbZrZHkF1IhhWkoxAI75poOVSwrRU7wUX3NBXkoxAOZW5nPV+clTHk4dnllSmFQM6LiNPbe0sEdSNEt4NbIwTbQ7C+e4UorRxeTxDi4/J3ElDisSFlxtfqrnT69J7vvK8/I5NkXapIsSv3CnBd828Wpk8QHi9wjnVljI8kFSQWaf7sTtMh+uxy3MnpnY/2VnW4tt9kxn0hxaJtCAxmwZn3a8jstiovTYcY6Et4bTTrJWgR1l4k8vGzFMY+IYa0nDApdQNjmricbGrAoycay9yXDHJKioSWOs25uUYNqp3disimiRRk1lUZBSv73m/Y3i+OXsLE07JEFrs2MLEseWCQQaNcmiIFbu9z3KJRjIKrBhL1EMrnx7sSUaZMsEChXSlFCXNQ82ycWM2wGx+2cvBKnTNMWm/g5kiA6UYpOGyJb+DmSILmSLhsRyuuvmEMkwNms4GBJkgGBEtc2a7+TGeuDz/g5mCD4rrggEuqYBvdnf0RzsiOrQQOv4of7Sv+EMYQhvQ6cguhH9C2RnH9ohTKEcEquCTkEKZzR/CZl/uJvdNqM7SsHWf8QvZ8fe5s/il9mWwIdde+mgYIN3Wvgr6L5gR8nTmXb0yMo27niolT0N5hrflh0Gl/0k8Wzz2fOaePatiKmZ7YYBz7wVYfa8prjnq9dFqZxvfq+VPQ2KOx5q5dFnMrIbbA9Eqf11vz+DEKjxjxXFVixkFcwO4Ra4hOrfejjqiMQZ1pdWRbhsfrOpyj5zqs7KXyTfyeGCW5p4Y03qcXVNg+U/c3P2jMSp/W2fG5RfETa9VsTiEK5hiIwpnhbYAd1aSNG04CcoWWPFkllaWjsmsiWjPqBMr+kwM+HA7KQEw+jwnYxws8rawh0F1V1iQO81hqJWZMXrEAnRYEWv391+OI2VQE7meg8BQJOheLb7gR6C+E5urFdCxjcrGyI+SvFw0fRgQ/djfZ6yent0iQLrs5+HsISCFt0Z/WXv430E8VQ07Rb4XW7COngR5DeeKU19Bgfj90M1tRTI7tLTg5uIiqk+rQMSCOIvC21TYHpr0yGsIbC09y5AXSR8U2uP5C0Uxc7shXXQ8lnYVXhXopMJBTmkYk/YgLnZiengRZTMPeyEXQlfLZLOFvOXB58ReCfjUR28vOWbHng+2QVJBRFBRXRHJbA33Ug++Tx5XiRRhjceu/YYSdeStLQqS9tGpYptW4rzJtntiERTfp/LVCIxWO37LsjL9BLQyhrDwgLh9Cl6XIetbYo31kYt7U8yaayDcUfG/3/assPg40/NL33SNPjOVCf5ceYhK+DNNVFLK7PiJBdjSjizaFow5UCg6cxuqNp/t4L/7H5saNFnfPoKIov85YEFZsqannHsdQUXgNR0P5bNea6Dld51omCVLxJI2KvqjWlB5AQiMZecJfBR17FzTrW+POBA58ypPepkXUx3nC0V5l+yLf+LN9eWHh4xorXAkYFGxfk3N/G/NhbqH4gUFgjvrfBwxHANYIeOs8zq51lt3XMaq0smGcRWA8XtEfj9K+38eXWEDzbFDtpt/0aN0Pj1AjcnfcsBsE8zYtO9M8IfW7Uz9Nm8zJP7z+Z10bjKM9HQHK+Rg92EBgn/0ByxWd6p4Y12DaS1Abt3RvhjHecUBevTsXMgIPChjnNqOmJAmoIAFJbv3aXr0TOArEyQGBxIjRixMzLxffWMfKLAM6WpzrcrOB0lC4GDqcsVU4rbfdMC0zPxpWjIwsquhuqiCg1+D2pEpm0PLNQuzdAu9s4IvJtJqxn/iEdxeaAqqmsnAa9l2vYA4hWdvBMzLQZkee1jaLX3X5RoDwKjs+knh2xWwrVmkoR2yepnbnzTG1+O6o7JiHqAwf1siSphaVsk74RsigE5XB0criocbuTpNyrFdYD9T6zlliBK7nc4I4/EmyGSDXKerg1VeYcp3XEdoq4HSnLt3yT7UPKg5MUe7FzylzP6LX++72/Ffq3FuEiEy4Gp/RVHT6RGUE9EdMcfS6fsC/VLBP3htDcd39vVLleK2cBROXUubBXFMyjjCd/0xn5fsz8gBOlO/dqSkXokWqFETpGOz76OzbCLbQreEVHvOsVZ5S6r/yLD9tNiwAnSm4aqoiLNaUwQpU00RE0QZCKo4Qg+lHg6NvHcvyteGKQRUWEUIUS+VEpt1JRsUhgbYgWOTSUnNAzocef/B67bg9Z9wGWWAAAAAElFTkSuQmCC",e.escalator="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFfgAABX4BPgLDIQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA3ZSURBVHic7Z15lBXVncc/v6p6vb9+vciikgQYwaZPXMhBZWmUdsKMBycyJpPjDIIhi+OMh6g5Z2KYxIxBQpRFhWA0alSQQBQScFBBo4GwdANncmYUDwpoRnFklV7e6/Vt9Zs/mu50N72896re0t1+/ntVdX/3V/V999ZdfveWkOHU7SwqMjx2mahRbouWCVIOOlIhWyAPKAA85y4PA40KzQJBRE6q6nuGymHFPhTNNQ+XTKrzp+9u+kfS7UB3avaXjLLCkUoVuU5gBvBXLmfxgcIfRXSXRzw786bWHHfZviMyQpDG6uLLIrY9T+Bm4JKUZi68L7BZ1Fznrag9lNK8e3QnTTTtzrswKllzEJ2ncEW6/OjGWyDPm+Hwbwoqm06lw4GUCxKo9pahxgOqfA0wUp1/jIQReUE0uqSwouFIKjNOmSD1u31fElMWoTqLzBWiOzYi22zhP4qn1v9PKjJMuiA1+0sKrWjkAVQWAGay80sSERVWhUJZPxle+WljMjNKmiCqiH+v73YRHgRKkpVPijmNyr2FFfXrRNBkZJAUQWr2l4yyItGngRuSYT8D2GbhuT2/4uwJtw27Lkj9Xt8tAk8BhW7bzjACqnynaLp/k5tGXRNEq0flBrTxSVTnuWVzICDCU16//y6ZRdAVe24YadyfPyIasbYAU9ywN/CQKsOO3Oy9tvFTx5acGghUe8vUNl4DvuDU1gDnI8G+wWm/xVF/ILDbO01to4rPxAAYrRjVgWrvVCdGEi4hdXuKZhiiWwGvEwcGIQFD5CveafW7E0mckCCBvcUVNvbvBXITST8EaBbDnlk4taE63oRxC1K3p+gKQ3QX4Is37RCjxjCj071TGt+LJ1FcgtTtKxptRO0qkIvi821oonBcRaYVT6s/FmuamF/qupMcI6qbPxMjdgQuNlQ36SGyYk0TsyB+j281MDEhz4Y2VwXqfCtjvTimKstfVTgXlXWJ+/QZoLf6KgIb+ruqX0HOdfz+i7ZggpQRjsD6bSE2bA9x8KhNMKyMGmEwq8Lirn/K5uLhA2VKpYNGwZ7UX8exT0FUkYYq3w5tCzZIGcfP2PzjwmYOHo32eD43W1i9MJevz/T0eD6DedNX4Z/Z1wV9/s0aqou+kWox6huU2fc09SoGQEtQ+efFzWzdFU6hZ67wZX9V4dy+Lui1hAQOeEs1bBwBSl13qw9+uLqVX7wY28Dp8BLh7Y1e8nIyIngmVk7bYSkrrqyv7+lkryVEw8ZiUixGS1BZszUU8/VnapXNfxhwpWSE4eGB3k72KIh/V+E44PakudQLh/5s09QS38zogXd6r9oyF/2X+j2+sT2dsXq83jJ+jGrP55JIrT/+aeqaBNK00xJUqt6K8tEJm1NnbcKRnq/z5gnDioXLx5tcPt7EdN7A8wD3Ad/qfuK8h+7fVTgO1TmOs0yAEl/874LSBNIcO2mz9Lkgm3eEaWmNT9ARJcI3bsri7jnZFOQl/u4SYW79Lt/iouv8H3Y+fp7WYsj3SVO4zmXjzLhvcuqV8bn66p4wV9/awPptobjFADhdqyxbE2TybY386V1H1aVHTO7tfrCLII3780eocJuTXJyQ7YFvzY552IeLhhnMnhF7X+TF18Pcdl8zrbG3G3rl/07Z3HR3E/sO9lLPxcb8ht0Fwzof6CKIHbHmAdlOcnDKD76ZTdno/itpw4BV9+bG3OR94fUw/7qkmYiLbYCmFmXej5o5edZO1ESObVhd+iVd7lzR+YladouCPGHzI/lcPr73qig3W3jqx3n8zZTY2h2/eS3EnUuaiSb83Hrn0zpl0S+dBJx0jdLp+HvVVRVdaaimJH41Ftway9qwPcSCB1uSIkY7hgGHXypkREliL3nTMC4vmFr3DnRqZRm2PQ/JnB6vx4L5N2Ux/6bY3yndWb8txIKHWrCTKAaAbcMb+8LMvTExX221bwUWQudmr8hsV7xzkZNnbbbsCHPwqE3UVsaOMrixwtNnddbOr18N8d2lyRejnY9PJZ6RKrPpLEjdvqLRRNXtpWMJY9uwfG2QR38dpCXYtWn60LNBvnyNxeM/yuu1ilj3aoi7UigGtA2KOqCsZn/JqNLJtZ8YAGaE691xyzmqsOChFn72TOt5YrTz5oEIM77TyKma888//0rqxQAYXuys+26F7evhXCtLhUoXfHKFDdtDrN/Wf0fhxBmbnz3T2uXY2pdD3L0s9WIAXPJ5h+MpYldCxztEr3PqkFuseD62JuRl40x+ckdOx++1W0PcsyI9YuRmC399tdOhP5kBYDRUFQwHPufYKxc4eszmfz/p/4leNs5k68r8jrGvtVtD3L08PWIA/H2lB2++4xbq6MABb6mh6hnvhlNuEEtLpbsYa86JoUlZz9Q/JT5h0Z05/V8YCxHGG2Bf6o4157SG+n6q3cV47j9D3JNGMbI98OR9vbf24se81LAhYwTpi+5iPLMlxPdWpE8MX4HwwtL8mIdvYkL1UgthXHKWL7pHdzF+tSXEvz2SHjGyPDB7hoefLshlZKnrIxvjLFFGum3VTbqL8fTmEN9/NLli5OUIV3/R5KJhBlnnRvcvvMCgbIzB9VdZFBYkZ4hJkZEWqDdDtjw5j+5iPPW7EPeuTJ4YpT7h37+dw9wbPeRmp/6ZCOq1QFIakRgr3cV48rchfrAqeWKUjzXZuCyPz41MX0SkgtciA1dATSo32fJIfkfVsGJtkMVPt/aTKnG+NMHkpUfz8SWpKooDr0WKY3b7o7sYy9cG+enQEAPAK/69vhB/2ZEtrbz3YZQRJUZHNfX4xiA/XN2a1Grq5Z/nc0FRRogBELSABjJkL5IJY/4yz7FsTZAlvxoyJaOdBoM2QTKKISoGQIOl0JBJbi19LnjesLqbZLAYCDRYkkEl5KFngzz47NAUA0DRgKHC6XQ7AskXY2JZZosBIMhpw1AOp9uRleuTK0b5WJNNyzNbDABVDluIHE3XkKm/UbnvsVaef8WF2M5eKB9rsnVVPsOKM1uMNuSohUSPoMkdLjhxxuZsvVIbaBM+0Kjs/u8Im94IO43W6JMJYwaSGAD2EQuTIyRh6vP9j20e3xhk+96Ik9jXhJkwpq3TN3DEADtiHBEA/17fx7g0rx4Mw5KnW3nshWBSwzf7YiCKAXzkq/CPaQ8DesMNi60hmLOwiVUbPhMjXkTbNDDafugOpwZV4dv3N/PmAUfrJRwxsczk9ScGnhgAtvAHOCeIZUd2gLOJ3Jd3h3llT/pWxE4YMzCatr2gpkR3wjlB8q9tPgk42itwxVpXNuVMiIHXmuqKwiHvtMYz0HnBjsqLiRr88LjN233svJBM2qup4a6F4qQeUe149h2CqKHrSLDaeueD9IhRNtpg47IBW021Y9uG0bHTUocgRdP8f0ZlXyIWT/cQhZ5sJpaZ/P6XBQO6ZAAo7O2841zXNYaiCe2JleqRl0FSMgAwYF23351+eOxNQHO8Rr9wYeoiNdreGQO/ZJyjyVZ+1/lAlydZeE1DjQpPxGt1YpmJlYKtBtpLRpF3UIiBKr8omu6v63zsvL+2FYqsUGiJx/DwEuF6x+sj+qZstMHLPx80JQOFFssTeaT78fMEKahsOiWwNt4M7r8jB0+SNLny0kFVTQEgyDMFk5vOmxzsufI39GEgrjGQL15icsc/uL8JRNlog03LB081dY6wRvW80gG9COKbGvhAIeatTdtZfGcO8xJcq90TE8vMQVVNtSPwcPddgNrptXkUCmctEuWTeDIyDFi9MJfl38t1tMTLNOCbs7PY/tjA7oH3wkeNOfmLezvZ593W7/F9XYSNieR6ulZ5aUeY7VVhjhyzOfmp3Wd/JT9XGH2RwczJFrf8rYfysQP1g259IypfLZxev6XX830lTtc2sYMYZ9vEiqBhy5wHnHXVraHJKTMc6ff7XP12sUsn134CehskY+Z9yBBV4dZYvq8b05iHryKwXWCpc7+GKrKkaJo/plnZmAehvDn++0GqEndqaKKwuzBc32urqjsxCyKTCEdz5EaBg4m5NiR5K2qZX5HK2DvZcTfym6tLLw7bkWrg8/GmHWIcs/BMjffzrHGPm+dNrTluYM4C6vq9eOhSa9jRWYl8KzehiQxvRe0hW+WrZNBShgwiYIjc7L228d1EEjsal2jYXVBuG+ZrZMhuQhnAx4YZvSHeL7N1xtFUn/faxnctPJMV3nFiZzAg8LaFZ4oTMcChIAD5FWdPWFZkJpBQgMTgQKrEjs504/vqrkyGF0xuOl14wj8dlUXAQPx+RKJEVVlYOK1+uhtfioYkbHJSt7eo0oD1oBe6bTuz0BOGbczxXlu/y02rroeLFFfU74xYxtXAa27bziC2WWRd5bYYkORtgAJ7vH+nYqwGRicznxRyRIU7Yx2XSoSkBlQVTm94JWKZVyC6ioH9bomo8HAwnDUpmWJACjfKatyZP9LOsu5RZQGQn6p8HeJHZaXpCT/RU4RIMkj5hHVgp/cCtcwFiH6XDNljpQdqUVktWdHVhdc01KQy47RFENT+qdhntNi3iDAfmJIuP7oiVYKuCVvmxtLJtYG0eJCOTLsTqPaWocZ8Vb4GXJLSzIX3Rfktaq8pnN5wNKV59+hOhlGzv2SUFY5Uqsh10hZc4fZXGz5Q+KOI7vKIZ2fe1JrjLtt3RMYJ0p26nUVFhscuEzXKbdEyQcpBRyIUolLQtolnx654jSANiDaiBBA5qarvGSqHFftQNNc8XDKpzp/O++mP/wfhZ//KTP56sQAAAABJRU5ErkJggg==",e.entrance="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAVfElEQVR4nO2da2yU15nH/+e9zNX3GXvswTYQTAAbbAdIG2ySEichJbtZ7a6UzWplqqYfVknVqlVX6YdUimijNl1ppSStyJckYLXeJi1VUEW47G5Ci8EYDMbhYsAXDDg2vt8Ye8bzXs7ZD6/fmXfGlxmPZ+wx4S8dzYwv7zxzfvOc51yfF3ioh3qoh3qoh3qoB0JkuQ2IQWSO57O91sXmeR3+u2VVsgMhCNpIong9n5jhkUXxelmUjECMFcwZCjE8zldmE4tQ6PSjGvZ6ycHEFQhjsdtPCDFWKgeAKykpEUtLSy25ubnm8vJyR3Fx8Vqn07nGYrHkW63WfEEQcjmOS+U4zkIIsXAcZwYASqmfMTZFKZ1SVXVCkqR+n8/3lcfjudfX19fV3Nx8p6GhYay/v99/8+ZNaWBgQIEGw1goDGBYFB9O+wiL07IDmQUED0D48MMPcysrK7+RlZVVbrVat5jN5kc4jkshhJgJIabpRzGKz8AYYzKlVGKMSZRSP6V00uv13h4bG7ve1dV17c9//vOl/fv3DwBQAMjTj0ZIUYFZ0UDCQPAA+I8//ti1c+fO5zIyMr4limIxx3FOnufTOY5Li6edulRV9ciyfF9RlJHx8fEbnZ2dpw8cOHCmpqZmEICEIByj58wJZkUCmQ3EyZMnH9m8efM/2u32XaIobhBFMT/etkUSY4xOTU31eL3ezr6+voZPP/30xJtvvnkLGhQJM71mBpgVBYQErdWDtNDU1FRWWFi4x263V5rN5q0cx2XG055YpSjK2NjYWMvAwMD5U6dOnfz+979/FRoUo9coCMYZMMbYigFi8AoOgHDhwoVNa9eufcFut1eZzeYKQoglnnbES5RS/+joaFNPT0/9F1988flPfvKTmwD8mB3MsnaXZxVjLKQgtGky7du3z9nV1fWvk5OTRyilMlshopTKfX19Xxw7duwH27dv3wwgH0A2gHQANgCm6c84X9d76cVmwuAACAAsly9f/ubIyMivFUW5u8z1G7O8Xm/31atX3//lL3/5dwAeAeAGkAUgBYBl+rPqY6XlF5sJQ9y3b19WZ2fnSz6fr265KzRe6u/vP/XJJ5/8+2OPPVYGoBCat6QBsAIQkSxQWBiMDz74wDU4OPgfiqJ0LnclxluTk5PdDQ0Nv3766ae/CWAtgFwAGdCasKSBEogXH330kXt8fPwdVVXvL3flJUqyLHuuXbtWU1VVVQGgCMEmzI7QuLK8ME6cOFE0MTFxkFI6tdyVlmipqurv6Og4XF1d/RyAR6EF/Jih8HGEwUEb5K3dsWPHWzab7V8IIeY4XT9pRQjhMzIy1m3bti3X4/G0Nzc3Txp+veCucDyA6F094cSJE4UVFRW/stls/0QIMcXh2itChBA+LS1tdXl5uaurq+v6zZs3pxA6nU8RJZjFAgmMM2pra127d+9+0263vzw96fe10jSUNVu3bk1ra2u7cevWLT+WeJ3F2LXNGR0d/a+vQ8yIJFVV/c3NzTUlJSWVADYgGFMS3vviAAivvfZaZm9v7w9UVR1d7spIFkmSNH706NFf5efnfxNaoHdD6xJboQ0e5wQSa5NFAPD5+fni/v37d61atepNQRBWxXitB048z5tdLldhWlraV8eOHetFMI5EnPOKBUhgSuTIkSObNm3a9IbFYvlGLIY/yDKbzRlutzvD5/O1X7x4cRxBIPNCEWJ4LwKA27dvX/rmzZv/zWaz7Y7VaMoAr6RCVqnh0ksvjgBWEw8TH9/3z8/P3/HKK6+0nz59erClpUVFcD1FB6OG/89CLSAAeLfbbTpz5sw/FxYW/ifP8+5YDR71qmjt98InqRA4LtbLLEoMgKRQbMi1oSAz/j11r9c7ePjw4feqq6v/B4BnukxCm8aXEdYlXoiHBNY0amtr12dnZ7+0GBiMAWM+BT6ZwW41I9Uigi5ik0QsIkTz0lt9Hkz6aeR/iEE2my27oqLi2e9+97ttNTU17QhdFjbCYMDCmyzO5XKJxcXFL9rt9ucXaywDIPIc7BYBdqsASpcHiEngtRcJUmFhYUV1dfX12trabkVRZMyEEmi6FhLUOQBCQ0PDN/Ly8l4VRXHtYg0d96mY8FNYTALMIo8ldhAQon0phj1+ZNoFOO2xhNTI4jiOt9vtos1m6/rb3/42BA2CvtIYWJ8HtEqORoG5Krfb/YLFYtmWALsfaDmdzuJnn322AoAZ2mKWGdpAMWRRa0FA6uvrS+x2e8XXYdIw3uJ53rR27drS1157rQgaDDO02eAFAwnMVz366KMvmEym0gTZ/MArOzv70ZdeeqkSGggjkMB6fLRAuP379zttNltFojatfR0kiqK9qKhoy9atWzMRBBLSbEULhN+9e/cOURSLEmdudIYksDO0JMrIyMj/3ve+twUaDL3w0yUikEAwz87Ofobn+byEWhtBKgM4QsBzK5eK1WrNrqysfByaZ+geImIhQN5//33X9M5Ca2LNnV9+WUVn/wTGvFLcpzmWSoIgmN1u94YdO3ZkYWZw5+cDQqANBIVdu3Y9zvN8zhLYO7cxBFBUiv9tvofPL/fB61chCisTis1my3r55Zc3CYKgN1l6HIkIhFRVVVkdDsc2nuczlsLY+UQAeKYUnLh0D59f7YPPTyGswObLbDanlpeXb8zKyrIgGEdERAACAHxBQYHFZrOVchyXmnBLoxQvCjjfMYb/u3wPkkLBr7BIL4qibfXq1UUZGRn6KmLUTRYpKytzmkymdUiCTV8AQKmKtatykJebjTOtwzh26R78ioplmiyOVSQjIyN/48aN6dBA6CVyDNm8efO6hIw9CCAKBGaRB6dPKkUpkyigqNCJXFc2GtpHcPzSPcgy066zQmQymew7d+5cBQMMANxcs2mBQzXp6emPJGIXCQFgNwnItPMA4RZ0+kpVKUSBQ1GBC4wB59qHABC8sM0Nk8CBUpZk5wJmiud5saioyI3geZl5gegiNpstP1F7rASewCJykNWFV6CqAKLAY32hCwTAubZBEMLw7cfcsJp5yEpyI+F5XsjNzc1G2Gnj+YAQAJzFYilIFBCRJxB4AIREHIETAogCB2OnSvMUHutXa1Aa2gZBQLC7PA92Cw8piaFwHCdmZWWFAyERmyxBEFyEzPl380pWKca9Crx+fco/VBMyg0cCVBq5x0AIMDmlXctuGJ6qKoXA8ygqdAFgOHNzCDxH8GxZLuwWHn45OaFwHMenpqZmIfSMfUQPIdMBPaZoOTop42TLENr7vLCa+RlMZMYgqdpybjRvIFMGz5QKh0kIuZSqUvA8h3WFuWAMOH1zCIQwVG3JQ4o1aaEQk8lkR+iR8IjffLKYtQ+PT0VL9wRaByXk52TMWDMnWPjeylyXE1npdqhhS+CUMggch6LVuQAY6m4Og4HgmS0u2C1CUjZfgiCYscAmCxzH2WJ/SwZR4ODOzsSmonyo4bWIGF0PmPValDHwHIf1q/PAcRxO3xwCAOwqccFqXvol4kgSRVEHEgwREf6HLPaELIG274kjAIvTOGG+LjKbhlK0Ohcqpfj8ygA4EHx7qxtAcnWHp+ey9EqJuEBFwh5XjPRKJ4RoGWUY1ZrL5P0kgbqO2HtijPkW804MAKXadpvF7ruKpj4JIVBVFbe6+jA4PILny1x4siRb22GSTO4BQFEUyfCSAFHsy6KUemN/SwJZoejuHwFlCljYvitGALLASqKUIT/PiZysNChhcYQjBCpl6OzuR0//MJ7cmIWnt+QgxSIkZU9LlmV/+M+iATLjn6JVuk3A1rXpSLdNwjzL5IusApI6nZsigggAWaFo6RqDzW5DnjMNimFnLMdxUCnFra/60N07hJ0bHagqzYU9SWEAM4BE3LnIAIBS6pl+vuAWOMMuoqrYgYr1mbOONTySNjBUomjetYGhjK+GPPBLSsjveI6DpKrouNuHgcFhPFXsxDNbXEhNYhgAmCRJeusT2E4ayUOYJEl9VqtViWWCUeAI0m0i0uf4fZoKjE8BCo28eYEQwOMVYDGFbrbkeQ6yrKB9GsaTmxx4riwXNhMPfxKOPXRRSlWPxzOCsCNvcwEJbG30er3daWlpUiJmfBWVQaUEihrZRQjRpmKMnsbzHCRZQcfdPgwOjeDJTU48V5YLi5jcMABAVVV5cHCwH2HpBiMt6zCPx9NDKZUTYZSsMvhkFVHwmCFeAKRpzxgcGsbOjQ48X+6GSeAhq8kNAwAopXJvb+8Qwk5XzQeEAWADAwN3oaUjiqsYgElJwciEBElRF5T8i+c5yJIWM4aGhlG50Ynd5W7wnNbLWglSVVVpb2/vQ1gizrmABFzo0qVLtxRFmYi7RQxQFAZZURc4aCPTnjGIgUEdRh4EbvHjnKWU3++fbGho0M8fBrwkkofQ+vr6Ua/X24EkSc7FEQ537w2if3AYFRsceK4sDyLHYYU4hi42NDTU3draqvdgA+cOI8aQrq6uqZGRkRZVVePvJTGKqgoqN2Th+ce0JVt1BXkGAEiSNHn79u1bo6OjMkJjyJweEmiyWlpapK6urquyLN9fInvnFAOQlWrG329fhae35MAicismZhjl9/snm5qaOsfGxox5G1VE02RNTEyoBw8evOT3+/uXwtg5jWGAwHOoKnXhWyU5sIgrozc1mzwez3BtbW27qqr6ydzA8baIvSwAam1t7fDo6OgVVVUXNdG4WJlFHmtyUpBmNSXlglM0UhTFd+fOnfbr1697oEFQDEWNBETPUatcv369brm9hCfaesdKbKZ0eTye4ZMnTzZDq1f9AKieF3heIEAQilxTU3PR5/PdSaSxkaRlLl5OCxavsbGx3t/97nftCAIx5gOO6CF6sFEOHTo00tfX16goiifRRj+okiRpsqWl5Vp7e7sHod4ROCYdrYcoAKTjx48fv3///uVEGv0gq7e3t/XAgQONCHqHH8HEzFEDCTRbr7/+ese9e/fOUUqXNbivRCmK4r9+/frVw4cP38P0FxxhzRWiGBgChmYLgFxfX//X0dHR5ngZqp8bXO6SaPX09LQcOnToErS61EHo+U4C3d5odyTqUKRXX3312uOPP/7XjIyMrTzPL2pHirYBQes1qZQtW2oNRWUJ7SwoiuK7ePHixYMHD95BMG4Ymys9xUZUuU6MzZYCwP/73//+eHZ29paCgoJ/iNlKou0M80kq6IQEWWHLlnzGO6WA0cQknwGAGzdunP3Nb35zHkHvmBE7EGGBKlwhwf3dd9/tqqqqOuZ0OsutVmthLEYSABk2AQ67iCmZQpYTsuQSlfIyTEi3JSbPyf379+8dP378XF1d3RCCMKamSziQqLMB6V6ijyilt99+++y6deuOFRcXvxqrsWkWHsV5Vm3FcBnFcQTmBB0gvXDhwun33nvvKkKbKh2GHj8CK7Qx51zs7u6mKSkpQyUlJbmpqanrYroI0Y4kmAVuWYuJJwk5fdXa2nrmF7/4xZGmpqYRaCC8huJDMH4EvpELBaJbzQEg9fX1E8XFxWPr168vM5vNSXF3nGTRyMjI3d/+9rd/rKmp6YQGwwcNxOT0cz9CbwYDYHGJlAkA0t7ePl5eXq4UFBRs029b93WXJEkTn3766R/ffvvtZp/Pp8cLHYYXwSZrxsGZRQMZGhqira2tPU888YTF6XRu4jjua5fV2ihFUXx1dXWf/ehHP/q8v79/Elrl+wBMIOgdejCfkYI81jSxIa97enrUCxcutD311FPpDodjAyEkXkn+V5RUVfU3NjaeqK6uPtzd3T2BYFM1iaB36IPBGRlJgTjeHaG3t1ft7OzsqKyszJ0+ubuyTo4vUpRS5erVq6f27t37ye3btz2YHUZ4UzWjexnXb3JHR4ff5/N1lJaWOlJTUws4LuIp3wdCiqL4b9y4Uf/666//qbGxcRgzg3jEpkrXYmOIUQwALl26NHn58uUr27dvtzocjqIHPabIsuxtbGw88Z3vfOfj8+fPRwtjTsXDQ4yuxwDgzp07/rNnz9544oknRIfD8chi57ySVVNTU+Nnzpw5unfv3sO3bt26D63S9WYqPIgHZnQR59zvs2kGlP7+fvnLL79sdzqdvS6XK89msznj9F5Jod7e3hu1tbX//bOf/azu7t27HoTCCA/i88YNo+IZQ0J2cQNAT0+PfPTo0S6bzXY7Ly/PnJmZ+QiJx/1Jl1GMMbWlpeXUu++++6ef//znV0ZHR/VBnrGJ0kfjC4IBxDmo6zYbiyzL7OTJk4NjY2Odbrfbl5WV5RZFMSUB75tweTye/rq6us/eeuutz/7whz/oe56Ngz4dhg5pQTCAxAIBDFskr1y54jl37lx7enr6V1arVUpPT8/jeX5F3KdKkqSJa9eunTp06NBnb7zxxummpiY9eM8GI3ysETUMIM7nUhljxhsR8wgm57JAu7uMFYBtz549eT/84Q+fKSsr2+lyubYkKxhVVaWenp6WxsbGxnfeeef82bNnhxGctdVH4HqPyugVIWscC3nPuAMBEA5FgAZGT7Gtg7H89Kc/LX7xxRcr16xZU5aTk7PBZDIlRdY6v9/v6evr62htbW05dOhQ04cfftiJ0KVX4/yUb/q5cTk25rtHJwQIEAJFzwWle4sRjAWAee/evatfeeWVXWvWrNmclpbmSktLc4uiuIgMEguXJEme8fHxgfHx8cHW1tabH3zwwbm//OUvvQjdP6Wv9OkQjAtNehOljzNiWuRJGJDAG2hgdCi6t+hgdDgWAOaUlBTLj3/840179uzZsWbNms2pqak5ZrM5xWQypcTbVmjnJyempqYmxsbG+tva2lqOHDny5YEDB25PTEzowdi4d8q40uc3FKNXRH2/wrmUcCDArN5ibMb0GGPMYWsqLS1Nr66u3rht27aNq1evXu9wOApEUbQLgiByHCfyPC9OT81E+gyMUqqoqipTSmVFUWRJkryDg4NfdXZ2dl68eLG9tra2c/qsRmDrLEJ3FeqVP2V4PduNWRa99LkkQIAAFCA0pZ3RY4xeE0idmpOTY83MzLSuX78+tbKyMr+oqMidm5vrdDgcOampqQ6LxWIXBMFqMpmsoihaGGNEURSfJEk+WZan/H7/xPj4+OjQ0FB/b2/vcFtbW199fX1vZ2fnxOjoqDw8PKx7gxHEbDCMe6jC7yUFxhiLxxBrOQZpIQm7EJqV05h625gb3ZiOm0fw9g6zldnE5ijGPWfhXqFXvnEztF5o2HXipuUcNRsrkTcUHY4RjP5cMPxdIOmX4RGY+ZmMMwjU8Gg8KGOEIRuK8eyGXhICQlcyTGOEe8xscEJy28KQNBLzQ4kEI9xDwkvgZBMSDEJXMgDRZaxMY5zhMROU8W8iNVtzNVV6JRu//TTs+Yy7qCVa/w+SVb5l2/X/uwAAAABJRU5ErkJggg==",e.hazard="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAKJUlEQVR4nO2ce3CU1RXAf+fbjTFREdC2IAX70Grk4dhBrLUqtlaG1kdGpNraarWVZ7KbVVo66tg4gmV8kI0bxOgf0vEP/2Aq2td0asfpUx2nVsAirfZh65gEFYKxiiS73+kfWSWw90vu3f32keH7/cNk77nnHs7dc797zr37QURERERERERERERERERFkWobUAzaSj0e64Br8x9tYhI/kHYGq2lXMcSrbUBReKwHVoz4JEU/9cDKKllUNOMuAjTJWcDTgHdIk49wnqT5UxXMKppD/xM1jbYTR+jGbLeH0q1LqKu0XaUwriaAvXwP5fRRJGbSwE0VsycExs0SpCs5kTg7gKPGEN2Hxyzp4F+VsKtUxk8ExOlibOcDNOBzf7nNCYtxMQGa5ErgYocuCzTB18plT5jU/BKkrUzA4yVgmmPXPoQmSbO3HHaFRe1HwHDC5ep8gCkoa8M2J2xqOgI0yZnAM0CsSBU+whckzTMhmhUqNRsB2k4c6KZ458M4yA1qdgLoJwWcEYKm2RxJMgQ9ZaEmlyBNMgPYARwdksr3yDFLuvh3SPpCo1YjIEN4zgdoJMaGEPWFRs1NgCZZBFxaBtULtY3Ly6C3JGpqCSpiz789/+8cS/nX8TlNMgy4W1ceaisCYqzB3vk+ynI8bgB8yz7T8LijOOPKQ81MgKaYix50yDIW3XIfT0sHzwEPOvRr0VY+52he2aiJCdDFxPCd9vy7GOSWD//yWQ30WPb18OjO5xlVpyYmgBNIAJ+1llfaZCP9H/wpGQYQVjmMOIe9tDjIl42qP4T1RqaTYwdwjFUH4deSZoFRV5KfA1+1HPpdhFmS5lVL+bJQ/QjwyWDrfNhHbpTnhNACvGup6yiUDkvZslHVCdAEX0G5zLqDcIdk+Gdg8/C3+U4HE5o14TB+GajaBOgSGhGn7HQHE7l3TKlJ3IWwzVqrkNEVoWbdTlQvAhpYA3zCUloRWmwuXkk7WZQWQC11TyfO7ZayoVOVh7AmmQM8j/3FsIekkyVOYyR4COG7luI5hHmS5i8uY4RBxSNA2/EYrvPbOv8t4txsati9kAm7FzLB2CvGauANyzFiKN26uKSzh6Ko/BK0h5XglImm5F7eMjUMNrB2sJ41pjbpYA/qlBvM5QSWO8iHQkWXIG1jKspLwESrDsLvSHOBGNbznkXMxedZQDzhnCmP8axxzARPIlxoaeIAHqdJB69bypdMZSNAyWDrfNhPlmUm5x9SuvBU6db5gUvaCuB9yzEnkCNtKRsKFZsAbWMhsMi+A2uli7+ZmnqzJBlRulCY0zuJVpOs3McrwI+sxxWu0BSXWMuXSEWWIF1CIw38FfikXQdeZoDTZVPhN/f1y5guw2cGh+7d3xNl5tTHC0sL2s4R9LMVaLI0+b8MMVPu53+W8kVTmQho5HZsnQ+Kx3KT8wHECzyubFTMiV0+f1iGfW4wgzpus5QtibJHgKaYjc/zYH015GHp5HpTQ08zzQhbRh0Pmqdt4QljW5KHgW9b2pHFZ55keMFSvijKGgHajpd/WNo6f3e+tl9A30UchYxdPBPIvHlpQHEvyyrgTUtb4vlzg7L6qLxLUD/LgLOt5YVVkjE7yG+0Ll1MH4qZSwuygd2oeYIDOJO9LHWQd6ZsS5CuYAp17MR+2/l7Oplv2na+tog5Md+pdJFDmHfCY4WlBQUhyW+AL1rqGiBHk3RZn7g5Ub4IqCONvfMHkYA9fzue5zuVLoDhPMFUWhBQYizHJTeIWVRhi6QsE6BJFgBXOnRZJ2l2mhp6t9EibqWLYYS5PQGHN7KelxHudtB2lbZZn7Q5EfoSpCka8HkR+LRll1d4mzmmbeeblzN1SNkJHFukOe/k4jRN31xYWsj/1ngrcKqVJuE/xJkp91ifuFkRfgT43Ia988FjRdCef2j4imKxzgc4JpY1lxYkw358h9xAOfGgmxghEWoEaIqZ+LyA7bZTeETSXGNq6m1moQq/DMUun0unPcHPjG1JHgG+aakqi89cyTicuI1BaBGgII57/j3EzeXinktoVC+8y7QidL2xOODYMU4KzOVuo3TIuUF4S1CCG4BzrOWF1XKP+cBE49yOWpcubMaaMZQ1lxbyZw3GA58AzqKf74RjWEhLkN7E8WTZCRxv2eWPdHKeadvZdxmzfc+pdGFLVj3mTftJYWkhnxs8Bcy31NUPNEknu0o1KpwIyNKJvfOz+LQE7fnVc1rGXIiLb14+ZLgA2ALWb1uZhIaTG5Q8AdrGfODrDl3uCnqI9W1nmbqULtw5s2+rubQgHexwcqpwtSb5cqkGlbQE5ffS24BTLLu8Sh2zTHvpNxYzJZt1Kl0Uy0A2R9OMnxaWForIYf7B28wO2kbbUFoEeNyKvfNBaAlKZHJDTqWLUphQF1BakA724TtdkT+JiU4P8MIxi+2oN/IZcmwH6i27PCqdfMPU0LOIBfj8qlhbikGEi6c+xi9MbZrkUeAqS1WD+JwhGV4qxo6iIkBByLERe+cPkDPv+V9bTAN+5X9Ap8qGvosCX/7RBgeuv4/BEQgPaJFf5uKWoDauw76cC8rqoHJuLOtYugiPE/2jzaUF6WQX4lB2EM4lYX3SdkhXR3QlxxFnJ/ARuw48x2TOlvbC33H1LmKmupQuwifrw9yPbynclWk7Hv38Afi8pa491NEUlFwG4R4BcdZj63zI4rHU5HwFUbfSRTmIexKQG7Tj47EMGLLUNZksd7ka4DQB2sr5wLesOwjrJc1WU1Nvs2PpolwoZ/VuM5cWpIMXweGilnKNJviSy/DWS1CYd2t6LuH4/DJmmz2Xm34PTp2ypXD5yN9pehH4lKWuwPMNE/YRsJebsXc+eLQEXmyKk6Z2nA8wyScgN3iQ91Cn95GezAT7g3+rCNAEJyNsB4601LtZOs2vDOttZr4KT9mOXUkULpq2hSeNbQk2I1xhqWo/whlBx6wjsTvoFjZi7/wBPFJBjVMf57fUwo8DXcnSSh0XYpet1wMbFfPN7pGM6QhNcC04PVhuqeT17koh99OHOlxXVM4nOfaGZdQJ0BSTEaet1Z/pYaOD/PhiMhvA/DuEANbrTaM/60aPgBx3Ax+1HCyHsFQ2k7OUH3fk85ml2OcGx5Fl3WgCgROgKc5FuM7aOqWzGj9yqzTSyXagy6HL9ZrggqBG4wRoO0fg8wD2O5XXyPJDB6PGN/u4FaxfcSAIG7XVXLg074L6+T5wmoNJ06njHa3ZV+NVnVOIsQoK32Na8A3XFCfhsx1oqIRlhxH7gdOlk7+P/LBwCRp+8XXk/PCph8Jzg4MmQNu4Gko/aI4IZD7Jgy8wfDgbuppjeZ+dwNSKm3V4sYtBmj544dSBCNjPHUTOrwQfo/7AL3gOTIBaX1CNKBU9cDlh5DPA9tWPESEyMgJ+XEU7Di9G+Do+4sPhC0bCtcBxFTfq8GA3sInJpV3mioiIiIiIiIiIiIiIiIiIiIgYn/wfm7XBpi1H58YAAAAASUVORK5CYII=",e.decision="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAJm0lEQVR4nO2de4wdVR3HP7ttt7uVvgu0sq1tqVQeLY8isTw0BUQsKSiiIqFqojEhWBXUajFqiTFogkUwUXkEHzESTUhbXxF8BKGhpEsrtKgElRYK2yJuC1tp2bLb8Y/fvb1zfjP37rzOOXPv7ieZZM/mzvl9z5yZM+fx+52BUUYZpT5tvgUk5K3AEmA+MK9yzAS6gMlAR+V3A0A/cAjYA+wEnq0cPZV0qSlrhZwIXAlcALwDOLagfPcAm4GHgPXACwXl25KcAKwBtgKBg2MI2AR8BpjuoHxNw+nAnUgz46Ii4o7XgZ8CJ1ku67D4bLJOBtYBlyb4bbWp2YG8B3YCLwL7kPfGwcrvJgDjgWlAN/KumQ8sBpYCxw1jZwj4GfBlYG/yojQ3E4FbgcPUv2MPARuBjwFzC7S9APgk8ADwRgP7rwCrgDEF2i4lFyAv0noXYguwEpjkQMsM4Drg6QZ6epCnrOVoA75I/bvyV8A7PWlrB94HPFZHWx/wXk/arNAJ3E98Yf8OXORPmkEb8FHk3RHXI7vJn7Ti6ELaa13AN5Au7jh/0uoyBbiH+BvoZo+6cjMB+APRQr0EXOhRV1JWAq8R1f9tn6Ky0g78mmhhHmX4rmeZOAvpcuty3OBTVBZuJlqITbjpPRXNQmTMo5tcX52Q1FyGvATDBXgEOManqJycQvRl34tMcJaamcjoOSx8J60xV3Q+0cHsg14VJeAnREfcS7wqKpYbiTbFV3lV1IBzgSOYYj/hVVHxtCHT9uEy7kJ6lKWiHdhG9L1R1vWWPMwG/kfJxycrMAUOAmd4VWSXr2CWt5+S9SD1APAHfuVYpxPprITLvMqrohCnYr47hpAl2FbnBswKeQZpur3zQ0xhG/3KccZk4ABm2b3PCrcTHTAt86rILd/DLPu9fuWIR0hY0G5as2dVj7Mxy7+XnM1W3jZvhUr/BhE2UtiKzHNVOR54e54M81bIZSr925z5NRsB8Dv1P32TOuMYzN7VQUo4YnXA5ZjN1l98CVmqhDzmS4hnpmFeh/3keI/mabIWq/T2HHk1M/sw3yNTkOmVTOSpkEUqvSNHXs3Okyp9etaMxuYQcYpKP5UjryyMBc5EPBSnA68i6/VbkbVwl2wHlofSpyFL2E55CrPtnOvI7qnAj5EKiPMMGUA8XS5xpAdkmSGs4Q6Hto/Sq0RMtGxvDDLNPUh8RcQdG5A23TZXKLs/z5pRniZraujvQWSNwBbtyFNxbeh/h4E/IeswBxAfsEWI493kym+uQNZlzkOmyG3xX5WeYdFWLBMw74j/WLb3VWXvPmBWnd9OBL6B+SRtsKzvbUrfNsv2IsxSAv5p0dZJSPxG1da6hOddjen9YtNldQbm9dhl0VYsx+OuQr4fsrOFdCECYaeL+4uXdpSpmNfjOYu2YpmiBDxvyc4YJFYj63rDktC5/djzJT4O83r825KdunQqAS9ZsnOWspF2INuG6ZCQeQQ9DG/GvB5PZ80o60j9sEqPzypgGF4Ffo9MTWxEJjPTEAAvh9K2ej+6tzpoyU5DBqjdEa/7EJCQ/dR0zrdkYz7mE/JE1ozyzGXtD/09HnNcUhZmURuTHMFeIKd2lT2QNaM8FaJf5HNz5GWLD1CbCn+UWrRu0XSr9Iuxv0pAK1fIm4DVofQvLNrSFbIna0atXCFfo9ar2gncbdHWCSrtpUJ6VXpujryKZjnwhcrfAfBZpBNii8IqJCuzic72lsVBbh4SylzV9R0HNv+MeS224TBAaRwSUK+nusvgz9sJPE5N0ybcRPpuIHo9bL6zDNbEGF9HOfxa76KmqQ94iyO7XcjmB/q6fMi24elE/Vl/ZNtoQq6hpmkIeI9j+x3Aw5jXZjf2ZjEA+Loy+BzlCOZchBlT7iuAZg7RG/ZTtoy1EY2JKEPIWifiZFDV9Ef87uKjb9oeW4bOUYb6sPw4JuTT1DTtRdZqfDINc0EtQPaMTESaF/G7VHo9dvv2Sfl46O9vYW8pICn7iPr7Jl6tTFMhZ6v0QynOtUUHplPael9CFA+o9NKkJ6apEL0fofbW88FkamsRR7C3cpmWrSq90IYRvQlLGaJOZ1PT49pbsRF6jT3x7G+aJyTcvQ2w64eVhcC3gBBVr8oqiZ0I0zjKDWBWSgf+Vwr3IUFC4/EwodeADpXWS96F8ATmYzgSQp+zsgDzWv016YlpmqzdKn1OinNHGjrOMPGW5mkq5BGV/mCKc0ca71fph20YmYcZU3iYFCPQEcQcoiN1a1uYb1aGfmnLUELOAL5UOVZTjh3e7sa8Ro/bNLZMGQswQwRcc5vScrVHLSA7d+v4lcttG31QGexHopp8oCvkI550gHzj5HmlZwsOdrZYgOkAHSATejrm0AVlqZBJmEvH1Xdsrl0d0nAV0aZrDxKp5JJblQYfPb+ZxO8bv7rRSTbQCzEBMpr/HO4WiI4FLq4cFyKLVS5ZSrSZqjo4ePEx+GaMmGrb2QzbiWelG/Gy0fsTB8haiJ46ccrnqf8Ziu046GU4ZBmy41G9SOD7EA8U71xE/Gceqo4QrbCHVhtSlrgyDiIbY5aqnFMRvyi9d29AihWzEnMu8ZXRQ8k3i16MeAyGRSeNnC0zd2CW6W9IN7spvlN1Kab4vZSkbc1IFxKLHy6Ta0e8XIwluuR7vVdF+ViFWZZemuTJCHMTZiF24X6cUASdRMcaa7wqysgkzIDLAAmiaTbWYpbhFdxsaGOFtZiFOYjMhTULeluPZr2pjtKF7GqgR/FeR7IJGUd0/WcXErvY1OgvJwTILG3Z0d3cgBJsJV4U9xIt3HVeFTXmeqJ67/GqqGAmIAMpPd1Qxs8FfZjopOEOWnBP4pMxgzEDZFLyGp+iFCuJTpT2Yck3twycj/S0wgUeQtZQfHMj0SfjNWQOq6VZQbQrGSDvGR8Dx06iX5cLKhqXNzivpVhGNBavOmF3pkMdpxF1ka0+GS63mS0F5yHOEXF35lrsPi2TgFswt5iqHntojeWCTMwh+rm96vEvJM67yEWfMUhUbL3FtB6iG8mMOLqA24lf2AqQCruWfAGmncjH68PRuuHjCDJYbcbJT2tcAjxL/AULkPWIW0i3K9yJSCDoyw3yfQbxWhklhi5kE+RD1L+AAfAP5KlagWxi3FU5Flb+d3vlN43y6EO62y72Qml6uoE7iX6duYhjAPguEk8+SkpmIp7t9bw90hy9SPNla6vYEcVYZN5rI/Hjl3pHP7J10pXk+/CAM0rlR5SQcch0xrsRD5dual3VFyrHk8j3eTcjc1OjjDJKS/B/+/QdvZ909d8AAAAASUVORK5CYII=",e.landmark="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAAEf0lEQVR4nO3cTU8bRxjA8WddBKkgH6BSVfUb9JSPUKnqB+AYKcUJxwoCJS+0uG820Cio5BKh9hCl6aW3tE0r9dCSYhtsY4yJnRq7OLFbB+OYuN5d7+7szk4P1SJTiirv7K537fkdDZ4Z/Q/WwywAwDAM07+4Tt9w6eoSOe1rK6GJjtfzugEzb3r7rTdPvPbgx5+oD+NFvm4fwOtYQEodf2Zd+eyLUz8DzwwNbksKen9hauw74LhTv6+XmAp47d2xE68TQqDwpAy/rCUEXhDriqrNDQmle4FAQLPkpC5lWcB25UoVVqPJ5v5BTdEwDkkwcntpclQyfUoXsyWgoXpQh4cbSaFYqhAAfXkAuBuBiQuNjk/pYrYGNNTqLyC8kZLyxacEA3cHQPk4ODH+rNO93ciRgIa/mgJEN9NSOrPLAcfd14h2fX7SXzC1mEs4GtAgtiRIpLMotpXBLwH3QFG1D0JT72SpFu2SrgQ0IKTCViaHw7EthRAuJqny1cXLF9ctWdwhXQ1o0DCGx7tFshqOt5CmFbw0S7oioIEQAr8VnsDP4URLVpR9SUIf7r1+9t43o6PYlg0t4KqABgIAhWIJVqNJsdHgBRWr80O873YgcEG2dWMTXBmwXblShV83kvyflQOMdX0R6QPLN6bPi44d4H+4PqCh+vwQIrGUkC+WCYC+LBL95tKk/9Dxg/yLZwIaGk0eovEd6VEuTwhwd5GCPlmcufhHt87juYAGsSVBYjuLYqkM9gF8L8na7OLMWM7pc3g2oAEhFRLprBZNbGsEuChC8sz81KW4U/t7PqBBVTVIZXJkLbYlaVjPIaTOLUz7v7V7354JaMBYh+zuHlmNbIqKivZkBc3aOZT3XEDD0QVvOCHwvH0XvD0bsF25UoWH68nms2oNaRgHrbzg7YuAhupBHSLxbeH3p2VdJ/otKy54+yqgoVZ/AWuxlFzYKxHg4A4mykdmL3j7MqChyQsQSaTldCYPHAf3VRMXvH39XHhkZBhee/WVM8PDL+vg486BTs51uoapX+3wuqNRJ5oQFaRSjTp9FdC4AY/EUgoBiCmSMht6zx8GAIBpv6k1+yJg+zMYH+F+UFU0F5z2P7Ji7Z4O2GjysL65I+08zhPgfF8hSf504cp4yco9ejJgtfbPvJcvlgnhyC295bsZuna+bsdePRXw6CeO/RrSdBxEeGDF7ttrzwc89jOvINYVpM3Vz6pfr4yPq07s79mAVo4iNDwX8NgoQiCuyMp12lGEhmcCGqNIPJnFHIClowgN1wc8MYrIkuWjCA3XBnRyFKHhuoDdGEVouCJg2yjC84J46PQoQqOrAd0yitDoSkC3jSI0HA3o1lGEhiMB3T6K0LA1oFdGERq2BPTaKELDsoBeHkVomAoY/PzL/3x9aHAwLSPvjSI0Og54eMif+gfXK6GJNwDAc6MIjb5+LmwFFpASC0iJBaTEAlJiASmxgJRYQEosICUWkBILSIkFpMQCUmIBKbGAlFhASiwgJRaQEgtIiQWkZOqpXL/+x16GYRjmuL8BujV+3sKfOScAAAAASUVORK5CYII=",e.poi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA0YSURBVHic7ZxrcFzFlcf/3fcxGs2MpNHbSLItG5AJibEtIfmxWSJjp9YFdgi78CGuFDFFUvshGwIhZLOPrIvKPtjAVliKbAhV2bAphy0egSCgXJKMVVnHGGswfgB62EiypPHMaEYzo3nfV/d+wKYc0OPe8b2jpOLfV3Wf0/PX7e5zT5++wFWucpWr/OlClnsAAHD4C18QywjpopK0SxCELYzzNs6YH5x/ND5COIAEoXSYGcZRZhgHFcaOdw8M6Ms78mUW8K3u7i4iSd8knN8hezyGt67O462qEl0+H2SX6/faqoUClEwGmWRSz0SjWTWbFYggvKRp2lPbDh0aXKafsDwCHt2+vVOUpCcJpZ+tX7OmzN/URCW325INrVBAIhhkkXPnFDB2imnaNzcfPvyOQ0NekJIKGNi9u9xQ1ScJsHdFW5tcvWoVoZRekU3GGGYnJnh4ZEQFIf+jp1L3b33rrbxNQ16Skgl47NZbP0NE8XVPbW39qvXry0VZttW+riiYPHUqm5mdjRjAbVt7e4dtdbAAJRHw4lrX13TDDZ7a1auv7JFbguj4OAsND2d0w9hRirXRcQGPbt/eKUhS/+r2dl9FXZ3T7gAAqUgEE+++mwZj27v6+gJO+nJUwCPd3W2SJB1fvWlTRUVDg5OuPkUqEuETJ06kOOc3b+7rO+uUH8emU2D37nJJlg+uWLfOV2rxAKCioYE0trVVUEE4eHTLFmtbvAUcE1BXlB/7amrq61pbly3WrG9tJZ7q6kbB53vcKR+OCPj2zp0dhJCvttx0U7kT9k1DCFauX18OYN/vdu7c4IQL0QmjoPQ/r2lrk4sJVVLRKOYiEWSSSeiKAgAQXS54/X5U1dfDZ3EjEl0uNK5bJ0dGRp4AcIvlAS2B7dPrWHd3Oy0r+78bd+xwWwmSC+k0Jj/4AEySUHX7Hng3dUCs8gMAtGQC2RMBJHpehWjoaLnxRpR5PKZtM8PAe/39ed0wtm7r6ztp+Uctgv1PoCzf37BmjWxFvEw8jomTJ1F7z72ovn0PyCf6CpWVKFu1GtVfuhOJV1/BuV/+Aq0bNsBTXW3KPhUENLS2yuGxsW8BuNfKz1nStp3G3ti1y0U4v9Pf3CyY7aNks5g4fRrNf/9PqNlzx6fEuxxCKarvuBNNf/cDjJ86DSWbNT226pUrBcLYXe/fdZetr0C2ClitqltdHo8ulZWZ7jM1NIT6fffBs6nddB9vewfq7tmHqWHzb2tSWRlkj8fIxONdpjuZwFYBObDDV19veudNR6PQBQH+XbdZ9uW/bTc0EGRiMdN9Kurq3JzSnZadLYKtAoqyvM1TVSWZbZ+YmYF/zx0Asb6XEUpRvedLSMzMmO7j8ftlURS3WXa2CPY+gZxf67KwO2aTSXg2mp+6n6R8YzuyiYTp9rLXC4Pz64p2OA/2CmgYfivrn57NQqotPsEg19VDzeXMt3e5wBnzF+1wHmwVkHHuoqL5yIhzDlLE9C0WIooAY+b/wyawVUACMM656faS1ws1an4N+yRadAZyuYW3Rc7BAfMDNIGtAlJBSBuqarq91+9HJnC8aH+Z42/D6zc/Iw1VhSAIqaIdzoO9yQRC5nRNM928qq4Oidd6wBmz7IobBhKv96Cqvt50H13TQChNWna2CHZnY0aVdNp0Y19dHSRmIPHqy5YdxV9+ERIl8NbWmu5TyGQAzkcsO1sEe3dhXT+UTSbNz2EALTfcgOgvn0X2HfOZ90xgELHnDqBl3TpL48smEophGG9a6rQE9u7CwGA2HjcfVwBweTxYfdNNmP63H2L21VcWnc6cMcRf+TWCj/4zWjdsgJWYEwBys7N5Bth6RmJrNqac0sFcKuU2dB2ChXDGW1OD6zs7MfXKS0j+5tcfpbPab4bUuAIAoIUuIHMxnSUT4PrOTmu7LwBD15HPZMo8hNgqoO1B2OCuXQMt69ffUtnYWFT/dDSKZCSCdCIBPZMBAIheL3zV1ahqaIDPwpp3OXOhECZPn36z8+DBW4sysAC25wOZrj83Fwp1VDY2WptfF/HV1VnOOpshEQpldE37ld12bT8TIZr2m0QoJDDDsNt00TDDwFwkInJB6LHbtu0Cdg4MhIkgvDUXDtttumiSoRAXKP3ttt7e4l97FsCRUzlDVZ+cnZiwNeK/EmYnJtKGrv/ECduOCKgw1pNLp418avk1zCWTyKfT2qTf/5oT9h0RsHtgQOeG8dTM+LilmNAJomNjWc75T+5+4QVHFmXHKhNEXX8iGQySS2e7y4GWzyMZDlPC2BNO+XBMwI6BgRil9Ofhs2eXTcHw2bMKBOGZrkOHZp3y4WitnmoY/x6fnGRWUlx2oSsKEsEgo4w95qQfRwX8s/7+SVB6IHzuXMmfwvDoqALOn+3s7Z1y0o+jAgKAoCjfj50/b1g5BL9SCuk04tPThqBp/+i0L8cF7BgYiMEwngp+8EHGaV+XCA4NZcDYkx0DA+YPjYvEcQEBIG8Yj2RiMTUbjzvuKx2LIRuLFQS3+xHHnaFEAnYPDGQMxv5m+syZNCwcOhVD8MyZtGEY3+ro6SlJDFoSAQFgS3//c1o+P54Mhx1TMHHhAlcVZXzLm2/+r1M+PknJBCQAVznfGzxzJmfl4MksuqYheOZMjqjqV4jNR5eLUTIBAWBbb+97HHgpPDJie2AYGhpSGSEvdh4+/L7dthejpAICQCGd/vbs1JRi54aSjccRDwYVNZ1+wDajJim5gJ8/ciTBGfve1KlTaStVDAvBGcPkyZMZzvnDnz9yxHylkU2UXEAA2NLf/19aoXAicvbsFU/l8OioqqtqYEtf30/tGJtVlkVAAODAvpkPP1Sv5A2lkM0iOjamcs5trXu2wrIJ2NXbO06Ah8cCgXxRpR2cY+L48RyAh7p6e8ftH6E5lk1AALi5t/enej4fiJw7ZzmuCY+OqpqiBDr7+n7mxNjMUpLivOefP+rOe6V1BLSZAo0AXyEIpAmEtErJREvzfz/edn1XJ3FXVpqyl0smMToY4FP3PjisV/inCefjhsGDnOICZyTCwabdGW347ru3On7x2lYB9+/ndO3mdz/HudFBKL1RoqSDgVzPDKNWEoW8LIsokyUqS6LLJYmCLImQJQH8dwPA6y+jratr0WsOwEdTd/jYMdDb7wS23gJVM6BqOhRVN1RdVwqqxlTVgKbrbioIMcoxojEjQBh/3yA0MP72pvf27yfW14wFuCIBnw4EJM8M7wQhf04F+heMsQ5ZFNUKr5t4y12+8jKZustkuF0SCF3cVeKxf4UvPYdrrlu8hDk4OopspR9V3/nbRdtxxpFXNOQKKvIFlWVyhXQ6W+CKpsuU0kFmsIOcst82y9nj3d3dRX/9oygBn31jcKMsCt9gnH9FFkXir/TI/kq3q8JbDlk0fcfm92CFAuLfvR9Nq1ZiobKQuVAI05NTqPnRE6AWarEvR9UNpNI5JFJ5JZnKqYqqcSqQA0zVf7b3tk7L18BMC/h0T6DcI5FvCJR+RyCkuqG20tVQ6xPcZfZd/NHGPkT8hz9A2+bNnyoeUnM5jBw7hup/eATSmrW2+cwXVERiaSMym1QYR8xg/HFprvCM2fVzSQH37+f02i3v/DUFebTSWy62XFNdVul17P4yMi+/AP3wIVzX0f7xesgZw+jgIKTtX4T3y3/lmO+5dB7nQ/FCKp3TCMd3R9/e9MxS6+WiAv6qJ1DLZfq6t1z+zNrmeq/Pa2uB+/xwjsSP/gWeVBLNFwsop4eGka3yw//Q94u6lGOVVKaAD6dmMtmC8p5O9dvv2dG14KnegqM58NppP5WME00rqq5ZtaLG3m+ULAHLZjH7vQfQvGolQAimJydR++iPQSx+nOdKmQjOqsFoclrJoH3flzfOW1u9YMxAZeM/6ut8JRcPAKjHg8oHHsbk8DAmh4ZQ9e2HSy4eAKxuqpHr/d7msnK+4NHogvWBjLG/XNlYXXLxLiGvvRa+vV8DAFs3DausXFEjR2bTdwG4b76/L1xgSQlx+PhiScq371jeAQAAOD7+itw8LDyFQV6cDMdLX1LwB8b5UFylhDy/0N8XFJCpwoPRWPrC+Quzqh2Jzz82OOeYCMbUaCIzXciRhxZqZyqMcZdJn13bXFdeVbG8XzEpFYlUFmPT0Vxe0U4XHcZc4vJA2utxC6ubatxOBtLLyVw6j/ELsXwmU9BtCaQv5+meQLlXxn2UCA8SQmoba32uxtpK0c5XueUgX1ARmU1poeicyhmPGpw/JqeUn9v2Kjcfz74xuFGk5OsgZK9dyYRS8alkgqYzDnaA6OwZR5MJ82FnOstu/qDTWQtRbEJVkkQQAgiUglICSigEgXx8m51zDsPgYJyBMQ6DMXAOaJr+x51QNcullL4g0CbGUEuAOgLeIklCC4AGzkktAJFx7gGYzDhkMO7igHBxkAYoUSiBClCVEpLlnOuUIMYIwoZmTHOQKQ5ECeFRxviFUqX0r3KVq1zlT5n/B4HKFM4hiX7YAAAAAElFTkSuQmCC",e.staircase="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFfgAABX4BPgLDIQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABTESURBVHic7Z15YBTl+cc/78xsSDbZ7CYoIAJyCRErqKCGHEAUFUFQqq3W++dZLR5VW+tVRWs9ilWqLWqrpfJTq2Bp8aKCRszBZeUwyCEqqIQzJLs5dpOdmbd/TLK7OTbZZA8S7PefZOd43nfm+77vc7zP+46gm6Oy0OVSbGaWkMooU8gsgRgFsp+EXgLsQBpga7zcD9RIqBNQjxC7pZSbFSm2SMxNRoq6JXNcpfvQPU3HEIe6Ai1RsSpzgObXC6QQEwVMAobFuIjtEj4SQq6wCVuhPadiV4zlR4VuQUhNacYJumleLmAmMDyhhQu+EPAPIdUFjryDmxJadpvVOUSo/dh+lCGSLkHIyyWMOVT1aIH1IF5W/f7X0gpq9xyKCiScEE+pIwupPCQlFwBKosuPEH6E+LuQxiPpedVbE1lwwgip+th5slDFbKScSvcloiVMhHjXFPw6I6dqXSIKjDshFasy0zVDfwgpZgFqvMuLE3QpmNvQkPRgn4L9NfEsKG6ESIlwFzuvE4JHgcx4lZNg7EWKX6bnVS0QAhmPAuJCSMWqzAGabvwZmBIP+d0A72rYrkvNO1Aea8ExJ6Sq2HmRgBeA9FjL7mbwSMm1rnz3wlgKjRkhsnRAikfWPI+Ul8dKZk+AELzgcLtvEVOpj4m8WAipWZXa19C1xcD4WMjreRAliqnPdEyo2R+1pGgFeEodWdJUlgLHRCurh2OHwJwSrd8SlT/g+diRK02lhP+RATBYopR6Sh050Qjpcg+pLHJNUoRcAjiiqcBhCI8ixHRHbtXHXbm5S4R4ijPyTMz3BaR05f5IcaBK8uLiBpaW+vl2jwnAwH4KU3JsXDMziSNc3SI22hbqhGKemZ5TXdrZGzv9RJVFrjGKkCsAZ2fv7Qz+8YGfWY95qfW27X+lpgie/VUKPzzD1ub5boAKRTXyHeNrNnfmpk4RUrnSNVgxzBIQ/TtXt85hyQo/V9xXh2zkQlHg6D4KQsB3e01Mq7MgBLz8GzszJnZPUiTskkLkZuRW7Yz0nogJkYUke2zOUuCkLtUuQhx0S8ZcVI2nxmLjx2fZeGRWCn0yrarur5Tc+6yX1//tB8CZJlj/uoNMZ7cdvtamZ7jzxPE0RHJxxFaW2+Z8hjiTAfD8m/UBMi6cbOOF++0BMgCOzBC8cL+dH59l9Qp3jeS5RTHxyeKFUzyVzqcjvTgiQtwl6ZcJuLbrdYoc7xTpgDVMPXxTMiJMw599YzKK0vyebowb3cXpl0RyYYeEWBNKYl70dYoMO3dbCmJwf4X+fcJXr/+RCsMGWOe/3mUmpG7RQTzvKXaM7OiqdgmREoGpzMPK7EgI/F1o7DIugfCYI02iPNvRRe0SUl3qulJamR8Jw/CBVpV2lJuU7wvf8sv3m3z5nXV+6ICeMgHJZHdJ+mXtXRD2STyrHb2llHNiX6f2ceFkS1mbJtz/J1/Y1v/APF/A/J2WryWodjGAFHMqC12ucKfDEiL9ysNA77hUqh1cOzOJ3o0m7KLlfq5/uI59B4Os7K+UXP9wHW+8HzR7f3phr0RXMxr0VWw8FO5kmzaMe0X6sajic+CQNL3i9ToX3F6Lr9Fy76mOYTvwS0mWK9/9VcsTbRNS4no5kRNN3+4xWVNm8N0+EylhUD8FU8KDz/kCMayWyEgXPHt3Cufm9zgyAJCSv7ry3Ve3PN6KkMbesZk4ZYjoBpRtN1i10WB1mc6qjQbl+1u/dEWBYwcpfPmtycB+CuX7TBRVcNwQhXNybVx/QRIuR7f1ziOBXxqMdE10fx16sNWQJBTxCxlDMqprJWvKrJe/cqPBfz43wgYMQ2GasHWHRZSnRvLaY6mccVoPUt4dwyZUfgncGHqwWRNrnIrdCUStJYs+1bn/Tz7WbzXa9RN6OwXZozXGj1EZNkDhoFtStt2kZINO2XYjoC9SkgUr/pLGyME9xsSNBD7FNAaFTv02a3Kmrl1ODMgoXqcz8/baNp28wf0Vxo/WGD9aJXu0xohjlLDhkfJ9Jvf/ycei5X68PsnPHq3j/XlpgZDJYYBkU9EuA55qOtDsVbiL08tAHB9tKQXX1fDpZgOArMEKE8dpjB+tkT1a5agjOvc2fQ2Qd1U1X3xjdZXHbk3mxh/1KDO3I6xz5rlPbvoRIKSyxHWiImXU+atrNxlMvsHKthw1VKXor2lobWikmjrJN3tMRg3tWF2VbtCZdnMtpgn2ZMHqBWkMOurw6SaqooxOy6n8DEIcQ8U0Y2LmvvTPYNj/+guSAmTsPmCyaLmfXzzlJf/qGgZN8TD+ihoe/rOvQ5k5YzSuPi8JgDqf5JYnvD0lfhURTGle2vR/sJkJcV60gg+6JYs/tDxoR6oIzFn8q9DPCRdWc82DdbzwZgMbtxkYjcp681eRRWpn35jMgL5WdQvX6rz6XkTzPT0CUhJ49wpYU7PEYOnYK+814K23mu5PpthITbFGxEdfqg8bxc0ZE5mFnWYXPHVnMKfinmd87D7QmkyvT7J8tc78JQ2s+ETvKT0pq2JV5gBoJETVOT1aiVI2H66uPt8aYlZu1Nn8taXgR49QefsPqYwfHTTuJmdH7mmfNV7jJ1MsuVXVkjuetIY7XwO8XeTn6gfrGHpuNRfcUcutT3iZcVstZ91Yw56K7s+K5jdPh0ZCpKAgWoGFa3W+agyH552ocdwQq+XP/1eQpJsv7sW4USrrtljd5eg+Clnt+BW79plMvqGG839eG5jWfezW5ICl9k6Rnx/eUcvw6R4uvbuON5f7qfM1f/lrygwuu6c22seLP4RZAAEdIidGKy+0d1wz02rFlR7Jvz6yXn5GumDGJBtF64xA0HByB573XxY3sHaTQeFanbvmWr3B5RDM/WVw6PpgtU51bZAEl0Nw6dQkHr81JTDjuHaTQdl2I9pHjDPEJACtuiStjykZGI2oCrfkvRJLmffNFExvjL6+tjRUpySRnAQfrPEH7jvj1PYJKfo0qHhefa+BGZM0zsm1cXaOxuXTkljwjsVsplNwbr6N8wpsTByrYWsU62uQPDDPIvLbvSY/GN6tF3AN9qx29NaktI2A6Oakd5ab6I0NcEqeLfBC5i8J9porZ1i95oPV1kvWVJh0SnhCauok67Y0b9W3PeEle4FGRrpg7l0pTByncYRLkH+y1srXcddI3ikKkj+wbw/wW3RGaGB2OPHeEYYPVFAVMExYWuzns5lJrNtqBIKD40drZA1W2LnbDHjcY0epONPCR2tXbjQCJAthGQ17KiS/eMrLXx6woyrwozObGwRen+T9lTqLC/0sLdXxNuqTUUNVjh/WrXtHI9SRmgkjow1ip6cJrpyRxEv/bGDvQUne/zVfF3nbZVaoo6l3AEw+rX3rqnhd8Nr7r0vmdy/X4/VJFi7zc16Bn+kTrPu99ZJlTSSU6K2Ueka64Pn7UsLGy7oVpBypITg2FssXfzsrGXeN5M3l/mbHrzg3iSk51tAUSkiH+qORECGs4S49TXDn770AzHrUy8oNBrsPmPy7VG8znG9PFpw7QWP2jcn0P7IHDFcWjhXuYudKIDsW0qSEd4v9vPxWA0IILjrbxvkFNoSw0nuGTPNQXSvJdAq+fCs9bNS2ulYyeKoH3YDjhqisWpCGlHDZPXW8XeRv+yYsC+ucXBvTJ2qcfqpGSq+e0C1CIUo0kI5YLTUUAqbl25jWxrTq6rKgeVpwitZuCD1Uf+SdpAZkP3dfCjf8hmbKum+mYNoEGzMm2sg7KWhh9UQIpEMDkZAkuM4MV6H6IzQa7EgVvPqonW/3mHy9y6RPb4URg5TDZn5EgkMjQSugNm4LmrATx7ZPyMqNQUJ+PsfL7Od9nHCsygnDVU7KUjk7R2NCBzJigb8taeiUej12kELuiVHVy6GRoDTRfZXWo/WyWSGT9jCwn8KasiCBVdWSok/1gKPYywZP/DyFqxp9m3jhtjnewBRyJLhyelJMCEmI5ktrjPz6DfDVS1KSwxf73L12Lj1HZ90Wg/XbDDZsM/hmd/DN1Pvh1ie8pPSyDIfDCRpQTQL2IjkpS6V0g45pwivv+bl2ZvjWnWSDM07TmmWZVHokG7YZLC3ReeHNegwT7nnGy4Vn2lDjrEOOOUrhoZuSI7ouSlQnjJALzrDxx9ethTV3Pe1lZ7nJaaNVjh+qcsxRHSvmjHTBpHEak8ZpeOsl85c0cKBKsqZMbxbOjwecDsH5BQnpidWahOpEjFlfhazh0A34w2v18Jr1254syBqicPxQ1fo7TOW4oSr9erdds7GjVOYvsf4v224yfnS8a58YCKjWhNVD4o4lK4K+g6YS8DPAmif/dLMRyFRpQqZTMGqoZVXd8pNgpsmwkOUH27/t7mH1yCGRHk0K9oo4T6h5fZJlqywLyeUQlC1yULrBYP1Wg5f+WR92Ru+gW1K8Tqd4nc7Y49SABTNsYNA32f5N5yPVbxf5OVDZ8UMnevpXIPZqimRLvMtdtioYeZ2So+FIFZydo3Fmtsa8hZZecTkEb81N5bPtBp99YTb+NXA3zhR+9oVJ7omWvL6ZgjS7oKZOBhbtdAa/X1DPfz7vfj1LSrZoCLEt3k1hcWFwuJoxKagcN2wzqPRYZU8YqzF6hMroEcHWv2yVzoV3WtOvX5cHX6AQ1rC1YZvBzt0mvgZIjq9LkiCIbRrC2IqMn91Y6w0OVym9BAUhk1JFISGSvDYcqlAzcmd580YztJEQ07QmyLqa8zv/IXuHofn25m1iC3OrhsrWKCcMw8Lrk1x0V10gqHj6qRr2EIdwxSdBQiaMbT2BdEx/yxw2TWvNYSiGDQwS8OV3RpcJOW+SrdvEwkxd2aqkn1ZdAXwba+Fen+THd9UFwh0pvQSzLg6OK37diuqCpROyBrcmpJeNQIbJjt1ms5G1uaXVE5ZFd4gdGQVVVU1pQMtiKdlbL7n4V3V8/J9GMpIFrz9uJ2dMcFhaUxacWMo/WQs7bAzpb714r0+yN2St4bABIZbWYUCIkBYHmvVDfgii1fKqrsDXAJfcXcdHn4SQ8ZidieOCZJgmzH01uB3G5OzwnvbgoxWK11v/7yg36dfbIqLZkNVIyMqNemAevz3sj8DkTTRMwQfQSIhm6h/qik0SZaDR1wCX3l3Lh2uCZLzxuL1ZqNw04WePevl3qXXNkRmi3UWbTT0ELEKyT7AIOcIlcKYJ3DUyQMjCZX5eXNwjc36lKoxCaEyUS51QtxuIaq/Aej9cdk8ty1cHyVj4RNtkNCVK2zR47j57IAe4LQw+OoSQFltoDOxnndtT0bOHLAmbHLk1+yB0BZUUryPkA10RWO+Hy++tDZi39mTBwt/ZyTupfTJefMDeYfbiiEFBQj75XKdpgVe9n8Bi0bYWfz5wQ3JEOzx0h2wUIeXrTf8H3oZU5AIh+TVdGLbumBMcguzJgoVz7M38irbIeOlBezMnMRxOOFZlyNEKX+8yWbZK595nfZw4UuW1pQ0cdFu6oC1SJ47VGDuqJ+RiYZqKsqDpR6AJuXLdXyLFys5KK9tu8P/vWi861mSA1YIfvSW4FdOzf6/n2tl1gTn6NLvgnms6nqvorpBQHLrjXLM+LYVc0PqW9rFsVXANxr3X9mpFxk2/7ToZTTgn18a8e+2thqb+RyosmmPvSZvPtIICzd55s76u2MyF0q88ifWxrYhQXRc0IUPX/Rkm/Oy3Xl5bGh0ZANt2mvjqJbde0osPVut8t8/k+GEqBadobN1hsnWHVcbWr3uccq81JW+GHmhGSPpp1RVVJc55QnJHpBJD03T+8Go9OWM0nGmCmx+LDRlg+Re3PuFtdmxHudksP6snQkr+6Mp3V4Yea6UNtQZ9jm7Tbop0T95peRp9MwV7D0rWbjIYeZ6HXkki4IXbNHhpdo/cICaukODVbPrvWx5vRUhaQe0ed7Hzb8BPIxGckix4+ZFULr6rlkqPRDdAbyQjJVkw/yF7ILc3FrhyehKnd5BoB91/UzOBeDEtu3Zvy+NtP5kin8QU14Y93wLZJ6isfcXBYy/5+HCtZf38YLjKXVf1ivkimTEj1EQlHMQTfmnIVr0DwrxwZ45ne1Wx82kBd0ZawpEZgifviOvO44cNBDzpbLELUBPC9usGf9JsIfkuftX63mJHTXLqw+FOhh2S+hTsr6kqct4u4I341Mtam/jWio4tpZUbuv2+vBFDSHF7/3HldeHOt6sjnHnuRdUlzo/itTPprr1mK3P2MMfy9Pyqxe1d0K4pIgTSr6mXAwdiWq3vJ/aofr3D/WQ6tKJ6Zx/8zl2cfgWIt4njFzonjNW45vyOU0fGjOgRAcOWMKTg0ki+rxuRWevM87znKXY+LuHu6OvWNob0Vw4HczYMxCOu3KoPI7ky4hbvSHY/AKKk65X6fkLCx+n+qrBWVUtETIgYh99IFtMEbOxa1b6XWG9o6nRRQMRmYqd0Qua4SremaFOBbzpdte8fdmrYpvXOPujpzE2dVtL2nIpdCupUoLLDi7+/OKiYxtSufCv3f5/Niz0S/9m8JlR/nDbKVNSlEN1uQocRvlFUY0pnv8wWiqj8CseEms81bNkSPotGzuEAARs0bOOjIQNi4Oil5h0o1zT9TKDTCRKHD0SJMI0zY/F99Zh43mnZtXvTy935SDEb6H4rYeIHQ0p+lZ5blR+LL0VDHNaoVxa7ChR4BeRRsZbdvSDLFVO5xDGhakUspcY8NpWRV1Woa8qpwNJYy+5GeFcj6ZRYkwFx3sXBU+Q4VwrlGWBwPMtJILZKwU2uXHdEcamuIK6ZAOn51W/rmjoGIefSs3WLLgVP1vuTxsWTDEjQPicANYWp/cwk7TYpmQWkJqrcKOFGiqdVm39eWxki8UDCc789hY4jpKbOQsibScCWHl3EQaR4RiQZzzQu+UsYDlky/sFPMpyK17xICK4Cxh+qejSHKBHI+X5NfaOzQcGY1eBQFNoS1vd2lauk5AJgeEILF3whJIuQ5vz0/OptCS27zep0M1Ssyhyg+fUCKcREYSVXRP3VhhbYLuEjIeQKm7AV2nMqdsVYflTodoS0RGWhy6XYzCwhlVGmkFkCMQpkPwTpSJFmbeIZ2BWvBkQ1QtYg8SDEbinlZkWKLRJzk5GibskcV+k+lM/TEf4LUCv274bICPEAAAAASUVORK5CYII=",e.ticketGate="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAADiUlEQVR4nO2cv2sUQRTHPyZGQ7QQUbG4axUUUQkWoqUgFloErMUUWgqC2IiCBFHwH/APMKKNYJFGEIKJlcZfhKBCCjH+Nmo0aiTJWcwcN3fs7e3evJ3dw/eBI5e3c9/35mXuO3vcbkBRFEVRFEVJwaoO0SwcW4HLwIcMtGeBa8DODLRzpRc4DowBFechjas9ZnP2ZpDHizJwA3gLzADDQClm/AAwTW1i38i+gW6OaVtDM9LOx4sS8Jn6v3TFxqKSXnLGTADHgD6yb2CfzTXhxIYixqedjzfDNsGITVCyzyv2mMuQjS8AJ4Au51jWDazSBZy0NVSAiw3j08xHhBkrXnZiZRubcWKHgGVb+OEInVANrHLE1rIMHHTiSecjRpKEG4B3Nna6iU7oBgKcoVbnehsL3kB3yZfto7rkr9sxV+3v96h/27rk0cAuYNQev2JjSeYjSglzrtVourP22GZgHvNW2RWjk0cDAfoxtf0ENtF6Polotkra4RRmB7wNPBHUleIRcAdYg6k1OHG71k3gjX2+t4VOXisQYJ8d8xpTc2F24UX780UCnTwbuAJ4RX3NwTaRZgW6/nHOQ8eXpLoXqK+5XZ3UJGngbg8dX5Lq7qGgDfwKdHvo+JJUtxtTq0gDJXfhUWBJUC8rloD7UmKSDXwmqJU1z6WEJBuYZAcuCmK1SjbwpaBW1hSygR8FtbLmk5SQZAN/CGplzVweSVtt+0m/Fcv7NAZgdcz4VPWtTDowhuqXRX8FtEKxQK3uYEitnCKsQDEdSQ/8L5Fo4DiCZ/YBEalbooHLBPYSIYLXrR4YgXqgJyE8MC+PDFJXCA/MyyMLV5d6YATqgZ6oB3qiHhgQ9cAI1AM90c/Cnuhn4YCoB0agHuiJeqAn6oEBUQ+MQD3QE/VAT9QDA6IeGIF6oCehPXCbQD6pHB3jgWuBQeABMCmQrxWTNtegzd2MwntgP+YW/Dnntd9tbL94dbAd8+8Evjj5fgG3gAMpdIJfpe+yDnN/8GNnfAV4aONxK0KKXuAocJfaKqsAU8BZYGOL1wdv4DjwFLOy5p1x1X8CsSOLYhKyBbMq3zt1/cGsyinMJW6NBG/gb+fYIuZ+swGgJ4si2qQHU9MItVu8KpjaGwnewGr8PPX3nRWVMqZWkStU0xA8YcaIzEdPpD3RBnqiDfSknav0O9Hv4vCaj65ARVEURVEURVGUjuMfWbTN9E0AqgAAAAAASUVORK5CYII=",e.door="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAC60lEQVR4nO3dMWsUQQCG4TcXLBRsooWdGAMWgphekYjlpcgfCNikPTtby5S2dtZpjFhqIZLGyoBa2CkkkICHRUBBNGcxJ5ybi7e7mZ395vI9sBBIMjObN7dzF9gcTI9zwArwFNgHdoFumws6jS4C94FN4DswKBw77S3t9LgMrAEvgJ8cjVA8rAGLwCNgm8kBHKQBs8AS8Bj4TPkf/rivtZrOAsvAE2CP8hE+AuvALWBmzOetgjlgFdgADigX4DewBTwEro0Z00EqqropD4AfwEugB1yaML6DlHCd8Bu9BRxSLkKf8MhZBc5XmGtSkKpPCo47snqdM0u4pq8Dnyh/kl8Ie8gycKbm3KmCDMjkdU6XapvyNuEp7WKk+VMGyeKSuMP/T+AX8Bp4AFxpYH4HKRi36Cqbcuz5cxs/uuKCVwh/+Gtr/qzGn4k9IEcX2cQcbc7f6PidmIPZyTmIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxOQcZIHwbzU+AFdbXou0VDdFPh+Z41nC+bO/6bMp30bm6Cecv9Hxc75kTaWcg7w55mMrSHXJWiBs6O/5d1PP+pLl+9TFxs/5kjWVHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hJEaQH3Ew0VxnSb9ed4qbPvw6At8Cr4fEOOEwwf/EcY/9QU9/UWtmkN7gf/e8Lm8R/BKV8g/udSGtuVBfYo/rJxQqUKsju8FyjavLhNg/cGx53gQsVv7/uJa7t++RPJOViUwVykJqaCpR1EBUdwr7RI+wjfervQUmfpsam+tvTAW4Ad4Al4DYwV3Ms1XPM3jywBmwAXxF5IRfbH0Ok4hC5QW8AAAAAAElFTkSuQmCC",e.routeA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEbUlEQVRoge2aXYhVVRTHf3dIZ0zUsWZknBTHyYKocPzsQexFH0wpTWgSaxqDgqCExHzoKSIF3/RBMBQRCizFKEqajKGHCrMPFcY+xo8mR1KpMdNRtBzH48Nam31nvOfsve+cc6+Ifzjsc89Z6/9f+5x99l577wu3CXIZcg8H6oHR+rsXOAX0ZaiZCiqBpcBWoBMJOBp09AG/Au8CTwHDyhJpDGqBdcA5BgZ9DegGOvQ4qdfybf4G3gLGljzqPFQAK4Hz2MAOAGuAGUjTGoxK4DHgTaRyxu8s8BLZNvWCqAX25gWyB5hdBM9coD2P52OgOqUYnWgAjqjwX8CTKXAuwzbNDqSTyBT1QJcK/gSMT5G7AfhZuTuBmhS5B6AS+QYiYB8wKgONe4BDqvENcFcGGmxUgWMqmBXqkB4uAtamTT4T6Af+B6YF+C3CfsiLAvzmIF31VeDhAD8nTM+yPtBvJ7YiHwb6blK/zwL9YjFDCc8DYwL8qoEryJvs1/OQrrUGuARcBx51GVd4EL6o5TbgQkAgzwJVwKfIU60CmgP8zwLbkUFyRYBfQeSAM8gbmRro+636NSOVMj1RCGapX3eg3014SIlOBfpNQZpEL3A38jYuKNeDATw5ZNCNgAeSDF1Nq0nL7wLEAVo0iE+Ay8B/SBMDWB7AY8YsgOlJhq6KmKdwJEA8Bzyv5x/kXTfnrYQlh0Z7SpKRqyImve4JEH4caFSf9rzrXyJpewOSLPrCaCcOwq6KmFT8aoBwi5a7GDgbvAbsHmTjgytaViUZuSpyUUvfvGoE8Iyef4G80fyjTe81q60PzNiV2PW7krJzWtZ6ij6NnaMnjcijgSUM/IbiYLT/TTJyVeSolr75jmkyPdi3ORijkOBewK8iRrvTM4aCaMROoFw9TT12Tp6UWE5Tm37gPgdnDukgImCyR7yJ6FaiJofdGrX7zYPzF7V9w2E3Xe1Ough9cq29Wi522JmxY4cH504tVzjszDT6cw9OJ+YjT6WL+OZlnpwzlVDcj6QwSc0wBxxXm3kB8caiAjihhAtibDbo/f0BvN+rz4aY+wuwCaNPy/HCaiX9kdKtPe1XzdVpklYhGXAEPJEmcQwWqtYZJHtOFauwy0BZvxXT7F7PgnwEcFoFnstCQNGiGqfxT2OC0aoiPcC4DPjHIVPcCBn5M0Ubxa2K+MCsurS5DNPAJGQKGyGJX1pYrJwXVaMkeFVF/0lJtEG5IuC1FPi8kQM+UuFDDO2jrETGJ7MYV/I9kmpsCrF5CDxblOMEcO/QwyoOTcgqSQS8XIT/K+p7GXd2nTlMl9xHfC5WCAvV5zol6Gp98Q5SmV78nuwj2L3HtzOMKxg54H0ksD9Jns01YvO29yjDx+3CcOArJMDfKTyNnYDdumun8M7vLYGRwNdIoEeR3SeDWuTPAhGyBJvF1l2qGIMdFzqQLrUaOIgdd8r6B4EQ1GB3aH/AVuwwZRwrikUddj8+0vO6RI9bGBOBP/SYWOZYhoxGPe7ABzcANvIdFIEv9s4AAAAASUVORK5CYII=",e.routeB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEWElEQVRoge3aXYhVVRQH8N9IOZqZWo5MljUNBUGGX30SQZCRCWVERBQWQUJQQSI9RA8RFfQSFAVF0Uu9VBA9KIlkRUXfljWJaOWofWhqmWkZaXp72Ptwrlfn7HNnzpmx6A+Hc+6cdf7/te7de6119h7+I+iokXs0puKE+Hk3fsT+GjUrQSeuw3NYJzjcaDn2Yy2ewTU4dkQ8HQBdeAQ7Her039iMvnh8F//WbLMdD2DSsHvdhFG4G7vkjn2GezFHGFqt6MSFuE8ILnvuZ9yu3qF+RHRhRZMjy3DBIHguxcomntcwsSIfk+jB+ii8DVdXwHmjfGj2CUmiVkxFfxRchZMr5O7Bmsi9DpMr5D4EncIcaOADjK9B40Ssjhrv4ZgaNDweBb6JgnWhW8hwDTxcNfl5OIC/MKvA7kWH147sOICfsFR6Xl0ipOp9OGcojrciyyyPJuyKAmk9nkhwPRXtlg7a6xbMiYS7MCFhmwWyFr0tx0VYLPwqWTBXFnBNxu84iHMH736O7Jt5rIRtFsgXBTYz5O3L8wm+J9vQLkQHtkayGSXsywRCnpmWJezOj3abU8KjEvfPFrLIFnyZImsDx8XzuoTdKqEfOw1nFRmmApkZzx8mXSuPBYJT+4QuuAhZzYLZRYapgpN9C+tT3rVgPOY2fR6HabhMCOQPLMS3Jbgy7TOLjFKBZO31jhKCzejFGwPc68dteLckV6ZdWIRTgWSt+L6Sohn24OOWv00SfpVevCMM15uwKcH1ZzyPKTJKBbInntvtqzbgigHuXS6k1YvxNqYLQ20gZLXrtyLB1GTfGc9dCbt28Cauj9c9uDlhn2n/WmSUCuTreK603xEq//Z4PSdhm2kXpupUIH3xPFu1r6Fj5ZO3aFWlQ96krikiTAXSL7TUU5Sr7GVxi3x+FnUBs4Sh9T02FhGWeXFZgUVC/k+1Hhk6hezUjOOFOXGD8GpLaH9eKeDJ2v3XS+oWYq5QYfulh1c7bfw2xQsWHULBbAiZbsgYJeT6BuYlbFOB/IL3cT9OSnDNkzeMqSlQGksi6aeGb+3po6i5pErSMcK6bQNXVUk8AOZHra3yTrkyLJYvA9X9q3wcte6pg3ys8F7SkK7GQ8HCqLElataCW6PIDqG2VI0pwjpwQ6g1tWJ5FHqpBu6XI/fyGrgPw+nCpk0D11bIuyBy7okaw4I75XWhCtGeyNXAXRXwlUYHXo3Cqw1tUnYK9SlbjBv2PZKJ8hbi6SHwPBs5NklX+9owE3ujI4sG8fwd8dm98hWbEUOWkvdL92LNmB+fOWgYUm1ZPCQEs1u5b3a6fO/xwRr9ahsd8s73B5xRYNsr79teMAKTO4XReEtwcANOOYLNqfKtu5WOvPN7VGCcsPDWEBYuupvudQmLDg1hTauOrbtKMUFeF/qElDoRn8vrzoj+g0A7mCzfof1EHthXRrBWDBbd8v34RrzuLnziKMY0YRlnY7z+VyPbQ/wfZfAP++My3madvrIAAAAASUVORK5CYII=",e.marker="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABfklEQVRIie3WMU/CQBQH8NfaD+RgIuJEWP0c7C4aBpyMTIY4aVxNnB3UCLakTgxOJiY0aSElkVDUNoECLeVdz+kMKYYo7cEg/+nSXvq7XK7vHcCKIkQf5PIlysaXxf2Z99zgWjb7DW9I0guZTAqpavVWAKDRuYnDm3t7AADQ63aho2mDwPdtgng0RrzOqCpyh1mGjgOdet31XNenhBRHiOcZVfW5w9MLsHR9OHAcApSeSZSebslyjzvM4vX7YBnG0LUsAUTxAhBPthXF5g6zBKMRvDcantNuU6D0igbBcUpV37jDLDgew4dpBp/NJqGieEfCsJCuVDTuMAtBBNs0savrKAhCLUA83FWUZ+4wS0gI2K0WtQzDp2GohYQc7MiyPD1HjCXEiJTkx6JbPZmz1YnAM4cLoJAul+cerlhwnN9pITiJAvIn+MeSWS4vVDJ/BUebhJdAk5gLL70tsjHPi8BMcvkSvXl6pdNXIB5ZWeVaw2v4n8D3D4/LXsfy8gV9n0oC7aAw4wAAAABJRU5ErkJggg==",e.defaultIcon=e.poi,e.chevron="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABvElEQVRoge3YWUsCURiA4TPdVdBGli1E20XLr+gHB923WFdt0k6aQZlB+guCIHi7mCXBwY7fOJ5Pm/faYc7D6DnjZ0xWls6AEWAXeAE2XK9HVIDY57cGsOV6XR0VIA5orQFsul6fVQHiMAYRVlePCRBHbRBh78C66/XGBoxaIpoxa67X3RKw1wEi7A1YSXttQx1+/ktwjyVjTAFYFlybTsAw8TuVmidjHX/vWP8GU0XZ18x2G+4bTEGIeQYWXBui8M+WYyGmohFzkgAz79oQlRDzpA0zBpwJMWVgzrUhChgfNMy5EFMC8q4NUQHmYlAwEwkwt8C0a0MUMAVcCzFFwLO5T6ev8ZK+jTGfwmtnTW/W2D7838mp8Gk0gG3XhqSIOhrGSiQ7S3RMYPB3KukZomPykhBR04SQnhk1NIyNgEngUoh4GxTEqmuDAXL4rxKSqmiYqASIu35HzCRAvKJhghIg7oWICrDo2tANhI6JCfLX8TIpDxd6MY0vG2N2PM/7EFybTvhnRlHTkxCH/bZbQtNEJC4LjH5EWICJ28Ee0TQBsQl/O35oQtwAOdfrEgXkgSv8v7V6xjdZWd3pB9JxAjY9tg5oAAAAAElFTkSuQmCC",e.person="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAADICAYAAADFh+7jAAABG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+Gkqr6gAAAYJpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZG7SwNBEIc/EyU+UdDCwuIUtVKJEYI2Fgm+QC1iBF9NcsklQi4edycSbAXbgIJo46vQv0BbwVoQFEUQS7FWtFE554wQETPLzn7725lhdxY80YyqW+V+0LO2GRkJKTOzc4rvkTJqqKKb1phqGRNTw1FK2tuNRItddbu1Ssf9azWJpKVCWaXwoGqYtvCo8PiKbbi8KdykpmMJ4WPhLlMuKHzt6vECP7mcKvCHy2Y0EgZPg7CS+sXxX6ymTV1YXk67nllWf+7jvqQ2mZ2ekrVNZgsWEUYIoTDGEGGC9DIgPijdCdAjO0rk+7/zJ1mSXFW8QQ6TRVKksekSdVmqJ2XVRE/KyJBz+/+3r5bWFyhUrw1BxYPjvHSAbwM+847zvu84nwfgvYezbDF/aQ/6X0XPF7X2Xahfg5PzohbfgtN1aL4zYmbsW/LK9GgaPB9B3Sw0XkL1fKFnP+cc3kJ0Vb7qArZ3oFPi6xe+AG2WZ+kub0h6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAN0UlEQVR4nO2deYxdVR3HP2/KdJkWUloKWNtOK7QFLCVFFmFYRnaQsKhYQUwxhjQEjYCQiAsuJLIGRRSCiRZFwtKAAiIgQUeWshhBWorI0ilFsKW0pQsDnU5n/OM3r30zvPfm3nvO+Z1z7zuf5Jc2ad873/P7vnvPXc75nRKRNOwATAImAzsCLcBooBnoAt7v/3M1sBx4z4vKISj5FpATJgKzEMN3SPG594DXgSVAtwNdmYim12cccDByZJuwGXgOeAnYairKlGh6dUrAQcB+lr93A/AXYK3l703FMJ+NB8pw4FhgpoPvHgFMB9YB6x18fyKi6QMZBZwC7O6wjWHAnsCHyAWfOtH07QwDTgR2UWpvCvAuHo74aPp2jgRaldtsBVYAH2g22qTZWMDMBGZ4aLcZOA7lgy+aLvfdB3psfydgH80Go+kwG3my5pM5yF2DCo1u+nDs34tnYSSwr1ZjjW76ZGRcDYE9tBpqdNOn+hZQwdj+cE4jm96E+TN120zVaKSRTR+L4sVTQlQeDDWy6b6v2KsxWqORaHpYqGiKpodFNN0xPb4FVGGLRiONbPr7vgVUoUujkUY2XSXBKYmmO2ajbwFVUNHUyKZ3AWt8ixjECo1GGtl0kLnpodADvKXRUKOb3ulbQAVvonRH0eimrwVW+hbRz1KthhrddICnfQtAxvK3tRqLpsM7wDLPGp7VbCyaLjyNzEP3wb9QXvESp0AL3cAqZPWJ5lKvFcBjiu0B0fRKNiGPZqcqtbcOeBAPCxqj6QNZg5g/BbdH/ErgIWQ1qzrR9I+yBrmSbiXdWvSk/Ad4FI/r1aPp1dmEFBMYDexs6Tu7gEXAP4E+S9+Zibg+fWh2RQoTfCzj57cgV+hLCOQdfjQ9OeOQi7ypDD2BsRu5Ml+OPF5VmRyRlGh6NlqAMcjpv4XthYbKxYbWA73e1EUikUgkEolEIpFIJBKJRCKRSCQSUaXIL1xGIkUBpyJvyMbX+XMUMnninf5YXfH3l4C/I9ObCkGRTN8ZaAMOBw4DDsBeTZle5J343/rjMcJcAFl4xgBzgRuBxYgxfUrRgxz9c3EzpSpSwTDgeOD3yHtrLZPrxZvAt5GhImKR2cC1yIRF3ybXii7gV8BejnLQEOwOXAy8gH9D00Q38BPkQjKSkKOAhUjyfBtoEq/29yVSg3HARcDL+DfLdiwgjvcD+DTwW2Q7C9/muIxVQLudlOWTFmA+8Dz+zdCMzcBZFvKXK0YAFyDruHwb4Ct6ge+YJjIPNCNH9pv4T3oocTMFXVLWBMxD1oT5TnKI8QBy9isMuyHPqH0nNvT4XdYEh0YbUg/Nd0LzEt/NluZwuBBZrOc7kXmKXuALWZLtmx2Bu/CfwLxGF/IqODeMAf6B/8TlPd4m+xp4VZqBh/GfsKLEnenSr08JuBX/iSpaHJvGBG2uxn+Cihiv4Pj+PetToQuAH9sUEtnGeLZPxwqGQ9Gdj9aI8QGKe68OxQ7kbyZLXuOehJ445yL8J6NRYitSwNA6acb0jwN3E97+pEWlhFSmftSniIX4//U3WqzG45u4ExIIjOEmvpLAH+uUkCU9vjtfK4o+v876diNJdnY4FdjPdsOGdAO3I5MN7/ArxTkHA/trN1quWhxCvApcAkyo0NcZgC7XcU0df6xzsqNOpIlu5LXt0Xx0lW1rAPo0orOGP054xlEnksQy4FJk6lUt5nnUpx0q79uP8NS5DcD5JLveWOBJo4+4MkE+jPGR0PuASSk0dnrQ6CteS5GXTAxHtrTQ6lAvcqpOQ6uivlBiTsocVaXWKXQGUsBei2uRNW1paHegI3ScTqA8A71f7yKylfBYoKgxlHglQ54+Qq0jXasA0TrgTLJtaNNuV0oumI5U5TCilumdpl+ckMuANzJ8rhW9nRJD4wxXXzwe96eqt8j+Bmmegr5Q498Zc7aNWkf6GuR+2SVXkX3byXaLOvLGXkh1rekuvtzlAob/YVaIp9OhNpPQLHPWg9zxWJ1Ld6ZDwRca6Gp1qMs0vuehzS3Ab4BpBjndRgk3z947kVqsWZnnQJON6AF2Qp6c+Wi/G6ljNyV7aoU2y8J6MR+Pb7GsyVY826/vCs86NgM3YbguzubcuOtNhPSz3KIem3F1v779A9DShzwD+VqG/AJyylpkQcR9mJ3WQe7NfSezVpxUodPXKb5a3EbGlUxjgAcNGr6aZK9Kh+IcAw0uowdZo1/G9yl+cCzEoLDROcg9fNLGlmL3CdItKdrWjPJ4XmYm4S39OjdxlqvQAnwZeIjq9VtXIZWTTjBppAbLq7QXQpTH80oeCEBXZaxEztjGNAETkXKfcxh4irPNVPwnrlacWEXvMQHoGhyXJ0l0SJyN/6RViy3U/rEvDkBfZXQBk2xcXGmxp28BNXiO2vu5XKUpJAGjgNPyZLrxkyZHdNT5t9uAe5V0JGWPPJne6ltADTqG+PdzkYvbUPiEbwFpCOmBR5LxvJLPBqC1HEsS6A2CEvJM2XfCBsczKfpwbQB6+4CNeTm9TyDMYggdKf7vxcB1jnSkYa1vAUkZTnhPuPqofn8+FJd71vxwBs3e+C/+Ta6MpON5NS7F34/4soyavfAE/o2ujDTjeTXakXnsmpp7gWl5GdNBebluAjosfH42sjAxy7z/LDxCeHmsi++xcHBkGc9rsR/wV8d6N5Gze3QI6126yXhej3akPKgLzec50OucCYSzFafpeD4URwNPWtSb671i7sa/4X3ovUg5HqkulVVnLwXYI+Yk/Bveh93xPAknkX7xyTLgNGWdTmjC/6Z+rsbzJLQjCxs21NDWiwwLn6fOnDitJck2uRxZSeKLd5ClRJs8ahiJFI6Ygsxcehcpt/Y6MlGicExBd81YtXiEMN8FFJr5+B/X78TOtO5ICv6If+N/6byXkQHsgix59m38Dx33MzKIEwjjlev5rjsaGcg1+Dd9KzDXdUcj2ykhs059G7+ZwDfSKxrNmC2wtBUbgYMc9zVSQQvwFP6NX40UA4ooMQ5ZKevb+DdIV9i44ZmA2UOPSUjSfRu/FPkRRhJwFebP1mcip1nfxj+FbmHlXDIceaGxBVn+bMKByIWVb+MfRC40IzWYy/ZkvY75K8xjCGNlzG3k842mCoMnB9o4Ss5AHp74Nv7nhv0oJDNwd5ScV+O7tcPnPIAgqbfAz0b9uR/U+X7NmG+hL4VgBDL7o16ybEzwu2GINjRiKzKdqeE5i2QJMyqLhQwTtydsy2V8CBxl2Jfck3SCfw/wOcO2mpGVm76NX41h/dY8szfpj5LPGLY5Gr+7S5bjYRr0Vu6npE/WBsx3Gh6PbI3h2/gLDPuRO0aSruxoZazCvMzYZGBFxvZtxYfAvob9yBWmBQGXYT4u7s3Qdw6u40XMtjfJFY9jnrDFwFhDHQeju81otfiqYR9ywT7YS9jjmNeSPw6/q2KfMNSfC67HbtLuJ9v2nZV8Cb/P6Qs942YUst2E7aTdgvkt0Ncd6Eoa1UqIF4Z5uEvcNRb0/cihvnqxEvOzVbDY2BOmXlxiQeONjjXWilMtaA+O2egkz/RquAm4S0lrZdxkqDtIbG75VS96MN92egTwgpLechhvoBsac9Bbe7YO89s4gFnAB0qay7GbBd3B8Gf0EmdzetI3FXX3UaB1cba38BwqZlnUXkJ2p9LSXohxvQV4Hr2kLXLQh93Rm0v/kgP96tyJ7lF+jqN+aJ7md3XUBxW+j67hti7gqjEeeRWq0Y8vOuqDc05Hv1LEDY77dIdSP2503A8nHImf15WuJyQcq9SP3I3rvgx/SqFvJaRmukZ/nIzrLuqgHYFsLutjtebNCm30AQsU2gE5eILnCPzNQHF5ATeY/ZX6FHydOp+G9wG/cN/FbTThZj7A4Fiq1aEsHI7/OWbaM0rvs6i9XkywLdzGmH448kzdZ8WFe9HfTrJDqZ12pXYScxj+qz1sBT7puqNVaMhxPQTD+4BbXXe0Blrj+otaHRqKUAzvxu+2Uxrjei+Wx/UsY3obUhZkjE0hGbkCWeXiiw6FNkp4vl9vI4wjvA+p9+57xafWuK55OzqANmpvGKMdL+Jv85xKCj2uH0o4hq9FNs4JBa1xfRdbgpOM6YciU4VCOLI2AacgNeZCoUOhDdVxPaQjfCPyICg0tMZ11/MEADiEaHgStMZ1508co+HpyN24PphDgPUKnSiK4QAXoZMPJ/XnPkU0PAta47r1+rIjgZeVxBfJcNAb1xfbFn6lgugiGl5Ga1wfb0vwAcgqz2h4dr6FTo5MK2ZuQ3s5btEMB7ke0siTlXG9VUlskQ0HGdffw32urIzrpysIHcrww2x0JADux32+eoGdTEQ2YV5j1YRNwIkUp4Zah0IbJQxfOPk0vWiGg95kyWkmH27Cz2vKIhoOsgZ/vUI7k00+3IQUw9WkqIaDjLePK7Rj9MNqAt6yJCQJRTa8TIdCG2+bfoFWdYUiXaXXY1/cX70bbwPS6lhkIxlexmVFzKdtifyTQ5GNZjjAmbjL5/m2RE5EJhxGw+3QjIy7tvP5JJZrCphurRENH8h87ObzfWC6C6H3WBLY6IaXuQJ7pn/DlchxmBv/GrInSkT4NeaGL0BhNc/ZpJ8J0oNskqtVAiQvDAN+BmwhvdmrgNM0xU4k+VX9EuAgTXE5ZAbwB5IbvhBHs1+TnDKmIb+2NuSHMAFZYfJcRfhcOZo32oCTkYLFs5DnJCWkEmUnUtXjHtzUtwXg/0qsA4OTWMKaAAAAAElFTkSuQmCC",e.floorchangeDownImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0Y2MDk5Q0IyM0EyMTFFOEExQkQ5MDk1RDU5RTBCQ0UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0Y2MDk5Q0MyM0EyMTFFOEExQkQ5MDk1RDU5RTBCQ0UiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRjYwOTlDOTIzQTIxMUU4QTFCRDkwOTVENTlFMEJDRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRjYwOTlDQTIzQTIxMUU4QTFCRDkwOTVENTlFMEJDRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsNnVNkAAAJISURBVHja7NxNSsNAGAbgxD+KUnWhUCi9hrtewWO51RMUFAaXQg/QhYuCV9CtpQtxZXelxG9kAjZN0kky881k8r7wUkpKJn0ozQ+ZREmSRNkyZEx9pa6piYGu1frGtjd8x8oB4C11Ywgu241af7CAx9SlJby0SzUOC+BBxJsb6sDyGAM1Dku4Aa8DG4cdMLgAEIAABCAAEQACEIAARAAIQAACEAEgAAEIQASAAAQgABEAAhCAAEQACEAAAhABIAABCEAkkyPNz/WphwbGO2P6XnKcSwPrkXf9/5R+ouQu/RH1mbqK7N5V73tXymGU51UEOKR+dhwuW+kx1AV8BFhun7JWcd7EmjiOv+jlCruInXyT15ZLEWACq8J9RqxzGPMBqty86x4H3sMqNw+6hzHyZzrBTmOrk/QvT3e2pjxwFoD7q0hPJKpOdwXiP7w6gF1HFNlT2LoTrruIKPLO/5vMWO8Soii6eNJ0yn8XEEXZlScTz0wIGVHsu2xn6qETISLuxTMJGBqiFp5pwBTxpeV4L1Wuttt4bswJddpSvKna/sglYFsRK+PZBGwbYi0824BtQayNxwHoO2IjPC5AXxEb43EC+oZoBI8b0BdEY3guAF0jGsVzBZgizpjxZqbxXALKnDIiztR4UUiAXIjW8HwAtI1oFc8XQFuI1vF8AjSNyILnG6ApRDY8HwGbIrLi+QpYF5Edz2fAqohO8HwHlDmnvu3Bk8v7rjbQd0CZC+q8AG+ulkcALE+PekddKLiFet9zvWFZq18BBgDKKe48BY2GvQAAAABJRU5ErkJggg==",e.floorchangeUpImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Mzc3ODM3OTQyM0EyMTFFODk5MzVCRjg5RkE3NDIwNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Mzc3ODM3OTUyM0EyMTFFODk5MzVCRjg5RkE3NDIwNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzc4Mzc5MjIzQTIxMUU4OTkzNUJGODlGQTc0MjA0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNzc4Mzc5MzIzQTIxMUU4OTkzNUJGODlGQTc0MjA0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv4uuuEAAAJCSURBVHja7NxPasJAGAXwxP6hFGwP4L53cOEJeoXuixfxGF1V6E4Q6tJFF0KPULptcdEWCuJKavpNOwEdJzpJZr6ZJO/BI5CECfk5MirEVpIk0WYDyBl1QH2nJnI7kPu9RrX68woM8JI6k3BqZ/I4ADPSpj5n4KUVxy8AuJtz6vQAXtqpPB+ABfC8IoYIWATPG2JogGXwvCCGBGgDjx0xFECbeKyIIQC6wGND9A3oEo8F0ScgB55zRF+Ap4x4m4indQAUNzFmxks7to3IDegTzwkiJ2AIeNYRuQBDwrOKyAEYIp41RNeAIeNZQXQJWAW80oiuAKuEVwrRBWAV8Qoj2gY8oo4qipd2JO+DHVBcdFhxvLRDU0RbgHXCy4VoA7COeMaIZQHrjGeEWAawCXgHEYsCNglvL2IRwCbiZSLmBWwynhYxDyDwNIimgDH1DnBbFR6xKWAfYNr2dYCxunDEcfxCm6sIUfNKVjsuOsAEVpkfpGN1X0tz3heotPnU7dQBTmClzcTo+x2lQ33DorFV4dHRLSK6GSgeK+hSH6jLhs+6pXToSpfIZBFRz2nn+dV2T66p9ww3fUN9tDDOD3WhvlvVHBsMtLD4anLNmm+uKdrC2gBAAAIQgAgAAQhAACIABCAAAYgAEIAABCACQAACEIAIAAEIQAAiAAQgAAGIABCAAAQgAsDKAn7U7Dr/YfwL0BPqPHL7OMJcXofFKusxB1dZUW+pa0fjr+X4q7rOwDQ96pO8URuzbiXH63Fbif4KMAA5SHWvsbuuvQAAAABJRU5ErkJggg==";var t=120;e.pulsingDot={width:t,height:t,data:new Uint8Array(t*t*4),onAdd:function(r,n){var i=document.createElement("canvas");i.width=this.width,i.height=this.height,this.context=i.getContext("2d"),this.map=r},render:function(r,n){var i=1e3,u=performance.now()%i/i,s=t/2*.3,m=t/2*.7*u+s,v=this.context,_=this.map;return v.clearRect(0,0,this.width,this.height),v.beginPath(),v.arc(this.width/2,this.height/2,m,0,Math.PI*2),v.fillStyle="rgba(189,82,255,"+(1-u)+")",v.fill(),v.beginPath(),v.arc(this.width/2,this.height/2,s,0,Math.PI*2),v.fillStyle="rgb(189,82,255)",v.strokeStyle="white",v.lineWidth=2+4*(1-u),v.fill(),v.stroke(),this.data=v.getImageData(0,0,this.width,this.height).data,_.triggerRepaint(),!0}}})(FX);var Dz={},ks={},kx={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.isFunction=void 0;function Jme(e){return typeof e=="function"}is.isFunction=Jme;var lc={},$E={},im={};Object.defineProperty(im,"__esModule",{value:!0});im.createErrorClass=void 0;function Qme(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}im.createErrorClass=Qme;Object.defineProperty($E,"__esModule",{value:!0});$E.UnsubscriptionError=void 0;var ege=im;$E.UnsubscriptionError=ege.createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});var s_={};Object.defineProperty(s_,"__esModule",{value:!0});s_.arrRemove=void 0;function tge(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}s_.arrRemove=tge;var l8=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c8=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},f8=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(lc,"__esModule",{value:!0});lc.isSubscription=lc.EMPTY_SUBSCRIPTION=lc.Subscription=void 0;var LS=is,TN=$E,p8=s_,zz=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,u;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var m=l8(s),v=m.next();!v.done;v=m.next()){var _=v.value;_.remove(this)}}catch(V){t={error:V}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}else s.remove(this);var P=this.initialTeardown;if(LS.isFunction(P))try{P()}catch(V){u=V instanceof TN.UnsubscriptionError?V.errors:[V]}var C=this._finalizers;if(C){this._finalizers=null;try{for(var I=l8(C),k=I.next();!k.done;k=I.next()){var F=k.value;try{h8(F)}catch(V){u=u!=null?u:[],V instanceof TN.UnsubscriptionError?u=f8(f8([],c8(u)),c8(V.errors)):u.push(V)}}}catch(V){n={error:V}}finally{try{k&&!k.done&&(i=I.return)&&i.call(I)}finally{if(n)throw n.error}}}if(u)throw new TN.UnsubscriptionError(u)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)h8(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&p8.arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&p8.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();lc.Subscription=zz;lc.EMPTY_SUBSCRIPTION=zz.EMPTY;function rge(e){return e instanceof zz||e&&"closed"in e&&LS.isFunction(e.remove)&&LS.isFunction(e.add)&&LS.isFunction(e.unsubscribe)}lc.isSubscription=rge;function h8(e){LS.isFunction(e)?e():e.unsubscribe()}var uv={};Object.defineProperty(uv,"__esModule",{value:!0});uv.config=void 0;uv.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var UE={},Fz={};(function(e){var t=Ne&&Ne.__read||function(n,i){var u=typeof Symbol=="function"&&n[Symbol.iterator];if(!u)return n;var s=u.call(n),m,v=[],_;try{for(;(i===void 0||i-- >0)&&!(m=s.next()).done;)v.push(m.value)}catch(P){_={error:P}}finally{try{m&&!m.done&&(u=s.return)&&u.call(s)}finally{if(_)throw _.error}}return v},r=Ne&&Ne.__spreadArray||function(n,i){for(var u=0,s=i.length,m=n.length;u<s;u++,m++)n[m]=i[u];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(n,i){for(var u=[],s=2;s<arguments.length;s++)u[s-2]=arguments[s];var m=e.timeoutProvider.delegate;return m!=null&&m.setTimeout?m.setTimeout.apply(m,r([n,i],t(u))):setTimeout.apply(void 0,r([n,i],t(u)))},clearTimeout:function(n){var i=e.timeoutProvider.delegate;return((i==null?void 0:i.clearTimeout)||clearTimeout)(n)},delegate:void 0}})(Fz);Object.defineProperty(UE,"__esModule",{value:!0});UE.reportUnhandledError=void 0;var nge=uv,ige=Fz;function oge(e){ige.timeoutProvider.setTimeout(function(){var t=nge.config.onUnhandledError;if(t)t(e);else throw e})}UE.reportUnhandledError=oge;var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.noop=void 0;function age(){}kc.noop=age;var J_={};Object.defineProperty(J_,"__esModule",{value:!0});J_.createNotification=J_.nextNotification=J_.errorNotification=J_.COMPLETE_NOTIFICATION=void 0;J_.COMPLETE_NOTIFICATION=function(){return hO("C",void 0,void 0)}();function sge(e){return hO("E",void 0,e)}J_.errorNotification=sge;function uge(e){return hO("N",e,void 0)}J_.nextNotification=uge;function hO(e,t,r){return{kind:e,value:t,error:r}}J_.createNotification=hO;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.captureError=Zy.errorContext=void 0;var jX=uv,f0=null;function lge(e){if(jX.config.useDeprecatedSynchronousErrorHandling){var t=!f0;if(t&&(f0={errorThrown:!1,error:null}),e(),t){var r=f0,n=r.errorThrown,i=r.error;if(f0=null,n)throw i}}else e()}Zy.errorContext=lge;function cge(e){jX.config.useDeprecatedSynchronousErrorHandling&&f0&&(f0.errorThrown=!0,f0.error=e)}Zy.captureError=cge;(function(e){var t=Ne&&Ne.__extends||function(){var M=function(j,G){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,he){J.__proto__=he}||function(J,he){for(var pe in he)Object.prototype.hasOwnProperty.call(he,pe)&&(J[pe]=he[pe])},M(j,G)};return function(j,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");M(j,G);function J(){this.constructor=j}j.prototype=G===null?Object.create(G):(J.prototype=G.prototype,new J)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var r=is,n=lc,i=uv,u=UE,s=kc,m=J_,v=Fz,_=Zy,P=function(M){t(j,M);function j(G){var J=M.call(this)||this;return J.isStopped=!1,G?(J.destination=G,n.isSubscription(G)&&G.add(J)):J.destination=e.EMPTY_OBSERVER,J}return j.create=function(G,J,he){return new F(G,J,he)},j.prototype.next=function(G){this.isStopped?q(m.nextNotification(G),this):this._next(G)},j.prototype.error=function(G){this.isStopped?q(m.errorNotification(G),this):(this.isStopped=!0,this._error(G))},j.prototype.complete=function(){this.isStopped?q(m.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},j.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,M.prototype.unsubscribe.call(this),this.destination=null)},j.prototype._next=function(G){this.destination.next(G)},j.prototype._error=function(G){try{this.destination.error(G)}finally{this.unsubscribe()}},j.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},j}(n.Subscription);e.Subscriber=P;var C=Function.prototype.bind;function I(M,j){return C.call(M,j)}var k=function(){function M(j){this.partialObserver=j}return M.prototype.next=function(j){var G=this.partialObserver;if(G.next)try{G.next(j)}catch(J){V(J)}},M.prototype.error=function(j){var G=this.partialObserver;if(G.error)try{G.error(j)}catch(J){V(J)}else V(j)},M.prototype.complete=function(){var j=this.partialObserver;if(j.complete)try{j.complete()}catch(G){V(G)}},M}(),F=function(M){t(j,M);function j(G,J,he){var pe=M.call(this)||this,ne;if(r.isFunction(G)||!G)ne={next:G!=null?G:void 0,error:J!=null?J:void 0,complete:he!=null?he:void 0};else{var ee;pe&&i.config.useDeprecatedNextContext?(ee=Object.create(G),ee.unsubscribe=function(){return pe.unsubscribe()},ne={next:G.next&&I(G.next,ee),error:G.error&&I(G.error,ee),complete:G.complete&&I(G.complete,ee)}):ne=G}return pe.destination=new k(ne),pe}return j}(P);e.SafeSubscriber=F;function V(M){i.config.useDeprecatedSynchronousErrorHandling?_.captureError(M):u.reportUnhandledError(M)}function Y(M){throw M}function q(M,j){var G=i.config.onStoppedNotification;G&&v.timeoutProvider.setTimeout(function(){return G(M,j)})}e.EMPTY_OBSERVER={closed:!0,next:s.noop,error:Y,complete:s.noop}})(kx);var W0={};Object.defineProperty(W0,"__esModule",{value:!0});W0.observable=void 0;W0.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var cg={},Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.identity=void 0;function fge(e){return e}Kc.identity=fge;Object.defineProperty(cg,"__esModule",{value:!0});cg.pipeFromArray=cg.pipe=void 0;var pge=Kc;function hge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return BX(e)}cg.pipe=hge;function BX(e){return e.length===0?pge.identity:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}cg.pipeFromArray=BX;Object.defineProperty(ks,"__esModule",{value:!0});ks.Observable=void 0;var j3=kx,dge=lc,_ge=W0,mge=cg,gge=uv,LN=is,yge=Zy,vge=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,u=xge(t)?t:new j3.SafeSubscriber(t,r,n);return yge.errorContext(function(){var s=i,m=s.operator,v=s.source;u.add(m?m.call(u,v):v?i._subscribe(u):i._trySubscribe(u))}),u},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=d8(r),new r(function(i,u){var s=new j3.SafeSubscriber({next:function(m){try{t(m)}catch(v){u(v),s.unsubscribe()}},error:u,complete:i});n.subscribe(s)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[_ge.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return mge.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=d8(t),new t(function(n,i){var u;r.subscribe(function(s){return u=s},function(s){return i(s)},function(){return n(u)})})},e.create=function(t){return new e(t)},e}();ks.Observable=vge;function d8(e){var t;return(t=e!=null?e:gge.config.Promise)!==null&&t!==void 0?t:Promise}function bge(e){return e&&LN.isFunction(e.next)&&LN.isFunction(e.error)&&LN.isFunction(e.complete)}function xge(e){return e&&e instanceof j3.Subscriber||bge(e)&&dge.isSubscription(e)}var X0={},qE={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.operate=Gr.hasLift=void 0;var wge=is;function $X(e){return wge.isFunction(e==null?void 0:e.lift)}Gr.hasLift=$X;function Sge(e){return function(t){if($X(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}Gr.operate=Sge;var xn={},Ege=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(xn,"__esModule",{value:!0});xn.OperatorSubscriber=xn.createOperatorSubscriber=void 0;var Pge=kx;function Ige(e,t,r,n,i){return new UX(e,t,r,n,i)}xn.createOperatorSubscriber=Ige;var UX=function(e){Ege(t,e);function t(r,n,i,u,s,m){var v=e.call(this,r)||this;return v.onFinalize=s,v.shouldUnsubscribe=m,v._next=n?function(_){try{n(_)}catch(P){r.error(P)}}:e.prototype._next,v._error=u?function(_){try{u(_)}catch(P){r.error(P)}finally{this.unsubscribe()}}:e.prototype._error,v._complete=i?function(){try{i()}catch(_){r.error(_)}finally{this.unsubscribe()}}:e.prototype._complete,v}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Pge.Subscriber);xn.OperatorSubscriber=UX;Object.defineProperty(qE,"__esModule",{value:!0});qE.refCount=void 0;var Cge=Gr,Age=xn;function Oge(){return Cge.operate(function(e,t){var r=null;e._refCount++;var n=Age.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var i=e._connection,u=r;r=null,i&&(!u||i===u)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}qE.refCount=Oge;var kge=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(X0,"__esModule",{value:!0});X0.ConnectableObservable=void 0;var Tge=ks,_8=lc,Lge=qE,Nge=xn,Mge=Gr,Rge=function(e){kge(t,e);function t(r,n){var i=e.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,Mge.hasLift(r)&&(i.lift=r.lift),i}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new _8.Subscription;var i=this.getSubject();n.add(this.source.subscribe(Nge.createOperatorSubscriber(i,void 0,function(){r._teardown(),i.complete()},function(u){r._teardown(),i.error(u)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=_8.Subscription.EMPTY)}return n},t.prototype.refCount=function(){return Lge.refCount()(this)},t}(Tge.Observable);X0.ConnectableObservable=Rge;var dO={},qX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(qX);var jz={};(function(e){var t=Ne&&Ne.__read||function(i,u){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var m=s.call(i),v,_=[],P;try{for(;(u===void 0||u-- >0)&&!(v=m.next()).done;)_.push(v.value)}catch(C){P={error:C}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(P)throw P.error}}return _},r=Ne&&Ne.__spreadArray||function(i,u){for(var s=0,m=u.length,v=i.length;s<m;s++,v++)i[v]=u[s];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var n=lc;e.animationFrameProvider={schedule:function(i){var u=requestAnimationFrame,s=cancelAnimationFrame,m=e.animationFrameProvider.delegate;m&&(u=m.requestAnimationFrame,s=m.cancelAnimationFrame);var v=u(function(_){s=void 0,i(_)});return new n.Subscription(function(){return s==null?void 0:s(v)})},requestAnimationFrame:function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var s=e.animationFrameProvider.delegate;return((s==null?void 0:s.requestAnimationFrame)||requestAnimationFrame).apply(void 0,r([],t(i)))},cancelAnimationFrame:function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var s=e.animationFrameProvider.delegate;return((s==null?void 0:s.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,r([],t(i)))},delegate:void 0}})(jz);Object.defineProperty(dO,"__esModule",{value:!0});dO.animationFrames=void 0;var Dge=ks,zge=lc,Fge=qX,jge=jz;function Bge(e){return e?VX(e):$ge}dO.animationFrames=Bge;function VX(e){var t=jge.animationFrameProvider.schedule;return new Dge.Observable(function(r){var n=new zge.Subscription,i=e||Fge.performanceTimestampProvider,u=i.now(),s=function(m){var v=i.now();r.next({timestamp:e?v:m,elapsed:v-u}),r.closed||n.add(t(s))};return n.add(t(s)),n})}var $ge=VX(),Fl={},VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.ObjectUnsubscribedError=void 0;var Uge=im;VE.ObjectUnsubscribedError=Uge.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var GX=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qge=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.AnonymousSubject=Fl.Subject=void 0;var m8=ks,B3=lc,Vge=VE,Gge=s_,NN=Zy,WX=function(e){GX(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new $3(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Vge.ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;NN.errorContext(function(){var i,u;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=qge(n.currentObservers),m=s.next();!m.done;m=s.next()){var v=m.value;v.next(r)}}catch(_){i={error:_}}finally{try{m&&!m.done&&(u=s.return)&&u.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;NN.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;NN.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,u=i.hasError,s=i.isStopped,m=i.observers;return u||s?B3.EMPTY_SUBSCRIPTION:(this.currentObservers=null,m.push(r),new B3.Subscription(function(){n.currentObservers=null,Gge.arrRemove(m,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,u=n.thrownError,s=n.isStopped;i?r.error(u):s&&r.complete()},t.prototype.asObservable=function(){var r=new m8.Observable;return r.source=this,r},t.create=function(r,n){return new $3(r,n)},t}(m8.Observable);Fl.Subject=WX;var $3=function(e){GX(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:B3.EMPTY_SUBSCRIPTION},t}(WX);Fl.AnonymousSubject=$3;var GE={},Wge=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(GE,"__esModule",{value:!0});GE.BehaviorSubject=void 0;var Xge=Fl,Yge=function(e){Wge(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,u=r._value;if(n)throw i;return this._throwIfClosed(),u},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Xge.Subject);GE.BehaviorSubject=Yge;var Tx={},_O={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(_O);var Hge=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Tx,"__esModule",{value:!0});Tx.ReplaySubject=void 0;var Zge=Fl,Kge=_O,Jge=function(e){Hge(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Kge.dateTimestampProvider);var u=e.call(this)||this;return u._bufferSize=r,u._windowTime=n,u._timestampProvider=i,u._buffer=[],u._infiniteTimeWindow=!0,u._infiniteTimeWindow=n===1/0,u._bufferSize=Math.max(1,r),u._windowTime=Math.max(1,n),u}return t.prototype.next=function(r){var n=this,i=n.isStopped,u=n._buffer,s=n._infiniteTimeWindow,m=n._timestampProvider,v=n._windowTime;i||(u.push(r),!s&&u.push(m.now()+v)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,u=i._infiniteTimeWindow,s=i._buffer,m=s.slice(),v=0;v<m.length&&!r.closed;v+=u?1:2)r.next(m[v]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,u=r._buffer,s=r._infiniteTimeWindow,m=(s?1:2)*n;if(n<1/0&&m<u.length&&u.splice(0,u.length-m),!s){for(var v=i.now(),_=0,P=1;P<u.length&&u[P]<=v;P+=2)_=P;_&&u.splice(0,_+1)}},t}(Zge.Subject);Tx.ReplaySubject=Jge;var Lx={},Qge=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Lx,"__esModule",{value:!0});Lx.AsyncSubject=void 0;var eye=Fl,tye=function(e){Qge(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,u=n._hasValue,s=n._value,m=n.thrownError,v=n.isStopped,_=n._isComplete;i?r.error(m):(v||_)&&(u&&r.next(s),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,u=r._isComplete;u||(this._isComplete=!0,n&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},t}(eye.Subject);Lx.AsyncSubject=tye;var XX={},mO={},lv={},gO={},rye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(gO,"__esModule",{value:!0});gO.Action=void 0;var nye=lc,iye=function(e){rye(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(nye.Subscription);gO.Action=iye;var YX={};(function(e){var t=Ne&&Ne.__read||function(n,i){var u=typeof Symbol=="function"&&n[Symbol.iterator];if(!u)return n;var s=u.call(n),m,v=[],_;try{for(;(i===void 0||i-- >0)&&!(m=s.next()).done;)v.push(m.value)}catch(P){_={error:P}}finally{try{m&&!m.done&&(u=s.return)&&u.call(s)}finally{if(_)throw _.error}}return v},r=Ne&&Ne.__spreadArray||function(n,i){for(var u=0,s=i.length,m=n.length;u<s;u++,m++)n[m]=i[u];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(n,i){for(var u=[],s=2;s<arguments.length;s++)u[s-2]=arguments[s];var m=e.intervalProvider.delegate;return m!=null&&m.setInterval?m.setInterval.apply(m,r([n,i],t(u))):setInterval.apply(void 0,r([n,i],t(u)))},clearInterval:function(n){var i=e.intervalProvider.delegate;return((i==null?void 0:i.clearInterval)||clearInterval)(n)},delegate:void 0}})(YX);var oye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(lv,"__esModule",{value:!0});lv.AsyncAction=void 0;var aye=gO,g8=YX,sye=s_,uye=function(e){oye(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,u=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(u,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(u,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),g8.intervalProvider.setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;g8.intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,u;try{this.work(r)}catch(s){i=!0,u=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),u},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,u=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,sye.arrRemove(u,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(aye.Action);lv.AsyncAction=uye;var HX={},fx={};Object.defineProperty(fx,"__esModule",{value:!0});fx.TestTools=fx.Immediate=void 0;var lye=1,MN,HC={};function y8(e){return e in HC?(delete HC[e],!0):!1}fx.Immediate={setImmediate:function(e){var t=lye++;return HC[t]=!0,MN||(MN=Promise.resolve()),MN.then(function(){return y8(t)&&e()}),t},clearImmediate:function(e){y8(e)}};fx.TestTools={pending:function(){return Object.keys(HC).length}};(function(e){var t=Ne&&Ne.__read||function(s,m){var v=typeof Symbol=="function"&&s[Symbol.iterator];if(!v)return s;var _=v.call(s),P,C=[],I;try{for(;(m===void 0||m-- >0)&&!(P=_.next()).done;)C.push(P.value)}catch(k){I={error:k}}finally{try{P&&!P.done&&(v=_.return)&&v.call(_)}finally{if(I)throw I.error}}return C},r=Ne&&Ne.__spreadArray||function(s,m){for(var v=0,_=m.length,P=s.length;v<_;v++,P++)s[P]=m[v];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var n=fx,i=n.Immediate.setImmediate,u=n.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];var v=e.immediateProvider.delegate;return((v==null?void 0:v.setImmediate)||i).apply(void 0,r([],t(s)))},clearImmediate:function(s){var m=e.immediateProvider.delegate;return((m==null?void 0:m.clearImmediate)||u)(s)},delegate:void 0}})(HX);var cye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mO,"__esModule",{value:!0});mO.AsapAction=void 0;var fye=lv,v8=HX,pye=function(e){cye(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=v8.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);r.actions.some(function(u){return u.id===n})||(v8.immediateProvider.clearImmediate(n),r._scheduled=void 0)},t}(fye.AsyncAction);mO.AsapAction=pye;var yO={},cv={},WE={};Object.defineProperty(WE,"__esModule",{value:!0});WE.Scheduler=void 0;var hye=_O,dye=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=hye.dateTimestampProvider.now,e}();WE.Scheduler=dye;var _ye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(cv,"__esModule",{value:!0});cv.AsyncScheduler=void 0;var b8=WE,mye=function(e){_ye(t,e);function t(r,n){n===void 0&&(n=b8.Scheduler.now);var i=e.call(this,r,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(b8.Scheduler);cv.AsyncScheduler=mye;var gye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yO,"__esModule",{value:!0});yO.AsapScheduler=void 0;var yye=cv,vye=function(e){gye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,u;r=r||i.shift();do if(u=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,u){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw u}},t}(yye.AsyncScheduler);yO.AsapScheduler=vye;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var t=mO,r=yO;e.asapScheduler=new r.AsapScheduler(t.AsapAction),e.asap=e.asapScheduler})(XX);var th={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var t=lv,r=cv;e.asyncScheduler=new r.AsyncScheduler(t.AsyncAction),e.async=e.asyncScheduler})(th);var ZX={},vO={},bye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(vO,"__esModule",{value:!0});vO.QueueAction=void 0;var xye=lv,wye=function(e){bye(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},t}(xye.AsyncAction);vO.QueueAction=wye;var bO={},Sye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(bO,"__esModule",{value:!0});bO.QueueScheduler=void 0;var Eye=cv,Pye=function(e){Sye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Eye.AsyncScheduler);bO.QueueScheduler=Pye;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var t=vO,r=bO;e.queueScheduler=new r.QueueScheduler(t.QueueAction),e.queue=e.queueScheduler})(ZX);var KX={},xO={},Iye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(xO,"__esModule",{value:!0});xO.AnimationFrameAction=void 0;var Cye=lv,x8=jz,Aye=function(e){Iye(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=x8.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);r.actions.some(function(u){return u.id===n})||(x8.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},t}(Cye.AsyncAction);xO.AnimationFrameAction=Aye;var wO={},Oye=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wO,"__esModule",{value:!0});wO.AnimationFrameScheduler=void 0;var kye=cv,Tye=function(e){Oye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,u;r=r||i.shift();do if(u=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,u){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw u}},t}(kye.AsyncScheduler);wO.AnimationFrameScheduler=Tye;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var t=xO,r=wO;e.animationFrameScheduler=new r.AnimationFrameScheduler(t.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(KX);var px={},JX=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(px,"__esModule",{value:!0});px.VirtualAction=px.VirtualTimeScheduler=void 0;var Lye=lv,Nye=lc,Mye=cv,Rye=function(e){JX(t,e);function t(r,n){r===void 0&&(r=QX),n===void 0&&(n=1/0);var i=e.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,u,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(u=s.execute(s.state,s.delay))););if(u){for(;s=n.shift();)s.unsubscribe();throw u}},t.frameTimeFactor=10,t}(Mye.AsyncScheduler);px.VirtualTimeScheduler=Rye;var QX=function(e){JX(t,e);function t(r,n,i){i===void 0&&(i=r.index+=1);var u=e.call(this,r,n)||this;return u.scheduler=r,u.work=n,u.index=i,u.active=!0,u.index=r.index=i,u}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return Nye.Subscription.EMPTY},t.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var u=r.actions;return u.push(this),u.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(r,n,i){},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t}(Lye.AsyncAction);px.VirtualAction=QX;var SO={},Sd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var t=ks;e.EMPTY=new t.Observable(function(i){return i.complete()});function r(i){return i?n(i):e.EMPTY}e.empty=r;function n(i){return new t.Observable(function(u){return i.schedule(function(){return u.complete()})})}})(Sd);var Nx={},cc={},Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.isScheduler=void 0;var Dye=is;function zye(e){return e&&Dye.isFunction(e.schedule)}Y0.isScheduler=zye;Object.defineProperty(cc,"__esModule",{value:!0});cc.popNumber=cc.popScheduler=cc.popResultSelector=void 0;var Fye=is,jye=Y0;function Bz(e){return e[e.length-1]}function Bye(e){return Fye.isFunction(Bz(e))?e.pop():void 0}cc.popResultSelector=Bye;function $ye(e){return jye.isScheduler(Bz(e))?e.pop():void 0}cc.popScheduler=$ye;function Uye(e,t){return typeof Bz(e)=="number"?e.pop():t}cc.popNumber=Uye;var Mh={},XE={},EO={},Ni={},Mx={};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.isArrayLike=void 0;Mx.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var YE={};Object.defineProperty(YE,"__esModule",{value:!0});YE.isPromise=void 0;var qye=is;function Vye(e){return qye.isFunction(e==null?void 0:e.then)}YE.isPromise=Vye;var HE={};Object.defineProperty(HE,"__esModule",{value:!0});HE.isInteropObservable=void 0;var Gye=W0,Wye=is;function Xye(e){return Wye.isFunction(e[Gye.observable])}HE.isInteropObservable=Xye;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});ZE.isAsyncIterable=void 0;var Yye=is;function Hye(e){return Symbol.asyncIterator&&Yye.isFunction(e==null?void 0:e[Symbol.asyncIterator])}ZE.isAsyncIterable=Hye;var KE={};Object.defineProperty(KE,"__esModule",{value:!0});KE.createInvalidObservableTypeError=void 0;function Zye(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}KE.createInvalidObservableTypeError=Zye;var JE={},T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.iterator=T0.getSymbolIterator=void 0;function eY(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}T0.getSymbolIterator=eY;T0.iterator=eY();Object.defineProperty(JE,"__esModule",{value:!0});JE.isIterable=void 0;var Kye=T0,Jye=is;function Qye(e){return Jye.isFunction(e==null?void 0:e[Kye.iterator])}JE.isIterable=Qye;var Ky={},eve=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},tx=Ne&&Ne.__await||function(e){return this instanceof tx?(this.v=e,this):new tx(e)},tve=Ne&&Ne.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,u=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(I){n[I]&&(i[I]=function(k){return new Promise(function(F,V){u.push([I,k,F,V])>1||m(I,k)})})}function m(I,k){try{v(n[I](k))}catch(F){C(u[0][3],F)}}function v(I){I.value instanceof tx?Promise.resolve(I.value.v).then(_,P):C(u[0][2],I)}function _(I){m("next",I)}function P(I){m("throw",I)}function C(I,k){I(k),u.shift(),u.length&&m(u[0][0],u[0][1])}};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.isReadableStreamLike=Ky.readableStreamLikeToAsyncGenerator=void 0;var rve=is;function nve(e){return tve(this,arguments,function(){var r,n,i,u;return eve(this,function(s){switch(s.label){case 0:r=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,tx(r.read())];case 3:return n=s.sent(),i=n.value,u=n.done,u?[4,tx(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,tx(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}Ky.readableStreamLikeToAsyncGenerator=nve;function ive(e){return rve.isFunction(e==null?void 0:e.getReader)}Ky.isReadableStreamLike=ive;var ove=Ne&&Ne.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(s){s(u)})}return new(r||(r=Promise))(function(u,s){function m(P){try{_(n.next(P))}catch(C){s(C)}}function v(P){try{_(n.throw(P))}catch(C){s(C)}}function _(P){P.done?u(P.value):i(P.value).then(m,v)}_((n=n.apply(e,t||[])).next())})},ave=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},sve=Ne&&Ne.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof U3=="function"?U3(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(u){r[u]=e[u]&&function(s){return new Promise(function(m,v){s=e[u](s),i(m,v,s.done,s.value)})}}function i(u,s,m,v){Promise.resolve(v).then(function(_){u({value:_,done:m})},s)}},U3=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.fromReadableStreamLike=Ni.fromAsyncIterable=Ni.fromIterable=Ni.fromPromise=Ni.fromArrayLike=Ni.fromInteropObservable=Ni.innerFrom=void 0;var uve=Mx,lve=YE,Rx=ks,cve=HE,fve=ZE,pve=KE,hve=JE,tY=Ky,dve=is,_ve=UE,mve=W0;function gve(e){if(e instanceof Rx.Observable)return e;if(e!=null){if(cve.isInteropObservable(e))return rY(e);if(uve.isArrayLike(e))return nY(e);if(lve.isPromise(e))return iY(e);if(fve.isAsyncIterable(e))return $z(e);if(hve.isIterable(e))return oY(e);if(tY.isReadableStreamLike(e))return aY(e)}throw pve.createInvalidObservableTypeError(e)}Ni.innerFrom=gve;function rY(e){return new Rx.Observable(function(t){var r=e[mve.observable]();if(dve.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}Ni.fromInteropObservable=rY;function nY(e){return new Rx.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}Ni.fromArrayLike=nY;function iY(e){return new Rx.Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,_ve.reportUnhandledError)})}Ni.fromPromise=iY;function oY(e){return new Rx.Observable(function(t){var r,n;try{for(var i=U3(e),u=i.next();!u.done;u=i.next()){var s=u.value;if(t.next(s),t.closed)return}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}Ni.fromIterable=oY;function $z(e){return new Rx.Observable(function(t){yve(e,t).catch(function(r){return t.error(r)})})}Ni.fromAsyncIterable=$z;function aY(e){return $z(tY.readableStreamLikeToAsyncGenerator(e))}Ni.fromReadableStreamLike=aY;function yve(e,t){var r,n,i,u;return ove(this,void 0,void 0,function(){var s,m;return ave(this,function(v){switch(v.label){case 0:v.trys.push([0,5,6,11]),r=sve(e),v.label=1;case 1:return[4,r.next()];case 2:if(n=v.sent(),!!n.done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];v.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return m=v.sent(),i={error:m},[3,11];case 6:return v.trys.push([6,,9,10]),n&&!n.done&&(u=r.return)?[4,u.call(r)]:[3,8];case 7:v.sent(),v.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var H0={},u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.executeSchedule=void 0;function vve(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var u=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(u),!i)return u}u_.executeSchedule=vve;Object.defineProperty(H0,"__esModule",{value:!0});H0.observeOn=void 0;var RN=u_,bve=Gr,xve=xn;function wve(e,t){return t===void 0&&(t=0),bve.operate(function(r,n){r.subscribe(xve.createOperatorSubscriber(n,function(i){return RN.executeSchedule(n,e,function(){return n.next(i)},t)},function(){return RN.executeSchedule(n,e,function(){return n.complete()},t)},function(i){return RN.executeSchedule(n,e,function(){return n.error(i)},t)}))})}H0.observeOn=wve;var Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});Z0.subscribeOn=void 0;var Sve=Gr;function Eve(e,t){return t===void 0&&(t=0),Sve.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}Z0.subscribeOn=Eve;Object.defineProperty(EO,"__esModule",{value:!0});EO.scheduleObservable=void 0;var Pve=Ni,Ive=H0,Cve=Z0;function Ave(e,t){return Pve.innerFrom(e).pipe(Cve.subscribeOn(t),Ive.observeOn(t))}EO.scheduleObservable=Ave;var PO={};Object.defineProperty(PO,"__esModule",{value:!0});PO.schedulePromise=void 0;var Ove=Ni,kve=H0,Tve=Z0;function Lve(e,t){return Ove.innerFrom(e).pipe(Tve.subscribeOn(t),kve.observeOn(t))}PO.schedulePromise=Lve;var IO={};Object.defineProperty(IO,"__esModule",{value:!0});IO.scheduleArray=void 0;var Nve=ks;function Mve(e,t){return new Nve.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}IO.scheduleArray=Mve;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.scheduleIterable=void 0;var Rve=ks,Dve=T0,zve=is,w8=u_;function Fve(e,t){return new Rve.Observable(function(r){var n;return w8.executeSchedule(r,t,function(){n=e[Dve.iterator](),w8.executeSchedule(r,t,function(){var i,u,s;try{i=n.next(),u=i.value,s=i.done}catch(m){r.error(m);return}s?r.complete():r.next(u)},0,!0)}),function(){return zve.isFunction(n==null?void 0:n.return)&&n.return()}})}QE.scheduleIterable=Fve;var e2={};Object.defineProperty(e2,"__esModule",{value:!0});e2.scheduleAsyncIterable=void 0;var jve=ks,S8=u_;function Bve(e,t){if(!e)throw new Error("Iterable cannot be null");return new jve.Observable(function(r){S8.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();S8.executeSchedule(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}e2.scheduleAsyncIterable=Bve;var CO={};Object.defineProperty(CO,"__esModule",{value:!0});CO.scheduleReadableStreamLike=void 0;var $ve=e2,Uve=Ky;function qve(e,t){return $ve.scheduleAsyncIterable(Uve.readableStreamLikeToAsyncGenerator(e),t)}CO.scheduleReadableStreamLike=qve;Object.defineProperty(XE,"__esModule",{value:!0});XE.scheduled=void 0;var Vve=EO,Gve=PO,Wve=IO,Xve=QE,Yve=e2,Hve=HE,Zve=YE,Kve=Mx,Jve=JE,Qve=ZE,e0e=KE,t0e=Ky,r0e=CO;function n0e(e,t){if(e!=null){if(Hve.isInteropObservable(e))return Vve.scheduleObservable(e,t);if(Kve.isArrayLike(e))return Wve.scheduleArray(e,t);if(Zve.isPromise(e))return Gve.schedulePromise(e,t);if(Qve.isAsyncIterable(e))return Yve.scheduleAsyncIterable(e,t);if(Jve.isIterable(e))return Xve.scheduleIterable(e,t);if(t0e.isReadableStreamLike(e))return r0e.scheduleReadableStreamLike(e,t)}throw e0e.createInvalidObservableTypeError(e)}XE.scheduled=n0e;Object.defineProperty(Mh,"__esModule",{value:!0});Mh.from=void 0;var i0e=XE,o0e=Ni;function a0e(e,t){return t?i0e.scheduled(e,t):o0e.innerFrom(e)}Mh.from=a0e;Object.defineProperty(Nx,"__esModule",{value:!0});Nx.of=void 0;var s0e=cc,u0e=Mh;function l0e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s0e.popScheduler(e);return u0e.from(e,r)}Nx.of=l0e;var t2={};Object.defineProperty(t2,"__esModule",{value:!0});t2.throwError=void 0;var c0e=ks,f0e=is;function p0e(e,t){var r=f0e.isFunction(e)?e:function(){return e},n=function(i){return i.error(r())};return new c0e.Observable(t?function(i){return t.schedule(n,0,i)}:n)}t2.throwError=p0e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=Sd,r=Nx,n=t2,i=is;(function(m){m.NEXT="N",m.ERROR="E",m.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var u=function(){function m(v,_,P){this.kind=v,this.value=_,this.error=P,this.hasValue=v==="N"}return m.prototype.observe=function(v){return s(this,v)},m.prototype.do=function(v,_,P){var C=this,I=C.kind,k=C.value,F=C.error;return I==="N"?v==null?void 0:v(k):I==="E"?_==null?void 0:_(F):P==null?void 0:P()},m.prototype.accept=function(v,_,P){var C;return i.isFunction((C=v)===null||C===void 0?void 0:C.next)?this.observe(v):this.do(v,_,P)},m.prototype.toObservable=function(){var v=this,_=v.kind,P=v.value,C=v.error,I=_==="N"?r.of(P):_==="E"?n.throwError(function(){return C}):_==="C"?t.EMPTY:0;if(!I)throw new TypeError("Unexpected notification kind "+_);return I},m.createNext=function(v){return new m("N",v)},m.createError=function(v){return new m("E",void 0,v)},m.createComplete=function(){return m.completeNotification},m.completeNotification=new m("C"),m}();e.Notification=u;function s(m,v){var _,P,C,I=m,k=I.kind,F=I.value,V=I.error;if(typeof k!="string")throw new TypeError('Invalid notification, missing "kind"');k==="N"?(_=v.next)===null||_===void 0||_.call(v,F):k==="E"?(P=v.error)===null||P===void 0||P.call(v,V):(C=v.complete)===null||C===void 0||C.call(v)}e.observeNotification=s})(SO);var AO={};Object.defineProperty(AO,"__esModule",{value:!0});AO.isObservable=void 0;var h0e=ks,E8=is;function d0e(e){return!!e&&(e instanceof h0e.Observable||E8.isFunction(e.lift)&&E8.isFunction(e.subscribe))}AO.isObservable=d0e;var OO={},om={};Object.defineProperty(om,"__esModule",{value:!0});om.EmptyError=void 0;var _0e=im;om.EmptyError=_0e.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(OO,"__esModule",{value:!0});OO.lastValueFrom=void 0;var m0e=om;function g0e(e,t){var r=typeof t=="object";return new Promise(function(n,i){var u=!1,s;e.subscribe({next:function(m){s=m,u=!0},error:i,complete:function(){u?n(s):r?n(t.defaultValue):i(new m0e.EmptyError)}})})}OO.lastValueFrom=g0e;var kO={};Object.defineProperty(kO,"__esModule",{value:!0});kO.firstValueFrom=void 0;var y0e=om,v0e=kx;function b0e(e,t){var r=typeof t=="object";return new Promise(function(n,i){var u=new v0e.SafeSubscriber({next:function(s){n(s),u.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new y0e.EmptyError)}});e.subscribe(u)})}kO.firstValueFrom=b0e;var r2={};Object.defineProperty(r2,"__esModule",{value:!0});r2.ArgumentOutOfRangeError=void 0;var x0e=im;r2.ArgumentOutOfRangeError=x0e.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var n2={};Object.defineProperty(n2,"__esModule",{value:!0});n2.NotFoundError=void 0;var w0e=im;n2.NotFoundError=w0e.createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}});var i2={};Object.defineProperty(i2,"__esModule",{value:!0});i2.SequenceError=void 0;var S0e=im;i2.SequenceError=S0e.createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}});var ZC={},Dx={};Object.defineProperty(Dx,"__esModule",{value:!0});Dx.isValidDate=void 0;function E0e(e){return e instanceof Date&&!isNaN(e)}Dx.isValidDate=E0e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var t=th,r=Dx,n=Gr,i=Ni,u=im,s=xn,m=u_;e.TimeoutError=u.createErrorClass(function(P){return function(I){I===void 0&&(I=null),P(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=I}});function v(P,C){var I=r.isValidDate(P)?{first:P}:typeof P=="number"?{each:P}:P,k=I.first,F=I.each,V=I.with,Y=V===void 0?_:V,q=I.scheduler,M=q===void 0?C!=null?C:t.asyncScheduler:q,j=I.meta,G=j===void 0?null:j;if(k==null&&F==null)throw new TypeError("No timeout provided.");return n.operate(function(J,he){var pe,ne,ee=null,ie=0,we=function(Se){ne=m.executeSchedule(he,M,function(){try{pe.unsubscribe(),i.innerFrom(Y({meta:G,lastValue:ee,seen:ie})).subscribe(he)}catch(Pe){he.error(Pe)}},Se)};pe=J.subscribe(s.createOperatorSubscriber(he,function(Se){ne==null||ne.unsubscribe(),ie++,he.next(ee=Se),F>0&&we(F)},void 0,void 0,function(){ne!=null&&ne.closed||ne==null||ne.unsubscribe(),ee=null})),!ie&&we(k!=null?typeof k=="number"?k:+k-M.now():F)})}e.timeout=v;function _(P){throw new e.TimeoutError(P)}})(ZC);var TO={},o2={},am={},sm={};Object.defineProperty(sm,"__esModule",{value:!0});sm.map=void 0;var P0e=Gr,I0e=xn;function C0e(e,t){return P0e.operate(function(r,n){var i=0;r.subscribe(I0e.createOperatorSubscriber(n,function(u){n.next(e.call(t,u,i++))}))})}sm.map=C0e;var A0e=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},O0e=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(am,"__esModule",{value:!0});am.mapOneOrManyArgs=void 0;var k0e=sm,T0e=Array.isArray;function L0e(e,t){return T0e(t)?e.apply(void 0,O0e([],A0e(t))):e(t)}function N0e(e){return k0e.map(function(t){return L0e(e,t)})}am.mapOneOrManyArgs=N0e;var M0e=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},P8=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(o2,"__esModule",{value:!0});o2.bindCallbackInternals=void 0;var R0e=Y0,D0e=ks,z0e=Z0,F0e=am,j0e=H0,B0e=Lx;function q3(e,t,r,n){if(r)if(R0e.isScheduler(r))n=r;else return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return q3(e,t,n).apply(this,i).pipe(F0e.mapOneOrManyArgs(r))};return n?function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return q3(e,t).apply(this,i).pipe(z0e.subscribeOn(n),j0e.observeOn(n))}:function(){for(var i=this,u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];var m=new B0e.AsyncSubject,v=!0;return new D0e.Observable(function(_){var P=m.subscribe(_);if(v){v=!1;var C=!1,I=!1;t.apply(i,P8(P8([],M0e(u)),[function(){for(var k=[],F=0;F<arguments.length;F++)k[F]=arguments[F];if(e){var V=k.shift();if(V!=null){m.error(V);return}}m.next(1<k.length?k:k[0]),I=!0,C&&m.complete()}])),I&&m.complete(),C=!0}return P})}}o2.bindCallbackInternals=q3;Object.defineProperty(TO,"__esModule",{value:!0});TO.bindCallback=void 0;var $0e=o2;function U0e(e,t,r){return $0e.bindCallbackInternals(!1,e,t,r)}TO.bindCallback=U0e;var LO={};Object.defineProperty(LO,"__esModule",{value:!0});LO.bindNodeCallback=void 0;var q0e=o2;function V0e(e,t,r){return q0e.bindCallbackInternals(!0,e,t,r)}LO.bindNodeCallback=V0e;var Jy={},a2={};Object.defineProperty(a2,"__esModule",{value:!0});a2.argsArgArrayOrObject=void 0;var G0e=Array.isArray,W0e=Object.getPrototypeOf,X0e=Object.prototype,Y0e=Object.keys;function H0e(e){if(e.length===1){var t=e[0];if(G0e(t))return{args:t,keys:null};if(Z0e(t)){var r=Y0e(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}a2.argsArgArrayOrObject=H0e;function Z0e(e){return e&&typeof e=="object"&&W0e(e)===X0e}var s2={};Object.defineProperty(s2,"__esModule",{value:!0});s2.createObject=void 0;function K0e(e,t){return e.reduce(function(r,n,i){return r[n]=t[i],r},{})}s2.createObject=K0e;Object.defineProperty(Jy,"__esModule",{value:!0});Jy.combineLatestInit=Jy.combineLatest=void 0;var J0e=ks,Q0e=a2,sY=Mh,uY=Kc,e1e=am,I8=cc,t1e=s2,r1e=xn,n1e=u_;function i1e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=I8.popScheduler(e),n=I8.popResultSelector(e),i=Q0e.argsArgArrayOrObject(e),u=i.args,s=i.keys;if(u.length===0)return sY.from([],r);var m=new J0e.Observable(lY(u,r,s?function(v){return t1e.createObject(s,v)}:uY.identity));return n?m.pipe(e1e.mapOneOrManyArgs(n)):m}Jy.combineLatest=i1e;function lY(e,t,r){return r===void 0&&(r=uY.identity),function(n){C8(t,function(){for(var i=e.length,u=new Array(i),s=i,m=i,v=function(P){C8(t,function(){var C=sY.from(e[P],t),I=!1;C.subscribe(r1e.createOperatorSubscriber(n,function(k){u[P]=k,I||(I=!0,m--),m||n.next(r(u.slice()))},function(){--s||n.complete()}))},n)},_=0;_<i;_++)v(_)},n)}}Jy.combineLatestInit=lY;function C8(e,t,r){e?n1e.executeSchedule(r,e,t):t()}var K0={},zx={},J0={},l_={},Fx={};Object.defineProperty(Fx,"__esModule",{value:!0});Fx.mergeInternals=void 0;var o1e=Ni,a1e=u_,A8=xn;function s1e(e,t,r,n,i,u,s,m){var v=[],_=0,P=0,C=!1,I=function(){C&&!v.length&&!_&&t.complete()},k=function(V){return _<n?F(V):v.push(V)},F=function(V){u&&t.next(V),_++;var Y=!1;o1e.innerFrom(r(V,P++)).subscribe(A8.createOperatorSubscriber(t,function(q){i==null||i(q),u?k(q):t.next(q)},function(){Y=!0},void 0,function(){if(Y)try{_--;for(var q=function(){var M=v.shift();s?a1e.executeSchedule(t,s,function(){return F(M)}):F(M)};v.length&&_<n;)q();I()}catch(M){t.error(M)}}))};return e.subscribe(A8.createOperatorSubscriber(t,k,function(){C=!0,I()})),function(){m==null||m()}}Fx.mergeInternals=s1e;Object.defineProperty(l_,"__esModule",{value:!0});l_.mergeMap=void 0;var u1e=sm,l1e=Ni,c1e=Gr,f1e=Fx,p1e=is;function cY(e,t,r){return r===void 0&&(r=1/0),p1e.isFunction(t)?cY(function(n,i){return u1e.map(function(u,s){return t(n,u,i,s)})(l1e.innerFrom(e(n,i)))},r):(typeof t=="number"&&(r=t),c1e.operate(function(n,i){return f1e.mergeInternals(n,i,e,r)}))}l_.mergeMap=cY;Object.defineProperty(J0,"__esModule",{value:!0});J0.mergeAll=void 0;var h1e=l_,d1e=Kc;function _1e(e){return e===void 0&&(e=1/0),h1e.mergeMap(d1e.identity,e)}J0.mergeAll=_1e;Object.defineProperty(zx,"__esModule",{value:!0});zx.concatAll=void 0;var m1e=J0;function g1e(){return m1e.mergeAll(1)}zx.concatAll=g1e;Object.defineProperty(K0,"__esModule",{value:!0});K0.concat=void 0;var y1e=zx,v1e=cc,b1e=Mh;function x1e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return y1e.concatAll()(b1e.from(e,v1e.popScheduler(e)))}K0.concat=x1e;var NO={},Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.defer=void 0;var w1e=ks,S1e=Ni;function E1e(e){return new w1e.Observable(function(t){S1e.innerFrom(e()).subscribe(t)})}Q0.defer=E1e;Object.defineProperty(NO,"__esModule",{value:!0});NO.connectable=void 0;var P1e=Fl,I1e=ks,C1e=Q0,A1e={connector:function(){return new P1e.Subject},resetOnDisconnect:!0};function O1e(e,t){t===void 0&&(t=A1e);var r=null,n=t.connector,i=t.resetOnDisconnect,u=i===void 0?!0:i,s=n(),m=new I1e.Observable(function(v){return s.subscribe(v)});return m.connect=function(){return(!r||r.closed)&&(r=C1e.defer(function(){return e}).subscribe(s),u&&r.add(function(){return s=n()})),r},m}NO.connectable=O1e;var MO={};Object.defineProperty(MO,"__esModule",{value:!0});MO.forkJoin=void 0;var k1e=ks,T1e=a2,L1e=Ni,N1e=cc,M1e=xn,R1e=am,D1e=s2;function z1e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=N1e.popResultSelector(e),n=T1e.argsArgArrayOrObject(e),i=n.args,u=n.keys,s=new k1e.Observable(function(m){var v=i.length;if(!v){m.complete();return}for(var _=new Array(v),P=v,C=v,I=function(F){var V=!1;L1e.innerFrom(i[F]).subscribe(M1e.createOperatorSubscriber(m,function(Y){V||(V=!0,C--),_[F]=Y},function(){return P--},void 0,function(){(!P||!V)&&(C||m.next(u?D1e.createObject(u,_):_),m.complete())}))},k=0;k<v;k++)I(k)});return r?s.pipe(R1e.mapOneOrManyArgs(r)):s}MO.forkJoin=z1e;var RO={},F1e=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u};Object.defineProperty(RO,"__esModule",{value:!0});RO.fromEvent=void 0;var j1e=Ni,B1e=ks,$1e=l_,U1e=Mx,L0=is,q1e=am,V1e=["addListener","removeListener"],G1e=["addEventListener","removeEventListener"],W1e=["on","off"];function V3(e,t,r,n){if(L0.isFunction(r)&&(n=r,r=void 0),n)return V3(e,t,r).pipe(q1e.mapOneOrManyArgs(n));var i=F1e(H1e(e)?G1e.map(function(m){return function(v){return e[m](t,v,r)}}):X1e(e)?V1e.map(O8(e,t)):Y1e(e)?W1e.map(O8(e,t)):[],2),u=i[0],s=i[1];if(!u&&U1e.isArrayLike(e))return $1e.mergeMap(function(m){return V3(m,t,r)})(j1e.innerFrom(e));if(!u)throw new TypeError("Invalid event target");return new B1e.Observable(function(m){var v=function(){for(var _=[],P=0;P<arguments.length;P++)_[P]=arguments[P];return m.next(1<_.length?_:_[0])};return u(v),function(){return s(v)}})}RO.fromEvent=V3;function O8(e,t){return function(r){return function(n){return e[r](t,n)}}}function X1e(e){return L0.isFunction(e.addListener)&&L0.isFunction(e.removeListener)}function Y1e(e){return L0.isFunction(e.on)&&L0.isFunction(e.off)}function H1e(e){return L0.isFunction(e.addEventListener)&&L0.isFunction(e.removeEventListener)}var DO={};Object.defineProperty(DO,"__esModule",{value:!0});DO.fromEventPattern=void 0;var Z1e=ks,K1e=is,J1e=am;function fY(e,t,r){return r?fY(e,t).pipe(J1e.mapOneOrManyArgs(r)):new Z1e.Observable(function(n){var i=function(){for(var s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];return n.next(s.length===1?s[0]:s)},u=e(i);return K1e.isFunction(t)?function(){return t(i,u)}:void 0})}DO.fromEventPattern=fY;var zO={},Q1e=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(zO,"__esModule",{value:!0});zO.generate=void 0;var k8=Kc,ebe=Y0,tbe=Q0,rbe=QE;function nbe(e,t,r,n,i){var u,s,m,v;arguments.length===1?(u=e,v=u.initialState,t=u.condition,r=u.iterate,s=u.resultSelector,m=s===void 0?k8.identity:s,i=u.scheduler):(v=e,!n||ebe.isScheduler(n)?(m=k8.identity,i=n):m=n);function _(){var P;return Q1e(this,function(C){switch(C.label){case 0:P=v,C.label=1;case 1:return!t||t(P)?[4,m(P)]:[3,4];case 2:C.sent(),C.label=3;case 3:return P=r(P),[3,1];case 4:return[2]}})}return tbe.defer(i?function(){return rbe.scheduleIterable(_(),i)}:_)}zO.generate=nbe;var FO={};Object.defineProperty(FO,"__esModule",{value:!0});FO.iif=void 0;var ibe=Q0;function obe(e,t,r){return ibe.defer(function(){return e()?t:r})}FO.iif=obe;var u2={},um={};Object.defineProperty(um,"__esModule",{value:!0});um.timer=void 0;var abe=ks,sbe=th,ube=Y0,lbe=Dx;function cbe(e,t,r){e===void 0&&(e=0),r===void 0&&(r=sbe.async);var n=-1;return t!=null&&(ube.isScheduler(t)?r=t:n=t),new abe.Observable(function(i){var u=lbe.isValidDate(e)?+e-r.now():e;u<0&&(u=0);var s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},u)})}um.timer=cbe;Object.defineProperty(u2,"__esModule",{value:!0});u2.interval=void 0;var fbe=th,pbe=um;function hbe(e,t){return e===void 0&&(e=0),t===void 0&&(t=fbe.asyncScheduler),e<0&&(e=0),pbe.timer(e,e,t)}u2.interval=hbe;var jO={};Object.defineProperty(jO,"__esModule",{value:!0});jO.merge=void 0;var dbe=J0,_be=Ni,mbe=Sd,T8=cc,gbe=Mh;function ybe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=T8.popScheduler(e),n=T8.popNumber(e,1/0),i=e;return i.length?i.length===1?_be.innerFrom(i[0]):dbe.mergeAll(n)(gbe.from(i,r)):mbe.EMPTY}jO.merge=ybe;var G3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var t=ks,r=kc;e.NEVER=new t.Observable(r.noop);function n(){return e.NEVER}e.never=n})(G3);var BO={},$O={},mg={};Object.defineProperty(mg,"__esModule",{value:!0});mg.argsOrArgArray=void 0;var vbe=Array.isArray;function bbe(e){return e.length===1&&vbe(e[0])?e[0]:e}mg.argsOrArgArray=bbe;var xbe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},wbe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty($O,"__esModule",{value:!0});$O.onErrorResumeNext=void 0;var Sbe=Gr,Ebe=Ni,Pbe=mg,Ibe=xn,L8=kc;function Cbe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Pbe.argsOrArgArray(e);return Sbe.operate(function(n,i){var u=wbe([n],xbe(r)),s=function(){if(!i.closed)if(u.length>0){var m=void 0;try{m=Ebe.innerFrom(u.shift())}catch{s();return}var v=Ibe.createOperatorSubscriber(i,void 0,L8.noop,L8.noop);m.subscribe(v),v.add(s)}else i.complete()};s()})}$O.onErrorResumeNext=Cbe;Object.defineProperty(BO,"__esModule",{value:!0});BO.onErrorResumeNext=void 0;var Abe=Sd,Obe=$O,kbe=mg;function Tbe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Obe.onErrorResumeNext(kbe.argsOrArgArray(e))(Abe.EMPTY)}BO.onErrorResumeNext=Tbe;var UO={};Object.defineProperty(UO,"__esModule",{value:!0});UO.pairs=void 0;var Lbe=Mh;function Nbe(e,t){return Lbe.from(Object.entries(e),t)}UO.pairs=Nbe;var qO={},VO={};Object.defineProperty(VO,"__esModule",{value:!0});VO.not=void 0;function Mbe(e,t){return function(r,n){return!e.call(t,r,n)}}VO.not=Mbe;var gg={};Object.defineProperty(gg,"__esModule",{value:!0});gg.filter=void 0;var Rbe=Gr,Dbe=xn;function zbe(e,t){return Rbe.operate(function(r,n){var i=0;r.subscribe(Dbe.createOperatorSubscriber(n,function(u){return e.call(t,u,i++)&&n.next(u)}))})}gg.filter=zbe;Object.defineProperty(qO,"__esModule",{value:!0});qO.partition=void 0;var Fbe=VO,N8=gg,M8=Ni;function jbe(e,t,r){return[N8.filter(t,r)(M8.innerFrom(e)),N8.filter(Fbe.not(t,r))(M8.innerFrom(e))]}qO.partition=jbe;var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.raceInit=N0.race=void 0;var Bbe=ks,pY=Ni,$be=mg,Ube=xn;function qbe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=$be.argsOrArgArray(e),e.length===1?pY.innerFrom(e[0]):new Bbe.Observable(hY(e))}N0.race=qbe;function hY(e){return function(t){for(var r=[],n=function(u){r.push(pY.innerFrom(e[u]).subscribe(Ube.createOperatorSubscriber(t,function(s){if(r){for(var m=0;m<r.length;m++)m!==u&&r[m].unsubscribe();r=null}t.next(s)})))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}}N0.raceInit=hY;var GO={};Object.defineProperty(GO,"__esModule",{value:!0});GO.range=void 0;var Vbe=ks,Gbe=Sd;function Wbe(e,t,r){if(t==null&&(t=e,e=0),t<=0)return Gbe.EMPTY;var n=t+e;return new Vbe.Observable(r?function(i){var u=e;return r.schedule(function(){u<n?(i.next(u++),this.schedule()):i.complete()})}:function(i){for(var u=e;u<n&&!i.closed;)i.next(u++);i.complete()})}GO.range=Wbe;var WO={};Object.defineProperty(WO,"__esModule",{value:!0});WO.using=void 0;var Xbe=ks,Ybe=Ni,Hbe=Sd;function Zbe(e,t){return new Xbe.Observable(function(r){var n=e(),i=t(n),u=i?Ybe.innerFrom(i):Hbe.EMPTY;return u.subscribe(r),function(){n&&n.unsubscribe()}})}WO.using=Zbe;var jx={},Kbe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},Jbe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(jx,"__esModule",{value:!0});jx.zip=void 0;var Qbe=ks,exe=Ni,txe=mg,rxe=Sd,nxe=xn,ixe=cc;function oxe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ixe.popResultSelector(e),n=txe.argsOrArgArray(e);return n.length?new Qbe.Observable(function(i){var u=n.map(function(){return[]}),s=n.map(function(){return!1});i.add(function(){u=s=null});for(var m=function(_){exe.innerFrom(n[_]).subscribe(nxe.createOperatorSubscriber(i,function(P){if(u[_].push(P),u.every(function(I){return I.length})){var C=u.map(function(I){return I.shift()});i.next(r?r.apply(void 0,Jbe([],Kbe(C))):C),u.some(function(I,k){return!I.length&&s[k]})&&i.complete()}},function(){s[_]=!0,!u[_].length&&i.complete()}))},v=0;!i.closed&&v<n.length;v++)m(v);return function(){u=s=null}}):rxe.EMPTY}jx.zip=oxe;var dY={};Object.defineProperty(dY,"__esModule",{value:!0});var l2={};Object.defineProperty(l2,"__esModule",{value:!0});l2.audit=void 0;var axe=Gr,sxe=Ni,R8=xn;function uxe(e){return axe.operate(function(t,r){var n=!1,i=null,u=null,s=!1,m=function(){if(u==null||u.unsubscribe(),u=null,n){n=!1;var _=i;i=null,r.next(_)}s&&r.complete()},v=function(){u=null,s&&r.complete()};t.subscribe(R8.createOperatorSubscriber(r,function(_){n=!0,i=_,u||sxe.innerFrom(e(_)).subscribe(u=R8.createOperatorSubscriber(r,m,v))},function(){s=!0,(!n||!u||u.closed)&&r.complete()}))})}l2.audit=uxe;var XO={};Object.defineProperty(XO,"__esModule",{value:!0});XO.auditTime=void 0;var lxe=th,cxe=l2,fxe=um;function pxe(e,t){return t===void 0&&(t=lxe.asyncScheduler),cxe.audit(function(){return fxe.timer(e,t)})}XO.auditTime=pxe;var YO={};Object.defineProperty(YO,"__esModule",{value:!0});YO.buffer=void 0;var hxe=Gr,dxe=kc,D8=xn;function _xe(e){return hxe.operate(function(t,r){var n=[];return t.subscribe(D8.createOperatorSubscriber(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),e.subscribe(D8.createOperatorSubscriber(r,function(){var i=n;n=[],r.next(i)},dxe.noop)),function(){n=null}})}YO.buffer=_xe;var HO={},DN=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(HO,"__esModule",{value:!0});HO.bufferCount=void 0;var mxe=Gr,gxe=xn,yxe=s_;function vxe(e,t){return t===void 0&&(t=null),t=t!=null?t:e,mxe.operate(function(r,n){var i=[],u=0;r.subscribe(gxe.createOperatorSubscriber(n,function(s){var m,v,_,P,C=null;u++%t===0&&i.push([]);try{for(var I=DN(i),k=I.next();!k.done;k=I.next()){var F=k.value;F.push(s),e<=F.length&&(C=C!=null?C:[],C.push(F))}}catch(q){m={error:q}}finally{try{k&&!k.done&&(v=I.return)&&v.call(I)}finally{if(m)throw m.error}}if(C)try{for(var V=DN(C),Y=V.next();!Y.done;Y=V.next()){var F=Y.value;yxe.arrRemove(i,F),n.next(F)}}catch(q){_={error:q}}finally{try{Y&&!Y.done&&(P=V.return)&&P.call(V)}finally{if(_)throw _.error}}},function(){var s,m;try{for(var v=DN(i),_=v.next();!_.done;_=v.next()){var P=_.value;n.next(P)}}catch(C){s={error:C}}finally{try{_&&!_.done&&(m=v.return)&&m.call(v)}finally{if(s)throw s.error}}n.complete()},void 0,function(){i=null}))})}HO.bufferCount=vxe;var ZO={},bxe=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ZO,"__esModule",{value:!0});ZO.bufferTime=void 0;var xxe=lc,wxe=Gr,Sxe=xn,Exe=s_,Pxe=th,Ixe=cc,z8=u_;function Cxe(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var u=(t=Ixe.popScheduler(n))!==null&&t!==void 0?t:Pxe.asyncScheduler,s=(r=n[0])!==null&&r!==void 0?r:null,m=n[1]||1/0;return wxe.operate(function(v,_){var P=[],C=!1,I=function(V){var Y=V.buffer,q=V.subs;q.unsubscribe(),Exe.arrRemove(P,V),_.next(Y),C&&k()},k=function(){if(P){var V=new xxe.Subscription;_.add(V);var Y=[],q={buffer:Y,subs:V};P.push(q),z8.executeSchedule(V,u,function(){return I(q)},e)}};s!==null&&s>=0?z8.executeSchedule(_,u,k,s,!0):C=!0,k();var F=Sxe.createOperatorSubscriber(_,function(V){var Y,q,M=P.slice();try{for(var j=bxe(M),G=j.next();!G.done;G=j.next()){var J=G.value,he=J.buffer;he.push(V),m<=he.length&&I(J)}}catch(pe){Y={error:pe}}finally{try{G&&!G.done&&(q=j.return)&&q.call(j)}finally{if(Y)throw Y.error}}},function(){for(;P!=null&&P.length;)_.next(P.shift().buffer);F==null||F.unsubscribe(),_.complete(),_.unsubscribe()},void 0,function(){return P=null});v.subscribe(F)})}ZO.bufferTime=Cxe;var KO={},Axe=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(KO,"__esModule",{value:!0});KO.bufferToggle=void 0;var Oxe=lc,kxe=Gr,F8=Ni,zN=xn,j8=kc,Txe=s_;function Lxe(e,t){return kxe.operate(function(r,n){var i=[];F8.innerFrom(e).subscribe(zN.createOperatorSubscriber(n,function(u){var s=[];i.push(s);var m=new Oxe.Subscription,v=function(){Txe.arrRemove(i,s),n.next(s),m.unsubscribe()};m.add(F8.innerFrom(t(u)).subscribe(zN.createOperatorSubscriber(n,v,j8.noop)))},j8.noop)),r.subscribe(zN.createOperatorSubscriber(n,function(u){var s,m;try{for(var v=Axe(i),_=v.next();!_.done;_=v.next()){var P=_.value;P.push(u)}}catch(C){s={error:C}}finally{try{_&&!_.done&&(m=v.return)&&m.call(v)}finally{if(s)throw s.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}KO.bufferToggle=Lxe;var JO={};Object.defineProperty(JO,"__esModule",{value:!0});JO.bufferWhen=void 0;var Nxe=Gr,Mxe=kc,B8=xn,Rxe=Ni;function Dxe(e){return Nxe.operate(function(t,r){var n=null,i=null,u=function(){i==null||i.unsubscribe();var s=n;n=[],s&&r.next(s),Rxe.innerFrom(e()).subscribe(i=B8.createOperatorSubscriber(r,u,Mxe.noop))};u(),t.subscribe(B8.createOperatorSubscriber(r,function(s){return n==null?void 0:n.push(s)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}JO.bufferWhen=Dxe;var QO={};Object.defineProperty(QO,"__esModule",{value:!0});QO.catchError=void 0;var zxe=Ni,Fxe=xn,jxe=Gr;function _Y(e){return jxe.operate(function(t,r){var n=null,i=!1,u;n=t.subscribe(Fxe.createOperatorSubscriber(r,void 0,void 0,function(s){u=zxe.innerFrom(e(s,_Y(e)(t))),n?(n.unsubscribe(),n=null,u.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,u.subscribe(r))})}QO.catchError=_Y;var ek={},c2={},f2={},p2={},fv={},h2={};Object.defineProperty(h2,"__esModule",{value:!0});h2.scanInternals=void 0;var Bxe=xn;function $xe(e,t,r,n,i){return function(u,s){var m=r,v=t,_=0;u.subscribe(Bxe.createOperatorSubscriber(s,function(P){var C=_++;v=m?e(v,P,C):(m=!0,P),n&&s.next(v)},i&&function(){m&&s.next(v),s.complete()}))}}h2.scanInternals=$xe;Object.defineProperty(fv,"__esModule",{value:!0});fv.reduce=void 0;var Uxe=h2,qxe=Gr;function Vxe(e,t){return qxe.operate(Uxe.scanInternals(e,t,arguments.length>=2,!1,!0))}fv.reduce=Vxe;Object.defineProperty(p2,"__esModule",{value:!0});p2.toArray=void 0;var Gxe=fv,Wxe=Gr,Xxe=function(e,t){return e.push(t),e};function Yxe(){return Wxe.operate(function(e,t){Gxe.reduce(Xxe,[])(e).subscribe(t)})}p2.toArray=Yxe;Object.defineProperty(f2,"__esModule",{value:!0});f2.joinAllInternals=void 0;var Hxe=Kc,Zxe=am,Kxe=cg,Jxe=l_,Qxe=p2;function ewe(e,t){return Kxe.pipe(Qxe.toArray(),Jxe.mergeMap(function(r){return e(r)}),t?Zxe.mapOneOrManyArgs(t):Hxe.identity)}f2.joinAllInternals=ewe;Object.defineProperty(c2,"__esModule",{value:!0});c2.combineLatestAll=void 0;var twe=Jy,rwe=f2;function nwe(e){return rwe.joinAllInternals(twe.combineLatest,e)}c2.combineLatestAll=nwe;Object.defineProperty(ek,"__esModule",{value:!0});ek.combineAll=void 0;var iwe=c2;ek.combineAll=iwe.combineLatestAll;var tk={},rk={},$8=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},U8=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(rk,"__esModule",{value:!0});rk.combineLatest=void 0;var owe=Jy,awe=Gr,swe=mg,uwe=am,lwe=cg,cwe=cc;function mY(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=cwe.popResultSelector(e);return r?lwe.pipe(mY.apply(void 0,U8([],$8(e))),uwe.mapOneOrManyArgs(r)):awe.operate(function(n,i){owe.combineLatestInit(U8([n],$8(swe.argsOrArgArray(e))))(i)})}rk.combineLatest=mY;var fwe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},pwe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(tk,"__esModule",{value:!0});tk.combineLatestWith=void 0;var hwe=rk;function dwe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return hwe.combineLatest.apply(void 0,pwe([],fwe(e)))}tk.combineLatestWith=dwe;var d2={};Object.defineProperty(d2,"__esModule",{value:!0});d2.concatMap=void 0;var q8=l_,_we=is;function mwe(e,t){return _we.isFunction(t)?q8.mergeMap(e,t,1):q8.mergeMap(e,1)}d2.concatMap=mwe;var nk={};Object.defineProperty(nk,"__esModule",{value:!0});nk.concatMapTo=void 0;var V8=d2,gwe=is;function ywe(e,t){return gwe.isFunction(t)?V8.concatMap(function(){return e},t):V8.concatMap(function(){return e})}nk.concatMapTo=ywe;var ik={},ok={},vwe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},bwe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ok,"__esModule",{value:!0});ok.concat=void 0;var xwe=Gr,wwe=zx,Swe=cc,Ewe=Mh;function Pwe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Swe.popScheduler(e);return xwe.operate(function(n,i){wwe.concatAll()(Ewe.from(bwe([n],vwe(e)),r)).subscribe(i)})}ok.concat=Pwe;var Iwe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},Cwe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ik,"__esModule",{value:!0});ik.concatWith=void 0;var Awe=ok;function Owe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Awe.concat.apply(void 0,Cwe([],Iwe(e)))}ik.concatWith=Owe;var Bx={},ak={};Object.defineProperty(ak,"__esModule",{value:!0});ak.fromSubscribable=void 0;var kwe=ks;function Twe(e){return new kwe.Observable(function(t){return e.subscribe(t)})}ak.fromSubscribable=Twe;Object.defineProperty(Bx,"__esModule",{value:!0});Bx.connect=void 0;var Lwe=Fl,Nwe=Mh,Mwe=Gr,Rwe=ak,Dwe={connector:function(){return new Lwe.Subject}};function zwe(e,t){t===void 0&&(t=Dwe);var r=t.connector;return Mwe.operate(function(n,i){var u=r();Nwe.from(e(Rwe.fromSubscribable(u))).subscribe(i),i.add(n.subscribe(u))})}Bx.connect=zwe;var sk={};Object.defineProperty(sk,"__esModule",{value:!0});sk.count=void 0;var Fwe=fv;function jwe(e){return Fwe.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}sk.count=jwe;var uk={};Object.defineProperty(uk,"__esModule",{value:!0});uk.debounce=void 0;var Bwe=Gr,$we=kc,G8=xn,Uwe=Ni;function qwe(e){return Bwe.operate(function(t,r){var n=!1,i=null,u=null,s=function(){if(u==null||u.unsubscribe(),u=null,n){n=!1;var m=i;i=null,r.next(m)}};t.subscribe(G8.createOperatorSubscriber(r,function(m){u==null||u.unsubscribe(),n=!0,i=m,u=G8.createOperatorSubscriber(r,s,$we.noop),Uwe.innerFrom(e(m)).subscribe(u)},function(){s(),r.complete()},void 0,function(){i=u=null}))})}uk.debounce=qwe;var lk={};Object.defineProperty(lk,"__esModule",{value:!0});lk.debounceTime=void 0;var Vwe=th,Gwe=Gr,Wwe=xn;function Xwe(e,t){return t===void 0&&(t=Vwe.asyncScheduler),Gwe.operate(function(r,n){var i=null,u=null,s=null,m=function(){if(i){i.unsubscribe(),i=null;var _=u;u=null,n.next(_)}};function v(){var _=s+e,P=t.now();if(P<_){i=this.schedule(void 0,_-P),n.add(i);return}m()}r.subscribe(Wwe.createOperatorSubscriber(n,function(_){u=_,s=t.now(),i||(i=t.schedule(v,e),n.add(i))},function(){m(),n.complete()},void 0,function(){u=i=null}))})}lk.debounceTime=Xwe;var e1={};Object.defineProperty(e1,"__esModule",{value:!0});e1.defaultIfEmpty=void 0;var Ywe=Gr,Hwe=xn;function Zwe(e){return Ywe.operate(function(t,r){var n=!1;t.subscribe(Hwe.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){n||r.next(e),r.complete()}))})}e1.defaultIfEmpty=Zwe;var ck={},_2={},pv={};Object.defineProperty(pv,"__esModule",{value:!0});pv.take=void 0;var Kwe=Sd,Jwe=Gr,Qwe=xn;function eSe(e){return e<=0?function(){return Kwe.EMPTY}:Jwe.operate(function(t,r){var n=0;t.subscribe(Qwe.createOperatorSubscriber(r,function(i){++n<=e&&(r.next(i),e<=n&&r.complete())}))})}pv.take=eSe;var m2={};Object.defineProperty(m2,"__esModule",{value:!0});m2.ignoreElements=void 0;var tSe=Gr,rSe=xn,nSe=kc;function iSe(){return tSe.operate(function(e,t){e.subscribe(rSe.createOperatorSubscriber(t,nSe.noop))})}m2.ignoreElements=iSe;var g2={};Object.defineProperty(g2,"__esModule",{value:!0});g2.mapTo=void 0;var oSe=sm;function aSe(e){return oSe.map(function(){return e})}g2.mapTo=aSe;Object.defineProperty(_2,"__esModule",{value:!0});_2.delayWhen=void 0;var sSe=K0,W8=pv,uSe=m2,lSe=g2,cSe=l_;function gY(e,t){return t?function(r){return sSe.concat(t.pipe(W8.take(1),uSe.ignoreElements()),r.pipe(gY(e)))}:cSe.mergeMap(function(r,n){return e(r,n).pipe(W8.take(1),lSe.mapTo(r))})}_2.delayWhen=gY;Object.defineProperty(ck,"__esModule",{value:!0});ck.delay=void 0;var fSe=th,pSe=_2,hSe=um;function dSe(e,t){t===void 0&&(t=fSe.asyncScheduler);var r=hSe.timer(e,t);return pSe.delayWhen(function(){return r})}ck.delay=dSe;var fk={};Object.defineProperty(fk,"__esModule",{value:!0});fk.dematerialize=void 0;var _Se=SO,mSe=Gr,gSe=xn;function ySe(){return mSe.operate(function(e,t){e.subscribe(gSe.createOperatorSubscriber(t,function(r){return _Se.observeNotification(r,t)}))})}fk.dematerialize=ySe;var pk={};Object.defineProperty(pk,"__esModule",{value:!0});pk.distinct=void 0;var vSe=Gr,X8=xn,bSe=kc;function xSe(e,t){return vSe.operate(function(r,n){var i=new Set;r.subscribe(X8.createOperatorSubscriber(n,function(u){var s=e?e(u):u;i.has(s)||(i.add(s),n.next(u))})),t==null||t.subscribe(X8.createOperatorSubscriber(n,function(){return i.clear()},bSe.noop))})}pk.distinct=xSe;var y2={};Object.defineProperty(y2,"__esModule",{value:!0});y2.distinctUntilChanged=void 0;var wSe=Kc,SSe=Gr,ESe=xn;function PSe(e,t){return t===void 0&&(t=wSe.identity),e=e!=null?e:ISe,SSe.operate(function(r,n){var i,u=!0;r.subscribe(ESe.createOperatorSubscriber(n,function(s){var m=t(s);(u||!e(i,m))&&(u=!1,i=m,n.next(s))}))})}y2.distinctUntilChanged=PSe;function ISe(e,t){return e===t}var hk={};Object.defineProperty(hk,"__esModule",{value:!0});hk.distinctUntilKeyChanged=void 0;var CSe=y2;function ASe(e,t){return CSe.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}hk.distinctUntilKeyChanged=ASe;var dk={},t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.throwIfEmpty=void 0;var OSe=om,kSe=Gr,TSe=xn;function LSe(e){return e===void 0&&(e=NSe),kSe.operate(function(t,r){var n=!1;t.subscribe(TSe.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(e())}))})}t1.throwIfEmpty=LSe;function NSe(){return new OSe.EmptyError}Object.defineProperty(dk,"__esModule",{value:!0});dk.elementAt=void 0;var Y8=r2,MSe=gg,RSe=t1,DSe=e1,zSe=pv;function FSe(e,t){if(e<0)throw new Y8.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(MSe.filter(function(i,u){return u===e}),zSe.take(1),r?DSe.defaultIfEmpty(t):RSe.throwIfEmpty(function(){return new Y8.ArgumentOutOfRangeError}))}}dk.elementAt=FSe;var _k={},jSe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},BSe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(_k,"__esModule",{value:!0});_k.endWith=void 0;var $Se=K0,USe=Nx;function qSe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return $Se.concat(r,USe.of.apply(void 0,BSe([],jSe(e))))}}_k.endWith=qSe;var mk={};Object.defineProperty(mk,"__esModule",{value:!0});mk.every=void 0;var VSe=Gr,GSe=xn;function WSe(e,t){return VSe.operate(function(r,n){var i=0;r.subscribe(GSe.createOperatorSubscriber(n,function(u){e.call(t,u,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}mk.every=WSe;var gk={},v2={};Object.defineProperty(v2,"__esModule",{value:!0});v2.exhaustAll=void 0;var XSe=Gr,YSe=Ni,H8=xn;function HSe(){return XSe.operate(function(e,t){var r=!1,n=null;e.subscribe(H8.createOperatorSubscriber(t,function(i){n||(n=YSe.innerFrom(i).subscribe(H8.createOperatorSubscriber(t,void 0,function(){n=null,r&&t.complete()})))},function(){r=!0,!n&&t.complete()}))})}v2.exhaustAll=HSe;Object.defineProperty(gk,"__esModule",{value:!0});gk.exhaust=void 0;var ZSe=v2;gk.exhaust=ZSe.exhaustAll;var yk={};Object.defineProperty(yk,"__esModule",{value:!0});yk.exhaustMap=void 0;var KSe=sm,Z8=Ni,JSe=Gr,K8=xn;function yY(e,t){return t?function(r){return r.pipe(yY(function(n,i){return Z8.innerFrom(e(n,i)).pipe(KSe.map(function(u,s){return t(n,u,i,s)}))}))}:JSe.operate(function(r,n){var i=0,u=null,s=!1;r.subscribe(K8.createOperatorSubscriber(n,function(m){u||(u=K8.createOperatorSubscriber(n,void 0,function(){u=null,s&&n.complete()}),Z8.innerFrom(e(m,i++)).subscribe(u))},function(){s=!0,!u&&n.complete()}))})}yk.exhaustMap=yY;var vk={};Object.defineProperty(vk,"__esModule",{value:!0});vk.expand=void 0;var QSe=Gr,eEe=Fx;function tEe(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,QSe.operate(function(n,i){return eEe.mergeInternals(n,i,e,t,void 0,!0,r)})}vk.expand=tEe;var bk={};Object.defineProperty(bk,"__esModule",{value:!0});bk.finalize=void 0;var rEe=Gr;function nEe(e){return rEe.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}bk.finalize=nEe;var M0={};Object.defineProperty(M0,"__esModule",{value:!0});M0.createFind=M0.find=void 0;var iEe=Gr,oEe=xn;function aEe(e,t){return iEe.operate(vY(e,t,"value"))}M0.find=aEe;function vY(e,t,r){var n=r==="index";return function(i,u){var s=0;i.subscribe(oEe.createOperatorSubscriber(u,function(m){var v=s++;e.call(t,m,v,i)&&(u.next(n?v:m),u.complete())},function(){u.next(n?-1:void 0),u.complete()}))}}M0.createFind=vY;var xk={};Object.defineProperty(xk,"__esModule",{value:!0});xk.findIndex=void 0;var sEe=Gr,uEe=M0;function lEe(e,t){return sEe.operate(uEe.createFind(e,t,"index"))}xk.findIndex=lEe;var wk={};Object.defineProperty(wk,"__esModule",{value:!0});wk.first=void 0;var cEe=om,fEe=gg,pEe=pv,hEe=e1,dEe=t1,_Ee=Kc;function mEe(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?fEe.filter(function(i,u){return e(i,u,n)}):_Ee.identity,pEe.take(1),r?hEe.defaultIfEmpty(t):dEe.throwIfEmpty(function(){return new cEe.EmptyError}))}}wk.first=mEe;var Sk={};Object.defineProperty(Sk,"__esModule",{value:!0});Sk.groupBy=void 0;var gEe=ks,yEe=Ni,vEe=Fl,bEe=Gr,J8=xn;function xEe(e,t,r,n){return bEe.operate(function(i,u){var s;!t||typeof t=="function"?s=t:(r=t.duration,s=t.element,n=t.connector);var m=new Map,v=function(F){m.forEach(F),F(u)},_=function(F){return v(function(V){return V.error(F)})},P=0,C=!1,I=new J8.OperatorSubscriber(u,function(F){try{var V=e(F),Y=m.get(V);if(!Y){m.set(V,Y=n?n():new vEe.Subject);var q=k(V,Y);if(u.next(q),r){var M=J8.createOperatorSubscriber(Y,function(){Y.complete(),M==null||M.unsubscribe()},void 0,void 0,function(){return m.delete(V)});I.add(yEe.innerFrom(r(q)).subscribe(M))}}Y.next(s?s(F):F)}catch(j){_(j)}},function(){return v(function(F){return F.complete()})},_,function(){return m.clear()},function(){return C=!0,P===0});i.subscribe(I);function k(F,V){var Y=new gEe.Observable(function(q){P++;var M=V.subscribe(q);return function(){M.unsubscribe(),--P===0&&C&&I.unsubscribe()}});return Y.key=F,Y}})}Sk.groupBy=xEe;var Ek={};Object.defineProperty(Ek,"__esModule",{value:!0});Ek.isEmpty=void 0;var wEe=Gr,SEe=xn;function EEe(){return wEe.operate(function(e,t){e.subscribe(SEe.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}Ek.isEmpty=EEe;var Pk={},b2={},PEe=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(b2,"__esModule",{value:!0});b2.takeLast=void 0;var IEe=Sd,CEe=Gr,AEe=xn;function OEe(e){return e<=0?function(){return IEe.EMPTY}:CEe.operate(function(t,r){var n=[];t.subscribe(AEe.createOperatorSubscriber(r,function(i){n.push(i),e<n.length&&n.shift()},function(){var i,u;try{for(var s=PEe(n),m=s.next();!m.done;m=s.next()){var v=m.value;r.next(v)}}catch(_){i={error:_}}finally{try{m&&!m.done&&(u=s.return)&&u.call(s)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}b2.takeLast=OEe;Object.defineProperty(Pk,"__esModule",{value:!0});Pk.last=void 0;var kEe=om,TEe=gg,LEe=b2,NEe=t1,MEe=e1,REe=Kc;function DEe(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?TEe.filter(function(i,u){return e(i,u,n)}):REe.identity,LEe.takeLast(1),r?MEe.defaultIfEmpty(t):NEe.throwIfEmpty(function(){return new kEe.EmptyError}))}}Pk.last=DEe;var Ik={};Object.defineProperty(Ik,"__esModule",{value:!0});Ik.materialize=void 0;var FN=SO,zEe=Gr,FEe=xn;function jEe(){return zEe.operate(function(e,t){e.subscribe(FEe.createOperatorSubscriber(t,function(r){t.next(FN.Notification.createNext(r))},function(){t.next(FN.Notification.createComplete()),t.complete()},function(r){t.next(FN.Notification.createError(r)),t.complete()}))})}Ik.materialize=jEe;var Ck={};Object.defineProperty(Ck,"__esModule",{value:!0});Ck.max=void 0;var BEe=fv,$Ee=is;function UEe(e){return BEe.reduce($Ee.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}Ck.max=UEe;var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});Ak.flatMap=void 0;var qEe=l_;Ak.flatMap=qEe.mergeMap;var Ok={};Object.defineProperty(Ok,"__esModule",{value:!0});Ok.mergeMapTo=void 0;var Q8=l_,VEe=is;function GEe(e,t,r){return r===void 0&&(r=1/0),VEe.isFunction(t)?Q8.mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),Q8.mergeMap(function(){return e},r))}Ok.mergeMapTo=GEe;var kk={};Object.defineProperty(kk,"__esModule",{value:!0});kk.mergeScan=void 0;var WEe=Gr,XEe=Fx;function YEe(e,t,r){return r===void 0&&(r=1/0),WEe.operate(function(n,i){var u=t;return XEe.mergeInternals(n,i,function(s,m){return e(u,s,m)},r,function(s){u=s},!1,void 0,function(){return u=null})})}kk.mergeScan=YEe;var Tk={},Lk={},HEe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},ZEe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Lk,"__esModule",{value:!0});Lk.merge=void 0;var KEe=Gr,JEe=mg,QEe=J0,e$=cc,e2e=Mh;function t2e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e$.popScheduler(e),n=e$.popNumber(e,1/0);return e=JEe.argsOrArgArray(e),KEe.operate(function(i,u){QEe.mergeAll(n)(e2e.from(ZEe([i],HEe(e)),r)).subscribe(u)})}Lk.merge=t2e;var r2e=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},n2e=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Tk,"__esModule",{value:!0});Tk.mergeWith=void 0;var i2e=Lk;function o2e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i2e.merge.apply(void 0,n2e([],r2e(e)))}Tk.mergeWith=o2e;var Nk={};Object.defineProperty(Nk,"__esModule",{value:!0});Nk.min=void 0;var a2e=fv,s2e=is;function u2e(e){return a2e.reduce(s2e.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}Nk.min=u2e;var $x={};Object.defineProperty($x,"__esModule",{value:!0});$x.multicast=void 0;var l2e=X0,t$=is,c2e=Bx;function f2e(e,t){var r=t$.isFunction(e)?e:function(){return e};return t$.isFunction(t)?c2e.connect(t,{connector:r}):function(n){return new l2e.ConnectableObservable(n,r)}}$x.multicast=f2e;var Mk={};Object.defineProperty(Mk,"__esModule",{value:!0});Mk.pairwise=void 0;var p2e=Gr,h2e=xn;function d2e(){return p2e.operate(function(e,t){var r,n=!1;e.subscribe(h2e.createOperatorSubscriber(t,function(i){var u=r;r=i,n&&t.next([u,i]),n=!0}))})}Mk.pairwise=d2e;var Rk={};Object.defineProperty(Rk,"__esModule",{value:!0});Rk.pluck=void 0;var _2e=sm;function m2e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return _2e.map(function(n){for(var i=n,u=0;u<r;u++){var s=i==null?void 0:i[e[u]];if(typeof s!="undefined")i=s;else return}return i})}Rk.pluck=m2e;var Dk={};Object.defineProperty(Dk,"__esModule",{value:!0});Dk.publish=void 0;var g2e=Fl,y2e=$x,v2e=Bx;function b2e(e){return e?function(t){return v2e.connect(e)(t)}:function(t){return y2e.multicast(new g2e.Subject)(t)}}Dk.publish=b2e;var zk={};Object.defineProperty(zk,"__esModule",{value:!0});zk.publishBehavior=void 0;var x2e=GE,w2e=X0;function S2e(e){return function(t){var r=new x2e.BehaviorSubject(e);return new w2e.ConnectableObservable(t,function(){return r})}}zk.publishBehavior=S2e;var Fk={};Object.defineProperty(Fk,"__esModule",{value:!0});Fk.publishLast=void 0;var E2e=Lx,P2e=X0;function I2e(){return function(e){var t=new E2e.AsyncSubject;return new P2e.ConnectableObservable(e,function(){return t})}}Fk.publishLast=I2e;var jk={};Object.defineProperty(jk,"__esModule",{value:!0});jk.publishReplay=void 0;var C2e=Tx,A2e=$x,r$=is;function O2e(e,t,r,n){r&&!r$.isFunction(r)&&(n=r);var i=r$.isFunction(r)?r:void 0;return function(u){return A2e.multicast(new C2e.ReplaySubject(e,t,n),i)(u)}}jk.publishReplay=O2e;var Bk={},k2e=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},T2e=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Bk,"__esModule",{value:!0});Bk.raceWith=void 0;var L2e=N0,N2e=Gr,M2e=Kc;function R2e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?N2e.operate(function(r,n){L2e.raceInit(T2e([r],k2e(e)))(n)}):M2e.identity}Bk.raceWith=R2e;var $k={};Object.defineProperty($k,"__esModule",{value:!0});$k.repeat=void 0;var D2e=Sd,z2e=Gr,n$=xn,F2e=Ni,j2e=um;function B2e(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return D2e.EMPTY}:z2e.operate(function(i,u){var s=0,m,v=function(){if(m==null||m.unsubscribe(),m=null,n!=null){var P=typeof n=="number"?j2e.timer(n):F2e.innerFrom(n(s)),C=n$.createOperatorSubscriber(u,function(){C.unsubscribe(),_()});P.subscribe(C)}else _()},_=function(){var P=!1;m=i.subscribe(n$.createOperatorSubscriber(u,void 0,function(){++s<r?m?v():P=!0:u.complete()})),P&&v()};_()})}$k.repeat=B2e;var Uk={};Object.defineProperty(Uk,"__esModule",{value:!0});Uk.repeatWhen=void 0;var $2e=Fl,U2e=Gr,i$=xn;function q2e(e){return U2e.operate(function(t,r){var n,i=!1,u,s=!1,m=!1,v=function(){return m&&s&&(r.complete(),!0)},_=function(){return u||(u=new $2e.Subject,e(u).subscribe(i$.createOperatorSubscriber(r,function(){n?P():i=!0},function(){s=!0,v()}))),u},P=function(){m=!1,n=t.subscribe(i$.createOperatorSubscriber(r,void 0,function(){m=!0,!v()&&_().next()})),i&&(n.unsubscribe(),n=null,i=!1,P())};P()})}Uk.repeatWhen=q2e;var qk={};Object.defineProperty(qk,"__esModule",{value:!0});qk.retry=void 0;var V2e=Gr,o$=xn,G2e=Kc,W2e=um,X2e=Ni;function Y2e(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,i=t.delay,u=t.resetOnSuccess,s=u===void 0?!1:u;return n<=0?G2e.identity:V2e.operate(function(m,v){var _=0,P,C=function(){var I=!1;P=m.subscribe(o$.createOperatorSubscriber(v,function(k){s&&(_=0),v.next(k)},void 0,function(k){if(_++<n){var F=function(){P?(P.unsubscribe(),P=null,C()):I=!0};if(i!=null){var V=typeof i=="number"?W2e.timer(i):X2e.innerFrom(i(k,_)),Y=o$.createOperatorSubscriber(v,function(){Y.unsubscribe(),F()},function(){v.complete()});V.subscribe(Y)}else F()}else v.error(k)})),I&&(P.unsubscribe(),P=null,C())};C()})}qk.retry=Y2e;var Vk={};Object.defineProperty(Vk,"__esModule",{value:!0});Vk.retryWhen=void 0;var H2e=Fl,Z2e=Gr,a$=xn;function K2e(e){return Z2e.operate(function(t,r){var n,i=!1,u,s=function(){n=t.subscribe(a$.createOperatorSubscriber(r,void 0,void 0,function(m){u||(u=new H2e.Subject,e(u).subscribe(a$.createOperatorSubscriber(r,function(){return n?s():i=!0}))),u&&u.next(m)})),i&&(n.unsubscribe(),n=null,i=!1,s())};s()})}Vk.retryWhen=K2e;var x2={};Object.defineProperty(x2,"__esModule",{value:!0});x2.sample=void 0;var J2e=Gr,Q2e=kc,s$=xn;function ePe(e){return J2e.operate(function(t,r){var n=!1,i=null;t.subscribe(s$.createOperatorSubscriber(r,function(u){n=!0,i=u})),e.subscribe(s$.createOperatorSubscriber(r,function(){if(n){n=!1;var u=i;i=null,r.next(u)}},Q2e.noop))})}x2.sample=ePe;var Gk={};Object.defineProperty(Gk,"__esModule",{value:!0});Gk.sampleTime=void 0;var tPe=th,rPe=x2,nPe=u2;function iPe(e,t){return t===void 0&&(t=tPe.asyncScheduler),rPe.sample(nPe.interval(e,t))}Gk.sampleTime=iPe;var Wk={};Object.defineProperty(Wk,"__esModule",{value:!0});Wk.scan=void 0;var oPe=Gr,aPe=h2;function sPe(e,t){return oPe.operate(aPe.scanInternals(e,t,arguments.length>=2,!0))}Wk.scan=sPe;var Xk={};Object.defineProperty(Xk,"__esModule",{value:!0});Xk.sequenceEqual=void 0;var uPe=Gr,lPe=xn;function cPe(e,t){return t===void 0&&(t=function(r,n){return r===n}),uPe.operate(function(r,n){var i=u$(),u=u$(),s=function(v){n.next(v),n.complete()},m=function(v,_){var P=lPe.createOperatorSubscriber(n,function(C){var I=_.buffer,k=_.complete;I.length===0?k?s(!1):v.buffer.push(C):!t(C,I.shift())&&s(!1)},function(){v.complete=!0;var C=_.complete,I=_.buffer;C&&s(I.length===0),P==null||P.unsubscribe()});return P};r.subscribe(m(i,u)),e.subscribe(m(u,i))})}Xk.sequenceEqual=cPe;function u$(){return{buffer:[],complete:!1}}var w2={},fPe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},pPe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(w2,"__esModule",{value:!0});w2.share=void 0;var hPe=Mh,dPe=pv,_Pe=Fl,mPe=kx,gPe=Gr;function yPe(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new _Pe.Subject}:t,n=e.resetOnError,i=n===void 0?!0:n,u=e.resetOnComplete,s=u===void 0?!0:u,m=e.resetOnRefCountZero,v=m===void 0?!0:m;return function(_){var P=null,C=null,I=null,k=0,F=!1,V=!1,Y=function(){C==null||C.unsubscribe(),C=null},q=function(){Y(),P=I=null,F=V=!1},M=function(){var j=P;q(),j==null||j.unsubscribe()};return gPe.operate(function(j,G){k++,!V&&!F&&Y();var J=I=I!=null?I:r();G.add(function(){k--,k===0&&!V&&!F&&(C=jN(M,v))}),J.subscribe(G),P||(P=new mPe.SafeSubscriber({next:function(he){return J.next(he)},error:function(he){V=!0,Y(),C=jN(q,i,he),J.error(he)},complete:function(){F=!0,Y(),C=jN(q,s),J.complete()}}),hPe.from(j).subscribe(P))})(_)}}w2.share=yPe;function jN(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return t===!0?(e(),null):t===!1?null:t.apply(void 0,pPe([],fPe(r))).pipe(dPe.take(1)).subscribe(function(){return e()})}var Yk={};Object.defineProperty(Yk,"__esModule",{value:!0});Yk.shareReplay=void 0;var vPe=Tx,bPe=w2;function xPe(e,t,r){var n,i,u,s,m=!1;return e&&typeof e=="object"?(n=e.bufferSize,s=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,u=e.refCount,m=u===void 0?!1:u,r=e.scheduler):s=e!=null?e:1/0,bPe.share({connector:function(){return new vPe.ReplaySubject(s,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:m})}Yk.shareReplay=xPe;var Hk={};Object.defineProperty(Hk,"__esModule",{value:!0});Hk.single=void 0;var wPe=om,SPe=i2,EPe=n2,PPe=Gr,IPe=xn;function CPe(e){return PPe.operate(function(t,r){var n=!1,i,u=!1,s=0;t.subscribe(IPe.createOperatorSubscriber(r,function(m){u=!0,(!e||e(m,s++,t))&&(n&&r.error(new SPe.SequenceError("Too many matching values")),n=!0,i=m)},function(){n?(r.next(i),r.complete()):r.error(u?new EPe.NotFoundError("No matching values"):new wPe.EmptyError)}))})}Hk.single=CPe;var Zk={};Object.defineProperty(Zk,"__esModule",{value:!0});Zk.skip=void 0;var APe=gg;function OPe(e){return APe.filter(function(t,r){return e<=r})}Zk.skip=OPe;var Kk={};Object.defineProperty(Kk,"__esModule",{value:!0});Kk.skipLast=void 0;var kPe=Kc,TPe=Gr,LPe=xn;function NPe(e){return e<=0?kPe.identity:TPe.operate(function(t,r){var n=new Array(e),i=0;return t.subscribe(LPe.createOperatorSubscriber(r,function(u){var s=i++;if(s<e)n[s]=u;else{var m=s%e,v=n[m];n[m]=u,r.next(v)}})),function(){n=null}})}Kk.skipLast=NPe;var Jk={};Object.defineProperty(Jk,"__esModule",{value:!0});Jk.skipUntil=void 0;var MPe=Gr,l$=xn,RPe=Ni,DPe=kc;function zPe(e){return MPe.operate(function(t,r){var n=!1,i=l$.createOperatorSubscriber(r,function(){i==null||i.unsubscribe(),n=!0},DPe.noop);RPe.innerFrom(e).subscribe(i),t.subscribe(l$.createOperatorSubscriber(r,function(u){return n&&r.next(u)}))})}Jk.skipUntil=zPe;var Qk={};Object.defineProperty(Qk,"__esModule",{value:!0});Qk.skipWhile=void 0;var FPe=Gr,jPe=xn;function BPe(e){return FPe.operate(function(t,r){var n=!1,i=0;t.subscribe(jPe.createOperatorSubscriber(r,function(u){return(n||(n=!e(u,i++)))&&r.next(u)}))})}Qk.skipWhile=BPe;var eT={};Object.defineProperty(eT,"__esModule",{value:!0});eT.startWith=void 0;var c$=K0,$Pe=cc,UPe=Gr;function qPe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=$Pe.popScheduler(e);return UPe.operate(function(n,i){(r?c$.concat(e,n,r):c$.concat(e,n)).subscribe(i)})}eT.startWith=qPe;var tT={},r1={};Object.defineProperty(r1,"__esModule",{value:!0});r1.switchMap=void 0;var VPe=Ni,GPe=Gr,f$=xn;function WPe(e,t){return GPe.operate(function(r,n){var i=null,u=0,s=!1,m=function(){return s&&!i&&n.complete()};r.subscribe(f$.createOperatorSubscriber(n,function(v){i==null||i.unsubscribe();var _=0,P=u++;VPe.innerFrom(e(v,P)).subscribe(i=f$.createOperatorSubscriber(n,function(C){return n.next(t?t(v,C,P,_++):C)},function(){i=null,m()}))},function(){s=!0,m()}))})}r1.switchMap=WPe;Object.defineProperty(tT,"__esModule",{value:!0});tT.switchAll=void 0;var XPe=r1,YPe=Kc;function HPe(){return XPe.switchMap(YPe.identity)}tT.switchAll=HPe;var rT={};Object.defineProperty(rT,"__esModule",{value:!0});rT.switchMapTo=void 0;var p$=r1,ZPe=is;function KPe(e,t){return ZPe.isFunction(t)?p$.switchMap(function(){return e},t):p$.switchMap(function(){return e})}rT.switchMapTo=KPe;var nT={};Object.defineProperty(nT,"__esModule",{value:!0});nT.switchScan=void 0;var JPe=r1,QPe=Gr;function eIe(e,t){return QPe.operate(function(r,n){var i=t;return JPe.switchMap(function(u,s){return e(i,u,s)},function(u,s){return i=s,s})(r).subscribe(n),function(){i=null}})}nT.switchScan=eIe;var iT={};Object.defineProperty(iT,"__esModule",{value:!0});iT.takeUntil=void 0;var tIe=Gr,rIe=xn,nIe=Ni,iIe=kc;function oIe(e){return tIe.operate(function(t,r){nIe.innerFrom(e).subscribe(rIe.createOperatorSubscriber(r,function(){return r.complete()},iIe.noop)),!r.closed&&t.subscribe(r)})}iT.takeUntil=oIe;var oT={};Object.defineProperty(oT,"__esModule",{value:!0});oT.takeWhile=void 0;var aIe=Gr,sIe=xn;function uIe(e,t){return t===void 0&&(t=!1),aIe.operate(function(r,n){var i=0;r.subscribe(sIe.createOperatorSubscriber(n,function(u){var s=e(u,i++);(s||t)&&n.next(u),!s&&n.complete()}))})}oT.takeWhile=uIe;var aT={};Object.defineProperty(aT,"__esModule",{value:!0});aT.tap=void 0;var lIe=is,cIe=Gr,fIe=xn,pIe=Kc;function hIe(e,t,r){var n=lIe.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?cIe.operate(function(i,u){var s;(s=n.subscribe)===null||s===void 0||s.call(n);var m=!0;i.subscribe(fIe.createOperatorSubscriber(u,function(v){var _;(_=n.next)===null||_===void 0||_.call(n,v),u.next(v)},function(){var v;m=!1,(v=n.complete)===null||v===void 0||v.call(n),u.complete()},function(v){var _;m=!1,(_=n.error)===null||_===void 0||_.call(n,v),u.error(v)},function(){var v,_;m&&((v=n.unsubscribe)===null||v===void 0||v.call(n)),(_=n.finalize)===null||_===void 0||_.call(n)}))}):pIe.identity}aT.tap=hIe;var Uz={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.defaultThrottleConfig=void 0;var t=Gr,r=xn,n=Ni;e.defaultThrottleConfig={leading:!0,trailing:!1};function i(u,s){return s===void 0&&(s=e.defaultThrottleConfig),t.operate(function(m,v){var _=s.leading,P=s.trailing,C=!1,I=null,k=null,F=!1,V=function(){k==null||k.unsubscribe(),k=null,P&&(M(),F&&v.complete())},Y=function(){k=null,F&&v.complete()},q=function(j){return k=n.innerFrom(u(j)).subscribe(r.createOperatorSubscriber(v,V,Y))},M=function(){if(C){C=!1;var j=I;I=null,v.next(j),!F&&q(j)}};m.subscribe(r.createOperatorSubscriber(v,function(j){C=!0,I=j,!(k&&!k.closed)&&(_?M():q(j))},function(){F=!0,!(P&&C&&k&&!k.closed)&&v.complete()}))})}e.throttle=i})(Uz);var sT={};Object.defineProperty(sT,"__esModule",{value:!0});sT.throttleTime=void 0;var dIe=th,h$=Uz,_Ie=um;function mIe(e,t,r){t===void 0&&(t=dIe.asyncScheduler),r===void 0&&(r=h$.defaultThrottleConfig);var n=_Ie.timer(e,t);return h$.throttle(function(){return n},r)}sT.throttleTime=mIe;var hx={};Object.defineProperty(hx,"__esModule",{value:!0});hx.TimeInterval=hx.timeInterval=void 0;var gIe=th,yIe=Gr,vIe=xn;function bIe(e){return e===void 0&&(e=gIe.asyncScheduler),yIe.operate(function(t,r){var n=e.now();t.subscribe(vIe.createOperatorSubscriber(r,function(i){var u=e.now(),s=u-n;n=u,r.next(new bY(i,s))}))})}hx.timeInterval=bIe;var bY=function(){function e(t,r){this.value=t,this.interval=r}return e}();hx.TimeInterval=bY;var uT={};Object.defineProperty(uT,"__esModule",{value:!0});uT.timeoutWith=void 0;var xIe=th,wIe=Dx,SIe=ZC;function EIe(e,t,r){var n,i,u;if(r=r!=null?r:xIe.async,wIe.isValidDate(e)?n=e:typeof e=="number"&&(i=e),t)u=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return SIe.timeout({first:n,each:i,scheduler:r,with:u})}uT.timeoutWith=EIe;var lT={};Object.defineProperty(lT,"__esModule",{value:!0});lT.timestamp=void 0;var PIe=_O,IIe=sm;function CIe(e){return e===void 0&&(e=PIe.dateTimestampProvider),IIe.map(function(t){return{value:t,timestamp:e.now()}})}lT.timestamp=CIe;var cT={};Object.defineProperty(cT,"__esModule",{value:!0});cT.window=void 0;var d$=Fl,AIe=Gr,_$=xn,OIe=kc;function kIe(e){return AIe.operate(function(t,r){var n=new d$.Subject;r.next(n.asObservable());var i=function(u){n.error(u),r.error(u)};return t.subscribe(_$.createOperatorSubscriber(r,function(u){return n==null?void 0:n.next(u)},function(){n.complete(),r.complete()},i)),e.subscribe(_$.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new d$.Subject)},OIe.noop,i)),function(){n==null||n.unsubscribe(),n=null}})}cT.window=kIe;var fT={},TIe=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(fT,"__esModule",{value:!0});fT.windowCount=void 0;var m$=Fl,LIe=Gr,NIe=xn;function MIe(e,t){t===void 0&&(t=0);var r=t>0?t:e;return LIe.operate(function(n,i){var u=[new m$.Subject],s=0;i.next(u[0].asObservable()),n.subscribe(NIe.createOperatorSubscriber(i,function(m){var v,_;try{for(var P=TIe(u),C=P.next();!C.done;C=P.next()){var I=C.value;I.next(m)}}catch(V){v={error:V}}finally{try{C&&!C.done&&(_=P.return)&&_.call(P)}finally{if(v)throw v.error}}var k=s-e+1;if(k>=0&&k%r===0&&u.shift().complete(),++s%r===0){var F=new m$.Subject;u.push(F),i.next(F.asObservable())}},function(){for(;u.length>0;)u.shift().complete();i.complete()},function(m){for(;u.length>0;)u.shift().error(m);i.error(m)},function(){u=null}))})}fT.windowCount=MIe;var pT={};Object.defineProperty(pT,"__esModule",{value:!0});pT.windowTime=void 0;var RIe=Fl,DIe=th,zIe=lc,FIe=Gr,jIe=xn,BIe=s_,$Ie=cc,g$=u_;function UIe(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var u=(t=$Ie.popScheduler(n))!==null&&t!==void 0?t:DIe.asyncScheduler,s=(r=n[0])!==null&&r!==void 0?r:null,m=n[1]||1/0;return FIe.operate(function(v,_){var P=[],C=!1,I=function(Y){var q=Y.window,M=Y.subs;q.complete(),M.unsubscribe(),BIe.arrRemove(P,Y),C&&k()},k=function(){if(P){var Y=new zIe.Subscription;_.add(Y);var q=new RIe.Subject,M={window:q,subs:Y,seen:0};P.push(M),_.next(q.asObservable()),g$.executeSchedule(Y,u,function(){return I(M)},e)}};s!==null&&s>=0?g$.executeSchedule(_,u,k,s,!0):C=!0,k();var F=function(Y){return P.slice().forEach(Y)},V=function(Y){F(function(q){var M=q.window;return Y(M)}),Y(_),_.unsubscribe()};return v.subscribe(jIe.createOperatorSubscriber(_,function(Y){F(function(q){q.window.next(Y),m<=++q.seen&&I(q)})},function(){return V(function(Y){return Y.complete()})},function(Y){return V(function(q){return q.error(Y)})})),function(){P=null}})}pT.windowTime=UIe;var hT={},qIe=Ne&&Ne.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hT,"__esModule",{value:!0});hT.windowToggle=void 0;var VIe=Fl,GIe=lc,WIe=Gr,y$=Ni,BN=xn,v$=kc,XIe=s_;function YIe(e,t){return WIe.operate(function(r,n){var i=[],u=function(s){for(;0<i.length;)i.shift().error(s);n.error(s)};y$.innerFrom(e).subscribe(BN.createOperatorSubscriber(n,function(s){var m=new VIe.Subject;i.push(m);var v=new GIe.Subscription,_=function(){XIe.arrRemove(i,m),m.complete(),v.unsubscribe()},P;try{P=y$.innerFrom(t(s))}catch(C){u(C);return}n.next(m.asObservable()),v.add(P.subscribe(BN.createOperatorSubscriber(n,_,v$.noop,u)))},v$.noop)),r.subscribe(BN.createOperatorSubscriber(n,function(s){var m,v,_=i.slice();try{for(var P=qIe(_),C=P.next();!C.done;C=P.next()){var I=C.value;I.next(s)}}catch(k){m={error:k}}finally{try{C&&!C.done&&(v=P.return)&&v.call(P)}finally{if(m)throw m.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},u,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}hT.windowToggle=YIe;var dT={};Object.defineProperty(dT,"__esModule",{value:!0});dT.windowWhen=void 0;var HIe=Fl,ZIe=Gr,b$=xn,KIe=Ni;function JIe(e){return ZIe.operate(function(t,r){var n,i,u=function(m){n.error(m),r.error(m)},s=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new HIe.Subject,r.next(n.asObservable());var m;try{m=KIe.innerFrom(e())}catch(v){u(v);return}m.subscribe(i=b$.createOperatorSubscriber(r,s,s,u))};s(),t.subscribe(b$.createOperatorSubscriber(r,function(m){return n.next(m)},function(){n.complete(),r.complete()},u,function(){i==null||i.unsubscribe(),n=null}))})}dT.windowWhen=JIe;var _T={},x$=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},w$=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(_T,"__esModule",{value:!0});_T.withLatestFrom=void 0;var QIe=Gr,S$=xn,eCe=Ni,tCe=Kc,rCe=kc,nCe=cc;function iCe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=nCe.popResultSelector(e);return QIe.operate(function(n,i){for(var u=e.length,s=new Array(u),m=e.map(function(){return!1}),v=!1,_=function(C){eCe.innerFrom(e[C]).subscribe(S$.createOperatorSubscriber(i,function(I){s[C]=I,!v&&!m[C]&&(m[C]=!0,(v=m.every(tCe.identity))&&(m=null))},rCe.noop))},P=0;P<u;P++)_(P);n.subscribe(S$.createOperatorSubscriber(i,function(C){if(v){var I=w$([C],x$(s));i.next(r?r.apply(void 0,w$([],x$(I))):I)}}))})}_T.withLatestFrom=iCe;var mT={};Object.defineProperty(mT,"__esModule",{value:!0});mT.zipAll=void 0;var oCe=jx,aCe=f2;function sCe(e){return aCe.joinAllInternals(oCe.zip,e)}mT.zipAll=sCe;var gT={},yT={},uCe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},lCe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(yT,"__esModule",{value:!0});yT.zip=void 0;var cCe=jx,fCe=Gr;function pCe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fCe.operate(function(r,n){cCe.zip.apply(void 0,lCe([r],uCe(e))).subscribe(n)})}yT.zip=pCe;var hCe=Ne&&Ne.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(m){s={error:m}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return u},dCe=Ne&&Ne.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(gT,"__esModule",{value:!0});gT.zipWith=void 0;var _Ce=yT;function mCe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _Ce.zip.apply(void 0,dCe([],hCe(e)))}gT.zipWith=mCe;(function(e){var t=Ne&&Ne.__createBinding||(Object.create?function(Mc,ol,ao,Vs){Vs===void 0&&(Vs=ao),Object.defineProperty(Mc,Vs,{enumerable:!0,get:function(){return ol[ao]}})}:function(Mc,ol,ao,Vs){Vs===void 0&&(Vs=ao),Mc[Vs]=ol[ao]}),r=Ne&&Ne.__exportStar||function(Mc,ol){for(var ao in Mc)ao!=="default"&&!Object.prototype.hasOwnProperty.call(ol,ao)&&t(ol,Mc,ao)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=void 0;var n=ks;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return n.Observable}});var i=X0;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var u=W0;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return u.observable}});var s=dO;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return s.animationFrames}});var m=Fl;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return m.Subject}});var v=GE;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return v.BehaviorSubject}});var _=Tx;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return _.ReplaySubject}});var P=Lx;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return P.AsyncSubject}});var C=XX;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return C.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return C.asapScheduler}});var I=th;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return I.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return I.asyncScheduler}});var k=ZX;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return k.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return k.queueScheduler}});var F=KX;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return F.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return F.animationFrameScheduler}});var V=px;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return V.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return V.VirtualAction}});var Y=WE;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return Y.Scheduler}});var q=lc;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return q.Subscription}});var M=kx;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return M.Subscriber}});var j=SO;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return j.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return j.NotificationKind}});var G=cg;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return G.pipe}});var J=kc;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return J.noop}});var he=Kc;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return he.identity}});var pe=AO;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return pe.isObservable}});var ne=OO;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return ne.lastValueFrom}});var ee=kO;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return ee.firstValueFrom}});var ie=r2;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return ie.ArgumentOutOfRangeError}});var we=om;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return we.EmptyError}});var Se=n2;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return Se.NotFoundError}});var Pe=VE;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return Pe.ObjectUnsubscribedError}});var ae=i2;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return ae.SequenceError}});var Be=ZC;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return Be.TimeoutError}});var Q=$E;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return Q.UnsubscriptionError}});var te=TO;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return te.bindCallback}});var oe=LO;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return oe.bindNodeCallback}});var ve=Jy;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return ve.combineLatest}});var de=K0;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return de.concat}});var ze=NO;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return ze.connectable}});var ye=Q0;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return ye.defer}});var Je=Sd;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return Je.empty}});var Qe=MO;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return Qe.forkJoin}});var yt=Mh;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return yt.from}});var _t=RO;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return _t.fromEvent}});var Tt=DO;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return Tt.fromEventPattern}});var Yt=zO;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return Yt.generate}});var It=FO;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return It.iif}});var Ut=u2;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return Ut.interval}});var Or=jO;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Or.merge}});var Xt=G3;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return Xt.never}});var Ht=Nx;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return Ht.of}});var xr=BO;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return xr.onErrorResumeNext}});var Lr=UO;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return Lr.pairs}});var Xr=qO;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return Xr.partition}});var ea=N0;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return ea.race}});var Mi=GO;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return Mi.range}});var pt=t2;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return pt.throwError}});var Le=um;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return Le.timer}});var be=WO;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return be.using}});var Oe=jx;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return Oe.zip}});var Ze=XE;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Ze.scheduled}});var st=Sd;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return st.EMPTY}});var Pt=G3;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return Pt.NEVER}}),r(dY,e);var Rt=uv;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return Rt.config}});var mt=l2;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return mt.audit}});var Nr=XO;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return Nr.auditTime}});var Qr=YO;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return Qr.buffer}});var tr=HO;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return tr.bufferCount}});var on=ZO;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return on.bufferTime}});var Bn=KO;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Bn.bufferToggle}});var si=JO;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return si.bufferWhen}});var $n=QO;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return $n.catchError}});var Fn=ek;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Fn.combineAll}});var Vo=c2;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return Vo.combineLatestAll}});var ta=tk;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return ta.combineLatestWith}});var Ea=zx;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return Ea.concatAll}});var Go=d2;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return Go.concatMap}});var ui=nk;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return ui.concatMapTo}});var Fa=ik;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return Fa.concatWith}});var to=Bx;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return to.connect}});var Kt=sk;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return Kt.count}});var ms=uk;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return ms.debounce}});var zi=lk;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return zi.debounceTime}});var se=e1;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return se.defaultIfEmpty}});var Ee=ck;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Ee.delay}});var Ie=_2;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return Ie.delayWhen}});var Re=fk;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return Re.dematerialize}});var We=pk;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return We.distinct}});var at=y2;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return at.distinctUntilChanged}});var lt=hk;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return lt.distinctUntilKeyChanged}});var Me=dk;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return Me.elementAt}});var Xe=_k;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return Xe.endWith}});var ht=mk;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return ht.every}});var $t=gk;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return $t.exhaust}});var jt=v2;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return jt.exhaustAll}});var dt=yk;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return dt.exhaustMap}});var zt=vk;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return zt.expand}});var _r=gg;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return _r.filter}});var cr=bk;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return cr.finalize}});var Et=M0;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Et.find}});var fr=xk;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return fr.findIndex}});var Zt=wk;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return Zt.first}});var or=Sk;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return or.groupBy}});var en=m2;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return en.ignoreElements}});var dr=Ek;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return dr.isEmpty}});var Ur=Pk;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Ur.last}});var ln=sm;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return ln.map}});var Lt=g2;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Lt.mapTo}});var cn=Ik;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return cn.materialize}});var Ln=Ck;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Ln.max}});var yi=J0;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return yi.mergeAll}});var li=Ak;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return li.flatMap}});var Fi=l_;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return Fi.mergeMap}});var Jn=Ok;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return Jn.mergeMapTo}});var fn=kk;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return fn.mergeScan}});var hi=Tk;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return hi.mergeWith}});var ja=Nk;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return ja.min}});var bl=$x;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return bl.multicast}});var Yi=H0;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Yi.observeOn}});var ti=Mk;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return ti.pairwise}});var If=Rk;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return If.pluck}});var Us=Dk;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Us.publish}});var ra=zk;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return ra.publishBehavior}});var Tc=Fk;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Tc.publishLast}});var wn=jk;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return wn.publishReplay}});var Ma=Bk;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Ma.raceWith}});var ha=fv;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return ha.reduce}});var ro=$k;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return ro.repeat}});var dn=Uk;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return dn.repeatWhen}});var su=qk;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return su.retry}});var yp=Vk;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return yp.retryWhen}});var Ts=qE;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Ts.refCount}});var Nu=x2;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Nu.sample}});var Ba=Gk;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Ba.sampleTime}});var $a=Wk;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return $a.scan}});var rl=Xk;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return rl.sequenceEqual}});var Wt=w2;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Wt.share}});var xl=Yk;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return xl.shareReplay}});var Uu=Hk;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Uu.single}});var wl=Zk;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return wl.skip}});var Jc=Kk;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Jc.skipLast}});var os=Jk;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return os.skipUntil}});var Hi=Qk;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Hi.skipWhile}});var Ai=eT;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Ai.startWith}});var Wo=Z0;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Wo.subscribeOn}});var vp=tT;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return vp.switchAll}});var Lc=r1;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Lc.switchMap}});var gs=rT;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return gs.switchMapTo}});var jl=nT;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return jl.switchScan}});var mu=pv;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return mu.take}});var Ei=b2;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return Ei.takeLast}});var Ls=iT;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Ls.takeUntil}});var Xo=oT;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return Xo.takeWhile}});var nl=aT;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return nl.tap}});var Mu=Uz;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return Mu.throttle}});var Ri=sT;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Ri.throttleTime}});var da=t1;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return da.throwIfEmpty}});var il=hx;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return il.timeInterval}});var po=ZC;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return po.timeout}});var Zi=uT;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Zi.timeoutWith}});var uu=lT;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return uu.timestamp}});var Bl=p2;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Bl.toArray}});var _a=cT;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return _a.window}});var bp=fT;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return bp.windowCount}});var qs=pT;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return qs.windowTime}});var Yo=hT;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Yo.windowToggle}});var Pa=dT;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Pa.windowWhen}});var Qc=_T;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Qc.withLatestFrom}});var rh=mT;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return rh.zipAll}});var Nc=gT;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return Nc.zipWith}})})(Dz);var xY={exports:{}};/**
 * tingle.js - A simple modal plugin written in pure JavaScript
 * @version v0.16.0
 * @link https://github.com/robinparisi/tingle#readme
 * @license MIT
 */(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){var r=!1;function n(F){var V={onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]};this.opts=k({},V,F),this.init()}n.prototype.init=function(){if(!this.modal)return s.call(this),v.call(this),document.body.appendChild(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter(),this},n.prototype._busy=function(F){r=F},n.prototype._isBusy=function(){return r},n.prototype.destroy=function(){this.modal!==null&&(this.isOpen()&&this.close(!0),I.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},n.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},n.prototype.open=function(){if(!this._isBusy()){this._busy(!0);var F=this;return typeof F.opts.beforeOpen=="function"&&F.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),document.getSelection().removeAllRanges(),this._scrollPosition=window.pageYOffset,document.body.classList.add("tingle-enabled"),document.body.style.top=-this._scrollPosition+"px",this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),typeof F.opts.onOpen=="function"&&F.opts.onOpen.call(F),F._busy(!1),this.checkOverflow(),this}},n.prototype.close=function(F){if(!this._isBusy()){if(this._busy(!0),typeof this.opts.beforeClose=="function"){var V=this.opts.beforeClose.call(this);if(!V){this._busy(!1);return}}document.body.classList.remove("tingle-enabled"),document.body.style.top=null,window.scrollTo({top:this._scrollPosition,behavior:"instant"}),this.modal.classList.remove("tingle-modal--visible");var Y=this;Y.modal.style.display="none",typeof Y.opts.onClose=="function"&&Y.opts.onClose.call(this),Y._busy(!1)}},n.prototype.setContent=function(F){return typeof F=="string"?this.modalBoxContent.innerHTML=F:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(F)),this.isOpen()&&this.checkOverflow(),this},n.prototype.getContent=function(){return this.modalBoxContent},n.prototype.addFooter=function(){return m.call(this),this},n.prototype.setFooterContent=function(F){return this.modalBoxFooter.innerHTML=F,this},n.prototype.getFooterContent=function(){return this.modalBoxFooter},n.prototype.setStickyFooter=function(F){return this.isOverflow()||(F=!1),F?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),u.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky"))),this},n.prototype.addFooterBtn=function(F,V,Y){var q=document.createElement("button");return q.innerHTML=F,q.addEventListener("click",Y),typeof V=="string"&&V.length&&V.split(" ").forEach(function(M){q.classList.add(M)}),this.modalBoxFooter.appendChild(q),q},n.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0")},n.prototype.isOverflow=function(){var F=window.innerHeight,V=this.modalBox.clientHeight;return V>=F},n.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(u.call(this),this.setStickyFooter(!0)))};function i(){return'<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z" fill="#000" fill-rule="nonzero"/></svg>'}function u(){!this.modalBoxFooter||(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px")}function s(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),(this.opts.closeMethods.length===0||this.opts.closeMethods.indexOf("overlay")===-1)&&this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach(function(F){typeof F=="string"&&this.modal.classList.add(F)},this),this.opts.closeMethods.indexOf("button")!==-1&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.type="button",this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML=i(),this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),this.opts.closeMethods.indexOf("button")!==-1&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox)}function m(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter)}function v(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:P.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:_.bind(this)},this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav)}function _(F){this.opts.closeMethods.indexOf("escape")!==-1&&F.which===27&&this.isOpen()&&this.close()}function P(F){var V=this.modal.offsetWidth-this.modal.clientWidth,Y=F.clientX>=this.modal.offsetWidth-15,q=this.modal.scrollHeight!==this.modal.offsetHeight;navigator.platform==="MacIntel"&&V===0&&Y&&q||this.opts.closeMethods.indexOf("overlay")!==-1&&!C(F.target,"tingle-modal")&&F.clientX<this.modal.clientWidth&&this.close()}function C(F,V){for(;(F=F.parentElement)&&!F.classList.contains(V););return F}function I(){this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav)}function k(){for(var F=1;F<arguments.length;F++)for(var V in arguments[F])arguments[F].hasOwnProperty(V)&&(arguments[0][V]=arguments[F][V]);return arguments[0]}return{modal:n}})})(xY);var wY={exports:{}},SY={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ne,function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var r=Object.prototype.toString,n=Array.isArray||function(Pe){return r.call(Pe)==="[object Array]"};function i(Se){return typeof Se=="function"}function u(Se){return n(Se)?"array":typeof Se}function s(Se){return Se.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function m(Se,Pe){return Se!=null&&typeof Se=="object"&&Pe in Se}function v(Se,Pe){return Se!=null&&typeof Se!="object"&&Se.hasOwnProperty&&Se.hasOwnProperty(Pe)}var _=RegExp.prototype.test;function P(Se,Pe){return _.call(Se,Pe)}var C=/\S/;function I(Se){return!P(C,Se)}var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function F(Se){return String(Se).replace(/[&<>"'`=\/]/g,function(ae){return k[ae]})}var V=/\s*/,Y=/\s+/,q=/\s*=/,M=/\s*\}/,j=/#|\^|\/|>|\{|&|=|!/;function G(Se,Pe){if(!Se)return[];var ae=!1,Be=[],Q=[],te=[],oe=!1,ve=!1,de="",ze=0;function ye(){if(oe&&!ve)for(;te.length;)delete Q[te.pop()];else te=[];oe=!1,ve=!1}var Je,Qe,yt;function _t(Xr){if(typeof Xr=="string"&&(Xr=Xr.split(Y,2)),!n(Xr)||Xr.length!==2)throw new Error("Invalid tags: "+Xr);Je=new RegExp(s(Xr[0])+"\\s*"),Qe=new RegExp("\\s*"+s(Xr[1])),yt=new RegExp("\\s*"+s("}"+Xr[1]))}_t(Pe||ie.tags);for(var Tt=new pe(Se),Yt,It,Ut,Or,Xt,Ht;!Tt.eos();){if(Yt=Tt.pos,Ut=Tt.scanUntil(Je),Ut)for(var xr=0,Lr=Ut.length;xr<Lr;++xr)Or=Ut.charAt(xr),I(Or)?(te.push(Q.length),de+=Or):(ve=!0,ae=!0,de+=" "),Q.push(["text",Or,Yt,Yt+1]),Yt+=1,Or===`
`&&(ye(),de="",ze=0,ae=!1);if(!Tt.scan(Je))break;if(oe=!0,It=Tt.scan(j)||"name",Tt.scan(V),It==="="?(Ut=Tt.scanUntil(q),Tt.scan(q),Tt.scanUntil(Qe)):It==="{"?(Ut=Tt.scanUntil(yt),Tt.scan(M),Tt.scanUntil(Qe),It="&"):Ut=Tt.scanUntil(Qe),!Tt.scan(Qe))throw new Error("Unclosed tag at "+Tt.pos);if(It==">"?Xt=[It,Ut,Yt,Tt.pos,de,ze,ae]:Xt=[It,Ut,Yt,Tt.pos],ze++,Q.push(Xt),It==="#"||It==="^")Be.push(Xt);else if(It==="/"){if(Ht=Be.pop(),!Ht)throw new Error('Unopened section "'+Ut+'" at '+Yt);if(Ht[1]!==Ut)throw new Error('Unclosed section "'+Ht[1]+'" at '+Yt)}else It==="name"||It==="{"||It==="&"?ve=!0:It==="="&&_t(Ut)}if(ye(),Ht=Be.pop(),Ht)throw new Error('Unclosed section "'+Ht[1]+'" at '+Tt.pos);return he(J(Q))}function J(Se){for(var Pe=[],ae,Be,Q=0,te=Se.length;Q<te;++Q)ae=Se[Q],ae&&(ae[0]==="text"&&Be&&Be[0]==="text"?(Be[1]+=ae[1],Be[3]=ae[3]):(Pe.push(ae),Be=ae));return Pe}function he(Se){for(var Pe=[],ae=Pe,Be=[],Q,te,oe=0,ve=Se.length;oe<ve;++oe)switch(Q=Se[oe],Q[0]){case"#":case"^":ae.push(Q),Be.push(Q),ae=Q[4]=[];break;case"/":te=Be.pop(),te[5]=Q[2],ae=Be.length>0?Be[Be.length-1][4]:Pe;break;default:ae.push(Q)}return Pe}function pe(Se){this.string=Se,this.tail=Se,this.pos=0}pe.prototype.eos=function(){return this.tail===""},pe.prototype.scan=function(Pe){var ae=this.tail.match(Pe);if(!ae||ae.index!==0)return"";var Be=ae[0];return this.tail=this.tail.substring(Be.length),this.pos+=Be.length,Be},pe.prototype.scanUntil=function(Pe){var ae=this.tail.search(Pe),Be;switch(ae){case-1:Be=this.tail,this.tail="";break;case 0:Be="";break;default:Be=this.tail.substring(0,ae),this.tail=this.tail.substring(ae)}return this.pos+=Be.length,Be};function ne(Se,Pe){this.view=Se,this.cache={".":this.view},this.parent=Pe}ne.prototype.push=function(Pe){return new ne(Pe,this)},ne.prototype.lookup=function(Pe){var ae=this.cache,Be;if(ae.hasOwnProperty(Pe))Be=ae[Pe];else{for(var Q=this,te,oe,ve,de=!1;Q;){if(Pe.indexOf(".")>0)for(te=Q.view,oe=Pe.split("."),ve=0;te!=null&&ve<oe.length;)ve===oe.length-1&&(de=m(te,oe[ve])||v(te,oe[ve])),te=te[oe[ve++]];else te=Q.view[Pe],de=m(Q.view,Pe);if(de){Be=te;break}Q=Q.parent}ae[Pe]=Be}return i(Be)&&(Be=Be.call(this.view)),Be};function ee(){this.templateCache={_cache:{},set:function(Pe,ae){this._cache[Pe]=ae},get:function(Pe){return this._cache[Pe]},clear:function(){this._cache={}}}}ee.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()},ee.prototype.parse=function(Pe,ae){var Be=this.templateCache,Q=Pe+":"+(ae||ie.tags).join(":"),te=typeof Be!="undefined",oe=te?Be.get(Q):void 0;return oe==null&&(oe=G(Pe,ae),te&&Be.set(Q,oe)),oe},ee.prototype.render=function(Pe,ae,Be,Q){var te=this.getConfigTags(Q),oe=this.parse(Pe,te),ve=ae instanceof ne?ae:new ne(ae,void 0);return this.renderTokens(oe,ve,Be,Pe,Q)},ee.prototype.renderTokens=function(Pe,ae,Be,Q,te){for(var oe="",ve,de,ze,ye=0,Je=Pe.length;ye<Je;++ye)ze=void 0,ve=Pe[ye],de=ve[0],de==="#"?ze=this.renderSection(ve,ae,Be,Q,te):de==="^"?ze=this.renderInverted(ve,ae,Be,Q,te):de===">"?ze=this.renderPartial(ve,ae,Be,te):de==="&"?ze=this.unescapedValue(ve,ae):de==="name"?ze=this.escapedValue(ve,ae,te):de==="text"&&(ze=this.rawValue(ve)),ze!==void 0&&(oe+=ze);return oe},ee.prototype.renderSection=function(Pe,ae,Be,Q,te){var oe=this,ve="",de=ae.lookup(Pe[1]);function ze(Qe){return oe.render(Qe,ae,Be,te)}if(!!de){if(n(de))for(var ye=0,Je=de.length;ye<Je;++ye)ve+=this.renderTokens(Pe[4],ae.push(de[ye]),Be,Q,te);else if(typeof de=="object"||typeof de=="string"||typeof de=="number")ve+=this.renderTokens(Pe[4],ae.push(de),Be,Q,te);else if(i(de)){if(typeof Q!="string")throw new Error("Cannot use higher-order sections without the original template");de=de.call(ae.view,Q.slice(Pe[3],Pe[5]),ze),de!=null&&(ve+=de)}else ve+=this.renderTokens(Pe[4],ae,Be,Q,te);return ve}},ee.prototype.renderInverted=function(Pe,ae,Be,Q,te){var oe=ae.lookup(Pe[1]);if(!oe||n(oe)&&oe.length===0)return this.renderTokens(Pe[4],ae,Be,Q,te)},ee.prototype.indentPartial=function(Pe,ae,Be){for(var Q=ae.replace(/[^ \t]/g,""),te=Pe.split(`
`),oe=0;oe<te.length;oe++)te[oe].length&&(oe>0||!Be)&&(te[oe]=Q+te[oe]);return te.join(`
`)},ee.prototype.renderPartial=function(Pe,ae,Be,Q){if(!!Be){var te=this.getConfigTags(Q),oe=i(Be)?Be(Pe[1]):Be[Pe[1]];if(oe!=null){var ve=Pe[6],de=Pe[5],ze=Pe[4],ye=oe;de==0&&ze&&(ye=this.indentPartial(oe,ze,ve));var Je=this.parse(ye,te);return this.renderTokens(Je,ae,Be,ye,Q)}}},ee.prototype.unescapedValue=function(Pe,ae){var Be=ae.lookup(Pe[1]);if(Be!=null)return Be},ee.prototype.escapedValue=function(Pe,ae,Be){var Q=this.getConfigEscape(Be)||ie.escape,te=ae.lookup(Pe[1]);if(te!=null)return typeof te=="number"&&Q===ie.escape?String(te):Q(te)},ee.prototype.rawValue=function(Pe){return Pe[1]},ee.prototype.getConfigTags=function(Pe){return n(Pe)?Pe:Pe&&typeof Pe=="object"?Pe.tags:void 0},ee.prototype.getConfigEscape=function(Pe){if(Pe&&typeof Pe=="object"&&!n(Pe))return Pe.escape};var ie={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(Se){we.templateCache=Se},get templateCache(){return we.templateCache}},we=new ee;return ie.clearCache=function(){return we.clearCache()},ie.parse=function(Pe,ae){return we.parse(Pe,ae)},ie.render=function(Pe,ae,Be,Q){if(typeof Pe!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+u(Pe)+'" was given as the first argument for mustache#render(template, view, partials)');return we.render(Pe,ae,Be,Q)},ie.escape=F,ie.Scanner=pe,ie.Context=ne,ie.Writer=ee,ie})})(SY);(function(e,t){var r=Tn,n=SY.exports;(function(i,u){e.exports=u()})(Ne,function(){return i={970:s=>{(function(m){function v(a){switch(a.length){case 0:return An();case 1:return Yr(a[0]);default:return function(p){return cl(function(E){return new bu(E,!1)}(p))}(a)}}function _(a){return a.length-1|0}function P(a,p){if(p==null){var E=0,T=a.length-1|0;if(E<=T)do{var D=E;if(E=E+1|0,a[D]==null)return D}while(E<=T)}else{var W=0,re=a.length-1|0;if(W<=re)do{var ce=W;if(W=W+1|0,hr(p,a[ce]))return ce}while(W<=re)}return-1}function C(a,p,E,T,D,W,re,ce,Fe){return(1&ce)!=0&&(p=", "),(2&ce)!=0&&(E=""),(4&ce)!=0&&(T=""),(8&ce)!=0&&(D=-1),(16&ce)!=0&&(W="..."),(32&ce)!=0&&(re=null),function(Ue,Ve,Ke,tt,bt,Dt,Nt){return function(lr,Mr,$r,Nn,ur,mr,Mn,Wn){Mr.append_2(Nn),fe();var Xi=0,Yn=lr,Dn=0,sa=Yn.length;e:for(;Dn<sa;){var Xn=Yn[Dn];if(Dn=Dn+1|0,(Xi=Xi+1|0)>1&&(Mr.append_2($r),fe()),!(mr<0||Xi<=mr))break e;la(Mr,Xn,Wn)}return mr>=0&&Xi>mr&&(Mr.append_2(Mn),fe()),Mr.append_2(ur),fe(),Mr}(Ue,yv(),Ve,Ke,tt,bt,Dt,Nt).toString()}(a,p,E,T,D,W,re)}function I(a,p){for(var E=a,T=0,D=E.length;T<D;){var W=E[T];T=T+1|0,p.add_18(W),fe()}return p}function k(a){this._$this_withIndex=a}function F(a,p,E,T,D,W,re,ce,Fe){return(1&ce)!=0&&(p=", "),(2&ce)!=0&&(E=""),(4&ce)!=0&&(T=""),(8&ce)!=0&&(D=-1),(16&ce)!=0&&(W="..."),(32&ce)!=0&&(re=null),function(Ue,Ve,Ke,tt,bt,Dt,Nt){return j(Ue,yv(),Ve,Ke,tt,bt,Dt,Nt).toString()}(a,p,E,T,D,W,re)}function V(a){if(a.isEmpty_29())throw tc("List is empty.");return a.get_29(fu(a))}function Y(a){if(a.isEmpty_29())throw tc("List is empty.");return a.get_29(0)}function q(a,p){return ir(a,Ol)?a.contains_27(p):function(E,T){if(ir(E,pl))return E.indexOf_6(T);for(var D=0,W=E.iterator_39();W.hasNext_14();){var re=W.next_14();if(Wr(D),fe(),hr(T,re))return D;D=D+1|0,fe()}return-1}(a,p)>=0}function M(a,p){for(var E=a.iterator_39();E.hasNext_14();){var T=E.next_14();p.add_18(T),fe()}return p}function j(a,p,E,T,D,W,re,ce){p.append_2(T),fe();var Fe=0,Ue=a.iterator_39();e:for(;Ue.hasNext_14();){var Ve=Ue.next_14();if((Fe=Fe+1|0)>1&&(p.append_2(E),fe()),!(W<0||Fe<=W))break e;la(p,Ve,ce)}return W>=0&&Fe>W&&(p.append_2(re),fe()),p.append_2(D),fe(),p}function G(a){if(ir(a,Ol)){var p;switch(a._get_size__29()){case 0:p=An();break;case 1:p=Yr(ir(a,pl)?a.get_29(0):a.iterator_39().next_14());break;default:p=he(a)}return p}return ll(J(a))}function J(a){return ir(a,Ol)?he(a):M(a,Qn())}function he(a){return cl(a)}function pe(a){return a._get_size__29()===1?a.get_29(0):null}function ne(a,p){return p<=xt()._MIN_VALUE_5?Te()._EMPTY:m_(a,p-1|0)}function ee(a,p){return a<p?p:a}function ie(a,p){return $().fromClosedRange(a,p,-1)}function we(a,p){return a>p?p:a}function Se(a){var p;switch(Js(a)){case 0:throw tc("Char sequence is empty.");case 1:p=ni(a,0);break;default:throw Sn("Char sequence has more than one element.")}return p}function Pe(a,p){if(!(p>=0))throw Sn(Sr("Requested character count "+p+" is less than zero."));var E=we(p,a.length);return a.substring(E)}function ae(a){this._this$0=a}function Be(){}function Q(){te=this}var te,oe,ve,de,ze,ye,Je,Qe,yt,_t,Tt,Yt,It,Ut,Or,Xt,Ht,xr,Lr,Xr,ea,Mi,pt,Le,be,Oe,Ze,st,Pt,Rt,mt,Nr,Qr,tr,on,Bn,si,$n,Fn,Vo,ta,Ea,Go,ui,Fa,to,Kt,ms,zi,se,Ee,Ie,Re,We,at,lt,Me,Xe,ht,$t,jt,dt,zt,_r,cr,Et,fr,Zt,or,en,dr,Ur,ln,Lt,cn,Ln,yi,li,Fi,Jn,fn,hi,ja,bl,Yi,ti,If,Us,ra,Tc,wn,Ma,ha,ro,dn,su,yp,Ts,Nu,Ba,$a,rl,Wt,xl,Uu,wl,Jc,os,Hi,Ai,Wo,vp,Lc,gs,jl,mu,Ei,Ls,Xo,nl,Mu,Ri,da,il,po,Zi,uu,Bl,_a,bp,qs,Yo,Pa,Qc,rh,Nc,Mc,ol,ao,Vs,Vi,Rc,Gs,Sl,so,Rr,pc,El,Ha,Ns,Dc,Xf,Ji,Ed,Si,$l,ua,Yf,gu,ef,Un,al,ho,Hf,Ms,sl,Rh,Ru,ci,Du,hc,Pi,Ws,Rs,Zf,Dh,zc,qu,Ul,ys,Pn,lu,yu,cu,vs,Kf,ul;function ma(){return te==null&&new Q,te}function dc(a){this._$entryIterator=a}function ql(a,p){return p===a?"(this Map)":Cp(p)}function Jf(a,p){var E;e:do{for(var T=a._get_entries__5().iterator_39();T.hasNext_14();){var D=T.next_14();if(hr(D._get_key__3(),p)){E=D;break e}}E=null}while(0);return E}function Za(){oe=this}function xp(){return oe==null&&new Za,oe}function Pl(a){this._this$0_0=a,vu.call(this)}function Fc(a){this._this$0_1=a}function Il(){xp(),this.__keys=null,this.__values=null}function wp(){ve=this}function _c(){return ve==null&&new wp,ve}function vu(){_c(),Be.call(this)}function An(){return de==null&&new ga,de}function fu(a){return a._get_size__29()-1|0}function bs(a){return a.length>0?Ov(a):An()}function ga(){de=this,this._serialVersionUID=new kr(-1478467534,-1720727600)}function bu(a,p){this._values=a,this._isVarargs=p}function jc(){ze=this}function Cf(){return ze==null&&new jc,ze}function ll(a){switch(a._get_size__29()){case 0:return An();case 1:return Yr(a.get_29(0));default:return a}}function Ii(a,p){this._index=a,this._value=p}function xs(a){for(var p=Qn(),E=a.iterator_39();E.hasNext_14();)Gl(p,E.next_14()),fe();return p}function Xs(a){this._iteratorFactory=a}function uo(a,p){return ir(a,Ol)?a._get_size__29():p}function di(a){this._iterator=a,this._index_0=0}function Gi(){}function Ys(a){return a.length>0?(p=a,Pd(E=kd(a.length),p),E):Qi();var p,E}function Qi(){var a=(ye==null&&new Ca,ye);return ir(a,Ks)?a:$e()}function Ia(a){var p=kd(a.length);return Pd(p,a),p}function Ca(){ye=this,this._serialVersionUID_0=new kr(-888910638,1920087921)}function Cl(a,p){return function(E,T){for(var D=T.iterator_39();D.hasNext_14();){var W=D.next_14(),re=W.component1(),ce=W.component2();E.put_4(re,ce),fe()}}(p,a),p}function Pd(a,p){for(var E=p,T=0,D=E.length;T<D;){var W=E[T];T=T+1|0;var re=W.component1(),ce=W.component2();a.put_4(re,ce),fe()}}function Vl(a,p){return function(E,T){if(ir(E,Gi))return E.getOrImplicitDefault(T);var D;e:do{var W=E.get_17(T);if(W!=null||E.containsKey_8(T)){D=W==null||yn(W)?W:$e();break e}throw tc("Key "+T+" is missing in the map.")}while(0);return D}(a,p)}function Gl(a,p){if(ir(p,Ol))return a.addAll_10(p);for(var E=!1,T=p.iterator_39();T.hasNext_14();){var D=T.next_14();a.add_18(D)&&(E=!0)}return E}function Ka(a){if(a.isEmpty_29())throw tc("List is empty.");return a.removeAt_2(fu(a))}function Ja(){}function Ra(a){this._this$0_2=a,this._iterator_0=this._this$0_2._sequence.iterator_39()}function zh(a,p){this._sequence=a,this._transformer=p}function vi(){Je=this,this._serialVersionUID_1=new kr(1993859828,793161749)}function rr(){return Je==null&&new vi,Je}function Aa(){return rr()}function Bc(){}function Wl(){Qe=this,this._star=new Oa(null,null)}function ws(){return Qe==null&&new Wl,Qe}function Oa(a,p){if(ws(),this._variance=a,this._type=p,this._variance==null!=(this._type==null))throw Sn(Sr(this._variance==null?"Star projection must have no type specified.":"The projection variance "+this._variance+" requires type to be specified."))}function Hs(){if(Yt)return fe();Yt=!0,yt=new Jt("INVARIANT",0),_t=new Jt("IN",1),Tt=new Jt("OUT",2)}function Jt(a,p){hl.call(this,a,p)}function ya(){return Hs(),yt}function Fh(){return Hs(),_t}function Id(){return Hs(),Tt}function la(a,p,E){E!=null?(a.append_2(E(p)),fe()):p==null||xm(p)?(a.append_2(p),fe()):p instanceof Mt?(a.append_1(p),fe()):(a.append_2(Cp(p)),fe())}function Ss(a,p,E){if(a.equals(p))return!0;if(!E)return!1;var T,D=dm(a),W=dm(p);if(D.equals(W))T=!0;else{var re=ni(D.toString().toLowerCase(),0),ce=W.toString().toLowerCase();T=re.equals(ni(ce,0))}return T}function jh(a){return function(p,E){for(var T=function(Yn){return function(Dn){return ll(function(sa){return function(Xn,pi){for(var oo=Xn.iterator_39();oo.hasNext_14();){var Zu=oo.next_14();pi.add_18(Zu),fe()}return pi}(sa,Qn())}(Dn))}(function(Dn){return function(sa,Xn,pi,oo,Zu,lp){return function(yf,Sc,Ou,Vp){return function(ac,Gp){return new zh(ac,Gp)}(function(ac,Gp,Wm,j_,cd,B_,$_){return function(U_,Hd,bh,q_,xh){if(!(xh>=0))throw Sn(Sr("Limit must be non-negative, but was "+xh+"."));var by,xy=Ov(Hd);return new Qf(U_,bh,xh,(by=new ss(xy,q_),function(V_,wy){return by.invoke_10(V_,wy)}))}(ac,Gp,0,j_,cd)}(yf,Sc,0,Ou,Vp),(gl=new as(yf),function(ac){return gl.invoke_8(ac)}));var gl}(sa,[`\r
`,`
`,"\r"],!1,0)}(Dn)}(Yn))}(p),D=Qn(),W=T.iterator_39();W.hasNext_14();){var re=W.next_14();Cd(re)&&(D.add_18(re),fe())}for(var ce=D,Fe=ia(uo(ce,10)),Ue=ce.iterator_39();Ue.hasNext_14();){var Ve=Ue.next_14();Fe.add_18(Af(Ve)),fe()}for(var Ke=function(Yn){var Dn=Yn.iterator_39();if(!Dn.hasNext_14())return null;for(var sa=Dn.next_14();Dn.hasNext_14();){var Xn=Dn.next_14();kg(sa,Xn)>0&&(sa=Xn)}return sa}(Fe),tt=Ke==null?0:Ke,bt=(p.length,sr(0,T._get_size__29()),function(Yn){var Dn,sa;return Js("")===0?(sa=new Qa,Dn=function(Xn){return sa.invoke_6(Xn)}):Dn=function(Xn){var pi=new Ho("");return function(oo){return pi.invoke_6(oo)}}(),Dn}()),Dt=fu(T),Nt=Qn(),lr=0,Mr=T.iterator_39();Mr.hasNext_14();){var $r=Mr.next_14(),Nn=lr;lr=Nn+1|0;var ur,mr=Wr(Nn);if(mr!==0&&mr!==Dt||!mm($r)){var Mn,Wn=Pe($r,tt);ur=(Mn=Wn==null?null:bt(Wn))==null?$r:Mn}else ur=null;var Xi=ur;Xi==null||(Nt.add_18(Xi),fe()),fe()}return function(Yn,Dn,sa,Xn,pi,oo,Zu,lp,yf,Sc){return j(Yn,Dn,sa,"","",-1,"...",null)}(Nt,qx(),`
`).toString()}(a)}function Af(a){var p;e:do{var E=0,T=Js(a)-1|0;if(E<=T)do{var D=E;if(E=E+1|0,!ST(ni(a,D))){p=D;break e}}while(E<=T);p=-1}while(0);var W=p;return W===-1?a.length:W}function Qa(){}function Ho(a){this._$indent=a}function Zs(a){return function(p,E){_m(10),fe();var T,D,W,re=p.length;if(re===0)return null;var ce=ni(p,0);if(ce.compareTo_9(new Mt(48))<0){if(re===1)return null;if(T=1,ce.equals(new Mt(45)))D=!0,W=xt()._MIN_VALUE_5;else{if(!ce.equals(new Mt(43)))return null;D=!1,W=0|-xt()._MAX_VALUE_5}}else T=0,D=!1,W=0|-xt()._MAX_VALUE_5;var Fe=(0|-xt()._MAX_VALUE_5)/36|0,Ue=Fe,Ve=0,Ke=T;if(Ke<re)do{var tt=Ke;Ke=Ke+1|0;var bt=d1(ni(p,tt),10);if(bt<0||Ve<Ue&&(Ue!==Fe||Ve<(Ue=W/10|0))||(Ve=sr(Ve,10))<(W+bt|0))return null;Ve=Ve-bt|0}while(Ke<re);return D?Ve:0|-Ve}(a)}function Al(a){throw C1("Invalid number format: '"+a+"'")}function xu(a){return function(p,E){_m(10),fe();var T,D,W,re=p.length;if(re===0)return null;var ce=ni(p,0);if(ce.compareTo_9(new Mt(48))<0){if(re===1)return null;if(T=1,ce.equals(new Mt(45)))D=!0,cs(),W=new kr(0,-2147483648);else{if(!ce.equals(new Mt(43)))return null;D=!1,cs(),W=new kr(-1,2147483647).unaryMinus_4()}}else T=0,D=!1,cs(),W=new kr(-1,2147483647).unaryMinus_4();cs();var Fe=new kr(-1,2147483647).unaryMinus_4().div_27(Qs(36)),Ue=Fe,Ve=new kr(0,0),Ke=T;if(Ke<re)do{var tt=Ke;Ke=Ke+1|0;var bt=d1(ni(p,tt),10);if(bt<0||Ve.compareTo_48(Ue)<0&&(!Ue.equals(Fe)||(Ue=W.div_27(Qs(10)),Ve.compareTo_48(Ue)<0))||(Ve=Ve.times_27(Qs(10))).compareTo_48(W.plus_27(Qs(bt)))<0)return null;Ve=Ve.minus_28(Qs(bt))}while(Ke<re);return D?Ve:Ve.unaryMinus_4()}(a)}function Cd(a){return!mm(a)}function pu(a){return Js(a)-1|0}function _o(a,p,E,T,D,W){return(2&D)!=0&&(E=pu(a)),(4&D)!=0&&(T=!1),function(re,ce,Fe,Ue){return Ue||typeof re!="string"?_i(re,ce,Fe,0,Ue,!0):re.lastIndexOf(ce,Fe)}(a,p,E,T)}function _i(a,p,E,T,D,W){var re=W?ie(we(E,pu(a)),ee(T,0)):m_(ee(E,0),we(T,Js(a)));if(typeof a=="string"&&typeof p=="string"){var ce=re._first_1,Fe=re._last,Ue=re._step_0;if(Ue>0&&ce<=Fe||Ue<0&&Fe<=ce)do{var Ve=ce;if(ce=ce+Ue|0,Gx(p,0,a,Ve,Js(p),D))return Ve}while(Ve!==Fe)}else{var Ke=re._first_1,tt=re._last,bt=re._step_0;if(bt>0&&Ke<=tt||bt<0&&tt<=Ke)do{var Dt=Ke;if(Ke=Ke+bt|0,Ds(p,0,a,Dt,Js(p),D))return Dt}while(Dt!==tt)}return-1}function Ds(a,p,E,T,D,W){if(T<0||p<0||p>(Js(a)-D|0)||T>(Js(E)-D|0))return!1;var re=0;if(re<D)do{var ce=re;if(re=re+1|0,!Ss(ni(a,p+ce|0),ni(E,T+ce|0),W))return!1}while(re<D);return!0}function Xl(a){if(a._nextSearchIndex<0)a._nextState=0,a._nextItem=null;else{var p;if(a._this$0_3._limit>0){var E=a;E._counter=E._counter+1|0,p=E._counter>=a._this$0_3._limit}else p=!1;if(p||a._nextSearchIndex>Js(a._this$0_3._input))a._nextItem=m_(a._currentStartIndex,pu(a._this$0_3._input)),a._nextSearchIndex=-1;else{var T=a._this$0_3._getNextMatch(a._this$0_3._input,a._nextSearchIndex);if(T==null)a._nextItem=m_(a._currentStartIndex,pu(a._this$0_3._input)),a._nextSearchIndex=-1;else{var D=T,W=D.component1(),re=D.component2();a._nextItem=ne(a._currentStartIndex,W),a._currentStartIndex=W+re|0,a._nextSearchIndex=a._currentStartIndex+(re===0?1:0)|0}}a._nextState=1}}function es(a){this._this$0_3=a,this._nextState=-1,this._currentStartIndex=function(p,E,T){if(0>T)throw Sn("Cannot coerce value to an empty range: maximum "+T+" is less than minimum 0.");return p<0?0:p>T?T:p}(this._this$0_3._startIndex,0,Js(this._this$0_3._input)),this._nextSearchIndex=this._currentStartIndex,this._nextItem=null,this._counter=0}function Qf(a,p,E,T){this._input=a,this._startIndex=p,this._limit=E,this._getNextMatch=T}function Sp(a,p,E,T,D){if(!T&&p._get_size__29()===1){var W,re=function(Mn){if(ir(Mn,pl))return function(Yn){var Dn;switch(Yn._get_size__29()){case 0:throw tc("List is empty.");case 1:Dn=Yn.get_29(0);break;default:throw Sn("List has more than one element.")}return Dn}(Mn);var Wn=Mn.iterator_39();if(!Wn.hasNext_14())throw tc("Collection is empty.");var Xi=Wn.next_14();if(Wn.hasNext_14())throw Sn("Collection has more than one element.");return Xi}(p);return(W=D?_o(a,re,E,!1,4):function(Mn,Wn,Xi,Yn,Dn,sa){return function(Xn,pi,oo,Zu){return Zu||typeof Xn!="string"?function(lp,yf,Sc,Ou,Vp,gl,ac,Gp){return _i(lp,yf,Sc,Ou,Vp,!1)}(Xn,pi,oo,Js(Xn),Zu):Xn.indexOf(pi,oo)}(Mn,Wn,Xi,!1)}(a,re,E))<0?null:ji(W,re)}var ce=D?ie(we(E,pu(a)),0):m_(ee(E,0),Js(a));if(typeof a=="string"){var Fe=ce._first_1,Ue=ce._last,Ve=ce._step_0;if(Ve>0&&Fe<=Ue||Ve<0&&Ue<=Fe)do{var Ke,tt=Fe;Fe=Fe+Ve|0;e:do{for(var bt=p.iterator_39();bt.hasNext_14();){var Dt=bt.next_14();if(Gx(Dt,0,a,tt,Dt.length,T)){Ke=Dt;break e}}Ke=null}while(0);if(Ke!=null)return ji(tt,Ke)}while(tt!==Ue)}else{var Nt=ce._first_1,lr=ce._last,Mr=ce._step_0;if(Mr>0&&Nt<=lr||Mr<0&&lr<=Nt)do{var $r,Nn=Nt;Nt=Nt+Mr|0;e:do{for(var ur=p.iterator_39();ur.hasNext_14();){var mr=ur.next_14();if(Ds(mr,0,a,Nn,mr.length,T)){$r=mr;break e}}$r=null}while(0);if($r!=null)return ji(Nn,$r)}while(Nn!==lr)}return null}function as(a){this._$this_splitToSequence=a}function ss(a,p){this._$delimitersList=a,this._$ignoreCase=p}function tf(){}function Fr(a){this._initializer=a,this.__value=mc()}function Er(){It=this}function mc(){return It==null&&new Er,It}function Rn(a,p){this._first=a,this._second=p}function ji(a,p){return new Rn(a,p)}function lo(a,p,E){this._first_0=a,this._second_0=p,this._third=E}function pn(a,p){return kg(255&a,255&p)}function $c(a){return(255&a).toString()}function hu(a){this._data=a}function Ci(a,p){return wt(a,p)}function co(a){return Qs(a).and(new kr(-1,0)).toString()}function zu(a){this._data_0=a}function zs(){Ut=this,this._MIN_VALUE_1=new kr(0,0),this._MAX_VALUE_1=new kr(-1,-1),this._SIZE_BYTES_1=8,this._SIZE_BITS_1=64}function va(){return Ut==null&&new zs,Ut}function rf(a,p){return kt(a,p)}function wu(a){return function(p,E){if(p.compareTo_48(new kr(0,0))>=0)return Jx(p,E);var T=p.ushr_0(1).div_27(Qs(E)).shl_0(1),D=T,W=p.minus_28(D.times_27(Qs(E)));return W.compareTo_48(Qs(E))>=0&&(W=W.minus_28(Qs(E)),T=T.plus_27(Qs(1))),Jx(T,E)+Jx(W,E)}(a,10)}function l(a){va(),this._data_1=a}function f(a,p){return kg(65535&a,65535&p)}function y(a){return(65535&a).toString()}function x(a){this._data_2=a}function O(a){return function(p,E){_m(10),fe();var T=p.length;if(T===0)return null;va();var D,W=new kr(-1,-1),re=ni(p,0);if(re.compareTo_9(new Mt(48))<0){if(T===1||!re.equals(new Mt(43)))return null;D=1}else D=0;var ce=new kr(477218588,119304647),Fe=ce,Ue=Qs(10),Ve=new kr(0,0),Ke=D;if(Ke<T)do{var tt=Ke;Ke=Ke+1|0;var bt=d1(ni(p,tt),10);if(bt<0||kt(Ve,Fe)>0&&(!hr(new l(Fe),new l(ce))||kt(Ve,Fe=ar(W,Ue))>0))return null;var Dt=Ve=Ve.times_27(Ue),Nt=Ve,lr=Qs(bt).and(new kr(-1,0));if(kt(Ve=Nt.plus_27(lr),Dt)<0)return null}while(Ke<T);return Ve}(a)}function U(a){var p,E=function(T){return nt(T,10)}(a);return(E==null?null:new zu(E))==null?Al(a):p=E,p}function H(a){var p,E=O(a);return(E==null?null:new l(E))==null?Al(a):p=E,p}function me(a){var p,E=function(T){return function(D,W){var re=nt(D,10);if((re==null?null:new zu(re))==null)return null;var ce=re;return wt(ce,255)>0?null:b1(ce)}(T)}(a);return(E==null?null:new hu(E))==null?Al(a):p=E,p}function je(a){var p,E=function(T){return function(D,W){var re=nt(D,10);if((re==null?null:new zu(re))==null)return null;var ce=re;return wt(ce,65535)>0?null:Dg(ce)}(T)}(a);return(E==null?null:new x(E))==null?Al(a):p=E,p}function nt(a,p){_m(p),fe();var E=a.length;if(E===0)return null;var T,D=ni(a,0);if(D.compareTo_9(new Mt(48))<0){if(E===1||!D.equals(new Mt(43)))return null;T=1}else T=0;var W,re=119304647,ce=re,Fe=p,Ue=0,Ve=T;if(Ve<E)do{var Ke=Ve;Ve=Ve+1|0;var tt=d1(ni(a,Ke),p);if(tt<0||wt(Ue,ce)>0&&(!hr(new zu(ce),new zu(re))||(W=Fe,wt(Ue,ce=Qs(-1).and(new kr(-1,0)).div_27(Qs(W).and(new kr(-1,0))).toInt_5())>0)))return null;var bt=Ue=sr(Ue,Fe);if(wt(Ue=Ue+tt|0,bt)<0)return null}while(Ve<E);return Ue}function wt(a,p){return kg(a^xt()._MIN_VALUE_5,p^xt()._MIN_VALUE_5)}function kt(a,p){cs();var E=a.xor(new kr(0,-2147483648));return cs(),E.compareTo_48(p.xor(new kr(0,-2147483648)))}function ar(a,p){var E=a,T=p;if(T.compareTo_48(new kr(0,0))<0)return kt(a,p)<0?new kr(0,0):new kr(1,0);if(E.compareTo_48(new kr(0,0))>=0)return E.div_27(T);var D=E.ushr_0(1).div_27(T).shl_0(1),W=kt(E.minus_28(D.times_27(T)),T)>=0?1:0;return D.plus_27(Qs(W))}function nr(){}function Tr(){}function Br(){}function ri(){}function ba(){}function d(){}function b(){}function g(){}function S(){}function N(a,p,E){S.call(this),this._step=E,this._finalElement=p,this._hasNext=this._step>0?a<=p:a>=p,this._next=this._hasNext?a:this._finalElement}function z(){Or=this}function $(){return Or==null&&new z,Or}function X(a,p,E){if($(),E===0)throw Sn("Step must be non-zero.");if(E===xt()._MIN_VALUE_5)throw Sn("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this._first_1=a,this._last=function(T,D,W){var re;if(W>0)re=T>=D?D:D-He(D,T,W)|0;else{if(!(W<0))throw Sn("Step is zero.");re=T<=D?D:D+He(T,D,0|-W)|0}return re}(a,p,E),this._step_0=E}function ue(){}function ge(){Xt=this,this._EMPTY=new ke(1,0)}function Te(){return Xt==null&&new ge,Xt}function ke(a,p){Te(),X.call(this,a,p,1)}function De(){Ht=this}function fe(){return Ht==null&&new De,Ht}function He(a,p,E){return it(it(a,E)-it(p,E)|0,E)}function it(a,p){var E=a%p;return E>=0?E:E+p|0}function qe(){xr=this,this._MIN_VALUE_3=-128,this._MAX_VALUE_3=127,this._SIZE_BYTES_3=1,this._SIZE_BITS_3=8}function rt(){return xr==null&&new qe,xr}function ut(){Lr=this,this._MIN_VALUE_4=-32768,this._MAX_VALUE_4=32767,this._SIZE_BYTES_4=2,this._SIZE_BITS_4=16}function gt(){return Lr==null&&new ut,Lr}function Ct(){Xr=this,this._MIN_VALUE_5=-2147483648,this._MAX_VALUE_5=2147483647,this._SIZE_BYTES_5=4,this._SIZE_BITS_5=32}function xt(){return Xr==null&&new Ct,Xr}function St(){ea=this,this._MIN_VALUE_6=14e-46,this._MAX_VALUE_6=34028235e31,this._POSITIVE_INFINITY=1/0,this._NEGATIVE_INFINITY=-1/0,this._NaN=NaN,this._SIZE_BYTES_6=4,this._SIZE_BITS_6=32}function Vt(){return ea==null&&new St,ea}function Gt(){Mi=this,this._MIN_VALUE_7=5e-324,this._MAX_VALUE_7=17976931348623157e292,this._POSITIVE_INFINITY_0=1/0,this._NEGATIVE_INFINITY_0=-1/0,this._NaN_0=NaN,this._SIZE_BYTES_7=8,this._SIZE_BITS_7=64}function er(){return Mi==null&&new Gt,Mi}function wr(){}function Yr(a){return(p=[a]).length===0?Qn():cl(new bu(p,!0));var p}function an(a){return Pd(E=Of((p=[a]).length),p),E;var p,E}function Wr(a){return a<0&&function(){throw Kx("Index overflow has happened.")}(),a}function fi(a){return a.toArray!==void 0?a.toArray():Ar(a)}function Ar(a){for(var p=[],E=a.iterator_39();E.hasNext_14();)p.push(E.next_14());return p}function sn(){Be.call(this)}function On(a){this._$this=a,this._index_1=0,this._last_0=-1}function hn(a,p){this._$this_0=a,On.call(this,a),ma().checkPositionIndex(p,this._$this_0._get_size__29()),this._set_index__0(p)}function tn(a,p,E){rn.call(this),this._list=a,this._fromIndex=p,this.__size=0,ma().checkRangeIndexes(this._fromIndex,E,this._list._get_size__29()),this.__size=E-this._fromIndex|0}function rn(){sn.call(this),this._modCount=0}function _n(a){this._$entryIterator_0=a}function qr(a,p){this._key=a,this.__value_0=p}function Ua(){na.call(this)}function mo(a){this._this$0_4=a,na.call(this)}function us(){Il.call(this),this.__keys_0=null,this.__values_0=null}function na(){sn.call(this)}function Qn(){return a=Object.create(Bi.prototype),Bi.call(a,[]),a;var a}function ia(a){return p=Object.create(Bi.prototype),Bi.call(p,[]),p;var p}function cl(a){return function(p,E){return Bi.call(E,fi(p)),E}(a,Object.create(Bi.prototype))}function fl(a,p){return ma().checkElementIndex(p,a._get_size__29()),p}function Bi(a){rn.call(this),this._array=a,this._isReadOnly=!1}function Yl(a,p){if(function(){if(pt!=null)return pt;fe(),pt=!1;var D=[],W=0;if(W<600)do{var re=W;W=W+1|0,D.push(re)}while(W<600);var ce,Fe=(ce=new Bh,function(Dt,Nt){return ce.invoke_14(Dt,Nt)});D.sort(Fe);var Ue=1,Ve=D.length;if(Ue<Ve)do{var Ke=Ue;Ue=Ue+1|0;var tt=D[Ke-1|0],bt=D[Ke];if((3&tt)==(3&bt)&&tt>=bt)return!1}while(Ue<Ve);return pt=!0,!0}()){var E=(T=new gc(p),function(D,W){return T.invoke_12(D,W)});a.sort(E)}else(function(D,W,re,ce){var Fe=D.length,Ue=nf(D,Vh(Array(Fe),null),0,re,ce);if(Ue!==D){var Ve=0;if(Ve<=re)do{var Ke=Ve;Ve=Ve+1|0,D[Ke]=Ue[Ke]}while(Ke!==re)}})(a,0,_(a),p);var T}function nf(a,p,E,T,D){if(E===T)return a;var W=(E+T|0)/2|0,re=nf(a,p,E,W,D),ce=nf(a,p,W+1|0,T,D),Fe=re===p?a:p,Ue=E,Ve=W+1|0,Ke=E;if(Ke<=T)do{var tt=Ke;if(Ke=Ke+1|0,Ue<=W&&Ve<=T){var bt=re[Ue],Dt=ce[Ve];D.compare(bt,Dt)<=0?(Fe[tt]=bt,Ue=Ue+1|0,fe()):(Fe[tt]=Dt,Ve=Ve+1|0,fe())}else Ue<=W?(Fe[tt]=re[Ue],Ue=Ue+1|0,fe()):(Fe[tt]=ce[Ve],Ve=Ve+1|0,fe(),fe())}while(tt!==T);return Fe}function gc(a){this._$comparator=a}function Bh(){}function nh(){Le=this}function ih(){}function yc(a){this._$this_1=a,Ua.call(this)}function oh(a){return function(p,E){us.call(E),$i.call(E),E._internalMap=p,E._equality=p._get_equality__0()}(new kf((Le==null&&new nh,Le)),a),a}function Hl(){return oh(Object.create($i.prototype))}function Ad(a,p,E){if(oh(E),!(a>=0))throw Sn(Sr("Negative initial capacity: "+a));if(!(p>=0))throw Sn(Sr("Non-positive load factor: "+p));return E}function Of(a){return function(p,E){return Ad(p,0,E),E}(a,Object.create($i.prototype))}function $i(){this.__entries=null}function Ep(){return a=Object.create(In.prototype),na.call(a),In.call(a),a._map=Hl(),a;var a}function Pp(a){return function(p,E){return function(T,D,W){na.call(W),In.call(W),W._map=function(re,ce){return Ad(re,ce,Object.create($i.prototype))}(T,D)}(p,0,E),E}(a,Object.create(In.prototype))}function ah(a,p){return na.call(p),In.call(p),p._map=a,p}function In(){}function Uc(a,p){var E=$h(a,a._equality_0.getHashCode_0(p));if(E==null)return null;var T=E;if(T!=null&&Md(T))return Zl(T,a,p);var D=T;return a._equality_0.equals_1(D._get_key__3(),p)?D:null}function Zl(a,p,E){var T;e:do{for(var D=a,W=0,re=D.length;W<re;){var ce=D[W];if(W=W+1|0,p._equality_0.equals_1(ce._get_key__3(),E)){T=ce;break e}}T=null}while(0);return T}function $h(a,p){var E=a._backingMap[p];return E===void 0?null:E}function yg(a){this._this$0_5=a,this._state=-1,this._keys=Object.keys(this._this$0_5._backingMap),this._keyIndex=-1,this._chainOrEntry=null,this._isChain=!1,this._itemIndex=-1,this._lastEntry=null}function kf(a){this._equality_0=a,this._backingMap=this.createJsMap_0(),this._size=0}function vg(){}function Uh(a){this._$this_2=a,this._last_1=null,this._next_0=null,this._next_0=this._$this_2._$this_4._head}function Od(a,p,E){this._$this_3=a,qr.call(this,p,E),this._next_1=null,this._prev=null}function Kl(a){this._$this_4=a,Ua.call(this)}function ep(){return oh(a=Object.create(go.prototype)),go.call(a),a._map_0=Hl(),a;var a}function n1(a,p,E){return Ad(a,p,E),go.call(E),E._map_0=Hl(),E}function kd(a){return function(p,E){return n1(p,0,E),E}(a,Object.create(go.prototype))}function go(){this._head=null,this._isReadOnly_0=!1}function S2(a){return function(p,E){return function(T,D,W){ah(function(re,ce){return n1(re,ce,Object.create(go.prototype))}(T,D),W),Jl.call(W)}(p,0,E),E}(a,Object.create(Jl.prototype))}function Jl(){}function i1(){}function lm(){}function o1(a){if(hv(a))throw Sn("Cannot round NaN value.");return a>xt()._MAX_VALUE_5?xt()._MAX_VALUE_5:a<xt()._MIN_VALUE_5?xt()._MIN_VALUE_5:x1(Math.round(a))}function hv(a){return a!=a}function dv(a){return!function(p){var E;return Vt(),p===1/0?E=!0:(Vt(),E=p===-1/0),E}(a)&&!function(p){return p!=p}(a)}function a1(a){return!function(p){var E;return er(),p===1/0?E=!0:(er(),E=p===-1/0),E}(a)&&!hv(a)}function cm(a){return(a instanceof ju?a:$e())._get_jClass__2()}function Ux(){}function Fu(){}function ju(a){this._jClass=a}function ls(a,p,E){ju.call(this,a),this._givenSimpleName=p,this._isInstanceFunction=E}function qh(){be=this,ju.call(this,Object),this._simpleName="Nothing"}function E2(){return be==null&&new qh,be}function bg(){}function c_(a){ju.call(this,a);var p=a.$metadata$,E=p==null?null:p.simpleName;this._simpleName_0=E}function xg(){}function P2(){}function s1(){}function Ql(a,p,E){return new Da(a,Ov(p),E)}function Ip(a){return ws().invariant(a)}function u1(a){this._this$0_6=a}function Da(a,p,E){this._classifier=a,this._arguments=p,this._isMarkedNullable=E}function fm(){}function _v(){}function pm(){}function hm(){}function f_(){}function mv(){}function gv(){}function p_(){}function wg(){}function Sg(){}function l1(){}function h_(){}function c1(){}function Eg(){}function f1(){}function Pg(){}function Ig(){}function Tf(){}function p1(){}function h1(a){this._$arity=a}function gn(){Ze=this;var a,p=Object;this._anyClass=new ls(p,"Any",(a=new fm,function(ur){return a.invoke_58(ur)}));var E=Number;this._numberClass=new ls(E,"Number",function(){var ur=new _v;return function(mr){return ur.invoke_58(mr)}}()),this._nothingClass=E2();var T=Boolean;this._booleanClass=new ls(T,"Boolean",function(){var ur=new pm;return function(mr){return ur.invoke_58(mr)}}());var D=Number;this._byteClass=new ls(D,"Byte",function(){var ur=new hm;return function(mr){return ur.invoke_58(mr)}}());var W=Number;this._shortClass=new ls(W,"Short",function(){var ur=new f_;return function(mr){return ur.invoke_58(mr)}}());var re=Number;this._intClass=new ls(re,"Int",function(){var ur=new mv;return function(mr){return ur.invoke_58(mr)}}());var ce=Number;this._floatClass=new ls(ce,"Float",function(){var ur=new gv;return function(mr){return ur.invoke_58(mr)}}());var Fe=Number;this._doubleClass=new ls(Fe,"Double",function(){var ur=new p_;return function(mr){return ur.invoke_58(mr)}}());var Ue=Array;this._arrayClass=new ls(Ue,"Array",function(){var ur=new wg;return function(mr){return ur.invoke_58(mr)}}());var Ve=String;this._stringClass=new ls(Ve,"String",function(){var ur=new Sg;return function(mr){return ur.invoke_58(mr)}}());var Ke=Error;this._throwableClass=new ls(Ke,"Throwable",function(){var ur=new l1;return function(mr){return ur.invoke_58(mr)}}());var tt=Array;this._booleanArrayClass=new ls(tt,"BooleanArray",function(){var ur=new h_;return function(mr){return ur.invoke_58(mr)}}());var bt=Uint16Array;this._charArrayClass=new ls(bt,"CharArray",function(){var ur=new c1;return function(mr){return ur.invoke_58(mr)}}());var Dt=Int8Array;this._byteArrayClass=new ls(Dt,"ByteArray",function(){var ur=new Eg;return function(mr){return ur.invoke_58(mr)}}());var Nt=Int16Array;this._shortArrayClass=new ls(Nt,"ShortArray",function(){var ur=new f1;return function(mr){return ur.invoke_58(mr)}}());var lr=Int32Array;this._intArrayClass=new ls(lr,"IntArray",function(){var ur=new Pg;return function(mr){return ur.invoke_58(mr)}}());var Mr=Array;this._longArrayClass=new ls(Mr,"LongArray",function(){var ur=new Ig;return function(mr){return ur.invoke_58(mr)}}());var $r=Float32Array;this._floatArrayClass=new ls($r,"FloatArray",function(){var ur=new Tf;return function(mr){return ur.invoke_58(mr)}}());var Nn=Float64Array;this._doubleArrayClass=new ls(Nn,"DoubleArray",function(){var ur=new p1;return function(mr){return ur.invoke_58(mr)}}())}function un(){return Ze==null&&new gn,Ze}function bi(a){return Array.isArray(a)?function(p){var E;switch(p.length){case 1:E=d_(p[0]);break;case 0:E=E2();break;default:E=new bg}return E}(a):d_(a)}function d_(a){if(a===String)return un()._stringClass;var p,E=a.$metadata$;if(E!=null){var T;if(E.$kClass$==null){var D=new c_(a);E.$kClass$=D,T=D}else T=E.$kClass$;p=T}else p=new c_(a);return p}function Su(a){var p;switch(typeof a){case"string":p=un()._stringClass;break;case"number":p=lf(a,0)===a?un()._intClass:un()._doubleClass;break;case"boolean":p=un()._booleanClass;break;case"function":p=un().functionClass(a.length);break;default:var E;if(wm(a))E=un()._booleanArrayClass;else if(jg(a))E=un()._charArrayClass;else if(Fg(a))E=un()._byteArrayClass;else if(Sm(a))E=un()._shortArrayClass;else if(Bg(a))E=un()._intArrayClass;else if(Iv(a))E=un()._longArrayClass;else if(Pv(a))E=un()._floatArrayClass;else if(Cv(a))E=un()._doubleArrayClass;else if(ir(a,Fu))E=bi(Fu);else if(Md(a))E=un()._arrayClass;else{var T=Object.getPrototypeOf(a).constructor;E=T===Object?un()._anyClass:T===Error?un()._throwableClass:d_(T)}p=E}return p}function I2(){}function qx(a){return Vx(p=Object.create(of.prototype)),p;var p}function Vx(a){return of.call(a,""),a}function yv(){return Vx(Object.create(of.prototype))}function of(a){this._string=a!==void 0?a:""}function dm(a){var p=a.toString().toUpperCase();return p.length>1?a:ni(p,0)}function ST(a){return function(p){var E=p.toInt_5();return 9<=E&&E<=13||28<=E&&E<=32||E===160||E>4096&&(E===5760||8192<=E&&E<=8202||E===8232||E===8233||E===8239||E===8287||E===12288)}(a)}function _m(a){if(!(2<=a&&a<=36))throw Sn("radix "+a+" was not in valid range 2..36");return a}function sh(a){var p=+a;return(hv(p)&&!C2(a)||p===0&&mm(a))&&Al(a),p}function tp(a){var p,E=Zs(a);return E==null?Al(a):p=E,p}function d1(a,p){var E=a.compareTo_9(new Mt(48))>=0&&a.compareTo_9(new Mt(57))<=0?a.minus(new Mt(48)):a.compareTo_9(new Mt(65))>=0&&a.compareTo_9(new Mt(90))<=0?a.minus(new Mt(65))+10|0:a.compareTo_9(new Mt(97))>=0&&a.compareTo_9(new Mt(122))<=0?a.minus(new Mt(97))+10|0:-1;return E>=p?-1:E}function C2(a){switch(a.toLowerCase()){case"nan":case"+nan":case"-nan":return!0;default:return!1}}function mm(a){return Js(a)===0||function(p,E){var T=p.match("^[\\s\\xA0]+$");return T!=null&&T.length!==0}(typeof a=="string"?a:Sr(a))}function __(a,p,E){var T;if(a==null)T=p==null;else if(E)if(p==null)T=!1;else{var D=a.toLowerCase(),W=p.toLowerCase();T=D===W||D.toUpperCase()===W.toUpperCase()}else T=a==p;return T}function Gx(a,p,E,T,D,W){return Ds(a,p,E,T,D,W)}function A2(a){return Js(a)>0?a.substring(0,1).toUpperCase()+a.substring(1):a}function O2(){st=this,this._MIN_VALUE_8=new Mt(0),this._MAX_VALUE_8=new Mt(65535),this._MIN_HIGH_SURROGATE=new Mt(55296),this._MAX_HIGH_SURROGATE=new Mt(56319),this._MIN_LOW_SURROGATE=new Mt(56320),this._MAX_LOW_SURROGATE=new Mt(57343),this._MIN_SURROGATE=new Mt(55296),this._MAX_SURROGATE=new Mt(57343),this._SIZE_BYTES_8=2,this._SIZE_BITS_8=16}function Td(){return st==null&&new O2,st}function Mt(a){Td(),this._value_0=65535&a}function gm(){}function Fs(){}function Ks(){}function pl(){}function vv(){}function bv(){}function af(){}function _1(){}function Cg(){}function Ol(){}function xv(){}function Wx(){}function hl(a,p){this._name=a,this._ordinal=p}function Cp(a){var p=a==null?null:Sr(a);return p==null?"null":p}function Vh(a,p){var E=0,T=a.length-1|0;if(E<=T)do{var D=E;E=E+1|0,a[D]=p}while(D!==T);return a}function Ag(a){return new wv(a)}function Og(a){var p=Vh(Array(a),!1);return p.$type$="BooleanArray",p}function xa(a){var p,E=Array(a);if(Td(),0<new Mt(0).toInt_5()?p=!0:(Td(),p=0>new Mt(65535).toInt_5()),p)throw Sn("Invalid Char code: 0");var T=Vh(E,new Mt(Dg(0)));return T.$type$="CharArray",T}function wv(a){this._$array=a,this._index_2=0}function Vu(a){return lf(a,0)===a?x1(a):(Rt[0]=a,sr(mt[Qr],31)+mt[Nr]|0)}function ni(a,p){var E;if(m1(a)){var T,D=a.charCodeAt(p);if(Td(),D<new Mt(0).toInt_5()?T=!0:(Td(),T=D>new Mt(65535).toInt_5()),T)throw Sn("Invalid Char code: "+D);E=new Mt(Dg(D))}else E=a.get_29(p);return E}function m1(a){return typeof a=="string"}function Js(a){return m1(a)?a.length:a._get_length__0()}function g1(){}function kg(a,p){var E;switch(typeof a){case"number":E=typeof p=="number"?k2(a,p):p instanceof kr?k2(a,p.toDouble_4()):T2(a,p);break;case"string":case"boolean":E=T2(a,p);break;default:E=function(T,D){return T.compareTo_14(D)}(a,p)}return E}function k2(a,p){var E;if(a<p)E=-1;else if(a>p)E=1;else if(a===p){var T;if(a!==0)T=0;else{var D=1/a;T=D===1/p?0:D<0?-1:1}E=T}else E=a!=a?p!=p?0:1:-1;return E}function T2(a,p){return a<p?-1:a>p?1:0}function Xx(a){if(!Im("kotlinHashCodeValue$",a)){var p=lf(4294967296*Math.random(),0),E=new Object;E.value=p,E.enumerable=!1,Object.defineProperty(a,"kotlinHashCodeValue$",E)}return a.kotlinHashCodeValue$}function hr(a,p){return a==null?p==null:p!=null&&(typeof a=="object"&&typeof a.equals=="function"?a.equals(p):a!=a?p!=p:typeof a=="number"&&typeof p=="number"?a===p&&(a!==0||1/a==1/p):a===p)}function Ui(a){if(a==null)return 0;var p;switch(typeof a){case"object":p=typeof a.hashCode=="function"?a.hashCode():Xx(a);break;case"function":p=Xx(a);break;case"number":p=Vu(a);break;case"boolean":p=a?1:0;break;default:p=ca(function(E){return String(E)}(a))}return p}function Sr(a){return a==null?"null":Ev(a)?"[...]":a.toString()}function ca(a){var p=0,E=0,T=a.length-1|0;if(E<=T)do{var D=E;E=E+1|0;var W=a.charCodeAt(D);p=sr(p,31)+W|0}while(D!==T);return p}function Wi(a,p){Error.captureStackTrace!=null?Error.captureStackTrace(a,p):a.stack=new Error().stack}function y1(a,p,E){Error.call(a),function(T,D,W){if(!L2(T,"message")){var re;if(D==null){var ce;if(D!==null){var Fe=W==null?null:W.toString();ce=Fe==null?void 0:Fe}else ce=void 0;re=ce}else re=D;T.message=re}L2(T,"cause")||(T.cause=W),T.name=Object.getPrototypeOf(T).constructor.name}(a,p,E)}function L2(a,p){return Object.getPrototypeOf(a).hasOwnProperty(p)}function Dr(a){var p;return a==null?function(){throw w_()}():p=a,p}function Tg(){throw du()}function $e(){throw Hh()}function Lg(a){throw kv("lateinit property "+a+" has not been initialized")}function Ld(a){return new Fr(a)}function Gh(a,p){for(var E=a.length,T=p.length,D=0,W=p;D<E&&D<T;){var re=D,ce=D;D=ce+1|0,W[re]=a[ce]}return p}function sf(a,p,E){var T=a.slice(0,p);a.$type$!==void 0&&(T.$type$=a.$type$);var D=a.length;if(p>D)for(T.length=p;D<p;){var W=D;D=W+1|0,T[W]=E}return T}function ym(){tr=this,this._MIN_VALUE_9=new kr(0,-2147483648),this._MAX_VALUE_9=new kr(-1,2147483647),this._SIZE_BYTES_9=8,this._SIZE_BITS_9=64}function cs(){return tr==null&&new ym,tr}function kr(a,p){cs(),g.call(this),this._low=a,this._high=p}function vm(a,p){if(rp(a,p))return 0;var E=np(a),T=np(p);return E&&!T?-1:!E&&T?1:np(bm(a,p))?-1:1}function ec(a,p){var E=a._high>>>16,T=65535&a._high,D=a._low>>>16,W=65535&a._low,re=p._high>>>16,ce=65535&p._high,Fe=p._low>>>16,Ue=0,Ve=0,Ke=0,tt=0;return Ue=(Ue=Ue+((Ve=(Ve=Ve+((Ke=(Ke=Ke+((tt=tt+(W+(65535&p._low)|0)|0)>>>16)|0)+(D+Fe|0)|0)>>>16)|0)+(T+ce|0)|0)>>>16)|0)+(E+re|0)|0,new kr((Ke&=65535)<<16|(tt&=65535),(Ue&=65535)<<16|(Ve&=65535))}function bm(a,p){return ec(a,p.unaryMinus_4())}function Wh(a,p){if(Ap(a)||Ap(p))return on;if(rp(a,Fn))return v1(p)?Fn:on;if(rp(p,Fn))return v1(a)?Fn:on;if(np(a))return np(p)?Wh(uf(a),uf(p)):uf(Wh(uf(a),p));if(np(p))return uf(Wh(a,uf(p)));if(Yx(a,Vo)&&Yx(p,Vo))return Sv(Ng(a)*Ng(p));var E=a._high>>>16,T=65535&a._high,D=a._low>>>16,W=65535&a._low,re=p._high>>>16,ce=65535&p._high,Fe=p._low>>>16,Ue=65535&p._low,Ve=0,Ke=0,tt=0,bt=0;return tt=tt+((bt=bt+sr(W,Ue)|0)>>>16)|0,bt&=65535,Ke=(Ke=Ke+((tt=tt+sr(D,Ue)|0)>>>16)|0)+((tt=(tt&=65535)+sr(W,Fe)|0)>>>16)|0,tt&=65535,Ve=(Ve=(Ve=Ve+((Ke=Ke+sr(T,Ue)|0)>>>16)|0)+((Ke=(Ke&=65535)+sr(D,Fe)|0)>>>16)|0)+((Ke=(Ke&=65535)+sr(W,ce)|0)>>>16)|0,Ke&=65535,Ve=Ve+(((sr(E,Ue)+sr(T,Fe)|0)+sr(D,ce)|0)+sr(W,re)|0)|0,new kr(tt<<16|bt,(Ve&=65535)<<16|Ke)}function N2(a,p){var E=63&p;return E===0?a:E<32?new kr(a._low<<E,a._high<<E|a._low>>>(32-E|0)):new kr(0,a._low<<(E-32|0))}function Ng(a){return 4294967296*a._high+function(p){return p._low>=0?p._low:4294967296+p._low}(a)}function rp(a,p){return a._high===p._high&&a._low===p._low}function Mg(a,p){if(p<2||36<p)throw Hx("radix out of range: "+p);if(Ap(a))return"0";if(np(a)){if(rp(a,Fn)){var E=Rg(p),T=a.div_27(E),D=bm(Wh(T,E),a).toInt_5();return Mg(T,p)+D.toString(p)}return"-"+Mg(uf(a),p)}for(var W=Sv(Math.pow(p,6)),re=a,ce="";;){var Fe=re.div_27(W),Ue=bm(re,Wh(Fe,W)).toInt_5().toString(p);if(Ap(re=Fe))return Ue+ce;for(;Ue.length<6;)Ue="0"+Ue;ce=Ue+ce}}function Rg(a){return new kr(a,a<0?-1:0)}function np(a){return a._high<0}function Ap(a){return a._high===0&&a._low===0}function v1(a){return(1&a._low)==1}function uf(a){return a.unaryMinus_4()}function Yx(a,p){return vm(a,p)<0}function Sv(a){if(hv(a))return on;if(a<=-9223372036854776e3)return Fn;if(a+1>=9223372036854776e3)return $n;if(a<0)return uf(Sv(-a));var p=4294967296;return new kr(lf(a%p,0),lf(a/p,0))}function M2(a,p){return vm(a,p)>0}function R2(a,p){return vm(a,p)>=0}function sr(a,p){return lf(A1(a,4294901760)*A1(p,65535)+A1(a,65535)*p,0)}function b1(a){return function(p){return p<<24>>24}(a)}function x1(a){return a instanceof kr?a.toInt_5():function(p){return p>2147483647?2147483647:p<-2147483648?-2147483648:lf(p,0)}(a)}function Dg(a){return function(p){return p<<16>>16}(a)}function w1(a){var p,E=65535&x1(a);if(Td(),E<new Mt(0).toInt_5()?p=!0:(Td(),p=E>new Mt(65535).toInt_5()),p)throw Sn("Invalid Char code: "+E);return new Mt(Dg(E))}function Qs(a){return Rg(a)}function m_(a,p){return new ke(a,p)}function zg(a,p,E,T,D){var W,re;return T.get=T,T.set=D,T.callableName=a,W=T,re=function(ce,Fe,Ue){var Ve=ta[ce][Fe==null?0:1];return Ve.interfaces.length==0&&Ve.interfaces.push(Ue),Ve}(p,D,E),W.$metadata$=re,W.constructor=W,W}function Ev(a){return!!g_(a)||ArrayBuffer.isView(a)}function g_(a){return Array.isArray(a)}function ir(a,p){var E=a.constructor;return E!=null&&Nd(E,p)}function Nd(a,p){if(a===p)return!0;var E=a.$metadata$;if(E!=null)for(var T=E.interfaces,D=0,W=T.length;D<W;){var re=T[D];if(D=D+1|0,Nd(re,p))return!0}var ce=a.prototype!=null?Object.getPrototypeOf(a.prototype):null,Fe=ce!=null?ce.constructor:null;return Fe!=null&&Nd(Fe,p)}function Md(a){return!!g_(a)&&!a.$type$}function yn(a){switch(typeof a){case"string":case"number":case"boolean":case"function":return!0;default:return Dd(a,Object)}}function S1(a){return typeof a=="number"||a instanceof kr}function xm(a){return typeof a=="string"||ir(a,cm(bi(Tr)))}function wm(a){return!!g_(a)&&a.$type$==="BooleanArray"}function Fg(a){return Dd(a,Int8Array)}function Sm(a){return Dd(a,Int16Array)}function jg(a){return!!g_(a)&&a.$type$==="CharArray"}function Bg(a){return Dd(a,Int32Array)}function Pv(a){return Dd(a,Float32Array)}function Iv(a){return!!g_(a)&&a.$type$==="LongArray"}function Cv(a){return Dd(a,Float64Array)}function Av(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));var E=Gh(a,xa(p));return E.$type$="CharArray",E}function E1(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));return Gh(a,new Float64Array(p))}function D2(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));return Gh(a,new Float32Array(p))}function Em(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));var E=sf(a,p,new kr(0,0));return E.$type$="LongArray",E}function $g(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));return Gh(a,new Int32Array(p))}function oa(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));return Gh(a,new Int16Array(p))}function z2(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));return Gh(a,new Int8Array(p))}function P1(a,p){if(!(p>=0))throw Sn(Sr("Invalid new array size: "+p+"."));var E=sf(a,p,!1);return E.$type$="BooleanArray",E}function y_(a,p){return function(E,T){var D=E,W=T;if(D===W)return!0;if(D==null||W==null||!Ev(W)||D.length!=W.length)return!1;var re=0,ce=D.length;if(re<ce)do{var Fe=re;if(re=re+1|0,!hr(D[Fe],W[Fe]))return!1}while(re<ce);return!0}(a,p)}function Ov(a){return new Bi(a)}function F2(a,p){return y1(p,a,void 0),Xh.call(p),p}function Hx(a){var p=F2(a,Object.create(Xh.prototype));return Wi(p,Hx),p}function Xh(){Wi(this,Xh)}function j2(){var a,p=(Pm(a=Object.create(Es.prototype)),Es.call(a),a);return Wi(p,j2),p}function Zx(a,p){return v_(a,p),Es.call(p),p}function Sn(a){var p=Zx(a,Object.create(Es.prototype));return Wi(p,Sn),p}function Es(){Wi(this,Es)}function Pm(a){return function(p){y1(p,void 0,void 0),Xh.call(p)}(a),kl.call(a),a}function v_(a,p){return F2(a,p),kl.call(p),p}function kl(){Wi(this,kl)}function Op(){var a,p=(Pm(a=Object.create(uh.prototype)),uh.call(a),a);return Wi(p,Op),p}function tc(a){var p=function(E,T){return v_(E,T),uh.call(T),T}(a,Object.create(uh.prototype));return Wi(p,tc),p}function uh(){Wi(this,uh)}function no(a){var p=function(E,T){return v_(E,T),b_.call(T),T}(a,Object.create(b_.prototype));return Wi(p,no),p}function b_(){Wi(this,b_)}function ka(a){var p=function(E,T){return v_(E,T),aa.call(T),T}(a,Object.create(aa.prototype));return Wi(p,ka),p}function aa(){Wi(this,aa)}function I1(){var a,p=(Pm(a=Object.create(Yh.prototype)),Yh.call(a),a);return Wi(p,I1),p}function Ug(a){var p=function(E,T){return v_(E,T),Yh.call(T),T}(a,Object.create(Yh.prototype));return Wi(p,Ug),p}function Yh(){Wi(this,Yh)}function Kx(a){var p=function(E,T){return v_(E,T),x_.call(T),T}(a,Object.create(x_.prototype));return Wi(p,Kx),p}function x_(){Wi(this,x_)}function C1(a){var p=function(E,T){return Zx(E,T),ip.call(T),T}(a,Object.create(ip.prototype));return Wi(p,C1),p}function ip(){Wi(this,ip)}function w_(){var a,p=(Pm(a=Object.create(S_.prototype)),S_.call(a),a);return Wi(p,w_),p}function S_(){Wi(this,S_)}function du(){var a,p=(Pm(a=Object.create(lh.prototype)),lh.call(a),a);return Wi(p,du),p}function lh(){Wi(this,lh)}function Hh(){var a,p=(Pm(a=Object.create(Zh.prototype)),Zh.call(a),a);return Wi(p,Hh),p}function Zh(){Wi(this,Zh)}function kv(a){var p=function(E,T){return v_(E,T),Rd.call(T),T}(a,Object.create(Rd.prototype));return Wi(p,kv),p}function Rd(){Wi(this,Rd)}function Im(a,p){return function(E,T){return E in T}(a,p)}function lf(a,p){return function(E,T){return E|T}(a,p)}function Dd(a,p){return function(E,T){return E instanceof T}(a,p)}function A1(a,p){return function(E,T){return E&T}(a,p)}function Jx(a,p){return Mg(a,_m(p))}function Pr(){}function Kh(){}function E_(){}function o(a){this._this$0_7=a}function c(a){vc.call(this),this._baseClass=a;var p,E=(Xe==null&&new Qh,Xe);this._descriptor=new gr(jr("kotlinx.serialization.Polymorphic",E,[],(p=new o(this),function(T){return p.invoke_94(T),fe()}),4),this._baseClass)}function h(a,p,E){var T,D=a.findPolymorphicSerializerOrNull_2(p,E);return D==null?function(W,re){var ce=W._get_simpleName__4();Vg(ce==null?""+W:ce,re)}(Su(E),a._get_baseClass__0()):T=D,T}function w(a,p,E){var T,D=a.findPolymorphicSerializerOrNull_1(p,E);return D==null?Vg(E,a._get_baseClass__0()):T=D,T}function A(){}function L(){}function R(){}function B(a){var p=function(E,T){return Z.call(T,"An unknown field for index "+E),T}(a,Object.create(Z.prototype));return Wi(p,B),p}function Z(a){_e(a,this),Wi(this,Z)}function K(a){var p=function(E,T){return le.call(T,"Field '"+E+"' is required, but it was missing",null),T}(a,Object.create(le.prototype));return Wi(p,K),p}function le(a,p){(function(E,T,D){(function(W,re,ce){(function(Fe,Ue,Ve){(function(Ke,tt,bt){y1(bt,Ke,tt),Xh.call(bt)})(Fe,Ue,Ve),kl.call(Ve)})(W,re,ce),Es.call(ce)})(E,T,D),Ae.call(D)})(a,p,this),Wi(this,le)}function _e(a,p){return Zx(a,p),Ae.call(p),p}function xe(a){var p=_e(a,Object.create(Ae.prototype));return Wi(p,xe),p}function Ae(){Wi(this,Ae)}function Ge(a,p){var E,T=Ye(a,p,!0);return T==null?function(D){throw xe("Serializer for class '"+D._get_simpleName__4()+`' is not found.
Mark the class as @Serializable or provide the serializer explicitly.
On Kotlin/JS explicitly declared serializer should be used for interfaces and enums without @Serializable annotation`)}(ew(p)):E=T,E}function Ye(a,p,E){for(var T=ew(p),D=p._get_isMarkedNullable__0(),W=p._get_arguments__0(),re=ia(uo(W,10)),ce=W.iterator_39();ce.hasNext_14();){var Fe,Ue=ce.next_14();e:do{var Ve=Ue._type;if(Ve==null)throw Sn(Sr("Star projections in type arguments are not allowed, but had "+p));Fe=Ve;break e}while(0);re.add_18(Fe),fe()}var Ke,tt=re;if(tt.isEmpty_29()){var bt=ot(T);Ke=bt==null?a.getContextual$default(T,null,2,null):bt}else Ke=function(lr,Mr,$r,Nn){var ur;if(Nn){for(var mr=ia(uo(Mr,10)),Mn=Mr.iterator_39();Mn.hasNext_14();){var Wn=Mn.next_14();mr.add_18(Ge(lr,Wn)),fe()}ur=mr}else{for(var Xi=ia(uo(Mr,10)),Yn=Mr.iterator_39();Yn.hasNext_14();){var Dn,sa=et(lr,Yn.next_14());if(sa==null)return null;Dn=sa,Xi.add_18(Dn),fe()}ur=Xi}var Xn,pi=ur,oo=$r;if(oo.equals(bi(Ol))||oo.equals(bi(pl))||oo.equals(bi(vv))||oo.equals(bi(Bi)))Xn=new Vn(pi.get_29(0));else if(oo.equals(bi(In)))Xn=new nu(pi.get_29(0));else if(oo.equals(bi(af))||oo.equals(bi(bv))||oo.equals(bi(Jl)))Xn=new Li(pi.get_29(0));else if(oo.equals(bi($i)))Xn=new rs(pi.get_29(0),pi.get_29(1));else if(oo.equals(bi(Ks))||oo.equals(bi(Cg))||oo.equals(bi(go)))Xn=new js(pi.get_29(0),pi.get_29(1));else if(oo.equals(bi(Fs)))Xn=new Bd(pi.get_29(0),pi.get_29(1));else if(oo.equals(bi(Rn)))Xn=function(Sc,Ou){return new $d(Sc,Ou)}(pi.get_29(0),pi.get_29(1));else if(oo.equals(bi(lo)))Xn=new D1(pi.get_29(0),pi.get_29(1),pi.get_29(2));else{if(function(Sc){return Sc.equals(un()._get_arrayClass_())}($r)){var Zu=Mr.get_29(0)._get_classifier__0(),lp=new qn(Zu!=null&&ir(Zu,Fu)?Zu:$e(),pi.get_29(0));return ir(lp,Pr)?lp:$e()}var yf=Yz($r,fi(pi).slice());Xn=yf==null?function(Sc,Ou,Vp){var gl=ot(Ou);return gl==null?Sc.getContextual_0(Ou,Vp):gl}(lr,$r,pi):yf}return Xn}(a,tt,T,E);var Dt,Nt=Ke;return(Dt=Nt==null?null:Nt!=null&&ir(Nt,Pr)?Nt:$e())==null?null:function(lr,Mr){return Mr?function($r){return $r._get_descriptor__66()._get_isNullable__17()?ir($r,Pr)?$r:$e():new Ta($r)}(lr):ir(lr,Pr)?lr:$e()}(Dt,D)}function ot(a){var p=function(E){var T,D=Yz(E,[]);if(D==null){var W=cm(E).Companion,re=W==null?null:W.serializer();T=re!=null&&ir(re,Pr)?re:null}else T=D;return T}(a);return p==null?function(E){var T=Lt.get_17(E);return T==null||ir(T,Pr)?T:$e()}(a):p}function et(a,p){return Ye(a,p,!1)}function ct(a){return Ge(ti,a)}function vt(a){return Bt()}function At(a){return Ln==null&&new Om,Ln}function Ot(a){return Ga()}function Ft(a){return li==null&&new jd,li}function Qt(a){return Fi==null&&new Yg,Fi}function pr(a){return Tm()}function Vr(a){return fn==null&&new Hg,fn}function yr(a){return hi==null&&new Zg,hi}function Zr(a){return od()}function br(a){return jt==null&&new rd,jt}function ii(a,p){return new js(a,p)}function vn(a){return new Vn(a)}function gr(a,p){this._original=a,this._kClass=p,this._serialName=this._original._get_serialName__17()+"<"+this._kClass._get_simpleName__4()+">"}function Ir(){}function jn(a){this._$this_elementDescriptors=a,this._elementsLeft=this._$this_elementDescriptors._get_elementsCount__17()}function Oi(a){this._$this_elementDescriptors_0=a}function jr(a,p,E,T,D,W){var re;return(8&D)!=0&&(re=new eu,T=function(ce){return re.invoke_94(ce),fe()}),function(ce,Fe,Ue,Ve){if(mm(ce))throw Sn(Sr("Blank serial names are prohibited"));if(hr(Fe,op()))throw Sn(Sr("For StructureKind.CLASS please use 'buildClassSerialDescriptor' instead"));var Ke=new oi(ce);return Ve(Ke),new ki(ce,Fe,Ke._elementNames._get_size__29(),v(Ue),Ke)}(a,p,E,T)}function oi(a){this._serialName_0=a,this._isNullable=!1,this._annotations=An(),this._elementNames=Qn(),this._uniqueNames=Ep(),this._elementDescriptors=Qn(),this._elementAnnotations=Qn(),this._elementOptionality=Qn()}function qa(a){var p=a.__hashCode$delegate;return zg("_hashCode",1,xg,function(E){return qa(E)},null),p._get_value__15()}function fs(a){this._this$0_8=a}function Va(a){this._this$0_9=a}function ki(a,p,E,T,D){var W;this._serialName_1=a,this._kind=p,this._elementsCount=E,this._annotations_0=D._annotations,this._serialNames=M(W=D._elementNames,Pp(uo(W,12)));var re=D._elementNames;this._elementNames_0=fi(re),this._elementDescriptors_0=T1(D._elementDescriptors);var ce,Fe=D._elementAnnotations;this._elementAnnotations_0=fi(Fe),this._elementOptionality_0=function(bt){for(var Dt=Og(bt._get_size__29()),Nt=0,lr=bt.iterator_39();lr.hasNext_14();){var Mr=lr.next_14(),$r=Nt;Nt=$r+1|0,Dt[$r]=Mr}return Dt}(D._elementOptionality);for(var Ue=function(bt){return new Xs((Dt=new k(bt),function(){return Dt.invoke_97()}));var Dt}(this._elementNames_0),Ve=ia(uo(Ue,10)),Ke=Ue.iterator_39();Ke.hasNext_14();){var tt=Ke.next_14();Ve.add_18(ji(tt._value,tt._index)),fe()}this._name2Index=function(bt){if(ir(bt,Ol)){var Dt;switch(bt._get_size__29()){case 0:Dt=Qi();break;case 1:Dt=an(ir(bt,pl)?bt.get_29(0):bt.iterator_39().next_14());break;default:Dt=Cl(bt,kd(bt._get_size__29()))}return Dt}return function(Nt){var lr;switch(Nt._get_size__29()){case 0:lr=Qi();break;case 1:default:lr=Nt}return lr}(Cl(bt,ep()))}(Ve),this._typeParametersDescriptors=T1(T),this.__hashCode$delegate=Ld((ce=new fs(this),function(){return ce.invoke_97()}))}function Ps(a,p,E,T,D){var W;return(4&T)!=0&&(W=new tu,E=function(re){return W.invoke_94(re),fe()}),function(re,ce,Fe){if(mm(re))throw Sn(Sr("Blank serial names are prohibited"));var Ue=new oi(re);return Fe(Ue),new ki(re,op(),Ue._elementNames._get_size__29(),v(ce),Ue)}(a,p,E)}function eu(){}function tu(){}function ru(){Ea=this,wa.call(this)}function Is(){return Ea==null&&new ru,Ea}function Bu(){Go=this,wa.call(this)}function Cs(){return Go==null&&new Bu,Go}function wa(){}function mi(){ui=this,fo.call(this)}function yo(){Fa=this,fo.call(this)}function io(){to=this,fo.call(this)}function Ti(){Kt=this,fo.call(this)}function Gu(){ms=this,fo.call(this)}function Eu(){zi=this,fo.call(this)}function fa(){se=this,fo.call(this)}function ps(){Ee=this,fo.call(this)}function Pu(){Ie=this,fo.call(this)}function Ki(){return Ie==null&&new Pu,Ie}function fo(){wa.call(this)}function rc(){Re=this,dl.call(this)}function op(){return Re==null&&new rc,Re}function ts(){We=this,dl.call(this)}function Lf(){return We==null&&new ts,We}function qc(){at=this,dl.call(this)}function ch(){return at==null&&new qc,at}function fh(){lt=this,dl.call(this)}function P_(){return lt==null&&new fh,lt}function dl(){wa.call(this)}function Jh(){Me=this,Tl.call(this)}function Tv(){return Me==null&&new Jh,Me}function Qh(){Xe=this,Tl.call(this)}function Tl(){wa.call(this)}function qi(){}function Di(){}function nc(){}function qg(){ht=this,this._DECODE_DONE=-1,this._UNKNOWN_NAME=-3}function Iu(){return ht==null&&new qg,ht}function xi(){}function As(){}function zd(){}function O1(a,p){var E=p.decodeStringElement_9(a._get_descriptor__66(),0),T=w(a,p,E),D=a._get_descriptor__66();return p.decodeSerializableElement$default_9(D,1,T,null,8,null)}function vc(){}function Vg(a,p){var E="in the scope of '"+p._get_simpleName__4()+"'";throw xe(a==null?"Class discriminator was missing and no default polymorphic serializers were registered "+E:"Class '"+a+"' is not registered for polymorphic serialization "+E+`.
Mark the base class as 'sealed' or register the serializer explicitly.`)}function I_(){}function kp(a){hs.call(this,a),this._serialName_2=a._get_serialName__17()+"Array"}function hs(a){this._elementDescriptor=a,this._elementsCount_0=1}function Tp(a){hs.call(this,a)}function ph(a){hs.call(this,a)}function Lp(a,p){Wu.call(this,"kotlin.collections.LinkedHashMap",a,p)}function Wu(a,p,E){this._serialName_3=a,this._keyDescriptor=p,this._valueDescriptor=E,this._elementsCount_1=2}function ap(a){hs.call(this,a)}function Np(a){hs.call(this,a)}function sp(a,p){Wu.call(this,"kotlin.collections.HashMap",a,p)}function Zo(a){_l.call(this,a),this._descriptor_0=new kp(a._get_descriptor__66())}function Cu(){}function _l(a){ed.call(this),this._elementSerializer=a}function ed(){}function qn(a,p){_l.call(this,p),this._kClass_0=a,this._descriptor_1=new Tp(p._get_descriptor__66())}function Vn(a){_l.call(this,a),this._descriptor_2=new ph(a._get_descriptor__66())}function js(a,p){Mp.call(this,a,p),this._descriptor_3=new Lp(a._get_descriptor__66(),p._get_descriptor__66())}function Mp(a,p){ed.call(this),this._keySerializer=a,this._valueSerializer=p}function nu(a){_l.call(this,a),this._descriptor_4=new ap(a._get_descriptor__66())}function Li(a){_l.call(this,a),this._descriptor_5=new Np(a._get_descriptor__66())}function rs(a,p){Mp.call(this,a,p),this._descriptor_6=new sp(a._get_descriptor__66(),p._get_descriptor__66())}function k1(a,p){this._this$0_10=a,this._$serialName=p}function Vc(a,p){this._values_0=p;var E,T=Is();this._descriptor_7=jr(a,T,[],(E=new k1(this,a),function(D){return E.invoke_94(D),fe()}),4)}function Gg(a,p){return new hh(a,new td(p))}function hh(a,p){Ko.call(this,a,p,1),this._isInline=!0}function td(a){this._$primitiveSerializer=a}function Gc(){$t=this,this._descriptor_8=Gg("kotlin.UInt",pr(xt()))}function rd(){jt=this,this._descriptor_9=Gg("kotlin.ULong",Qt(cs()))}function dh(){dt=this,this._descriptor_10=Gg("kotlin.UByte",yr(rt()))}function nd(){zt=this,this._descriptor_11=Gg("kotlin.UShort",Vr(gt()))}function Wg(a){return Qx(a)}function Ta(a){this._serializer=a,this._descriptor_12=new bc(this._serializer._get_descriptor__66())}function bc(a){this._original_0=a,this._serialName_4=this._original_0._get_serialName__17()+"?",this._serialNames_0=Qx(this._original_0)}function Fd(a,p){this._objectInstance=p;var E=P_();this._descriptor_13=jr(a,E,[],null,12)}function T1(a){var p,E;return(E=(p=a==null||a.isEmpty_29()?null:a)==null?null:fi(p))==null?_r:E}function Qx(a){if(ir(a,I_))return a._get_serialNames__3();var p=Pp(a._get_elementsCount__17()),E=0,T=a._get_elementsCount__17();if(E<T)do{var D=E;E=E+1|0;var W=a.getElementName_17(D);p.add_18(W),fe()}while(E<T);return p}function ew(a){var p=a._get_classifier__0();if(p==null||!ir(p,Fu))throw no(Sr("Only KClass supported as classifier, got "+p));var E=p;return ir(E,Fu)?E:$e()}function tw(a,p){var E=ca(a._get_serialName__17());E=sr(31,E)+function($r){return function(Nn){var ur=Nn;if(ur==null)return 0;var mr=1,Mn=0,Wn=ur.length;if(Mn<Wn)do{var Xi=Mn;Mn=Mn+1|0,mr=sr(mr,31)+Ui(ur[Xi])|0}while(Mn<Wn);return mr}($r)}(p)|0;for(var T=function($r){return new Oi($r)}(a),D=1,W=T.iterator_39();W.hasNext_14();){var re=W.next_14(),ce=sr(31,D),Fe=re._get_serialName__17(),Ue=Fe==null?null:Ui(Fe);D=ce+(Ue==null?0:Ue)|0}for(var Ve=D,Ke=1,tt=T.iterator_39();tt.hasNext_14();){var bt=tt.next_14(),Dt=sr(31,Ke),Nt=bt._get_kind__17(),lr=Nt==null?null:Ui(Nt);Ke=Dt+(lr==null?0:lr)|0}var Mr=Ke;return E=sr(31,E)+Ve|0,sr(31,E)+Mr|0}function rw(a){var p=a._childSerializers$delegate;return zg("childSerializers",1,xg,function(E){return rw(E)},null),p._get_value__15()}function cf(a){var p=a.__hashCode$delegate_0;return zg("_hashCode",1,xg,function(E){return cf(E)},null),p._get_value__15()}function Xg(a){this._this$0_11=a}function L1(a){this._this$0_12=a}function Rp(a){this._this$0_13=a}function N1(a){this._this$0_14=a}function Ko(a,p,E){this._serialName_5=a,this._generatedSerializer=p,this._elementsCount_2=E,this._added=-1;for(var T=0,D=this._elementsCount_2,W=Vh(Array(D),null);T<D;)W[T]="[UNINITIALIZED]",T=T+1|0;this._names=W;var re,ce=this._elementsCount_2;this._propertiesAnnotations=Vh(Array(ce),null),this._classAnnotations=null,this._elementsOptionality=Og(this._elementsCount_2),this._indices=Qi(),this._childSerializers$delegate=Ld((re=new Xg(this),function(){return re.invoke_97()})),this._typeParameterDescriptors$delegate=Ld(function(Fe){var Ue=new L1(Fe);return function(){return Ue.invoke_97()}}(this)),this.__hashCode$delegate_0=Ld(function(Fe){var Ue=new Rp(Fe);return function(){return Ue.invoke_97()}}(this))}function eo(){}function Cm(){}function Ll(){Et=this,Zo.call(this,At(Td()))}function Nl(){fr=this,Zo.call(this,Ot(er()))}function Ml(){Zt=this,Zo.call(this,Ft(Vt()))}function ff(){or=this,Zo.call(this,Qt(cs()))}function pf(){en=this,Zo.call(this,pr(xt()))}function hf(){dr=this,Zo.call(this,Vr(gt()))}function df(){Ur=this,Zo.call(this,yr(rt()))}function Wc(){ln=this,Zo.call(this,Zr())}function Dp(a){Cu.call(this),this._buffer=a,this._position=a.length,this.ensureCapacity_8(10)}function ic(a){Cu.call(this),this._buffer_0=a,this._position_0=a.length,this.ensureCapacity_8(10)}function _h(a){Cu.call(this),this._buffer_1=a,this._position_1=a.length,this.ensureCapacity_8(10)}function zp(a){Cu.call(this),this._buffer_2=a,this._position_2=a.length,this.ensureCapacity_8(10)}function Fp(a){Cu.call(this),this._buffer_3=a,this._position_3=a.length,this.ensureCapacity_8(10)}function mh(a){Cu.call(this),this._buffer_4=a,this._position_4=a.length,this.ensureCapacity_8(10)}function jp(a){Cu.call(this),this._buffer_5=a,this._position_5=a.length,this.ensureCapacity_8(10)}function gh(a){Cu.call(this),this._buffer_6=a,this._position_6=a.length,this.ensureCapacity_8(10)}function Am(){cn=this,this._descriptor_14=new Xu("kotlin.String",Ki())}function Bt(){return cn==null&&new Am,cn}function Om(){Ln=this,this._descriptor_15=new Xu("kotlin.Char",(to==null&&new io,to))}function id(){yi=this,this._descriptor_16=new Xu("kotlin.Double",(Ee==null&&new ps,Ee))}function Ga(){return yi==null&&new id,yi}function jd(){li=this,this._descriptor_17=new Xu("kotlin.Float",(se==null&&new fa,se))}function Yg(){Fi=this,this._descriptor_18=new Xu("kotlin.Long",(zi==null&&new Eu,zi))}function km(){Jn=this,this._descriptor_19=new Xu("kotlin.Int",(ms==null&&new Gu,ms))}function Tm(){return Jn==null&&new km,Jn}function Hg(){fn=this,this._descriptor_20=new Xu("kotlin.Short",(Kt==null&&new Ti,Kt))}function Zg(){hi=this,this._descriptor_21=new Xu("kotlin.Byte",(Fa==null&&new yo,Fa))}function Kg(){ja=this,this._descriptor_22=new Xu("kotlin.Boolean",(ui==null&&new mi,ui))}function od(){return ja==null&&new Kg,ja}function Lm(){bl=this,this._$$delegate_0=new Fd("kotlin.Unit",fe())}function M1(a){throw no("Primitive descriptor does not have elements")}function Xu(a,p){this._serialName_6=a,this._kind_0=p}function iu(){Zn.call(this)}function Lv(a,p,E){a.pushTag_0(p);var T=E();return a._flag||(a.popTag_5(),fe()),a._flag=!1,T}function R1(a,p,E){this._this$0_15=a,this._$deserializer=p,this._$previousValue=E}function Nm(a,p,E){this._this$0_16=a,this._$deserializer_0=p,this._$previousValue_0=E}function Zn(){this._tagStack=Qn(),this._flag=!1}function Mm(a,p){this._key_0=a,this._value_1=p}function B2(a,p){this._$keySerializer=a,this._$valueSerializer=p}function Bd(a,p){Rm.call(this,a,p);var E,T=ch();this._descriptor_23=jr("kotlin.collections.Map.Entry",T,[],(E=new B2(a,p),function(D){return E.invoke_94(D),fe()}),4)}function $2(a,p){this._$keySerializer_0=a,this._$valueSerializer_0=p}function $d(a,p){var E;Rm.call(this,a,p),this._descriptor_24=Ps("kotlin.Pair",[],(E=new $2(a,p),function(T){return E.invoke_94(T),fe()}),2)}function U2(a){this._this$0_17=a}function D1(a,p,E){var T;this._aSerializer=a,this._bSerializer=p,this._cSerializer=E,this._descriptor_25=Ps("kotlin.Triple",[],(T=new U2(this),function(D){return T.invoke_94(D),fe()}),2)}function Rm(a,p){this._keySerializer_0=a,this._valueSerializer_0=p}function q2(){}function Dm(a,p,E,T){q2.call(this),this._class2ContextualFactory=a,this._polyBase2Serializers=p,this._polyBase2NamedSerializers=E,this._polyBase2DefaultProvider=T}function nw(){}function iw(){}function ET(){}function V2(a){this._$serializer=a}function G2(){}function Xz(){}function z1(a,p){if(!(0<=p&&p<=(a.length-1|0)))throw ka("Index "+p+" out of bounds "+function(E){return new ke(0,_(E))}(a));return a[p]}function Yz(a,p){var E;try{var T,D=function(re,ce){if(re instanceof ju&&ce instanceof ju){var Fe,Ue=ce._get_jClass__2().$metadata$,Ve=Ue==null?null:Ue.associatedObjectKey;if((Fe=Ve==null?null:Ve)==null)return null;var Ke=Fe,tt=re._get_jClass__2().$metadata$,bt=tt==null?null:tt.associatedObjects;if(bt==null)return null;var Dt=bt[Ke];return Dt==null?null:Dt()}return null}(a,bi(Xz));if(D!=null&&ir(D,Pr))T=D!=null&&ir(D,Pr)?D:$e();else if(D!=null&&ir(D,Cm)){var W=D.serializer(p.slice());T=ir(W,Pr)?W:$e()}else T=function(re){var ce=cm(re).$metadata$;return(ce==null?null:ce.kind)=="interface"}(a)?new c(a):null;E=T}catch{E=null}return E}function ow(){var a,p,E,T,D,W,re,ce,Fe,Ue,Ve,Ke;If=this,A_.call(this,(a=!1,p=!1,E=!1,T=!1,D=!1,W=null,re=!1,ce=!1,Fe=null,Ue=!1,Ve=!1,Ke=Object.create(sw.prototype),a=!1,p=!1,E=!1,T=!1,D=!1,W="    ",re=!1,ce=!1,Fe="type",Ue=!1,Ve=!0,sw.call(Ke,a,p,E,T,D,W,re,ce,Fe,Ue,Ve),Ke),ti)}function C_(){return If==null&&new ow,If}function A_(a,p){C_(),this._configuration=a,this._serializersModule=p,this._schemaCache=new pw}function W2(a){this._encodeDefaults=a._configuration._encodeDefaults_0,this._ignoreUnknownKeys=a._configuration._ignoreUnknownKeys_0,this._isLenient=a._configuration._isLenient_0,this._allowStructuredMapKeys=a._configuration._allowStructuredMapKeys_0,this._prettyPrint=a._configuration._prettyPrint_0,this._prettyPrintIndent=a._configuration._prettyPrintIndent_0,this._coerceInputValues=a._configuration._coerceInputValues_0,this._useArrayPolymorphism=a._configuration._useArrayPolymorphism_0,this._classDiscriminator=a._configuration._classDiscriminator_0,this._allowSpecialFloatingPointValues=a._configuration._allowSpecialFloatingPointValues_0,this._useAlternativeNames=a._configuration._useAlternativeNames_0,this._serializersModule_0=a._get_serializersModule__18()}function aw(a,p){A_.call(this,a,p),function(E){if(hr(E._get_serializersModule__18(),ti))return fe();var T=new H1(E._get_configuration__3()._useArrayPolymorphism_0,E._get_configuration__3()._classDiscriminator_0);E._get_serializersModule__18().dumpTo_0(T)}(this)}function sw(a,p,E,T,D,W,re,ce,Fe,Ue,Ve){this._encodeDefaults_0=a,this._ignoreUnknownKeys_0=p,this._isLenient_0=E,this._allowStructuredMapKeys_0=T,this._prettyPrint_0=D,this._prettyPrintIndent_0=W,this._coerceInputValues_0=re,this._useArrayPolymorphism_0=ce,this._classDiscriminator_0=Fe,this._allowSpecialFloatingPointValues_0=Ue,this._useAlternativeNames_0=Ve}function F1(a){this._baseClass_0=a;var p="JsonContentPolymorphicSerializer<"+this._baseClass_0._get_simpleName__4()+">",E=Tv();this._descriptor_26=jr(p,E,[],null,12)}function X2(){}function Bp(){}function Y2(){}function Sa(a){Bp.call(this),this._content=a}function _f(){Bp.call(this)}function Hz(a){return a==null?Jg():new xc(a,!0)}function Zz(a){return a==null?Jg():new xc(a,!1)}function Kz(a){var p,E=a instanceof Sa?a:null;return E==null?Jz(a,"JsonObject"):p=E,p}function Ud(){Us=this,_f.call(this),this._content_0="null"}function Jg(){return Us==null&&new Ud,Us}function xc(a,p){_f.call(this),this._isString=p,this._content_1=Sr(a)}function Jz(a,p){throw Sn("Element "+Su(a)+" is not a "+p)}function Bs(a){Bp.call(this),this._content_2=a}function Qz(a){return function(p){return!!__(p,"true",!0)||!__(p,"false",!0)&&null}(a._get_content__1())}function PT(a){return tp(a._get_content__1())}function qd(){ra=this;var a=ct(Ql(bi($i),[Ip(Ql(un()._get_stringClass_(),[],!1)),Ip(Ql(bi(Bp),[],!1))],!1));this._$$delegate_0_0=(ir(a,Pr)?a:$e())._get_descriptor__66(),this._serialName_7="kotlinx.serialization.json.JsonObject"}function j1(){Tc=this,this._descriptor_27=(ra==null&&new qd,ra)}function Vd(){return Tc==null&&new j1,Tc}function IT(){}function CT(){}function AT(){}function OT(){}function kT(){}function H2(){}function B1(){wn=this;var a,p=Tv();this._descriptor_28=jr("kotlinx.serialization.json.JsonElement",p,[],(a=new H2,function(E){return a.invoke_94(E),fe()}),4)}function uw(){return wn==null&&new B1,wn}function $1(){Ma=this;var a=Ki();this._descriptor_29=jr("kotlinx.serialization.json.JsonPrimitive",a,[],null,12)}function TT(){return Ma==null&&new $1,Ma}function U1(){ha=this;var a=Is();this._descriptor_30=jr("kotlinx.serialization.json.JsonNull",a,[],null,12)}function e5(){return ha==null&&new U1,ha}function q1(a){(function(p){if((ir(p,fw)?p:null)==null)throw no("This serializer can be used only with Json format.Expected Encoder to be JsonEncoder, got "+Su(p))})(a),fe()}function LT(a){cw(a),fe()}function lw(a){return new Wd(a)}function V1(){ro=this,this._descriptor_31=function(a,p){if(mm(a))throw Sn(Sr("Blank serial names are prohibited"));return function(E,T){return function(D){for(var W=Lt._get_keys__5().iterator_39();W.hasNext_14();){var re=A2(Dr(W.next_14()._get_simpleName__4()));if(__(D,"kotlin."+re,!0)||__(D,re,!0))throw Sn(jh(`
                The name of serial descriptor should uniquely identify associated serializer.
                For serial name `+D+" there already exist "+A2(re)+`Serializer.
                Please refer to SerialDescriptor documentation for additional information.
            `))}}(E),new Xu(E,T)}(a,p)}("kotlinx.serialization.json.JsonLiteral",Ki())}function t5(){return ro==null&&new V1,ro}function Gd(){dn=this;var a=ct(Ql(bi(pl),[Ip(Ql(bi(Bp),[],!1))],!1));this._$$delegate_0_1=(ir(a,Pr)?a:$e())._get_descriptor__66(),this._serialName_8="kotlinx.serialization.json.JsonArray"}function G1(){su=this,this._descriptor_32=(dn==null&&new Gd,dn)}function NT(){return su==null&&new G1,su}function cw(a){var p=ir(a,X2)?a:null;if(p==null)throw no("This serializer can be used only with Json format.Expected Decoder to be JsonDecoder, got "+Su(a));return p}function Qg(a){var p=a._original$delegate;return zg("original",1,xg,function(E){return Qg(E)},null),p._get_value__15()}function Wd(a){this._$deferred=a,this._original$delegate=Ld(this._$deferred)}function fw(){}function r5(){}function ml(a,p){this._sb=a,this._json=p,this._level=0,this._writingFirst=!0}function zm(a,p){ml.call(this,a,p)}function Nv(a){k_.call(this,a),Wi(this,Nv)}function O_(a,p,E){return ey(a,p+`
JSON input: `+s5(E,a))}function Mv(a){k_.call(this,a),Wi(this,Mv)}function n5(a,p){return new Mv("Unexpected special floating-point value "+a+`. By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'
Current output: `+MT(p,0,1))}function i5(a){return new Mv("Value of type '"+a._get_serialName__17()+"' can't be used in JSON as a key in the map. It should have either primitive or enum kind, but its kind is '"+a._get_kind__17()+`'.
Use 'allowStructuredMapKeys = true' in 'Json {}' builder to convert such maps to [key1, value1, key2, value2,...] arrays.`)}function o5(a,p){var E="Unexpected special floating-point value "+p+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'";a.fail$default(E,0,2,null)}function a5(a,p,E){return ey(-1,function(T,D,W){return"Unexpected special floating-point value "+T+" with key "+D+`. By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'
Current output: `+MT(W,0,1)}(a,p,E))}function OY(a,p){return ey(-1,"Encountered unknown key '"+a+`'.
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
Current input: `+MT(p,0,1))}function k_(a){_e(a,this),Wi(this,k_)}function ey(a,p){return new Nv(a>=0?"Unexpected JSON token at offset "+a+": "+p:p)}function s5(a,p){if(a.length<200)return a;if(p===-1){var E=a.length-60|0;return E<=0?a:"....."+a.substring(E)}var T=p-30|0,D=p+30|0,W=T<=0?"":".....",re=D>=a.length?"":".....",ce=ee(T,0),Fe=we(D,a.length);return W+a.substring(ce,Fe)+re}function MT(a,p,E,T){return(1&E)!=0&&(p=-1),s5(a,p)}function kY(a,p){var E=p;return!(E.equals(new Mt(125))||E.equals(new Mt(93))||E.equals(new Mt(58))||E.equals(new Mt(44)))}function u5(a,p){var E=a;E._currentPosition=E._currentPosition-1|0,fe(),p.equals(new Mt(34))&&a.consumeStringLenient()==="null"&&a.fail("Expected string literal but 'null' literal was found.\nUse 'coerceInputValues = true' in 'Json {}` builder to coerce nulls to default values.",a._currentPosition-4|0),RT(a,X1(p))}function RT(a,p){var E=p===1?`quotation mark '"'`:p===4?"comma ','":p===5?"semicolon ':'":p===6?"start of the object '{'":p===7?"end of the object '}'":p===8?"start of the array '['":p===9?"end of the array ']'":"valid token",T=a._currentPosition===a._source.length||a._currentPosition<=0?"EOF":ni(a._source,a._currentPosition-1|0).toString();a.fail("Expected "+E+", but had '"+T+"' instead",a._currentPosition-1|0)}function W1(a){var p=a._currentPosition;e:for(;p<a._source.length;){var E=ni(a._source,p);if(!(E.equals(new Mt(32))||E.equals(new Mt(10))||E.equals(new Mt(13))||E.equals(new Mt(9))))break e;p=p+1|0,fe()}return a._currentPosition=p,p}function TY(a,p,E){for(var T,D=E,W=p,re=a._source,ce=ni(re,D);!ce.equals(new Mt(34));)ce.equals(new Mt(92))?W=D=LY(a,W,D):(D=D+1|0)>=re.length&&a.fail("EOF",D),ce=ni(re,D);if(W===p){var Fe=W,Ue=D;T=re.substring(Fe,Ue)}else T=function(Ke,tt,bt){(function(Nt,lr,Mr){Nt._escapedString.append_3(Nt._source,lr,Mr),fe()})(Ke,tt,bt);var Dt=Ke._escapedString.toString();return Ke._escapedString.setLength(0),Dt}(a,W,D);var Ve=T;return a._currentPosition=D+1|0,Ve}function LY(a,p,E){return a._escapedString.append_3(a._source,p,E),fe(),function(T,D){var W=D,re=W;W=re+1|0;var ce=ni(T._source,re);if(ce.equals(new Mt(117)))return function(Ve,Ke,tt){return(tt+4|0)>=Ke.length&&Ve.fail$default("Unexpected EOF during unicode escape",0,2,null),Ve._escapedString.append_1(w1((((Z2(Ve,Ke,tt)<<12)+(Z2(Ve,Ke,tt+1|0)<<8)|0)+(Z2(Ve,Ke,tt+2|0)<<4)|0)+Z2(Ve,Ke,tt+3|0)|0)),fe(),tt+4|0}(T,T._source,W);var Fe=function(Ve){return Ve<117?h5()._ESCAPE_2_CHAR[Ve]:new Mt(0)}(ce.toInt_5());if(Fe.equals(new Mt(0))){var Ue="Invalid escaped char '"+ce+"'";T.fail$default(Ue,0,2,null)}return T._escapedString.append_1(Fe),fe(),W}(a,E+1|0)}function l5(a){var p=Dr(a._peekedString);return a._peekedString=null,p}function Z2(a,p,E){var T,D=ni(p,E);if(new Mt(48)<=D&&D<=new Mt(57))T=D.toInt_5()-48|0;else if(new Mt(97)<=D&&D<=new Mt(102))T=10+(D.toInt_5()-97|0)|0;else if(new Mt(65)<=D&&D<=new Mt(70))T=10+(D.toInt_5()-65|0)|0;else{var W="Invalid toHexChar char '"+D+"' in unicode escape";a.fail$default(W,0,2,null)}return T}function c5(a,p){var E=p;E===a._source.length&&a.fail$default("EOF",0,2,null);var T,D=E;switch(E=D+1|0,32|ni(a._source,D).toInt_5()){case 116:f5(a,"rue",E),T=!0;break;case 102:f5(a,"alse",E),T=!1;break;default:var W="Expected valid boolean literal prefix, but had '"+a.consumeStringLenient()+"'";a.fail$default(W,0,2,null)}return T}function f5(a,p,E){(a._source.length-E|0)<p.length&&a.fail$default("Unexpected end of boolean literal",0,2,null);var T=0,D=Js(p)-1|0;if(T<=D)do{var W=T;T=T+1|0;var re=ni(p,W),ce=ni(a._source,E+W|0);if(re.toInt_5()!==(32|ce.toInt_5())){var Fe="Expected valid boolean literal prefix, but had '"+a.consumeStringLenient()+"'";a.fail$default(Fe,0,2,null)}}while(T<=D);a._currentPosition=E+p.length|0}function Yu(a){this._source=a,this._currentPosition=0,this._peekedString=null,this._escapedString=yv()}function X1(a){return a.toInt_5()<126?h5()._CHAR_TO_TOKEN[a.toInt_5()]:0}function Rv(a,p,E){E.equals(new Mt(117))||(a._ESCAPE_2_CHAR[E.toInt_5()]=w1(p))}function DT(a,p,E){return Rv(a,p.toInt_5(),E)}function Y1(a,p,E){a._CHAR_TO_TOKEN[p]=E}function ty(a,p,E){return Y1(a,p.toInt_5(),E)}function p5(){yp=this,this._ESCAPE_2_CHAR=xa(117),this._CHAR_TO_TOKEN=new Int8Array(126),function(a){var p=0;if(p<=31)do{var E=p;p=p+1|0,Rv(a,E,new Mt(117))}while(p<=31);Rv(a,8,new Mt(98)),Rv(a,9,new Mt(116)),Rv(a,10,new Mt(110)),Rv(a,12,new Mt(102)),Rv(a,13,new Mt(114)),DT(a,new Mt(47),new Mt(47)),DT(a,new Mt(34),new Mt(34)),DT(a,new Mt(92),new Mt(92))}(this),function(a){var p=0;if(p<=32)do{var E=p;p=p+1|0,Y1(a,E,127)}while(p<=32);Y1(a,9,3),Y1(a,10,3),Y1(a,13,3),Y1(a,32,3),ty(a,new Mt(44),4),ty(a,new Mt(58),5),ty(a,new Mt(123),6),ty(a,new Mt(125),7),ty(a,new Mt(91),8),ty(a,new Mt(93),9),ty(a,new Mt(34),1),ty(a,new Mt(92),2)}(this)}function h5(){return yp==null&&new p5,yp}function K2(a,p,E){var T=a.getElementIndex_17(E);if(Iu(),T!==-3||!p._configuration._useAlternativeNames_0)return T;var D,W,re,ce=p._schemaCache.getOrPut(a,Ts,(D=new J2(a),(W=function(){return D.invoke_97()}).callableName=D._get_name__1(),W)).get_17(E);return ce==null?(Iu(),re=-3):re=ce,re}function d5(a,p,E){var T=K2(a,p,E);if(Iu(),T===-3)throw xe(a._get_serialName__17()+" does not contain element with name '"+E+"'");return T}function _5(a){var p=null,E=0,T=a._get_elementsCount__17();if(E<T)do{var D=E;E=E+1|0;for(var W=a.getElementAnnotations_17(D),re=Qn(),ce=W.iterator_39();ce.hasNext_14();){var Fe=ce.next_14();Fe instanceof r5&&(re.add_18(Fe),fe())}var Ue=pe(re),Ve=Ue==null?null:Ue._names_0;if(Ve!=null){for(var Ke=Ag(Ve);Ke.hasNext_14();){var tt=Ke.next_14();p==null&&(p=VT(a._get_elementsCount__17())),NY(Dr(p),a,tt,D)}fe()}fe()}while(E<T);var bt=p;return bt==null?Qi():bt}function NY(a,p,E,T){if((ir(a,Ks)?a:$e()).containsKey_8(E))throw new k_("The suggested name '"+E+"' for property "+p.getElementName_17(T)+" is already one of the names for property "+p.getElementName_17(Vl(a,E))+" in "+p);a.put_4(E,T),fe()}function J2(a){this._$boundThis=a}function m5(a,p){var E;return E=a._isLenient_1||!p?a._lexer.consumeStringLenient():a._lexer.consumeString(),p||E!=="null"?new xc(E,p):Jg()}function zT(a,p){this._lexer=p,this._isLenient_1=a._isLenient_0}function g5(a,p){if(!(p instanceof vc)||a._get_json__9()._configuration._useArrayPolymorphism_0)return p.deserialize_70(a);var E=a.decodeJsonElement_5(),T=p._get_descriptor__66();if(!(E instanceof Sa))throw ey(-1,"Expected "+bi(Sa)+" as the serialized body of "+T._get_serialName__17()+", but had "+Su(E));var D,W=E,re=a._get_json__9()._configuration._classDiscriminator_0,ce=W.get_16(re),Fe=ce==null?null:function(tt){var bt,Dt=tt instanceof _f?tt:null;return Dt==null?Jz(tt,"JsonPrimitive"):bt=Dt,bt}(ce),Ue=Fe==null?null:Fe._get_content__1(),Ve=p.findPolymorphicSerializerOrNull_1(a,Ue);Ve==null?function(tt,bt){throw O_(-1,"Polymorphic serializer was not found for "+(tt==null?"missing class discriminator ('null')":"class discriminator '"+tt+"'"),bt.toString())}(Ue,W):D=Ve;var Ke=D;return function(tt,bt,Dt,Nt){return new mf(tt,Dt,bt,Nt._get_descriptor__66()).decodeSerializableValue_18(Nt)}(a._get_json__9(),re,W,ir(Ke,Kh)?Ke:$e())}function y5(a,p,E){var T=p instanceof vc?p:$e(),D=h(T,a,yn(E)?E:$e());return function(W,re,ce){if(!(W instanceof A))return fe();if(Wg(re._get_descriptor__66()).contains_27(ce)){var Fe=W._get_descriptor__66()._get_serialName__17();throw no(Sr("Sealed class '"+re._get_descriptor__66()._get_serialName__17()+"' cannot be serialized as base class '"+Fe+"' because it has property name that conflicts with JSON class discriminator '"+ce+"'. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism"))}}(T,D,a._get_json__9()._configuration._classDiscriminator_0),function(W){if(W instanceof ru)throw no(Sr("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead"));if(W instanceof fo)throw no(Sr("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead"));if(W instanceof Tl)throw no(Sr("Actual serializer for polymorphic cannot be polymorphic itself"))}(D._get_descriptor__66()._get_kind__17()),D}function H1(a,p){this._useArrayPolymorphism_1=a,this._discriminator=p}function Q2(){}function pw(){this._map_1=VT(1)}function MY(a,p,E){var T=p.getElementDescriptor_17(E);if(!T._get_isNullable__17()&&!a._lexer_0.tryConsumeNotNull())return!0;if(hr(T._get_kind__17(),Is())){var D=a._lexer_0.peekString(a._configuration_0._isLenient_0);if(D==null)return!1;var W=D,re=K2(T,a._json_0,W);if(Iu(),re===-3)return a._lexer_0.consumeString(),fe(),!0}return!1}function RY(a,p){return a._configuration_0._ignoreUnknownKeys_0?a._lexer_0.skipElement(a._configuration_0._isLenient_0):a._lexer_0.failOnUnknownKey(p),a._lexer_0.tryConsumeComma()}function DY(a){return a._configuration_0._isLenient_0?a._lexer_0.consumeStringLenient():a._lexer_0.consumeKeyString()}function ds(a,p,E){qi.call(this),this._json_0=a,this._mode=p,this._lexer_0=E,this._serializersModule_1=this._json_0._get_serializersModule__18(),this._currentIndex=-1,this._configuration_0=this._json_0._configuration}function Nf(a,p){qi.call(this),this._lexer_1=a,this._serializersModule_2=p._get_serializersModule__18()}function _s(a,p,E,T){Di.call(this),this._composer=a,this._json_1=p,this._mode_0=E,this._modeReuseCache=T,this._serializersModule_3=this._json_1._get_serializersModule__18(),this._configuration_1=this._json_1._configuration,this._forceQuoting=!1,this._writePolymorphic=!1;var D=this._mode_0._get_ordinal__0();this._modeReuseCache!=null&&(this._modeReuseCache[D]===null&&this._modeReuseCache[D]===this||(this._modeReuseCache[D]=this))}function FT(a){return!!a._get_isInline__17()&&Nu.contains_27(a)}function eP(a){var p=15&a;return w1(p<10?p+new Mt(48).toInt_5()|0:(p-10|0)+new Mt(97).toInt_5()|0)}function jT(a,p){a.append_1(new Mt(34)),fe();var E=0,T=0,D=Js(p)-1|0;if(T<=D)do{var W=T;T=T+1|0;var re=ni(p,W).toInt_5();re<Ba.length&&Ba[re]!=null&&(a.append_3(p,E,W),fe(),a.append_5(Ba[re]),fe(),E=W+1|0)}while(T<=D);E!==0?(a.append_3(p,E,p.length),fe()):(a.append_5(p),fe()),a.append_1(new Mt(34)),fe()}function Fm(a){var p=a._get_currentTagOrNull__5(),E=p==null?null:a.currentElement_3(p);return E==null?a._get_value__15():E}function Mf(a,p){throw O_(-1,"Failed to parse '"+p+"'",Sr(Fm(a)))}function wi(a,p){iu.call(this),this._json_2=a,this._value_2=p,this._configuration_2=this._get_json__9()._configuration}function v5(a,p,E,T,D,W,re){return(4&D)!=0&&(E=null),(8&D)!=0&&(T=null),mf.call(re,a,p,E,T),re}function b5(a,p,E,T,D,W){return v5(a,p,E,T,D,0,Object.create(mf.prototype))}function zY(a,p,E,T){var D,W=p.getElementDescriptor_17(E);if(a.currentElement_3(T)instanceof Ud&&!W._get_isNullable__17())return!0;if(hr(W._get_kind__17(),Is())){var re=a.currentElement_3(T),ce=re instanceof _f?re:null,Fe=ce==null||(D=ce)instanceof Ud?null:D._get_content__1();if(Fe==null)return!1;var Ue=Fe,Ve=K2(W,a._get_json__9(),Ue);if(Iu(),Ve===-3)return!0}return!1}function tP(a){this._$boundThis_0=a}function mf(a,p,E,T){wi.call(this,a,p),this._value_3=p,this._polyDiscriminator=E,this._polyDescriptor=T,this._position_7=0}function $p(a,p){wi.call(this,a,p),this._value_4=p,this._size_0=this._value_4._get_size__29(),this._currentIndex_0=-1}function Xd(a,p){wi.call(this,a,p),this._value_5=p,this.pushTag_0("primitive")}function yh(a,p){v5(a,p,null,null,12,0,this),this._value_6=p,this._keys_0=G(this._value_6._get_keys__5()),this._size_1=sr(this._keys_0._get_size__29(),2),this._position_8=-1}function rP(){if(Uu)return fe();Uu=!0,$a=new ry("OBJ",0,new Mt(123),new Mt(125)),rl=new ry("LIST",1,new Mt(91),new Mt(93)),Wt=new ry("MAP",2,new Mt(123),new Mt(125)),xl=new ry("POLY_OBJ",3,new Mt(91),new Mt(93))}function ry(a,p,E,T){hl.call(this,a,p),this._begin=E,this._end=T}function x5(a,p){var E,T=p._get_kind__17();if(T instanceof Tl)E=nP();else if(hr(T,Lf()))E=dw();else if(hr(T,ch())){var D,W=w5(p.getElementDescriptor_17(0)),re=W._get_kind__17();if(re instanceof fo||hr(re,Is()))D=_w();else{if(!a._configuration._allowStructuredMapKeys_0)throw i5(W);D=dw()}E=D}else E=hw();return E}function w5(a){return a._get_isInline__17()?a.getElementDescriptor_17(0):a}function hw(){return rP(),$a}function dw(){return rP(),rl}function _w(){return rP(),Wt}function nP(){return rP(),xl}function Xc(a){Di.call(this),this._json_3=a,this._result=null}function BT(){if(Hi)return fe();Hi=!0,wl=new Dv("OBJ",0),Jc=new Dv("MAP",1),os=new Dv("LIST",2)}function vh(a){var p=a._current;if(p!=null)return p;Lg("current")}function S5(){Ai=this}function $T(){return Ai==null&&new S5,Ai}function iP(a,p){this._writeMode=a,this._jsObject=p,this._index_3=0}function Dv(a,p){hl.call(this,a,p)}function E5(a,p){var E,T=p;return T.equals(P5())||T.equals(UT())?E={}:T.equals(qT())?E=[]:Tg(),E}function P5(){return BT(),wl}function UT(){return BT(),Jc}function qT(){return BT(),os}function Hu(a,p){Di.call(this),this._json_4=a,this._encodeNullAsUndefined=p,this._result_0=$T(),this._currentName=null,this._currentElementIsMapKey=!1,this._writePolymorphic_0=!1}function ny(){this._sb_0=qx()}function VT(a){return Of(a)}function Yd(){Wo=this,this._LOCALIZATION_AR="ar",this._LOCALIZATION_EN="en",this._LOCALIZATION_FI="fi"}function oP(){return Wo==null&&new Yd,Wo}function FY(a,p,E){var T,D=E;oP(),D==="ar"?T='{"lang":"ar","route_ready":"\u0623\u0644\u0645\u064E\u0633\u0627\u0631\u0652 \u062C\u0627\u0647\u0632 \u0645\u064F\u0633\u062A\u0648\u0649 \u0627\u0644\u062F\u064D\u0642\u0629 \u0663 \u0623\u0645\u062A\u0627\u0631 \u062A\u0642\u0631\u064A\u0628\u0627\u064B","update_turn_confirmation":"\u0648\u0627\u0635\u0650\u0644\u0652 \u0627\u0644\u062A\u064E\u0642\u064E\u062F\u064F\u0645 \u0644\u0644\u0623\u0645\u0627\u0645\u0652","update_turn":"\u0628\u0639\u062F {{distance}} {{distanceUnit}} {{direction}}","update_turn_left_hard":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0652\u0635\u0649 \u0627\u0644\u064A\u064E\u0633\u0627\u0631\u0652","update_turn_left":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u064E\u0633\u0627\u0631\u0652","update_turn_left_slight":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u064E\u0633\u0627\u0631\u0652 \u0642\u0644\u064A\u0644\u0627\u064B","update_turn_straight":"\u0648\u0627\u0635\u0650\u0644\u0652 \u0627\u0644\u062A\u064E\u0642\u064E\u062F\u064F\u0645\u0652 \u0625\u0644\u0649 \u0627\u0644\u0623\u0645\u0627\u0645\u0652","update_turn_right_slight":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646 \u0642\u064E\u0644\u064A\u0644\u0627\u064B","update_turn_right":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646","update_turn_right_hard":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0635\u0649 \u0627\u0644\u064A\u0645\u064A\u0646","update_turn_around":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0648 \u062A\u064E\u0648\u064E\u062C\u064E\u0647\u0652 \u0641\u064A \u0627\u0644\u0625\u062A\u0650\u062C\u0627\u0647 \u0627\u0644\u0645\u064F\u0639\u0627\u0643\u0650\u0633\u0652","update_waypoint":"you will reach waypoint {{waypointTitle}}, then {{turn}}","update_destination":"\u0633\u064E\u0648\u0641\u064E \u062A\u064E\u0635\u0652\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0645\u0643\u0627\u0646\u0652 \u0627\u0644\u0645\u064E\u0642\u0652\u0635\u0648\u062F\u0652","update_levelchange_elevator":"\u0628\u0639\u062F {{distance}} {{distanceUnit}} \u0625\u0633\u062A\u064E\u062E\u0652\u062F\u0650\u0645\u0652 \u0627\u0644\u0645\u0650\u0635\u0652\u0639\u064E\u062F\u0652 \u0648\u062A\u064E\u0648\u064E\u062C\u064E\u0647 \u0625\u0644\u0649 {{levelTo}}","update_levelchange_escalator":"\u0628\u0639\u062F {{distance}} {{distanceUnit}} \u0625\u0633\u062A\u064E\u062E\u0652\u062F\u0650\u0645\u0652 \u0627\u0644\u0633\u0650\u0644\u064E\u0645\u0652 \u0627\u0644\u0643\u064E\u0647\u0652\u0631\u064F\u0628\u0627\u0626\u064A {{levelDirection}}","update_levelchange_stairs":"\u0628\u0639\u062F {{distance}} {{distanceUnit}} \u0625\u0633\u062A\u064E\u062E\u0652\u062F\u0650\u0645\u0652 \u0627\u0644\u0623\u062F\u0652\u0631\u064E\u0627\u062C\u0652 {{levelDirection}}","immediate_turn_left_hard":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0635\u0649 \u0627\u0644\u064A\u064E\u0633\u0627\u0631\u0652","immediate_turn_left":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u064E\u0633\u0627\u0631\u0652","immediate_turn_left_slight":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u064E\u0633\u0627\u0631\u0652 \u0642\u0644\u064A\u0644\u0627\u064B","immediate_turn_straight":"\u0648\u0627\u0635\u0650\u0644\u0652 \u0627\u0644\u062A\u064E\u0642\u064E\u062F\u064F\u0645\u0652 \u0625\u0644\u0649 \u0627\u0644\u0623\u0645\u0627\u0645\u0652","immediate_turn_right_slight":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646 \u0642\u064E\u0644\u064A\u0644\u0627\u064B","immediate_turn_right":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646","immediate_turn_right_hard":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0635\u0649 \u0627\u0644\u064A\u0645\u064A\u0646","immediate_turn_around":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652 \u0648 \u062A\u064E\u0648\u064E\u062C\u064E\u0647\u0652 \u0641\u064A \u0627\u0644\u0625\u062A\u0650\u062C\u064E\u0627\u0647 \u0627\u0644\u0645\u064F\u0639\u0627\u0643\u0650\u0633\u0652","immediate_waypoint":"You have reached waypoint {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"\u0625\u0633\u0652\u062A\u064E\u062E\u0652\u062F\u0650\u0645\u0652 \u0627\u0644\u0645\u0650\u0635\u0652\u0639\u064E\u062F\u0652 {{headingDirection}} \u0625\u0644\u0649 \u0627\u0644\u0637\u0627\u0628\u0650\u0642\u0652 {{levelTo}}","immediate_levelchange_escalator":"\u0625\u0633\u0652\u062A\u064E\u062E\u0652\u062F\u0650\u0645\u0652 \u0627\u0644\u0633\u0650\u0644\u064E\u0645\u0652 \u0627\u0644\u0643\u064E\u0647\u0652\u0631\u064F\u0628\u0627\u0626\u064A {{direction}}","immediate_levelchange_stairs":"\u0625\u0633\u0652\u062A\u064E\u062E\u0652\u062F\u0650\u0645\u0652 \u0627\u0644\u0623\u062F\u0652\u0631\u0627\u062C\u0652 {{direction}} \u0625\u0644\u0649 \u0627\u0644\u0637\u0627\u0628\u0650\u0642\u0652 {{levelTo}}","direction_up":"\u0635\u0639\u0648\u062F\u0627\u064B","direction_down":"\u0646\u064F\u0632\u064F\u0648\u0644\u0627\u064B","immediate_levelchange_side_left":"\u0625\u0644\u0649 \u064A\u0633\u0627\u0631\u0650\u0643\u064E","immediate_levelchange_side_right":"\u0625\u0644\u0649 \u064A\u064E\u0645\u0650\u064A\u0646\u0650\u0643\u064E","immediate_levelchange_side_ahead":"\u0623\u0645\u0627\u0645\u064E\u0643\u0652","next_step_destination":"\u062B\u064F\u0645\u064E \u062A\u064E\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0645\u064E\u0643\u0627\u0646\u0652 \u0627\u0644\u0645\u064E\u0642\u0652\u0635\u0648\u062F\u0652 \u0628\u0639\u062F {{distance}} {{distanceUnit}}","next_step_landmarks":"\u062B\u064F\u0645\u064E \u062A\u064E\u0642\u064E\u062F\u064E\u0645\u0652 {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} \u0628\u0650\u0645\u064F\u062D\u0627\u0630\u0627\u062A\u0652 {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} \u0628\u0650\u0625\u062A\u0650\u062C\u0627\u0647\u0652 {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} \u0648 {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}","next_step_landmarks_landmark_position_left":"\u0625\u0644\u0649 \u064A\u0633\u0627\u0631\u0650\u0643\u064E","next_step_landmarks_landmark_position_right":"\u0625\u0644\u0649 \u064A\u064E\u0645\u0650\u064A\u0646\u0650\u0643\u064E","next_step_levelchanger_elevator":"\u062B\u064F\u0645\u064E \u0633\u064E\u0648\u0652\u0641\u064E \u062A\u064E\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0645\u0650\u0635\u0652\u0639\u064E\u062F\u0652 \u0628\u064E\u0639\u062F {{distance}} {{distanceUnit}}","next_step_levelchanger_escalator":"\u062B\u064F\u0645\u064E \u0633\u064E\u0648\u0641\u064E \u062A\u064E\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u062F\u064E\u0631\u064E\u062C\u0652 \u0627\u0644\u0643\u064E\u0647\u0652\u0631\u064F\u0628\u064E\u0627\u0626\u064A \u0628\u064E\u0639\u0652\u062F {{distance}} {{distanceUnit}}","next_step_levelchanger_stairs":"\u062B\u064F\u0645\u064E \u0633\u064E\u0648\u0641\u064E \u062A\u064E\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0623\u062F\u0652\u0631\u064E\u0627\u062C\u0650 \u0628\u064E\u0639\u062F\u0652 {{distance}} {{distanceUnit}}","passing_landmark":"\u0623\u0646\u062A\u064E \u062A\u064E\u0645\u064F\u0631\u0652 \u0628\u0650\u062C\u0627\u0646\u0650\u0628\u0652 {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}\u0625\u0644\u0649 \u064A\u064E\u0633\u064E\u0627\u0631\u0650\u0643\u0652{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}\u0625\u0644\u0649 \u064A\u0645\u0650\u064A\u0646\u0650\u0643{{/hasRightLandmarks}}","destination_arriving":"\u0623\u0646\u0652\u062A\u064E \u062A\u064E\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0645\u064E\u0643\u0627\u0646\u0652 \u0627\u0644\u0645\u064E\u0642\u0652\u0635\u064F\u0648\u062F\u0652","destination_arrived":"\u0644\u064E\u0642\u064E\u062F\u0652 \u0648\u064E\u0635\u064E\u0644\u0652\u062A\u0652 \u0625\u0644\u0649 {{destination}} \u0628\u0650\u0625\u062A\u0650\u062C\u0627\u0647 \u0627\u0644\u0633\u0627\u0639\u064E\u0629 {{hours}}","state_calculating":"","state_recalculating":"\u064A\u062C\u0631\u064A \u0625\u0639\u0627\u062F\u064E\u0629\u0652 \u0627\u0644\u062D\u0650\u0633\u064E\u0627\u0628\u064F","state_route_not_found":"\u0644\u0627 \u064A\u0648\u062C\u064E\u062F\u0652 \u0645\u064E\u0633\u0627\u0631\u0652","state_route_osrm_error":"Unable to reach calculation server, check connection or try later.","state_canceled":"\u062A\u064E\u0645\u064E \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0645\u064E\u0633\u0627\u0631\u0652","hazard":"\u062A\u064E\u0648\u064E\u0642\u064E\u0649 \u0645\u0650\u0646\u0652 {{title}} {{side}}","hazard_side_left":"\u0625\u0644\u0649 \u064A\u0633\u0627\u0631\u0650\u0643\u064E","hazard_side_right":"\u0625\u0644\u0649 \u064A\u064E\u0645\u0650\u064A\u0646\u0650\u0643\u064E","hazard_side_ahead":"\u0623\u0645\u0627\u0645\u064E\u0643\u064E","decision":"\u0623\u0646\u062A\u064E \u0627\u0644\u0623\u0646\u0652 \u0641\u064A {{title}}","segment_enter":"\u0623\u0646\u062A\u064E \u0627\u0644\u0623\u0646\u0652 \u0641\u064A {{title}}","segment_leave":"\u0644\u064E\u0642\u064E\u062F\u0652 \u062E\u064E\u0631\u064E\u062C\u0652\u062A\u064E \u0645\u0650\u0646\u0652 {{title}}","heading_correction":"\u0635\u064E\u062D\u0650\u062D\u0652 \u0645\u064E\u0633\u0627\u0631\u064E\u0643\u0652 \u0625\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u064E\u0629 {{hours}}","heading_start":"\u0625\u0628\u0652\u062F\u064E\u0621 \u0645\u064E\u0633\u0627\u0631\u064E\u0643\u0652 \u0628\u0627\u0644\u0625\u062A\u0650\u062C\u064E\u0627\u0647 \u0625\u0644\u0649 \u0627\u0644\u0633\u064E\u0627\u0639\u064E\u0629 {{hours}}","heading_wrong_way":"\u0625\u0633\u0652\u062A\u064E\u062F\u0650\u0631\u0652\u060C \u0623\u0646\u0652\u062A\u064E \u062A\u064E\u0645\u0652\u0634\u064A \u0628\u0627\u0644\u0625\u062A\u0650\u062C\u064E\u0627\u0647\u0652 \u0627\u0644\u062E\u064E\u0627\u0637\u0650\u0626","exit_levelchanger_elevator":"{{nextStepDirection}}","exit_levelchanger_escalator":"{{nextStepDirection}}","exit_levelchanger_stairs":" {{nextStepDirection}}","level":{"zero":"\u0637\u0648\u0627\u0628\u0650\u0642\u0652","one":"\u0637\u0627\u0628\u0650\u0642\u0652","two":"\u0637\u0627\u0628\u0650\u0642\u0627\u0646\u0652","few":"\u0637\u064E\u0648\u064E\u0627\u0628\u0650\u0642\u0652","more":"\u0637\u064E\u0648\u064E\u0627\u0628\u0650\u0642\u0652","other":"\u0637\u064E\u0648\u064E\u0627\u0628\u0650\u0642\u0652"},"units":{"meter":{"zero":"\u0645\u0650\u062A\u0652\u0631\u0652","one":"\u0645\u0650\u062A\u0652\u0631\u0652","two":"\u0645\u0650\u062A\u0652\u0631\u064E\u0627\u0646\u0652","few":"\u0623\u0645\u0652\u062A\u064E\u0627\u0631\u0652","more":"\u0645\u0650\u062A\u0652\u0631\u0652","other":"\u0623\u0645\u0652\u062A\u064E\u0627\u0631\u0652"},"meters":{"zero":"\u0645\u0650\u062A\u0652\u0631\u0652","one":"\u0645\u0650\u062A\u0652\u0631\u0652","two":"\u0645\u0650\u062A\u0652\u0631\u064E\u0627\u0646\u0652","few":"\u0623\u0645\u0652\u062A\u064E\u0627\u0631\u0652","more":"\u0645\u0650\u062A\u0652\u0631\u0652","other":"\u0623\u0645\u0652\u062A\u064E\u0627\u0631\u0652"},"steps":{"zero":"\u062E\u0650\u0637\u0652\u0648\u064E\u0629","one":"\u062E\u0650\u0637\u0652\u0648\u064E\u0629","two":"\u062E\u0650\u0637\u0652\u0648\u062A\u064E\u0627\u0646","few":"\u062E\u064E\u0637\u064E\u0648\u064E\u0627\u062A\u0652","more":"\u062E\u0650\u0637\u0652\u0648\u064E\u0629","other":"\u062E\u0650\u0637\u0652\u0648\u064E\u0629"}}}':(oP(),D==="en"?T=`{"lang":"en","route_ready":"Route ready, accuracy around 3 meters.","update_turn_confirmation":"Keep going forward.","update_turn":"In {{distance}} {{distanceUnit}} {{direction}}.","update_turn_left_hard":"turn hard left","update_turn_left":"turn left","update_turn_left_slight":"turn slight left","update_turn_straight":"continue straight","update_turn_right_slight":"turn slight right","update_turn_right":"turn right","update_turn_right_hard":"turn hard right","update_turn_around":"turn around","update_waypoint":"you will reach waypoint {{waypointTitle}}, then {{turn}}","update_destination":"you will arrive at your destination","update_levelchange_elevator":"In {{distance}} {{distanceUnit}} use the elevator to level {{levelTo}}.","update_levelchange_escalator":"In {{distance}} {{distanceUnit}} use the escalator {{levelDirection}}.","update_levelchange_stairs":"In {{distance}} {{distanceUnit}} use the stairs {{levelDirection}}.","immediate_turn_left_hard":"Turn hard left.","immediate_turn_left":"Turn left.","immediate_turn_left_slight":"Turn slight left.","immediate_turn_straight":"Continue straight.","immediate_turn_right_slight":"Turn slight right.","immediate_turn_right":"Turn right.","immediate_turn_right_hard":"Turn hard right.","immediate_turn_around":"Turn around.","immediate_waypoint":"You have reached waypoint {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"Use the elevator {{headingDirection}} to level {{levelTo}}.","immediate_levelchange_escalator":"Use the escalator {{headingDirection}}.","immediate_levelchange_stairs":"Use the stairs {{headingDirection}} to level {{levelTo}}.","direction_up":"up","direction_down":"down","immediate_levelchange_side_left":"on your left","immediate_levelchange_side_right":"on your right","immediate_levelchange_side_ahead":"ahead of you","next_step_destination":"Then you will reach your destination in {{distance}} {{distanceUnit}}.","next_step_landmarks":"Then continue {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} passing {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} towards {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} and {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}.","next_step_landmarks_landmark_position_left":"on the left","next_step_landmarks_landmark_position_right":"on the right","next_step_levelchanger_elevator":"Then in {{distance}} {{distanceUnit}} you will reach an elevator.","next_step_levelchanger_escalator":"Then in {{distance}} {{distanceUnit}} you will reach an escalator.","next_step_levelchanger_stairs":"Then in {{distance}} {{distanceUnit}} you will reach stairs.","passing_landmark":"You are passing {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}on your left{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}on your right{{/hasRightLandmarks}}.","destination_arriving":"You are arriving at the destination.","destination_arrived":"You arrived at the destination {{destination}} at {{hours}} o'clock.","state_calculating":"","state_recalculating":"Recalculating.","state_route_not_found":"Route not found.","state_route_osrm_error":"Unable to reach calculation server, check connection or try later.","state_canceled":"Route canceled.","hazard":"Watch out for {{title}} {{side}}.","hazard_side_left":"on your left","hazard_side_right":"on your right","hazard_side_ahead":"ahead of you","decision":"You are at {{title}}.","segment_enter":"You are in {{title}}.","segment_leave":"Exiting {{title}}.","heading_correction":"Correct your heading to {{hours}} o'clock","heading_start":"Start route at your {{hours}} o'clock.","heading_wrong_way":"You are walking wrong way. Turn around.","exit_levelchanger_elevator":"{{nextStepDirection}}.","exit_levelchanger_escalator":"{{nextStepDirection}}.","exit_levelchanger_stairs":"{{nextStepDirection}}.","level":{"zero":"levels","one":"level","two":"levels","few":"levels","more":"levels","other":"levels"},"units":{"meter":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"meters":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"steps":{"zero":"step","one":"step","two":"steps","few":"steps","more":"steps","other":"steps"},"kilometers":{"zero":"kilometers","one":"kilometer","two":"kilometers","few":"kilometers","more":"kilometers","other":"kilometers"}}}`:(oP(),T=D==="fi"?'{"lang":"fi","route_ready":"Reitti on valmis, tarkkuus noin 3 metri\xE4.","update_turn_confirmation":"Jatka eteenp\xE4in.","update_turn":"kulje {{distance}}  {{distanceUnit}}, sitten {{direction}}.","update_turn_left_hard":"k\xE4\xE4nny jyrk\xE4sti vasempaan","update_turn_left":"k\xE4\xE4nny vasempaan","update_turn_left_slight":"k\xE4\xE4nny loivasti vasempaan","update_turn_straight":"jatka suoraan","update_turn_right_slight":"k\xE4\xE4nny loivasti oikeaan","update_turn_right":"k\xE4\xE4nny oikeaan","update_turn_right_hard":"k\xE4\xE4nny jyrk\xE4sti oikeaan","update_turn_around":"k\xE4\xE4nny ymp\xE4ri","update_waypoint":"saavut v\xE4lietapille {{waypointTitle}}, jonka j\xE4lkeen {{turn}}","update_destination":"saavut kohteeseesi","update_levelchange_elevator":"kulje {{distance}} {{distanceUnit}}, sen j\xE4lkeen siirry hissill\xE4 kerrokseen {{levelTo}}.","update_levelchange_escalator":"kulje {{distance}} {{distanceUnit}}, sen j\xE4lkeen siirry liukuportailla {{levelDirection}}.","update_levelchange_stairs":"kulje viel\xE4 {{distance}} {{distanceUnit}}, sen j\xE4lkeen siirry portailla kerrokseen {{levelDirection}}.","immediate_turn_left_hard":"K\xE4\xE4nny jyrk\xE4sti vasempaan.","immediate_turn_left":"K\xE4\xE4nny vasempaan.","immediate_turn_left_slight":"K\xE4\xE4nny loivasti vasempaan.","immediate_turn_straight":"Jatka suoraan.","immediate_turn_right_slight":"K\xE4\xE4nny loivasti oikeaan.","immediate_turn_right":"K\xE4\xE4nny oikeaan.","immediate_turn_right_hard":"K\xE4\xE4nny jyrk\xE4sti oikeaan.","immediate_turn_around":"K\xE4\xE4nny ymp\xE4ri.","immediate_waypoint":"Olet saapunut v\xE4lietappiin {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"K\xE4yt\xE4 hissi\xE4 {{headingDirection}} siirty\xE4ksesi kerrokseen {{levelTo}}.","immediate_levelchange_escalator":"K\xE4yt\xE4 liukuportaita {{headingDirection}}.","immediate_levelchange_stairs":"K\xE4yt\xE4 portaita {{headingDirection}} siirty\xE4ksesi kerrokseen {{levelTo}}.","direction_up":"yl\xF6s","direction_down":"alas","immediate_levelchange_side_left":"vasemmalla","immediate_levelchange_side_right":"oikealla","immediate_levelchange_side_ahead":"edess\xE4si","next_step_destination":"Sen j\xE4lkeen kohteeseesi on {{distance}} {{distanceUnit}}.","next_step_landmarks":"Jonka j\xE4lkeen jatka {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} ohittaen {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} kohti {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} ja {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}.","next_step_landmarks_landmark_position_left":"vasemmalla","next_step_landmarks_landmark_position_right":"oikealla","next_step_levelchanger_elevator":"Jonka j\xE4lkeen on {{distance}} {{distanceUnit}} matkaa hissille.","next_step_levelchanger_escalator":"Jonka j\xE4lkeen on {{distance}} {{distanceUnit}} matkaa liukuportaille.","next_step_levelchanger_stairs":"Jonka j\xE4lkeen on {{distance}} {{distanceUnit}} matkaa portaille.","passing_landmark":"Olet ohittamassa {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}vasemmalla{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}oikealla{{/hasRightLandmarks}}.","destination_arriving":"Saavut kohteeseen.","destination_arrived":"Olet saapunut kohteeseen {{destination}} joka on kellonsuunnassa {{hours}}.","state_calculating":"Lasketaan.","state_recalculating":"Lasketaan uudelleen.","state_route_not_found":"Reitti\xE4 ei l\xF6ydetty.","state_route_osrm_error":"Palvelimeen ei saatu yhteytt\xE4, ole hyv\xE4 ja tarkista yhteys, jonka j\xE4lkeen yrit\xE4 uudelleen.","state_canceled":"Reitti peruutettu.","hazard":"Varo {{title}} {{side}}.","hazard_side_left":"vasemmalla","hazard_side_right":"oikealla","hazard_side_ahead":"edess\xE4si","decision":"Olet {{title}}.","segment_enter":"Olet {{title}}.","segment_leave":"Poistutaan {{title}}.","heading_correction":"Korjaa suuntaasi kellon suuntaan {{hours}}","heading_start":"Aloita navigointi kellon suuuntaan {{hours}}","heading_wrong_way":"K\xE4velet v\xE4\xE4r\xE4\xE4n suuntaan, ole hyv\xE4 ja k\xE4\xE4nny ymp\xE4ri","exit_levelchanger_elevator":"{{nextStepDirection}}.","exit_levelchanger_escalator":"{{nextStepDirection}}.","exit_levelchanger_stairs":"{{nextStepDirection}}.","level":{"zero":"kerrosta","one":"kerros","two":"kerrosta","few":"kerrosta","more":"kerrosta","other":"kerrosta"},"units":{"meter":{"zero":"metri\xE4","one":"metri","two":"metri\xE4","few":"metri\xE4","more":"metri\xE4","other":"metri\xE4"},"meters":{"zero":"metri\xE4","one":"metri","two":"metri\xE4","few":"metri\xE4","more":"metri\xE4","other":"metri\xE4"},"steps":{"zero":"askelta","one":"askel","two":"askelta","few":"askelta","more":"askelta","other":"askelta"},"kilometers":{"zero":"kilometri\xE4","one":"kilometri","two":"kilometri\xE4","few":"kilometri\xE4","more":"kilometri\xE4","other":"kilometri\xE4"}}}':`{"lang":"en","route_ready":"Route ready, accuracy around 3 meters.","update_turn_confirmation":"Keep going forward.","update_turn":"In {{distance}} {{distanceUnit}} {{direction}}.","update_turn_left_hard":"turn hard left","update_turn_left":"turn left","update_turn_left_slight":"turn slight left","update_turn_straight":"continue straight","update_turn_right_slight":"turn slight right","update_turn_right":"turn right","update_turn_right_hard":"turn hard right","update_turn_around":"turn around","update_waypoint":"you will reach waypoint {{waypointTitle}}, then {{turn}}","update_destination":"you will arrive at your destination","update_levelchange_elevator":"In {{distance}} {{distanceUnit}} use the elevator to level {{levelTo}}.","update_levelchange_escalator":"In {{distance}} {{distanceUnit}} use the escalator {{levelDirection}}.","update_levelchange_stairs":"In {{distance}} {{distanceUnit}} use the stairs {{levelDirection}}.","immediate_turn_left_hard":"Turn hard left.","immediate_turn_left":"Turn left.","immediate_turn_left_slight":"Turn slight left.","immediate_turn_straight":"Continue straight.","immediate_turn_right_slight":"Turn slight right.","immediate_turn_right":"Turn right.","immediate_turn_right_hard":"Turn hard right.","immediate_turn_around":"Turn around.","immediate_waypoint":"You have reached waypoint {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"Use the elevator {{headingDirection}} to level {{levelTo}}.","immediate_levelchange_escalator":"Use the escalator {{headingDirection}}.","immediate_levelchange_stairs":"Use the stairs {{headingDirection}} to level {{levelTo}}.","direction_up":"up","direction_down":"down","immediate_levelchange_side_left":"on your left","immediate_levelchange_side_right":"on your right","immediate_levelchange_side_ahead":"ahead of you","next_step_destination":"Then you will reach your destination in {{distance}} {{distanceUnit}}.","next_step_landmarks":"Then continue {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} passing {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} towards {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} and {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}.","next_step_landmarks_landmark_position_left":"on the left","next_step_landmarks_landmark_position_right":"on the right","next_step_levelchanger_elevator":"Then in {{distance}} {{distanceUnit}} you will reach an elevator.","next_step_levelchanger_escalator":"Then in {{distance}} {{distanceUnit}} you will reach an escalator.","next_step_levelchanger_stairs":"Then in {{distance}} {{distanceUnit}} you will reach stairs.","passing_landmark":"You are passing {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}on your left{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}on your right{{/hasRightLandmarks}}.","destination_arriving":"You are arriving at the destination.","destination_arrived":"You arrived at the destination {{destination}} at {{hours}} o'clock.","state_calculating":"","state_recalculating":"Recalculating.","state_route_not_found":"Route not found.","state_route_osrm_error":"Unable to reach calculation server, check connection or try later.","state_canceled":"Route canceled.","hazard":"Watch out for {{title}} {{side}}.","hazard_side_left":"on your left","hazard_side_right":"on your right","hazard_side_ahead":"ahead of you","decision":"You are at {{title}}.","segment_enter":"You are in {{title}}.","segment_leave":"Exiting {{title}}.","heading_correction":"Correct your heading to {{hours}} o'clock","heading_start":"Start route at your {{hours}} o'clock.","heading_wrong_way":"You are walking wrong way. Turn around.","exit_levelchanger_elevator":"{{nextStepDirection}}.","exit_levelchanger_escalator":"{{nextStepDirection}}.","exit_levelchanger_stairs":"{{nextStepDirection}}.","level":{"zero":"levels","one":"level","two":"levels","few":"levels","more":"levels","other":"levels"},"units":{"meter":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"meters":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"steps":{"zero":"step","one":"step","two":"steps","few":"steps","more":"steps","other":"steps"},"kilometers":{"zero":"kilometers","one":"kilometer","two":"kilometers","few":"kilometers","more":"kilometers","other":"kilometers"}}}`));var W,re,ce,Fe=T,Ue=C_(),Ve=Ge(Ue._get_serializersModule__18(),Ql(bi(hP),[],!1)),Ke=Ue.decodeFromString_2(ir(Ve,Pr)?Ve:$e(),Fe),tt=new Pw,bt=(re=null,W=new aP,ce=function(Mr){return W.invoke_98(Mr),fe()},re=C_(),function(Mr,$r){var Nn=new W2(Mr);return $r(Nn),new aw(Nn.build_8(),Nn._serializersModule_0)}(re,ce)),Dt=Ge(bt._get_serializersModule__18(),Ql(bi(pl),[Ip(Ql(bi(sd),[],!1))],!1)),Nt=bt.decodeFromString_2(ir(Dt,Pr)?Dt:$e(),p);tt.updateFeatureList(Nt);var lr=tt;return new Xv(new Z1,lr,new r6,Ke)}function aP(){}function mw(a,p){oP(),this._guidanceTextGenerator=FY(0,a,p)}function sP(){}function Z1(){this._resources=new sP}function GT(){vp=this}function gw(a){return a instanceof Sa?a:$e()}function jm(a){return(a instanceof _f?a:$e())._get_content__1()}function yw(a,p){return a.containsKey_7(p)}function WT(){Lc=this}function I5(){return Lc==null&&new WT,Lc}function iy(){gs=this;var a=new Ko("com.mapbox.geojson.Feature",this,4);a.addElement_0("type",!0),a.addElement_0("id",!0),a.addElement_0("geometry",!0),a.addElement_0("properties",!0),this._descriptor_33=a}function gf(){return gs==null&&new iy,gs}function T_(){I5(),this._type_0="Feature",this._internalId=null,this._internalGeometry=null,this._internalProperties=new Sa(Qi())}function Rl(a){a._internalProperties==null&&(a._internalProperties=new Sa(Qi()));var p=Dr(a._internalProperties).get_16("level"),E=p==null?null:Sr(p),T=E==null?null:tp(E);return T==null?0:T}function C5(a){var p=a._internalProperties,E=p==null?null:p.get_16("fixed"),T=E==null?null:Sr(E),D=T==null?null:function(W){return W!=null&&W.toLowerCase()==="true"}(T);return D!=null&&D}function up(){}function K1(){jl=this,F1.call(this,bi(up))}function Bm(){return jl==null&&new K1,jl}function uP(){mu=this}function lP(){return mu==null&&new uP,mu}function oy(){Ei=this;var a=new Ko("com.mapbox.geojson.LineString",this,2);a.addElement_0("type",!0),a.addElement_0("coordinates",!0),this._descriptor_34=a}function A5(){return Ei==null&&new oy,Ei}function L_(){lP(),up.call(this),this._type_1="LineString",this._internalCoordinates=[]}function XT(){Ls=this}function ay(){Xo=this;var a=new Ko("com.mapbox.geojson.MultiLineString",this,2);a.addElement_0("type",!0),a.addElement_0("coordinates",!0),this._descriptor_35=a}function O5(){return Xo==null&&new ay,Xo}function J1(){}function YT(){nl=this}function sy(){Mu=this;var a=new Ko("com.mapbox.geojson.MultiPolygon",this,2);a.addElement_0("type",!0),a.addElement_0("coordinates",!0),this._descriptor_36=a}function k5(){return Mu==null&&new sy,Mu}function Q1(){}function cP(){Ri=this}function fP(){return Ri==null&&new cP,Ri}function N_(){da=this;var a=new Ko("com.mapbox.geojson.Point",this,2);a.addElement_0("type",!0),a.addElement_0("coordinates",!0),this._descriptor_37=a}function eb(){return da==null&&new N_,da}function T5(a,p,E,T){return function(D,W,re,ce,Fe){return up.call(Fe),Fe._type_4=(1&D)==0?"Point":W,Fe._coordinates_0=(2&D)==0?[]:re,Fe}(a,p,E,0,Object.create(ou.prototype))}function ou(){fP(),up.call(this),this._type_4="Point",this._coordinates_0=[]}function HT(){il=this}function uy(){po=this;var a=new Ko("com.mapbox.geojson.Polygon",this,2);a.addElement_0("type",!0),a.addElement_0("coordinates",!0),this._descriptor_38=a}function L5(){return po==null&&new uy,po}function tb(){}function vw(){Zi=this}function ad(){return Zi==null&&new vw,Zi}function ZT(){uu=this}function N5(a,p){for(var E,T=ep(),D=p._get_entries__5().iterator_39();D.hasNext_14();){var W=D.next_14();e:do{if(W._get_value__15()==null){fe();break e}var re,ce=W._get_value__15();if(ce!=null&&ir(ce,Ks)){var Fe=W._get_value__15();re=N5(a,Fe!=null&&ir(Fe,Ks)?Fe:$e())}else if(ce!=null&&typeof ce=="boolean"){var Ue=W._get_value__15();re=(E=Ue!=null&&typeof Ue=="boolean"?Ue:$e())==null?Jg():new xc(E,!1)}else if(S1(ce)){var Ve=W._get_value__15();re=Zz(S1(Ve)?Ve:$e())}else if(ce!=null&&typeof ce=="string"){var Ke=W._get_value__15();re=Hz(Ke!=null&&typeof Ke=="string"?Ke:$e())}else re=null;var tt=re;if(tt!=null){var bt=W._get_key__3();T.put_4(bt,tt),fe()}}while(0)}return new Sa(T)}function pP(){}function bw(a){this._template=a}function KT(){Bl=this}function M5(){this._proximi_quantities=""}function R5(){_a=this,this._plurals=new M5}function ly(){bp=this;var a=new Ko("io.proximi.mapbox.data.model.Feature",this,3);a.addElement_0("id",!0),a.addElement_0("geometry",!0),a.addElement_0("properties",!0),this._descriptor_39=a}function sd(){}function cy(){qs=this;var a=new Ko("io.proximi.mapbox.data.model.GuidanceTranslation.QuantityString",this,6);a.addElement_0("zero",!1),a.addElement_0("one",!1),a.addElement_0("two",!1),a.addElement_0("few",!1),a.addElement_0("more",!1),a.addElement_0("other",!1),this._descriptor_40=a}function $m(){return qs==null&&new cy,qs}function M_(){}function fy(){Yo=this;var a=new Ko("io.proximi.mapbox.data.model.GuidanceTranslation",this,64);a.addElement_0("lang",!1),a.addElement_0("route_ready",!1),a.addElement_0("update_turn",!1),a.addElement_0("update_turn_confirmation",!1),a.addElement_0("update_turn_left_hard",!1),a.addElement_0("update_turn_left",!1),a.addElement_0("update_turn_left_slight",!1),a.addElement_0("update_turn_straight",!1),a.addElement_0("update_turn_right_slight",!1),a.addElement_0("update_turn_right",!1),a.addElement_0("update_turn_right_hard",!1),a.addElement_0("update_turn_around",!1),a.addElement_0("update_waypoint",!1),a.addElement_0("update_destination",!1),a.addElement_0("update_levelchange_elevator",!1),a.addElement_0("update_levelchange_escalator",!1),a.addElement_0("update_levelchange_stairs",!1),a.addElement_0("immediate_turn_left_hard",!1),a.addElement_0("immediate_turn_left",!1),a.addElement_0("immediate_turn_left_slight",!1),a.addElement_0("immediate_turn_straight",!1),a.addElement_0("immediate_turn_right_slight",!1),a.addElement_0("immediate_turn_right",!1),a.addElement_0("immediate_turn_right_hard",!1),a.addElement_0("immediate_turn_around",!1),a.addElement_0("immediate_waypoint",!1),a.addElement_0("immediate_levelchange_elevator",!1),a.addElement_0("immediate_levelchange_escalator",!1),a.addElement_0("immediate_levelchange_stairs",!1),a.addElement_0("direction_up",!1),a.addElement_0("direction_down",!1),a.addElement_0("immediate_levelchange_side_left",!1),a.addElement_0("immediate_levelchange_side_right",!1),a.addElement_0("immediate_levelchange_side_ahead",!1),a.addElement_0("next_step_destination",!1),a.addElement_0("next_step_landmarks",!1),a.addElement_0("next_step_landmarks_landmark_position_left",!1),a.addElement_0("next_step_landmarks_landmark_position_right",!1),a.addElement_0("next_step_levelchanger_elevator",!1),a.addElement_0("next_step_levelchanger_escalator",!1),a.addElement_0("next_step_levelchanger_stairs",!1),a.addElement_0("exit_levelchanger_elevator",!0),a.addElement_0("exit_levelchanger_escalator",!0),a.addElement_0("exit_levelchanger_stairs",!0),a.addElement_0("passing_landmark",!1),a.addElement_0("destination_arriving",!1),a.addElement_0("destination_arrived",!1),a.addElement_0("state_calculating",!1),a.addElement_0("state_recalculating",!1),a.addElement_0("state_route_not_found",!1),a.addElement_0("state_route_osrm_error",!1),a.addElement_0("state_canceled",!1),a.addElement_0("hazard",!1),a.addElement_0("hazard_side_left",!1),a.addElement_0("hazard_side_right",!1),a.addElement_0("hazard_side_ahead",!1),a.addElement_0("decision",!1),a.addElement_0("segment_enter",!1),a.addElement_0("segment_leave",!1),a.addElement_0("heading_correction",!1),a.addElement_0("heading_start",!1),a.addElement_0("heading_wrong_way",!1),a.addElement_0("level",!1),a.addElement_0("units",!1),this._descriptor_41=a}function hP(){}function D5(a,p){var E=1,T=0;if(T<p)do T=T+1|0,E*=10;while(T<p);return function(D){if(D%.5!=0)return Math.round(D);var W=Math.floor(D);return W%2==0?W:Math.ceil(D)}(a*E)/E}function ud(){if(so)return fe();so=!0,Pa=new oc("DECISION_POINT",0),Qc=new oc("DOOR",1),rh=new oc("ELEVATOR",2),Nc=new oc("ENTRANCE",3),Mc=new oc("ESCALATOR",4),ol=new oc("HAZARD",5),ao=new oc("LANDMARK",6),Vs=new oc("OUTDOOR_CONNECTOR",7),new oc("PATH",8),Vi=new oc("POI",9),new oc("ROUTABLE_AREA",10),new oc("SEGMENT",11),Rc=new oc("STAIRCASE",12),Gs=new oc("TICKET_GATE",13),Sl=new oc("OTHER",14)}function oc(a,p){hl.call(this,a,p)}function z5(){return ud(),Pa}function JT(){return ud(),rh}function QT(){return ud(),Mc}function F5(){return ud(),ol}function eL(){return ud(),Rc}function py(){Rr=this;var a=new Ko("io.proximi.mapbox.library.Route.RouteNode",this,10);a.addElement_0("bearingFromLastStep",!1),a.addElement_0("coordinates",!1),a.addElement_0("direction",!1),a.addElement_0("distanceFromLastStep",!1),a.addElement_0("level",!1),a.addElement_0("levelChangerId",!1),a.addElement_0("isWaypoint",!1),a.addElement_0("waypointId",!1),a.addElement_0("lineStringFeatureFromLastStep",!1),a.addElement_0("instruction",!0),this._descriptor_42=a}function xw(){return Rr==null&&new py,Rr}function Um(a,p,E,T,D,W,re,ce,Fe){this._bearingFromLastNode=a,this._coordinates_2=p,this._direction=E,this._distanceFromLastNode=T,this._level_0=D,this._levelChangerId=W,this._isWaypoint=re,this._waypointId=ce,this._lineStringFeatureTo=Fe,this._instruction=null}function jY(a,p,E){if(p===0)return $5();if(p===fu(E))return _y();var T=E.get_29(p-1|0)._node,D=E.get_29(p)._node,W=E.get_29(p+1|0)._node,re=yw(Dr(D.properties()),"type")?jm(Dr(Dr(D.properties()).get_16("type"))):"";if(re==="elevator"&&Rl(D)>Rl(W))return Uv();if(re==="escalator"&&Rl(D)>Rl(W))return qv();if(re==="staircase"&&Rl(D)>Rl(W))return Vv();if(re==="elevator"&&Rl(D)<Rl(W))return jv();if(re==="escalator"&&Rl(D)<Rl(W))return Bv();if(re==="staircase"&&Rl(D)<Rl(W))return $v();if(re==="elevator"&&Rl(T)!==Rl(D))return tL();if(re==="escalator"&&Rl(T)!==Rl(D))return rL();if(re==="staircase"&&Rl(T)!==Rl(D))return nL();var ce,Fe=E.get_29(p)._pathToNode,Ue=Fe==null?null:Fe.geometry(),Ve=Ue==null?null:Ue.coordinates_0(),Ke=E.get_29(p+1|0)._pathToNode,tt=Ke==null?null:Ke.geometry(),bt=tt==null?null:tt.coordinates_0(),Dt=Ve==null?null:Ve.get_29(fu(Ve)-1|0),Nt=bt==null?null:bt.get_29(1),lr=ad(),Mr=Dt,$r=Mr==null?T.geometry():Mr,Nn=D.geometry(),ur=lr.bearing($r,Nn),mr=ad(),Mn=D.geometry(),Wn=Nt;ce=Wn==null?W.geometry():Wn;var Xi=mr.bearing(Mn,ce)-ur;return Xi>180?Xi-=360:Xi<-180&&(Xi+=360),o6(Xi)}function hy(){pc=this;var a=new Ko("io.proximi.mapbox.library.Route",this,7);a.addElement_0("distanceMeters",!1),a.addElement_0("distanceCustom",!0),a.addElement_0("distanceCustomUnit",!0),a.addElement_0("destination",!1),a.addElement_0("configuration",!1),a.addElement_0("lastNodeWithPathIndex",!0),a.addElement_0("steps",!1),this._descriptor_43=a}function qm(){this._distanceCustom=null,this._distanceCustomUnit=null,this._lastNodeWithPathIndex=0}function zv(){}function j5(){}function B5(){}function dy(){El=this;var a=new Ko("io.proximi.mapbox.library.RouteConfiguration",this,4);a.addElement_0("start",!1),a.addElement_0("destination",!1),a.addElement_0("waypointList",!1),a.addElement_0("wayfindingOptions",!1),this._descriptor_44=a}function ww(){return El==null&&new dy,El}function R_(a,p,E,T){this._start=a,this._destination_0=p,this._waypointList=E,this._wayfindingOptions=T}function rb(){Ru=this}function Vm(){return Ru==null&&new rb,Ru}function dP(){return[$5(),nb(),ib(),ob(),ab(),Fv(),sb(),ub(),lb(),jv(),Bv(),$v(),Uv(),qv(),Vv(),tL(),rL(),nL(),_y()]}function wc(){if(ci)return fe();ci=!0,Ha=new Au("START",0),Ns=new Au("TURN_AROUND",1),Dc=new Au("HARD_LEFT",2),Xf=new Au("LEFT",3),Ji=new Au("SLIGHT_LEFT",4),Ed=new Au("STRAIGHT",5),Si=new Au("SLIGHT_RIGHT",6),$l=new Au("RIGHT",7),ua=new Au("HARD_RIGHT",8),Yf=new Au("UP_ELEVATOR",9),gu=new Au("UP_ESCALATOR",10),ef=new Au("UP_STAIRS",11),Un=new Au("DOWN_ELEVATOR",12),al=new Au("DOWN_ESCALATOR",13),ho=new Au("DOWN_STAIRS",14),Hf=new Au("EXIT_ELEVATOR",15),Ms=new Au("EXIT_ESCALATOR",16),sl=new Au("EXIT_STAIRS",17),Rh=new Au("FINISH",18),Vm()}function Au(a,p){hl.call(this,a,p)}function $5(){return wc(),Ha}function nb(){return wc(),Ns}function ib(){return wc(),Dc}function ob(){return wc(),Xf}function ab(){return wc(),Ji}function Fv(){return wc(),Ed}function sb(){return wc(),Si}function ub(){return wc(),$l}function lb(){return wc(),ua}function jv(){return wc(),Yf}function Bv(){return wc(),gu}function $v(){return wc(),ef}function Uv(){return wc(),Un}function qv(){return wc(),al}function Vv(){return wc(),ho}function tL(){return wc(),Hf}function rL(){return wc(),Ms}function nL(){return wc(),sl}function _y(){return wc(),Rh}function Gv(a,p,E,T,D,W,re,ce,Fe,Ue){this._nodeIndex=a,this._stepBearing=p,this._stepDirection=E,this._stepDistance=T,this._stepDistanceTotal=D,this._nextStepBearing=W,this._nextStepDistance=re,this._nextStepDirection=ce,this._pathLengthRemaining=Fe,this._position_9=Ue}function D_(){if(ys)return fe();ys=!0,Du=new Up("CALCULATING",0),hc=new Up("RECALCULATING",1),Pi=new Up("DIRECTION_SOON",2),Ws=new Up("DIRECTION_IMMEDIATE",3),Rs=new Up("DIRECTION_NEW",4),Zf=new Up("DIRECTION_UPDATE",5),Dh=new Up("FINISHED",6),zc=new Up("CANCELED",7),qu=new Up("ROUTE_NOT_FOUND",8),Ul=new Up("ROUTE_OSRM_NETWORK_ERROR",9)}function Up(a,p){hl.call(this,a,p)}function U5(){return D_(),Ws}function q5(){return D_(),Rs}function Gm(a,p,E,T){this._unitName=a,this._unitConversionToMeters=p,this._minValueInMeters=E,this._decimals=T}function Wv(a,p,E,T){this._value_7=a,this._valueRounded=p,this._valueString=E,this._unitName_0=T}function V5(){Pn=this,this._DEFAULT=new iL(bs([new Gm("meters",1,0,0),new Gm("kilometers",.001,800,1),new Gm("kilometers",.001,2e3,0)]))}function _P(){return Pn==null&&new V5,Pn}function iL(a){_P(),this._stageList=a}function my(){lu=this;var a=new Ko("io.proximi.mapbox.library.WayfindingOptions",this,9);a.addElement_0("avoidBarriers",!0),a.addElement_0("avoidElevators",!0),a.addElement_0("avoidEscalators",!0),a.addElement_0("avoidNarrowPaths",!0),a.addElement_0("avoidRamps",!0),a.addElement_0("avoidRevolvingDoors",!0),a.addElement_0("avoidStaircases",!0),a.addElement_0("avoidTicketGates",!0),a.addElement_0("pathFixDistance",!0),this._descriptor_45=a}function Sw(){return lu==null&&new my,lu}function Ew(a,p,E,T,D,W,re,ce,Fe){this._avoidBarriers=a,this._avoidElevators=p,this._avoidEscalators=E,this._avoidNarrowPaths=T,this._avoidRamps=D,this._avoidRevolvingDoors=W,this._avoidStaircases=re,this._avoidTicketGates=ce,this._pathFixDistance=Fe}function BY(a,p){if(!(a.geometry()instanceof L_))return er(),1/0;var E=(uu==null&&new ZT,uu),T=a.geometry(),D=E.nearestPointOnLine(p,(T instanceof L_?T:$e()).coordinates_0()),W=ad(),re=D.geometry(),ce=re instanceof ou?re:$e();return W.distance(p,ce,"meters")}function G5(a,p){var E=ad();return E.distance(a,p,"meters")}function $Y(a,p){var E;if(a.getLevel()===p)E=!0;else{var T=a.getLevels();E=(T==null?null:T.contains_27(p))===!0}return E}function Pw(){this._exitBufferDistance=4,this._decisionCallback=null,this._hazardCallback=null,this._segmentCallback=null,this._landmarkCallback=null,this._decisionList=An(),this._hazardList=An(),this._segmentList=An(),this._levelChangerList=An(),this._landmarkList=An(),this._ignoredFeatureIdList=An(),this._enteredHazardList=An(),this._exitedHazardList=An(),this._currentHazardList=An(),this._enteredSegmentList=An(),this._exitedSegmentList=An(),this._currentSegmentList=An(),this._currentSegmentLastLocationMap=Hl(),this._enteredDecisionList=An(),this._exitedDecisionList=An(),this._currentDecisionList=An(),this._currentLandmarkList=An(),this._enteredLandmarkList=An(),this._exitedLandmarkList=An()}function gy(){yu=this;var a=new Ko("io.proximi.mapbox.navigation.GuidanceTextGenerator.LevelChangerData",this,9);a.addElement_0("distance",!1),a.addElement_0("distanceUnit",!1),a.addElement_0("headingTo",!1),a.addElement_0("headingDirection",!1),a.addElement_0("levelFrom",!1),a.addElement_0("levelsChanged",!1),a.addElement_0("levelUnitString",!1),a.addElement_0("levelDirection",!1),a.addElement_0("levelTo",!1),this._descriptor_46=a}function yy(){cu=this;var a=new Ko("io.proximi.mapbox.navigation.GuidanceTextGenerator.TurnData",this,3);a.addElement_0("distance",!1),a.addElement_0("distanceUnit",!1),a.addElement_0("direction",!1),this._descriptor_47=a}function vy(a,p,E,T){return function(D,W,re,ce,Fe){return(2&re)!=0&&(W=null),qp.call(Fe,D,W),Fe}(a,p,E,0,Object.create(qp.prototype))}function Gn(a){var p=a._textData;if(p!=null)return p;Lg("textData")}function oL(a,p){var E,T=p._stepDirection;if(T.equals(nb())||T.equals(ib())||T.equals(ob())||T.equals(ab())||T.equals(Fv())||T.equals(sb())||T.equals(ub())||T.equals(lb())||T.equals(_y()))E=function(D,W){var re=function(ce,Fe){var Ue,Ve=ce._conversion.convert(Fe._stepDistance),Ke=Ve._valueString,tt=Iw(ce,Ve._unitName_0,Ve._value_7),bt=Q5(ce,Fe._stepDirection);if(Dr(ce._route)._nodeList.get_29(Fe._nodeIndex)._isWaypoint){var Dt=ce._mustache.compile(Gn(ce)._updateWaypoint),Nt=Ia([new Rn("turn",bt)]),lr=Dr(ce._route)._nodeList.get_29(Fe._nodeIndex)._waypointId;if(lr!=null){var Mr=Dr(ce._route)._configuration_3.getWaypointById(lr),$r=Mr==null?null:Mr.getTitle();Nt.put_4("waypointTitle",$r==null?"":$r)}fe(),Ue=Dt.execute_0(Nt)}else Ue=bt;return new F_(Ke,tt,Ue)}(D,W);return function(ce,Fe){var Ue=C_(),Ve=Ge(Ue._get_serializersModule__18(),Ql(bi(F_),[],!1)),Ke=Ue.encodeToString_2(ir(Ve,Pr)?Ve:$e(),Fe);return ce.execute_1(Ke)}(D._mustache.compile(Gn(D)._updateTurn),re)}(a,p);else{if(!(T.equals(jv())||T.equals(Bv())||T.equals($v())||T.equals(Uv())||T.equals(qv())||T.equals(Vv())))throw no(Sr("Unsupported step direction."));E=function(D,W){var re,ce=D._featureManager.getLevelChangerById(Dr(Dr(D._route)._nodeList.get_29(W._nodeIndex)._levelChangerId)),Fe=J5(D,ce,W),Ue=W._stepDirection;if(Ue.equals(jv()))re=ld(D,Gn(D)._updateLevelchangeElevator,W);else if(Ue.equals(Uv()))re=ld(D,Gn(D)._updateLevelchangeElevator,W);else if(Ue.equals(Bv()))re=ld(D,Gn(D)._updateLevelchangeEscalator,W);else if(Ue.equals(qv()))re=ld(D,Gn(D)._updateLevelchangeEscalator,W);else if(Ue.equals($v()))re=ld(D,Gn(D)._updateLevelchangeStairs,W);else{if(!Ue.equals(Vv()))throw no(Sr("Unsupported direction found."));re=ld(D,Gn(D)._updateLevelchangeStairs,W)}var Ve=re;return n6(D._mustache.compile(Ve),Fe)}(a,p)}return E}function W5(a,p){var E=a._conversion.convert(p),T=Ys([new Rn("distance",E._valueString),new Rn("distanceUnit",Iw(a,E._unitName_0,E._value_7))]);return a._mustache.compile(Gn(a)._nextStepDestination).execute_0(T)}function X5(a,p,E){var T,D=Dr(a._route)._nodeList.get_29(p)._bearingFromLastNode,W=Dr(a._route)._nodeList.get_29(p)._distanceFromLastNode,re=a._conversion.convert(W),ce=Ia([new Rn("distance",re._valueString),new Rn("distanceUnit",Iw(a,re._unitName_0,re._value_7))]);if(!E.isEmpty_29()){for(var Fe=Qn(),Ue=Qn(),Ve=Qn(),Ke=E.iterator_39();Ke.hasNext_14();){var tt=Ke.next_14();$Y(tt,Dr(a._route)._nodeList.get_29(p)._level_0)&&(Ve.add_18(tt),fe())}for(var bt=Ve,Dt=Qn(),Nt=bt.iterator_39();Nt.hasNext_14();){var lr,Mr=Nt.next_14(),$r=Mr.getRange();if($r!=null&&Dr(a._route)._nodeList.get_29(p)._lineStringFeatureTo!=null){var Nn=Dr(Dr(a._route)._nodeList.get_29(p)._lineStringFeatureTo),ur=Mr._featureGeometry;lr=BY(Nn,ur instanceof ou?ur:$e())<$r}else lr=!1;lr&&(Dt.add_18(Mr),fe())}for(var mr=function(gl,ac){if(ir(gl,Ol)){if(gl._get_size__29()<=1)return G(gl);var Gp=fi(gl),Wm=Md(Gp)?Gp:$e();return function(cd,B_){cd.length>1&&Yl(cd,B_)}(Wm,ac),Ov(Wm)}var j_=J(gl);return function(cd,B_){(function($_,U_){if($_._get_size__29()<=1)return fe();var Hd=fi($_);Yl(Hd,U_);var bh=0,q_=Hd.length;if(bh<q_)do{var xh=bh;bh=bh+1|0,$_.set_2(xh,Hd[xh]),fe()}while(bh<q_)})(cd,B_)}(j_,ac),j_}(Dt,new gP((T=new yP(a,p),function(gl,ac){return T.invoke_100(gl,ac)}))).iterator_39();mr.hasNext_14();){var Mn=mr.next_14();e:do{var Wn=Dr(Mn.pointToPointDistance(Dr(a._route)._nodeList.get_29(p-1|0)._coordinates_2)),Xi=ad(),Yn=Dr(a._route)._nodeList.get_29(p-1|0)._coordinates_2,Dn=Mn._featureGeometry,sa=e6(0,D-Xi.bearing(Yn,Dn instanceof ou?Dn:$e())),Xn=sa;if(Math.abs(Xn)>90){fe();break e}var pi=ep(),oo=Mn.getTitle(),Zu=oo==null?"":oo;pi.put_4("landmark",Zu),fe();var lp=sa;if(Math.abs(lp)<20&&Wn>W)Ue.add_18(pi),fe();else if(sa>0){var yf=Gn(a)._nextStepLandmarksLandmarkPositionLeft;pi.put_4("landmarkPosition",yf),fe(),Fe.add_18(pi),fe()}else{var Sc=Gn(a)._nextStepLandmarksLandmarkPositionRight;pi.put_4("landmarkPosition",Sc),fe(),Fe.add_18(pi),fe()}}while(0)}Y5(0,Fe),Y5(0,Ue),ce.put_4("passingLandmarks",Fe),fe(),ce.put_4("towardsLandmarks",Ue),fe();var Ou=!Fe.isEmpty_29();ce.put_4("hasPassingLandmarks",Ou),fe();var Vp=!Ue.isEmpty_29();ce.put_4("hasTowardsLandmarks",Vp),fe()}return a._mustache.compile(Gn(a)._nextStepLandmarks).execute(ce)}function Y5(a,p){for(var E=0,T=p.iterator_39();T.hasNext_14();){var D=T.next_14(),W=E;E=W+1|0;var re=Wr(W);re===0?(D.put_4("isFirst",!0),fe(),D.put_4("notFirst",!1),fe()):(D.put_4("isFirst",!1),fe(),D.put_4("notFirst",!0),fe()),re===(p._get_size__29()-1|0)?(D.put_4("isLast",!0),fe(),D.put_4("notLast",!1),fe()):(D.put_4("isLast",!1),fe(),D.put_4("notLast",!0),fe())}}function mP(a,p,E,T){var D;e:do{for(var W=E.iterator_39();W.hasNext_14();){var re=W.next_14();if(re._id==Dr(a._route)._nodeList.get_29(p._nodeIndex-2|0)._levelChangerId){D=re;break e}}throw tc("Collection contains no element matching the predicate.")}while(0);var ce,Fe=D,Ue=ad(),Ve=Dr(a._route)._nodeList.get_29(p._nodeIndex-2|0)._coordinates_2,Ke=Fe._featureGeometry,tt=Ue.bearing(Ve,Ke instanceof ou?Ke:$e());e:do{for(var bt=E.iterator_39();bt.hasNext_14();){var Dt=bt.next_14();if(Dt._id==Dr(a._route)._nodeList.get_29(p._nodeIndex-1|0)._levelChangerId){ce=Dt;break e}}throw tc("Collection contains no element matching the predicate.")}while(0);var Nt,lr=ce,Mr=ad(),$r=lr._featureGeometry,Nn=Mr.bearing($r instanceof ou?$r:$e(),Dr(a._route)._nodeList.get_29(p._nodeIndex-1|0)._coordinates_2),ur=e6(0,Nn-tt),mr=Dr(a._route)._nodeList.get_29(p._nodeIndex-2|0)._direction;if(mr.equals(jv())||mr.equals(Uv()))Nt=Gn(a)._exitLevelChangerElevator;else if(mr.equals(Bv())||mr.equals(qv()))Nt=Gn(a)._exitLevelChangerEscalator;else{if(!mr.equals($v())&&!mr.equals(Vv()))throw no(Sr("Unsupported direction!"));Nt=Gn(a)._exitLevelChangerStairs}var Mn,Wn,Xi=Nt,Yn=T,Dn=Yn==null?Yv(Dr(a._route)._nodeList.get_29(p._nodeIndex)._bearingFromLastNode-Nn):Yn,sa=Ys([new Rn("exitHours",(Mn=ur,Wn=Yv(Mn),Wn<-165?6:Wn<-135?7:Wn<-105?8:Wn<-75?9:Wn<-45?10:Wn<-15?11:Wn<15?12:Wn<45?1:Wn<75?2:Wn<105?3:Wn<135?4:Wn<165?5:6).toString()),new Rn("exitDegreesInt",o1(ur).toString()),new Rn("exitDegreesDec",aL(ur)),new Rn("nextStepHours",t6(Dn)),new Rn("nextStepDegreesInt",o1(Dn).toString()),new Rn("nextStepDegreesDec",aL(Dn)),new Rn("nextStepDirection",Q5(a,o6(Dn))),new Rn("levelchanger",Fe)]);return a._mustache.compile(Xi).execute(sa)}function H5(a,p,E,T){var D,W=Dr(a._route)._nodeList.get_29(p);e:do{for(var re=T.iterator_39();re.hasNext_14();){var ce=re.next_14();if(ce._id==W._levelChangerId){D=ce;break e}}D=null}while(0);var Fe,Ue=D,Ve=a._conversion.convert(E),Ke=Ia([new Rn("distance",Ve._valueString),new Rn("distanceUnit",Iw(a,Ve._unitName_0,Ve._value_7)),new Rn("levelchanger",Ue==null?null:Ue.getTitle())]),tt=Ue==null?null:Ue.getType();if(hr(tt,JT()))Fe=Gn(a)._nextStepLevelchangerElevator;else if(hr(tt,QT()))Fe=Gn(a)._nextStepLevelchangerEscalator;else{if(!hr(tt,eL()))throw no(Sr("Unsupported POI type!"));Fe=Gn(a)._nextStepLevelchangerStairs}var bt=Fe;return a._mustache.compile(bt).execute_0(Ke)}function Z5(a){var p=V(Dr(a._route)._nodeList)._bearingFromLastNode,E=ad().bearing(V(Dr(a._route)._nodeList)._coordinates_2,Dr(a._route)._get_destinationPoint_()),T=G5(V(Dr(a._route)._nodeList)._coordinates_2,Dr(a._route)._get_destinationPoint_())>.5?Yv(E-p):0,D=Ia([new Rn("destination",Dr(a._route)._get_destinationTitle_()),new Rn("degreesInt",o1(T).toString()),new Rn("degreesDec",aL(T)),new Rn("hours",t6(T))]);return a._mustache.escapeHTML(!1).compile(Gn(a)._destinationArrived).execute(D)}function K5(a){var p=Dr(Dr(a._route)._get_destinationProperties_());if(!yw(p,"wayfinding_metadata"))return"";var E,T=gw(p.get_16("wayfinding_metadata"));return F(a._guidanceTts._destinationMetadataKeys,"",null,null,0,null,(E=new vP(T,a),function(D){return E.invoke_102(D)}),30)}function z_(a,p,E,T,D,W,re,ce,Fe){this._distance=a,this._distanceUnit=p,this._headingTo=E,this._headingDirection=T,this._levelFrom=D,this._levelsChanged=W,this._levelUnitString=re,this._levelDirection=ce,this._levelTo=Fe}function J5(a,p,E){var T,D=a._conversion.convert(E._stepDistance),W=D._valueString,re=Iw(a,D._unitName_0,D._value_7),ce=Dr(a._route)._nodeList.get_29(E._nodeIndex),Fe=Dr(a._route)._nodeList.get_29(E._nodeIndex+1|0),Ue=a._levelOverrideMap,Ve=Ue==null?null:Ue.get_17(ce._level_0),Ke=Ve==null?ce._level_0:Ve,tt=a._levelOverrideMap,bt=tt==null?null:tt.get_17(Fe._level_0),Dt=bt==null?Fe._level_0:bt,Nt=Ke<Dt?Gn(a)._directionUp:Gn(a)._directionDown,lr=(T=Ke-Dt|0)<0?0|-T:T,Mr=Gn(a)._levels.getStringForQuantity_0(a._context,lr),$r=ad(),Nn=p._featureGeometry,ur=Yv($r.bearing(E._position_9,Nn instanceof ou?Nn:$e())-E._stepBearing),mr=ur<-20?Gn(a)._immediateLevelchangeSideLeft:ur>20?Gn(a)._immediateLevelchangeSideRight:Gn(a)._immediateLevelchangeSideAhead;return new z_(W,re,x1(ur),mr,Ke,lr,Mr,Nt,Dt)}function ld(a,p,E){var T=a._featureManager.getLevelChangerById(Dr(Dr(a._route)._nodeList.get_29(E._nodeIndex)._levelChangerId)),D=J5(a,T,E);return n6(a._mustache.compile(p),D)}function F_(a,p,E){this._distance_0=a,this._distanceUnit_0=p,this._direction_0=E}function Q5(a,p){var E,T=p;if(T.equals(ib()))E=Gn(a)._updateTurnLeftHard;else if(T.equals(ob()))E=Gn(a)._updateTurnLeft;else if(T.equals(ab()))E=Gn(a)._updateTurnLeftSlight;else if(T.equals(Fv()))E=Gn(a)._updateTurnStraight;else if(T.equals(sb()))E=Gn(a)._updateTurnRightSlight;else if(T.equals(ub()))E=Gn(a)._updateTurnRight;else if(T.equals(lb()))E=Gn(a)._updateTurnRightHard;else if(T.equals(nb()))E=Gn(a)._updateTurnAround;else{if(!T.equals(_y()))throw no(Sr("Unsupported direction."));E=Gn(a)._updateDestination}return E}function Iw(a,p,E){var T=Gn(a)._units.get_17(p);if(T==null)throw no(Sr("No translations found for unit: "+p));return T.getStringForQuantity(a._context,E)}function aL(a,p){return D5(a,1).toString()}function e6(a,p){return p>180?p-360:p<-180?p+360:p}function qp(a,p){this._updateText=a,this._additionalText=p}function gP(a){this._function=a}function yP(a,p){this._this$0_18=a,this._$nodeIndex=p}function vP(a,p){this._$metadata=a,this._this$0_19=p}function Xv(a,p,E,T){this._context=a,this._featureManager=p,this._guidanceTts=E,this._route=null,this._levelChangerMetadataKeys=An(),this._conversion=_P()._DEFAULT,this._levelOverrideMap=null,this._mustache=(Bl==null&&new KT,Bl).compiler().escapeHTML(!1),T!=null&&(this._textData=T)}function t6(a){var p=Yv(a);return p<-165?6:p<-135?7:p<-105?8:p<-75?9:p<-45?10:p<-15?11:p<15?12:p<45?1:p<75?2:p<105?3:p<135?4:p<165?5:6}function r6(){this._destinationMetadataKeys=An()}function n6(a,p){var E=C_(),T=Ge(E._get_serializersModule__18(),Ql(bi(z_),[],!1)),D=E.encodeToString_2(ir(T,Pr)?T:$e(),p);return a.execute_1(D)}function Yv(a){return a>180?a-360:a<-180?a+360:a}function Hv(a,p,E,T,D,W){this._from=a,this._toConnector=p,this._toDestination=E,this._toWaypoint=T,this._campusId=D,this._splits=W,this._wayfindingPath=null,this._osrmPath=null,this._pathWeight=null,this._sumWeight=null,this._bestSplit=null}function Zv(a,p,E,T,D,W){this._node=a,this._pathToNode=p,this._campusId_0=E,this._level_1=T,this._connector=D,this._waypoint=W}function UY(a,p,E){if(p===0)return null;var T=E.get_29(p-1|0).geometry(),D=E.get_29(p).geometry(),W=lP().fromLngLats(bs([T,D])),re=I5().fromGeometry(W);return function(ce,Fe){var Ue=ep(),Ve=ce._internalProperties,Ke=Ve==null?null:Ve._get_entries__5();if(Ke!=null){for(var tt=Ke.iterator_39();tt.hasNext_14();){var bt=tt.next_14(),Dt=bt._get_key__3(),Nt=bt._get_value__15();Ue.put_4(Dt,Nt),fe()}fe()}fe();var lr=Zz(Fe);Ue.put_4("level",lr),fe();var Mr=Ue;ce._internalProperties=new Sa(Mr)}(re,Rl(E.get_29(p))),re}function sL(){vs=this}function i6(){return vs==null&&new sL,vs}function o6(a){var p=Yv(a);return Math.abs(p)<22.5?Fv():Math.abs(p)>157.5?nb():p<-112.5?ib():p<=-67.5?ob():p<=-22.5?ab():p>157.5?lb():p>=67.5?ub():p>=22.5?sb():Fv()}function uL(){Kf=this}function lL(){return Kf==null&&new uL,Kf}function a6(){lL(),this._language="en"}vu.prototype=Object.create(Be.prototype),vu.prototype.constructor=vu,Pl.prototype=Object.create(vu.prototype),Pl.prototype.constructor=Pl,Jt.prototype=Object.create(hl.prototype),Jt.prototype.constructor=Jt,N.prototype=Object.create(S.prototype),N.prototype.constructor=N,ke.prototype=Object.create(X.prototype),ke.prototype.constructor=ke,sn.prototype=Object.create(Be.prototype),sn.prototype.constructor=sn,hn.prototype=Object.create(On.prototype),hn.prototype.constructor=hn,rn.prototype=Object.create(sn.prototype),rn.prototype.constructor=rn,tn.prototype=Object.create(rn.prototype),tn.prototype.constructor=tn,na.prototype=Object.create(sn.prototype),na.prototype.constructor=na,Ua.prototype=Object.create(na.prototype),Ua.prototype.constructor=Ua,mo.prototype=Object.create(na.prototype),mo.prototype.constructor=mo,us.prototype=Object.create(Il.prototype),us.prototype.constructor=us,Bi.prototype=Object.create(rn.prototype),Bi.prototype.constructor=Bi,yc.prototype=Object.create(Ua.prototype),yc.prototype.constructor=yc,$i.prototype=Object.create(us.prototype),$i.prototype.constructor=$i,In.prototype=Object.create(na.prototype),In.prototype.constructor=In,Od.prototype=Object.create(qr.prototype),Od.prototype.constructor=Od,Kl.prototype=Object.create(Ua.prototype),Kl.prototype.constructor=Kl,go.prototype=Object.create($i.prototype),go.prototype.constructor=go,Jl.prototype=Object.create(In.prototype),Jl.prototype.constructor=Jl,ls.prototype=Object.create(ju.prototype),ls.prototype.constructor=ls,qh.prototype=Object.create(ju.prototype),qh.prototype.constructor=qh,c_.prototype=Object.create(ju.prototype),c_.prototype.constructor=c_,kr.prototype=Object.create(g.prototype),kr.prototype.constructor=kr,Xh.prototype=Object.create(Error.prototype),Xh.prototype.constructor=Xh,kl.prototype=Object.create(Xh.prototype),kl.prototype.constructor=kl,Es.prototype=Object.create(kl.prototype),Es.prototype.constructor=Es,uh.prototype=Object.create(kl.prototype),uh.prototype.constructor=uh,b_.prototype=Object.create(kl.prototype),b_.prototype.constructor=b_,aa.prototype=Object.create(kl.prototype),aa.prototype.constructor=aa,Yh.prototype=Object.create(kl.prototype),Yh.prototype.constructor=Yh,x_.prototype=Object.create(kl.prototype),x_.prototype.constructor=x_,ip.prototype=Object.create(Es.prototype),ip.prototype.constructor=ip,S_.prototype=Object.create(kl.prototype),S_.prototype.constructor=S_,lh.prototype=Object.create(kl.prototype),lh.prototype.constructor=lh,Zh.prototype=Object.create(kl.prototype),Zh.prototype.constructor=Zh,Rd.prototype=Object.create(kl.prototype),Rd.prototype.constructor=Rd,c.prototype=Object.create(vc.prototype),c.prototype.constructor=c,A.prototype=Object.create(vc.prototype),A.prototype.constructor=A,Ae.prototype=Object.create(Es.prototype),Ae.prototype.constructor=Ae,Z.prototype=Object.create(Ae.prototype),Z.prototype.constructor=Z,le.prototype=Object.create(Ae.prototype),le.prototype.constructor=le,ru.prototype=Object.create(wa.prototype),ru.prototype.constructor=ru,Bu.prototype=Object.create(wa.prototype),Bu.prototype.constructor=Bu,fo.prototype=Object.create(wa.prototype),fo.prototype.constructor=fo,mi.prototype=Object.create(fo.prototype),mi.prototype.constructor=mi,yo.prototype=Object.create(fo.prototype),yo.prototype.constructor=yo,io.prototype=Object.create(fo.prototype),io.prototype.constructor=io,Ti.prototype=Object.create(fo.prototype),Ti.prototype.constructor=Ti,Gu.prototype=Object.create(fo.prototype),Gu.prototype.constructor=Gu,Eu.prototype=Object.create(fo.prototype),Eu.prototype.constructor=Eu,fa.prototype=Object.create(fo.prototype),fa.prototype.constructor=fa,ps.prototype=Object.create(fo.prototype),ps.prototype.constructor=ps,Pu.prototype=Object.create(fo.prototype),Pu.prototype.constructor=Pu,dl.prototype=Object.create(wa.prototype),dl.prototype.constructor=dl,rc.prototype=Object.create(dl.prototype),rc.prototype.constructor=rc,ts.prototype=Object.create(dl.prototype),ts.prototype.constructor=ts,qc.prototype=Object.create(dl.prototype),qc.prototype.constructor=qc,fh.prototype=Object.create(dl.prototype),fh.prototype.constructor=fh,Tl.prototype=Object.create(wa.prototype),Tl.prototype.constructor=Tl,Jh.prototype=Object.create(Tl.prototype),Jh.prototype.constructor=Jh,Qh.prototype=Object.create(Tl.prototype),Qh.prototype.constructor=Qh,kp.prototype=Object.create(hs.prototype),kp.prototype.constructor=kp,Tp.prototype=Object.create(hs.prototype),Tp.prototype.constructor=Tp,ph.prototype=Object.create(hs.prototype),ph.prototype.constructor=ph,Lp.prototype=Object.create(Wu.prototype),Lp.prototype.constructor=Lp,ap.prototype=Object.create(hs.prototype),ap.prototype.constructor=ap,Np.prototype=Object.create(hs.prototype),Np.prototype.constructor=Np,sp.prototype=Object.create(Wu.prototype),sp.prototype.constructor=sp,_l.prototype=Object.create(ed.prototype),_l.prototype.constructor=_l,Zo.prototype=Object.create(_l.prototype),Zo.prototype.constructor=Zo,qn.prototype=Object.create(_l.prototype),qn.prototype.constructor=qn,Vn.prototype=Object.create(_l.prototype),Vn.prototype.constructor=Vn,Mp.prototype=Object.create(ed.prototype),Mp.prototype.constructor=Mp,js.prototype=Object.create(Mp.prototype),js.prototype.constructor=js,nu.prototype=Object.create(_l.prototype),nu.prototype.constructor=nu,Li.prototype=Object.create(_l.prototype),Li.prototype.constructor=Li,rs.prototype=Object.create(Mp.prototype),rs.prototype.constructor=rs,hh.prototype=Object.create(Ko.prototype),hh.prototype.constructor=hh,Ll.prototype=Object.create(Zo.prototype),Ll.prototype.constructor=Ll,Nl.prototype=Object.create(Zo.prototype),Nl.prototype.constructor=Nl,Ml.prototype=Object.create(Zo.prototype),Ml.prototype.constructor=Ml,ff.prototype=Object.create(Zo.prototype),ff.prototype.constructor=ff,pf.prototype=Object.create(Zo.prototype),pf.prototype.constructor=pf,hf.prototype=Object.create(Zo.prototype),hf.prototype.constructor=hf,df.prototype=Object.create(Zo.prototype),df.prototype.constructor=df,Wc.prototype=Object.create(Zo.prototype),Wc.prototype.constructor=Wc,Dp.prototype=Object.create(Cu.prototype),Dp.prototype.constructor=Dp,ic.prototype=Object.create(Cu.prototype),ic.prototype.constructor=ic,_h.prototype=Object.create(Cu.prototype),_h.prototype.constructor=_h,zp.prototype=Object.create(Cu.prototype),zp.prototype.constructor=zp,Fp.prototype=Object.create(Cu.prototype),Fp.prototype.constructor=Fp,mh.prototype=Object.create(Cu.prototype),mh.prototype.constructor=mh,jp.prototype=Object.create(Cu.prototype),jp.prototype.constructor=jp,gh.prototype=Object.create(Cu.prototype),gh.prototype.constructor=gh,iu.prototype=Object.create(Zn.prototype),iu.prototype.constructor=iu,Bd.prototype=Object.create(Rm.prototype),Bd.prototype.constructor=Bd,$d.prototype=Object.create(Rm.prototype),$d.prototype.constructor=$d,Dm.prototype=Object.create(q2.prototype),Dm.prototype.constructor=Dm,nw.prototype=Object.create(ET.prototype),nw.prototype.constructor=nw,iw.prototype=Object.create(ET.prototype),iw.prototype.constructor=iw,ow.prototype=Object.create(A_.prototype),ow.prototype.constructor=ow,aw.prototype=Object.create(A_.prototype),aw.prototype.constructor=aw,Sa.prototype=Object.create(Bp.prototype),Sa.prototype.constructor=Sa,_f.prototype=Object.create(Bp.prototype),_f.prototype.constructor=_f,Ud.prototype=Object.create(_f.prototype),Ud.prototype.constructor=Ud,xc.prototype=Object.create(_f.prototype),xc.prototype.constructor=xc,Bs.prototype=Object.create(Bp.prototype),Bs.prototype.constructor=Bs,zm.prototype=Object.create(ml.prototype),zm.prototype.constructor=zm,k_.prototype=Object.create(Ae.prototype),k_.prototype.constructor=k_,Nv.prototype=Object.create(k_.prototype),Nv.prototype.constructor=Nv,Mv.prototype=Object.create(k_.prototype),Mv.prototype.constructor=Mv,ds.prototype=Object.create(qi.prototype),ds.prototype.constructor=ds,Nf.prototype=Object.create(qi.prototype),Nf.prototype.constructor=Nf,_s.prototype=Object.create(Di.prototype),_s.prototype.constructor=_s,wi.prototype=Object.create(iu.prototype),wi.prototype.constructor=wi,mf.prototype=Object.create(wi.prototype),mf.prototype.constructor=mf,$p.prototype=Object.create(wi.prototype),$p.prototype.constructor=$p,Xd.prototype=Object.create(wi.prototype),Xd.prototype.constructor=Xd,yh.prototype=Object.create(mf.prototype),yh.prototype.constructor=yh,ry.prototype=Object.create(hl.prototype),ry.prototype.constructor=ry,Xc.prototype=Object.create(Di.prototype),Xc.prototype.constructor=Xc,Dv.prototype=Object.create(hl.prototype),Dv.prototype.constructor=Dv,Hu.prototype=Object.create(Di.prototype),Hu.prototype.constructor=Hu,K1.prototype=Object.create(F1.prototype),K1.prototype.constructor=K1,L_.prototype=Object.create(up.prototype),L_.prototype.constructor=L_,J1.prototype=Object.create(up.prototype),J1.prototype.constructor=J1,Q1.prototype=Object.create(up.prototype),Q1.prototype.constructor=Q1,ou.prototype=Object.create(up.prototype),ou.prototype.constructor=ou,tb.prototype=Object.create(up.prototype),tb.prototype.constructor=tb,oc.prototype=Object.create(hl.prototype),oc.prototype.constructor=oc,Au.prototype=Object.create(hl.prototype),Au.prototype.constructor=Au,Up.prototype=Object.create(hl.prototype),Up.prototype.constructor=Up,k.prototype.invoke_97=function(){return Ag(this._$this_withIndex)},k.$metadata$={kind:"class",interfaces:[]},ae.prototype.invoke_0=function(a){return a===this._this$0?"(this Collection)":Cp(a)},ae.prototype.invoke_103=function(a){return this.invoke_0(a==null||yn(a)?a:$e())},ae.$metadata$={kind:"class",interfaces:[]},Be.prototype.contains_27=function(a){var p;e:do{if(ir(this,Ol)&&this.isEmpty_29()){p=!1;break e}for(var E=this.iterator_39();E.hasNext_14();)if(hr(E.next_14(),a)){p=!0;break e}p=!1}while(0);return p},Be.prototype.containsAll_22=function(a){var p;e:do{if(ir(a,Ol)&&a.isEmpty_29()){p=!0;break e}for(var E=a.iterator_39();E.hasNext_14();){var T=E.next_14();if(!this.contains_27(T)){p=!1;break e}}p=!0}while(0);return p},Be.prototype.isEmpty_29=function(){return this._get_size__29()===0},Be.prototype.toString=function(){return F(this,", ","[","]",0,null,(a=new ae(this),function(p){return a.invoke_0(p)}),24);var a},Be.prototype.toArray=function(){return Ar(this)},Be.$metadata$={simpleName:"AbstractCollection",kind:"class",interfaces:[Ol]},Q.prototype.checkElementIndex=function(a,p){if(a<0||a>=p)throw ka("index: "+a+", size: "+p)},Q.prototype.checkPositionIndex=function(a,p){if(a<0||a>p)throw ka("index: "+a+", size: "+p)},Q.prototype.checkRangeIndexes=function(a,p,E){if(a<0||p>E)throw ka("fromIndex: "+a+", toIndex: "+p+", size: "+E);if(a>p)throw Sn("fromIndex: "+a+" > toIndex: "+p)},Q.prototype.checkBoundsIndexes=function(a,p,E){if(a<0||p>E)throw ka("startIndex: "+a+", endIndex: "+p+", size: "+E);if(a>p)throw Sn("startIndex: "+a+" > endIndex: "+p)},Q.prototype.orderedHashCode=function(a){for(var p=1,E=a.iterator_39();E.hasNext_14();){var T=E.next_14(),D=sr(31,p),W=T==null?null:Ui(T);p=D+(W==null?0:W)|0}return p},Q.prototype.orderedEquals=function(a,p){if(a._get_size__29()!==p._get_size__29())return!1;for(var E=p.iterator_39(),T=a.iterator_39();T.hasNext_14();)if(!hr(T.next_14(),E.next_14()))return!1;return!0},Q.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},dc.prototype.hasNext_14=function(){return this._$entryIterator.hasNext_14()},dc.prototype.next_14=function(){return this._$entryIterator.next_14()._get_key__3()},dc.$metadata$={kind:"class",interfaces:[ri]},Za.prototype.entryHashCode=function(a){var p=a._get_key__3(),E=p==null?null:Ui(p),T=E==null?0:E,D=a._get_value__15(),W=D==null?null:Ui(D);return T^(W==null?0:W)},Za.prototype.entryToString=function(a){return a._get_key__3()+"="+a._get_value__15()},Za.prototype.entryEquals=function(a,p){return!(p==null||!ir(p,Fs))&&!!hr(a._get_key__3(),p._get_key__3())&&hr(a._get_value__15(),p._get_value__15())},Za.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Pl.prototype.contains_20=function(a){return this._this$0_0.containsKey_8(a)},Pl.prototype.contains_27=function(a){return!(a!=null&&!yn(a))&&this.contains_20(a==null||yn(a)?a:$e())},Pl.prototype.iterator_39=function(){return new dc(this._this$0_0._get_entries__5().iterator_39())},Pl.prototype._get_size__29=function(){return this._this$0_0._get_size__29()},Pl.$metadata$={kind:"class",interfaces:[]},Fc.prototype.invoke_2=function(a){return this._this$0_1.toString_0(a)},Fc.prototype.invoke_103=function(a){return this.invoke_2(a!=null&&ir(a,Fs)?a:$e())},Fc.$metadata$={kind:"class",interfaces:[]},Il.prototype.containsKey_8=function(a){return Jf(this,a)!=null},Il.prototype.containsEntry_5=function(a){if(a==null||!ir(a,Fs))return!1;var p=a._get_key__3(),E=a._get_value__15(),T=(ir(this,Ks)?this:$e()).get_17(p);return!(!hr(E,T)||T==null&&!(ir(this,Ks)?this:$e()).containsKey_8(p))},Il.prototype.equals=function(a){if(a===this)return!0;if(a==null||!ir(a,Ks)||this._get_size__29()!==a._get_size__29())return!1;var p;e:do{var E=a._get_entries__5();if(ir(E,Ol)&&E.isEmpty_29()){p=!0;break e}for(var T=E.iterator_39();T.hasNext_14();){var D=T.next_14();if(!this.containsEntry_5(D)){p=!1;break e}}p=!0}while(0);return p},Il.prototype.get_17=function(a){var p=Jf(this,a);return p==null?null:p._get_value__15()},Il.prototype.hashCode=function(){return Ui(this._get_entries__5())},Il.prototype.isEmpty_29=function(){return this._get_size__29()===0},Il.prototype._get_size__29=function(){return this._get_entries__5()._get_size__29()},Il.prototype._get_keys__5=function(){return this.__keys==null&&(this.__keys=new Pl(this)),Dr(this.__keys)},Il.prototype.toString=function(){var a;return F(this._get_entries__5(),", ","{","}",0,null,(a=new Fc(this),function(p){return a.invoke_2(p)}),24)},Il.prototype.toString_0=function(a){return ql(this,a._get_key__3())+"="+ql(this,a._get_value__15())},Il.$metadata$={simpleName:"AbstractMap",kind:"class",interfaces:[Ks]},wp.prototype.unorderedHashCode=function(a){for(var p=0,E=a.iterator_39();E.hasNext_14();){var T=E.next_14(),D=p,W=T==null?null:Ui(T);p=D+(W==null?0:W)|0}return p},wp.prototype.setEquals=function(a,p){return a._get_size__29()===p._get_size__29()&&a.containsAll_22(p)},wp.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},vu.prototype.equals=function(a){return a===this||!(a==null||!ir(a,af))&&_c().setEquals(this,a)},vu.prototype.hashCode=function(){return _c().unorderedHashCode(this)},vu.$metadata$={simpleName:"AbstractSet",kind:"class",interfaces:[af]},ga.prototype.equals=function(a){return!(a==null||!ir(a,pl))&&a.isEmpty_29()},ga.prototype.hashCode=function(){return 1},ga.prototype.toString=function(){return"[]"},ga.prototype._get_size__29=function(){return 0},ga.prototype.isEmpty_29=function(){return!0},ga.prototype.contains_7=function(a){return!1},ga.prototype.contains_27=function(a){return!1},ga.prototype.containsAll_6=function(a){return a.isEmpty_29()},ga.prototype.containsAll_22=function(a){return this.containsAll_6(a)},ga.prototype.get_29=function(a){throw ka("Empty list doesn't contain element at index "+a+".")},ga.prototype.indexOf=function(a){return-1},ga.prototype.indexOf_6=function(a){return-1},ga.prototype.iterator_39=function(){return Cf()},ga.prototype.listIterator_4=function(a){if(a!==0)throw ka("Index: "+a);return Cf()},ga.prototype.subList_4=function(a,p){if(a===0&&p===0)return this;throw ka("fromIndex: "+a+", toIndex: "+p)},ga.$metadata$={simpleName:"EmptyList",kind:"object",interfaces:[pl,lm,i1]},bu.prototype._get_size__29=function(){return this._values.length},bu.prototype.isEmpty_29=function(){return this._values.length===0},bu.prototype.contains_5=function(a){return function(p,E){return P(p,E)>=0}(this._values,a)},bu.prototype.contains_27=function(a){return!(a!=null&&!yn(a))&&this.contains_5(a==null||yn(a)?a:$e())},bu.prototype.containsAll_4=function(a){var p;e:do{if(ir(a,Ol)&&a.isEmpty_29()){p=!0;break e}for(var E=a.iterator_39();E.hasNext_14();){var T=E.next_14();if(!this.contains_5(T)){p=!1;break e}}p=!0}while(0);return p},bu.prototype.containsAll_22=function(a){return this.containsAll_4(a)},bu.prototype.iterator_39=function(){return Ag(this._values)},bu.$metadata$={simpleName:"ArrayAsCollection",kind:"class",interfaces:[Ol]},jc.prototype.hasNext_14=function(){return!1},jc.prototype.hasPrevious_1=function(){return!1},jc.prototype.next_14=function(){throw Op()},jc.prototype.previous_1=function(){throw Op()},jc.$metadata$={simpleName:"EmptyIterator",kind:"object",interfaces:[ba]},Ii.prototype.toString=function(){return"IndexedValue(index="+this._index+", value="+this._value+")"},Ii.prototype.hashCode=function(){var a=this._index;return sr(a,31)+(this._value==null?0:Ui(this._value))|0},Ii.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Ii))return!1;var p=a instanceof Ii?a:$e();return this._index===p._index&&!!hr(this._value,p._value)},Ii.$metadata$={simpleName:"IndexedValue",kind:"class",interfaces:[]},Xs.prototype.iterator_39=function(){return new di(this._iteratorFactory())},Xs.$metadata$={simpleName:"IndexingIterable",kind:"class",interfaces:[gm]},di.prototype.hasNext_14=function(){return this._iterator.hasNext_14()},di.prototype.next_14=function(){var a=this._index_0;return this._index_0=a+1|0,new Ii(Wr(a),this._iterator.next_14())},di.$metadata$={simpleName:"IndexingIterator",kind:"class",interfaces:[ri]},Gi.$metadata$={simpleName:"MapWithDefault",kind:"interface",interfaces:[Ks]},Ca.prototype.equals=function(a){return!(a==null||!ir(a,Ks))&&a.isEmpty_29()},Ca.prototype.hashCode=function(){return 0},Ca.prototype.toString=function(){return"{}"},Ca.prototype._get_size__29=function(){return 0},Ca.prototype.isEmpty_29=function(){return!0},Ca.prototype.containsKey_0=function(a){return!1},Ca.prototype.containsKey_8=function(a){return!(a!=null&&!yn(a))&&this.containsKey_0(a==null||yn(a)?a:$e())},Ca.prototype.get_1=function(a){return null},Ca.prototype.get_17=function(a){return a==null||yn(a)?this.get_1(a==null||yn(a)?a:$e()):null},Ca.prototype._get_entries__5=function(){return rr()},Ca.prototype._get_keys__5=function(){return rr()},Ca.$metadata$={simpleName:"EmptyMap",kind:"object",interfaces:[Ks,lm]},Ja.$metadata$={simpleName:"Sequence",kind:"interface",interfaces:[]},Ra.prototype.next_14=function(){return this._this$0_2._transformer(this._iterator_0.next_14())},Ra.prototype.hasNext_14=function(){return this._iterator_0.hasNext_14()},Ra.$metadata$={kind:"class",interfaces:[ri]},zh.prototype.iterator_39=function(){return new Ra(this)},zh.$metadata$={simpleName:"TransformingSequence",kind:"class",interfaces:[Ja]},vi.prototype.equals=function(a){return!(a==null||!ir(a,af))&&a.isEmpty_29()},vi.prototype.hashCode=function(){return 0},vi.prototype.toString=function(){return"[]"},vi.prototype._get_size__29=function(){return 0},vi.prototype.isEmpty_29=function(){return!0},vi.prototype.contains_7=function(a){return!1},vi.prototype.contains_27=function(a){return!1},vi.prototype.containsAll_6=function(a){return a.isEmpty_29()},vi.prototype.containsAll_22=function(a){return this.containsAll_6(a)},vi.prototype.iterator_39=function(){return Cf()},vi.$metadata$={simpleName:"EmptySet",kind:"object",interfaces:[af,lm]},Bc.$metadata$={simpleName:"KClassifier",kind:"interface",interfaces:[]},Wl.prototype.invariant=function(a){return new Oa(ya(),a)},Wl.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Oa.prototype.toString=function(){var a,p=this._variance;return p==null?a="*":hr(p,ya())?a=Cp(this._type):hr(p,Fh())?a="in "+this._type:hr(p,Id())?a="out "+this._type:Tg(),a},Oa.prototype.hashCode=function(){var a=this._variance==null?0:this._variance.hashCode();return sr(a,31)+(this._type==null?0:Ui(this._type))|0},Oa.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Oa))return!1;var p=a instanceof Oa?a:$e();return!!hr(this._variance,p._variance)&&!!hr(this._type,p._type)},Oa.$metadata$={simpleName:"KTypeProjection",kind:"class",interfaces:[]},Jt.$metadata$={simpleName:"KVariance",kind:"class",interfaces:[]},Qa.prototype.invoke_6=function(a){return a},Qa.prototype.invoke_103=function(a){return this.invoke_6(a!=null&&typeof a=="string"?a:$e())},Qa.$metadata$={kind:"class",interfaces:[]},Ho.prototype.invoke_6=function(a){return this._$indent+a},Ho.prototype.invoke_103=function(a){return this.invoke_6(a!=null&&typeof a=="string"?a:$e())},Ho.$metadata$={kind:"class",interfaces:[]},es.prototype.next_14=function(){if(this._nextState===-1&&Xl(this),this._nextState===0)throw Op();var a=this._nextItem,p=a instanceof ke?a:$e();return this._nextItem=null,this._nextState=-1,p},es.prototype.hasNext_14=function(){return this._nextState===-1&&Xl(this),this._nextState===1},es.$metadata$={kind:"class",interfaces:[ri]},Qf.prototype.iterator_39=function(){return new es(this)},Qf.$metadata$={simpleName:"DelimitedRangesSequence",kind:"class",interfaces:[Ja]},as.prototype.invoke_8=function(a){return p=this._$this_splitToSequence,Sr((T=p,D=(E=a)._get_start_(),W=E._get_endInclusive_()+1|0,m1(T)?T.substring(D,W):T.subSequence_1(D,W)));var p,E,T,D,W},as.prototype.invoke_103=function(a){return this.invoke_8(a instanceof ke?a:$e())},as.$metadata$={kind:"class",interfaces:[]},ss.prototype.invoke_10=function(a,p){var E=Sp(a,this._$delimitersList,p,this._$ignoreCase,!1);return E==null?null:ji(E._first,E._second.length)},ss.prototype.invoke_101=function(a,p){var E=a!=null&&xm(a)?a:$e();return this.invoke_10(E,p!=null&&typeof p=="number"?p:$e())},ss.$metadata$={kind:"class",interfaces:[]},tf.$metadata$={simpleName:"Lazy",kind:"interface",interfaces:[]},Fr.prototype._get_value__15=function(){this.__value===mc()&&(this.__value=Dr(this._initializer)(),this._initializer=null);var a=this.__value;return a==null||yn(a)?a:$e()},Fr.prototype.isInitialized=function(){return this.__value!==mc()},Fr.prototype.toString=function(){return this.isInitialized()?Cp(this._get_value__15()):"Lazy value not initialized yet."},Fr.$metadata$={simpleName:"UnsafeLazyImpl",kind:"class",interfaces:[tf,lm]},Er.$metadata$={simpleName:"UNINITIALIZED_VALUE",kind:"object",interfaces:[]},Rn.prototype.toString=function(){return"("+this._first+", "+this._second+")"},Rn.prototype.component1=function(){return this._first},Rn.prototype.component2=function(){return this._second},Rn.prototype.hashCode=function(){var a=this._first==null?0:Ui(this._first);return sr(a,31)+(this._second==null?0:Ui(this._second))|0},Rn.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Rn))return!1;var p=a instanceof Rn?a:$e();return!!hr(this._first,p._first)&&!!hr(this._second,p._second)},Rn.$metadata$={simpleName:"Pair",kind:"class",interfaces:[lm]},lo.prototype.toString=function(){return"("+this._first_0+", "+this._second_0+", "+this._third+")"},lo.prototype.hashCode=function(){var a=this._first_0==null?0:Ui(this._first_0);return a=sr(a,31)+(this._second_0==null?0:Ui(this._second_0))|0,sr(a,31)+(this._third==null?0:Ui(this._third))|0},lo.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof lo))return!1;var p=a instanceof lo?a:$e();return!!hr(this._first_0,p._first_0)&&!!hr(this._second_0,p._second_0)&&!!hr(this._third,p._third)},lo.$metadata$={simpleName:"Triple",kind:"class",interfaces:[lm]},hu.prototype.compareTo_0=function(a){return pn(this._data,a)},hu.prototype.compareTo_14=function(a){return function(p,E){return pn(p._data,E instanceof hu?E._data:$e())}(this,a)},hu.prototype.toString=function(){return $c(this._data)},hu.prototype.hashCode=function(){return this._data},hu.prototype.equals=function(a){return function(p,E){return E instanceof hu&&p===(E instanceof hu?E._data:$e())}(this._data,a)},hu.$metadata$={simpleName:"UByte",kind:"class",interfaces:[Br]},zu.prototype.compareTo_2=function(a){return Ci(this._data_0,a)},zu.prototype.compareTo_14=function(a){return function(p,E){return Ci(p._data_0,E instanceof zu?E._data_0:$e())}(this,a)},zu.prototype.toString=function(){return co(this._data_0)},zu.prototype.hashCode=function(){return this._data_0},zu.prototype.equals=function(a){return function(p,E){return E instanceof zu&&p===(E instanceof zu?E._data_0:$e())}(this._data_0,a)},zu.$metadata$={simpleName:"UInt",kind:"class",interfaces:[Br]},zs.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},l.prototype.compareTo_4=function(a){return rf(this._data_1,a)},l.prototype.compareTo_14=function(a){return function(p,E){return rf(p._data_1,E instanceof l?E._data_1:$e())}(this,a)},l.prototype.toString=function(){return wu(this._data_1)},l.prototype.hashCode=function(){return this._data_1.hashCode()},l.prototype.equals=function(a){return function(p,E){if(!(E instanceof l))return!1;var T=E instanceof l?E._data_1:$e();return!!p.equals(T)}(this._data_1,a)},l.$metadata$={simpleName:"ULong",kind:"class",interfaces:[Br]},x.prototype.compareTo_6=function(a){return f(this._data_2,a)},x.prototype.compareTo_14=function(a){return function(p,E){return f(p._data_2,E instanceof x?E._data_2:$e())}(this,a)},x.prototype.toString=function(){return y(this._data_2)},x.prototype.hashCode=function(){return this._data_2},x.prototype.equals=function(a){return function(p,E){return E instanceof x&&p===(E instanceof x?E._data_2:$e())}(this._data_2,a)},x.$metadata$={simpleName:"UShort",kind:"class",interfaces:[Br]},nr.$metadata$={simpleName:"Annotation",kind:"interface",interfaces:[]},Tr.$metadata$={simpleName:"CharSequence",kind:"interface",interfaces:[]},Br.$metadata$={simpleName:"Comparable",kind:"interface",interfaces:[]},ri.$metadata$={simpleName:"Iterator",kind:"interface",interfaces:[]},ba.$metadata$={simpleName:"ListIterator",kind:"interface",interfaces:[ri]},d.$metadata$={simpleName:"MutableListIterator",kind:"interface",interfaces:[ba,b]},b.$metadata$={simpleName:"MutableIterator",kind:"interface",interfaces:[ri]},g.$metadata$={simpleName:"Number",kind:"class",interfaces:[]},S.prototype.next_14=function(){return this.nextInt_0()},S.$metadata$={simpleName:"IntIterator",kind:"class",interfaces:[ri]},N.prototype.hasNext_14=function(){return this._hasNext},N.prototype.nextInt_0=function(){var a=this._next;if(a===this._finalElement){if(!this._hasNext)throw Op();this._hasNext=!1}else this._next=this._next+this._step|0;return a},N.$metadata$={simpleName:"IntProgressionIterator",kind:"class",interfaces:[]},z.prototype.fromClosedRange=function(a,p,E){return new X(a,p,E)},z.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},X.prototype._get_first__0=function(){return this._first_1},X.prototype._get_last__2=function(){return this._last},X.prototype.iterator_39=function(){return new N(this._first_1,this._last,this._step_0)},X.prototype.isEmpty_29=function(){return this._step_0>0?this._first_1>this._last:this._first_1<this._last},X.prototype.equals=function(a){return a instanceof X&&(!(!this.isEmpty_29()||!a.isEmpty_29())||this._first_1===a._first_1&&this._last===a._last&&this._step_0===a._step_0)},X.prototype.hashCode=function(){return this.isEmpty_29()?-1:sr(31,sr(31,this._first_1)+this._last|0)+this._step_0|0},X.prototype.toString=function(){return this._step_0>0?this._first_1+".."+this._last+" step "+this._step_0:this._first_1+" downTo "+this._last+" step "+(0|-this._step_0)},X.$metadata$={simpleName:"IntProgression",kind:"class",interfaces:[gm]},ue.$metadata$={simpleName:"ClosedRange",kind:"interface",interfaces:[]},ge.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},ke.prototype._get_start_=function(){return this._get_first__0()},ke.prototype._get_endInclusive_=function(){return this._get_last__2()},ke.prototype.isEmpty_29=function(){return this._get_first__0()>this._get_last__2()},ke.prototype.equals=function(a){return a instanceof ke&&(!(!this.isEmpty_29()||!a.isEmpty_29())||this._get_first__0()===a._get_first__0()&&this._get_last__2()===a._get_last__2())},ke.prototype.hashCode=function(){return this.isEmpty_29()?-1:sr(31,this._get_first__0())+this._get_last__2()|0},ke.prototype.toString=function(){return this._get_first__0()+".."+this._get_last__2()},ke.$metadata$={simpleName:"IntRange",kind:"class",interfaces:[ue]},De.prototype.toString=function(){return"kotlin.Unit"},De.$metadata$={simpleName:"Unit",kind:"object",interfaces:[]},qe.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_3},qe.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_3},qe.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_3},qe.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_3},qe.$metadata$={simpleName:"ByteCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(qe.prototype,"MIN_VALUE",{configurable:!0,get:qe.prototype._get_MIN_VALUE__3}),Object.defineProperty(qe.prototype,"MAX_VALUE",{configurable:!0,get:qe.prototype._get_MAX_VALUE__3}),Object.defineProperty(qe.prototype,"SIZE_BYTES",{configurable:!0,get:qe.prototype._get_SIZE_BYTES__3}),Object.defineProperty(qe.prototype,"SIZE_BITS",{configurable:!0,get:qe.prototype._get_SIZE_BITS__3}),ut.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_4},ut.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_4},ut.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_4},ut.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_4},ut.$metadata$={simpleName:"ShortCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(ut.prototype,"MIN_VALUE",{configurable:!0,get:ut.prototype._get_MIN_VALUE__3}),Object.defineProperty(ut.prototype,"MAX_VALUE",{configurable:!0,get:ut.prototype._get_MAX_VALUE__3}),Object.defineProperty(ut.prototype,"SIZE_BYTES",{configurable:!0,get:ut.prototype._get_SIZE_BYTES__3}),Object.defineProperty(ut.prototype,"SIZE_BITS",{configurable:!0,get:ut.prototype._get_SIZE_BITS__3}),Ct.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_5},Ct.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_5},Ct.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_5},Ct.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_5},Ct.$metadata$={simpleName:"IntCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(Ct.prototype,"MIN_VALUE",{configurable:!0,get:Ct.prototype._get_MIN_VALUE__3}),Object.defineProperty(Ct.prototype,"MAX_VALUE",{configurable:!0,get:Ct.prototype._get_MAX_VALUE__3}),Object.defineProperty(Ct.prototype,"SIZE_BYTES",{configurable:!0,get:Ct.prototype._get_SIZE_BYTES__3}),Object.defineProperty(Ct.prototype,"SIZE_BITS",{configurable:!0,get:Ct.prototype._get_SIZE_BITS__3}),St.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_6},St.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_6},St.prototype._get_POSITIVE_INFINITY__0=function(){return this._POSITIVE_INFINITY},St.prototype._get_NEGATIVE_INFINITY__0=function(){return this._NEGATIVE_INFINITY},St.prototype._get_NaN__0=function(){return this._NaN},St.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_6},St.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_6},St.$metadata$={simpleName:"FloatCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(St.prototype,"MIN_VALUE",{configurable:!0,get:St.prototype._get_MIN_VALUE__3}),Object.defineProperty(St.prototype,"MAX_VALUE",{configurable:!0,get:St.prototype._get_MAX_VALUE__3}),Object.defineProperty(St.prototype,"POSITIVE_INFINITY",{configurable:!0,get:St.prototype._get_POSITIVE_INFINITY__0}),Object.defineProperty(St.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:St.prototype._get_NEGATIVE_INFINITY__0}),Object.defineProperty(St.prototype,"NaN",{configurable:!0,get:St.prototype._get_NaN__0}),Object.defineProperty(St.prototype,"SIZE_BYTES",{configurable:!0,get:St.prototype._get_SIZE_BYTES__3}),Object.defineProperty(St.prototype,"SIZE_BITS",{configurable:!0,get:St.prototype._get_SIZE_BITS__3}),Gt.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_7},Gt.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_7},Gt.prototype._get_POSITIVE_INFINITY__0=function(){return this._POSITIVE_INFINITY_0},Gt.prototype._get_NEGATIVE_INFINITY__0=function(){return this._NEGATIVE_INFINITY_0},Gt.prototype._get_NaN__0=function(){return this._NaN_0},Gt.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_7},Gt.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_7},Gt.$metadata$={simpleName:"DoubleCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(Gt.prototype,"MIN_VALUE",{configurable:!0,get:Gt.prototype._get_MIN_VALUE__3}),Object.defineProperty(Gt.prototype,"MAX_VALUE",{configurable:!0,get:Gt.prototype._get_MAX_VALUE__3}),Object.defineProperty(Gt.prototype,"POSITIVE_INFINITY",{configurable:!0,get:Gt.prototype._get_POSITIVE_INFINITY__0}),Object.defineProperty(Gt.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:Gt.prototype._get_NEGATIVE_INFINITY__0}),Object.defineProperty(Gt.prototype,"NaN",{configurable:!0,get:Gt.prototype._get_NaN__0}),Object.defineProperty(Gt.prototype,"SIZE_BYTES",{configurable:!0,get:Gt.prototype._get_SIZE_BYTES__3}),Object.defineProperty(Gt.prototype,"SIZE_BITS",{configurable:!0,get:Gt.prototype._get_SIZE_BITS__3}),wr.$metadata$={simpleName:"Comparator",kind:"interface",interfaces:[]},sn.prototype.addAll_10=function(a){this.checkIsMutable_12();for(var p=!1,E=a.iterator_39();E.hasNext_14();){var T=E.next_14();this.add_18(T)&&(p=!0)}return p},sn.prototype.toJSON=function(){return this.toArray()},sn.prototype.checkIsMutable_12=function(){},sn.$metadata$={simpleName:"AbstractMutableCollection",kind:"class",interfaces:[xv]},On.prototype._set_index__0=function(a){this._index_1=a},On.prototype._get_index__0=function(){return this._index_1},On.prototype._set_last__0=function(a){this._last_0=a},On.prototype._get_last__2=function(){return this._last_0},On.prototype.hasNext_14=function(){return this._index_1<this._$this._get_size__29()},On.prototype.next_14=function(){if(!this.hasNext_14())throw Op();var a=this._index_1;return this._index_1=a+1|0,this._last_0=a,this._$this.get_29(this._last_0)},On.$metadata$={simpleName:"IteratorImpl",kind:"class",interfaces:[b]},hn.prototype.hasPrevious_1=function(){return this._get_index__0()>0},hn.prototype.previous_1=function(){if(!this.hasPrevious_1())throw Op();var a=this;return a._set_index__0(a._get_index__0()-1|0),this._set_last__0(a._get_index__0()),this._$this_0.get_29(this._get_last__2())},hn.$metadata$={simpleName:"ListIteratorImpl",kind:"class",interfaces:[d]},tn.prototype.add_9=function(a,p){ma().checkPositionIndex(a,this.__size),this._list.add_9(this._fromIndex+a|0,p);var E=this.__size;this.__size=E+1|0,fe()},tn.prototype.get_29=function(a){return ma().checkElementIndex(a,this.__size),this._list.get_29(this._fromIndex+a|0)},tn.prototype.removeAt_2=function(a){ma().checkElementIndex(a,this.__size);var p=this._list.removeAt_2(this._fromIndex+a|0),E=this.__size;return this.__size=E-1|0,fe(),p},tn.prototype.set_2=function(a,p){return ma().checkElementIndex(a,this.__size),this._list.set_2(this._fromIndex+a|0,p)},tn.prototype._get_size__29=function(){return this.__size},tn.prototype.checkIsMutable_12=function(){return this._list.checkIsMutable_12()},tn.$metadata$={simpleName:"SubList",kind:"class",interfaces:[i1]},rn.prototype._set_modCount__0=function(a){this._modCount=a},rn.prototype._get_modCount__0=function(){return this._modCount},rn.prototype.add_18=function(a){return this.checkIsMutable_12(),this.add_9(this._get_size__29(),a),!0},rn.prototype.iterator_39=function(){return new On(this)},rn.prototype.contains_27=function(a){return this.indexOf_6(a)>=0},rn.prototype.indexOf_6=function(a){var p=0,E=fu(this);if(p<=E)do{var T=p;if(p=p+1|0,hr(this.get_29(T),a))return T}while(T!==E);return-1},rn.prototype.listIterator_4=function(a){return new hn(this,a)},rn.prototype.subList_4=function(a,p){return new tn(this,a,p)},rn.prototype.equals=function(a){return a===this||!(a==null||!ir(a,pl))&&ma().orderedEquals(this,a)},rn.prototype.hashCode=function(){return ma().orderedHashCode(this)},rn.$metadata$={simpleName:"AbstractMutableList",kind:"class",interfaces:[vv]},_n.prototype.hasNext_14=function(){return this._$entryIterator_0.hasNext_14()},_n.prototype.next_14=function(){return this._$entryIterator_0.next_14()._get_key__3()},_n.$metadata$={kind:"class",interfaces:[b]},qr.prototype._get_key__3=function(){return this._key},qr.prototype._get_value__15=function(){return this.__value_0},qr.prototype.setValue_1=function(a){var p=this.__value_0;return this.__value_0=a,p},qr.prototype.hashCode=function(){return xp().entryHashCode(this)},qr.prototype.toString=function(){return xp().entryToString(this)},qr.prototype.equals=function(a){return xp().entryEquals(this,a)},qr.$metadata$={simpleName:"SimpleEntry",kind:"class",interfaces:[_1]},Ua.prototype.contains_27=function(a){return this.containsEntry_4(a)},Ua.$metadata$={simpleName:"AbstractEntrySet",kind:"class",interfaces:[]},mo.prototype.add_5=function(a){throw Ug("Add is not supported on keys")},mo.prototype.add_18=function(a){return this.add_5(a==null||yn(a)?a:$e())},mo.prototype.contains_20=function(a){return this._this$0_4.containsKey_8(a)},mo.prototype.contains_27=function(a){return!(a!=null&&!yn(a))&&this.contains_20(a==null||yn(a)?a:$e())},mo.prototype.iterator_39=function(){return new _n(this._this$0_4._get_entries__5().iterator_39())},mo.prototype._get_size__29=function(){return this._this$0_4._get_size__29()},mo.prototype.checkIsMutable_12=function(){return this._this$0_4.checkIsMutable_12()},mo.$metadata$={kind:"class",interfaces:[]},us.prototype._get_keys__5=function(){return this.__keys_0==null&&(this.__keys_0=new mo(this)),Dr(this.__keys_0)},us.prototype.putAll_1=function(a){this.checkIsMutable_12();for(var p=a._get_entries__5().iterator_39();p.hasNext_14();){var E=p.next_14(),T=E._get_key__3(),D=E._get_value__15();this.put_4(T,D),fe()}},us.prototype.checkIsMutable_12=function(){},us.$metadata$={simpleName:"AbstractMutableMap",kind:"class",interfaces:[Cg]},na.prototype.equals=function(a){return a===this||!(a==null||!ir(a,af))&&_c().setEquals(this,a)},na.prototype.hashCode=function(){return _c().unorderedHashCode(this)},na.$metadata$={simpleName:"AbstractMutableSet",kind:"class",interfaces:[bv]},Bi.prototype.ensureCapacity_8=function(a){},Bi.prototype._get_size__29=function(){return this._array.length},Bi.prototype.get_29=function(a){var p=this._array[fl(this,a)];return p==null||yn(p)?p:$e()},Bi.prototype.set_2=function(a,p){this.checkIsMutable_12(),fl(this,a),fe();var E=this._array[a];this._array[a]=p;var T=E;return T==null||yn(T)?T:$e()},Bi.prototype.add_18=function(a){this.checkIsMutable_12(),this._array.push(a);var p=this._get_modCount__0();return this._set_modCount__0(p+1|0),fe(),!0},Bi.prototype.add_9=function(a,p){this.checkIsMutable_12(),this._array.splice(function(T,D){return ma().checkPositionIndex(D,T._get_size__29()),D}(this,a),0,p);var E=this._get_modCount__0();this._set_modCount__0(E+1|0),fe()},Bi.prototype.addAll_10=function(a){if(this.checkIsMutable_12(),a.isEmpty_29())return!1;var p=this._array,E=fi(a);this._array=p.concat(E);var T=this._get_modCount__0();return this._set_modCount__0(T+1|0),fe(),!0},Bi.prototype.removeAt_2=function(a){this.checkIsMutable_12(),fl(this,a),fe();var p=this._get_modCount__0();return this._set_modCount__0(p+1|0),fe(),a===fu(this)?this._array.pop():this._array.splice(a,1)[0]},Bi.prototype.indexOf_6=function(a){return P(this._array,a)},Bi.prototype.toString=function(){return C(this._array,", ","[","]",0,null,(a=new g1,function(p){return a.invoke_58(p)}),24);var a},Bi.prototype.toArray_0=function(){return[].slice.call(this._array)},Bi.prototype.toArray=function(){return this.toArray_0()},Bi.prototype.checkIsMutable_12=function(){if(this._isReadOnly)throw I1()},Bi.$metadata$={simpleName:"ArrayList",kind:"class",interfaces:[vv,i1]},gc.prototype.invoke_12=function(a,p){return this._$comparator.compare(a,p)},gc.prototype.invoke_101=function(a,p){var E=a==null||yn(a)?a:$e();return this.invoke_12(E,p==null||yn(p)?p:$e())},gc.$metadata$={kind:"class",interfaces:[]},Bh.prototype.invoke_14=function(a,p){return(3&a)-(3&p)|0},Bh.prototype.invoke_101=function(a,p){var E=a!=null&&typeof a=="number"?a:$e();return this.invoke_14(E,p!=null&&typeof p=="number"?p:$e())},Bh.$metadata$={kind:"class",interfaces:[]},nh.prototype.equals_1=function(a,p){return hr(a,p)},nh.prototype.getHashCode_0=function(a){var p=a==null?null:Ui(a);return p==null?0:p},nh.$metadata$={simpleName:"HashCode",kind:"object",interfaces:[ih]},ih.$metadata$={simpleName:"EqualityComparator",kind:"interface",interfaces:[]},yc.prototype.add_13=function(a){throw Ug("Add is not supported on entries")},yc.prototype.add_18=function(a){return this.add_13(a!=null&&ir(a,_1)?a:$e())},yc.prototype.containsEntry_4=function(a){return this._$this_1.containsEntry_5(a)},yc.prototype.iterator_39=function(){return this._$this_1._internalMap.iterator_39()},yc.prototype._get_size__29=function(){return this._$this_1._get_size__29()},yc.$metadata$={simpleName:"EntrySet",kind:"class",interfaces:[]},$i.prototype.containsKey_8=function(a){return this._internalMap.contains_20(a)},$i.prototype._get_entries__5=function(){return this.__entries==null&&(this.__entries=this.createEntrySet_0()),Dr(this.__entries)},$i.prototype.createEntrySet_0=function(){return new yc(this)},$i.prototype.get_17=function(a){return this._internalMap.get_17(a)},$i.prototype.put_4=function(a,p){return this._internalMap.put_4(a,p)},$i.prototype._get_size__29=function(){return this._internalMap._get_size__29()},$i.$metadata$={simpleName:"HashMap",kind:"class",interfaces:[Cg]},In.prototype._get_map__0=function(){return this._map},In.prototype.add_18=function(a){return this._map.put_4(a,this)==null},In.prototype.contains_27=function(a){return this._map.containsKey_8(a)},In.prototype.isEmpty_29=function(){return this._map.isEmpty_29()},In.prototype.iterator_39=function(){return this._map._get_keys__5().iterator_39()},In.prototype._get_size__29=function(){return this._map._get_size__29()},In.$metadata$={simpleName:"HashSet",kind:"class",interfaces:[bv]},yg.prototype.hasNext_14=function(){return this._state===-1&&(this._state=function(a){if(a._chainOrEntry!=null&&a._isChain){var p=a._chainOrEntry.length,E=a;if(E._itemIndex=E._itemIndex+1|0,E._itemIndex<p)return 0}var T=a;if(T._keyIndex=T._keyIndex+1|0,T._keyIndex<a._keys.length){a._chainOrEntry=a._this$0_5._backingMap[a._keys[a._keyIndex]];var D=a,W=a._chainOrEntry;return D._isChain=W!=null&&Md(W),a._itemIndex=0,0}return a._chainOrEntry=null,1}(this)),this._state===0},yg.prototype.next_14=function(){if(!this.hasNext_14())throw Op();var a=this._isChain?this._chainOrEntry[this._itemIndex]:this._chainOrEntry;return this._lastEntry=a,this._state=-1,a},yg.$metadata$={kind:"class",interfaces:[b]},kf.prototype._get_equality__0=function(){return this._equality_0},kf.prototype._get_size__29=function(){return this._size},kf.prototype.put_4=function(a,p){var E=this._equality_0.getHashCode_0(a),T=$h(this,E);if(T==null)this._backingMap[E]=new qr(a,p);else{if(T==null||!Md(T)){var D=T;if(this._equality_0.equals_1(D._get_key__3(),a))return D.setValue_1(p);var W=[D,new qr(a,p)];this._backingMap[E]=W;var re=this._size;return this._size=re+1|0,fe(),null}var ce=T,Fe=Zl(ce,this,a);if(Fe!=null)return Fe.setValue_1(p);ce.push(new qr(a,p))}var Ue=this._size;return this._size=Ue+1|0,fe(),null},kf.prototype.contains_20=function(a){return Uc(this,a)!=null},kf.prototype.get_17=function(a){var p=Uc(this,a);return p==null?null:p._get_value__15()},kf.prototype.iterator_39=function(){return new yg(this)},kf.$metadata$={simpleName:"InternalHashCodeMap",kind:"class",interfaces:[vg]},vg.prototype.createJsMap_0=function(){var a=Object.create(null);return a.foo=1,delete a.foo,a},vg.$metadata$={simpleName:"InternalMap",kind:"interface",interfaces:[Wx]},Uh.prototype.hasNext_14=function(){return this._next_0!==null},Uh.prototype.next_14=function(){if(!this.hasNext_14())throw Op();var a=Dr(this._next_0);this._last_1=a;var p,E=a._next_1;return p=E!==this._$this_2._$this_4._head?E:null,this._next_0=p,a},Uh.$metadata$={simpleName:"EntryIterator",kind:"class",interfaces:[b]},Od.prototype.setValue_1=function(a){return this._$this_3.checkIsMutable_12(),qr.prototype.setValue_1.call(this,a)},Od.$metadata$={simpleName:"ChainEntry",kind:"class",interfaces:[]},Kl.prototype.add_13=function(a){throw Ug("Add is not supported on entries")},Kl.prototype.add_18=function(a){return this.add_13(a!=null&&ir(a,_1)?a:$e())},Kl.prototype.containsEntry_4=function(a){return this._$this_4.containsEntry_5(a)},Kl.prototype.iterator_39=function(){return new Uh(this)},Kl.prototype._get_size__29=function(){return this._$this_4._get_size__29()},Kl.prototype.checkIsMutable_12=function(){return this._$this_4.checkIsMutable_12()},Kl.$metadata$={simpleName:"EntrySet",kind:"class",interfaces:[]},go.prototype.containsKey_8=function(a){return this._map_0.containsKey_8(a)},go.prototype.createEntrySet_0=function(){return new Kl(this)},go.prototype.get_17=function(a){var p=this._map_0.get_17(a);return p==null?null:p._get_value__15()},go.prototype.put_4=function(a,p){this.checkIsMutable_12();var E=this._map_0.get_17(a);if(E==null){var T=new Od(this,a,p);return this._map_0.put_4(a,T),fe(),function(D,W){if(D._next_1!=null||D._prev!=null)throw no(Sr("Check failed."));var re=W._head;if(re==null)W._head=D,D._next_1=D,D._prev=D;else{var ce,Fe=re._prev;e:do{if(Fe==null)throw no(Sr("Required value was null."));ce=Fe;break e}while(0);var Ue=ce;D._prev=Ue,D._next_1=re,re._prev=D,Ue._next_1=D}}(T,this),null}return E.setValue_1(p)},go.prototype._get_size__29=function(){return this._map_0._get_size__29()},go.prototype.checkIsMutable_12=function(){if(this._isReadOnly_0)throw I1()},go.$metadata$={simpleName:"LinkedHashMap",kind:"class",interfaces:[Cg]},Jl.prototype.checkIsMutable_12=function(){return this._get_map__0().checkIsMutable_12()},Jl.$metadata$={simpleName:"LinkedHashSet",kind:"class",interfaces:[bv]},i1.$metadata$={simpleName:"RandomAccess",kind:"interface",interfaces:[]},lm.$metadata$={simpleName:"Serializable",kind:"interface",interfaces:[]},Ux.$metadata$={simpleName:"KCallable",kind:"interface",interfaces:[]},Fu.$metadata$={simpleName:"KClass",kind:"interface",interfaces:[Bc]},ju.prototype._get_jClass__2=function(){return this._jClass},ju.prototype.equals=function(a){return a instanceof ju&&hr(this._get_jClass__2(),a._get_jClass__2())},ju.prototype.hashCode=function(){var a=this._get_simpleName__4(),p=a==null?null:ca(a);return p==null?0:p},ju.prototype.toString=function(){return"class "+this._get_simpleName__4()},ju.$metadata$={simpleName:"KClassImpl",kind:"class",interfaces:[Fu]},ls.prototype.equals=function(a){return a instanceof ls&&!!ju.prototype.equals.call(this,a)&&this._givenSimpleName===a._givenSimpleName},ls.prototype._get_simpleName__4=function(){return this._givenSimpleName},ls.prototype.isInstance_4=function(a){return this._isInstanceFunction(a)},ls.$metadata$={simpleName:"PrimitiveKClassImpl",kind:"class",interfaces:[]},qh.prototype._get_simpleName__4=function(){return this._simpleName},qh.prototype.isInstance_4=function(a){return!1},qh.prototype._get_jClass__2=function(){throw Ug("There's no native JS class for Nothing type")},qh.prototype.equals=function(a){return a===this},qh.prototype.hashCode=function(){return 0},qh.$metadata$={simpleName:"NothingKClassImpl",kind:"object",interfaces:[]},bg.prototype._get_simpleName__4=function(){throw no(Sr("Unknown simpleName for ErrorKClass"))},bg.prototype.isInstance_4=function(a){throw no(Sr("Can's check isInstance on ErrorKClass"))},bg.prototype.equals=function(a){return a===this},bg.prototype.hashCode=function(){return 0},bg.$metadata$={simpleName:"ErrorKClass",kind:"class",interfaces:[Fu]},c_.prototype._get_simpleName__4=function(){return this._simpleName_0},c_.prototype.isInstance_4=function(a){return function(p,E){if(E===Object)return yn(p);if(p==null||E==null||typeof p!="object"&&typeof p!="function")return!1;if(typeof E=="function"&&Dd(p,E))return!0;var T=function(re){return Object.getPrototypeOf(re)}(E),D=T==null?null:T.constructor;if(D!=null&&Im("$metadata$",D)&&D.$metadata$.kind==="object")return p===E;var W=E.$metadata$;return W==null?Dd(p,E):W.kind==="interface"&&p.constructor!=null&&Nd(p.constructor,E)}(a,this._get_jClass__2())},c_.$metadata$={simpleName:"SimpleKClassImpl",kind:"class",interfaces:[]},xg.$metadata$={simpleName:"KProperty1",kind:"interface",interfaces:[P2]},P2.$metadata$={simpleName:"KProperty",kind:"interface",interfaces:[Ux]},s1.$metadata$={simpleName:"KType",kind:"interface",interfaces:[]},u1.prototype.invoke_16=function(a){return p=a,this._this$0_6,p._variance==null?"*":function(E){var T,D=E;return D.equals(ya())?T="":D.equals(Fh())?T="in ":D.equals(Id())?T="out ":Tg(),T}(p._variance)+Cp(p._type);var p},u1.prototype.invoke_103=function(a){return this.invoke_16(a instanceof Oa?a:$e())},u1.$metadata$={kind:"class",interfaces:[]},Da.prototype._get_classifier__0=function(){return this._classifier},Da.prototype._get_arguments__0=function(){return this._arguments},Da.prototype._get_isMarkedNullable__0=function(){return this._isMarkedNullable},Da.prototype.equals=function(a){return!!(a instanceof Da&&hr(this._classifier,a._classifier)&&hr(this._arguments,a._arguments))&&this._isMarkedNullable===a._isMarkedNullable},Da.prototype.hashCode=function(){return sr(sr(Ui(this._classifier),31)+Ui(this._arguments)|0,31)+(0|this._isMarkedNullable)|0},Da.prototype.toString=function(){var a,p=this._classifier,E=ir(p,Fu)?p:null,T=E==null?Sr(this._classifier):E._get_simpleName__4()!=null?E._get_simpleName__4():"(non-denotable type)",D=this._arguments.isEmpty_29()?"":F(this._arguments,", ","<",">",0,null,(a=new u1(this),function(re){return a.invoke_16(re)}),24),W=this._isMarkedNullable?"?":"";return function(re,ce){var Fe=re==null?null:Sr(re),Ue=Fe==null?"null":Fe,Ve=ce==null?null:Sr(ce);return Ue+(Ve==null?"null":Ve)}(T,D)+W},Da.$metadata$={simpleName:"KTypeImpl",kind:"class",interfaces:[s1]},fm.prototype.invoke_58=function(a){return yn(a)},fm.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},fm.$metadata$={kind:"class",interfaces:[]},_v.prototype.invoke_58=function(a){return S1(a)},_v.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},_v.$metadata$={kind:"class",interfaces:[]},pm.prototype.invoke_58=function(a){return a!=null&&typeof a=="boolean"},pm.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},pm.$metadata$={kind:"class",interfaces:[]},hm.prototype.invoke_58=function(a){return a!=null&&typeof a=="number"},hm.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},hm.$metadata$={kind:"class",interfaces:[]},f_.prototype.invoke_58=function(a){return a!=null&&typeof a=="number"},f_.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},f_.$metadata$={kind:"class",interfaces:[]},mv.prototype.invoke_58=function(a){return a!=null&&typeof a=="number"},mv.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},mv.$metadata$={kind:"class",interfaces:[]},gv.prototype.invoke_58=function(a){return a!=null&&typeof a=="number"},gv.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},gv.$metadata$={kind:"class",interfaces:[]},p_.prototype.invoke_58=function(a){return a!=null&&typeof a=="number"},p_.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},p_.$metadata$={kind:"class",interfaces:[]},wg.prototype.invoke_58=function(a){return a!=null&&Md(a)},wg.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},wg.$metadata$={kind:"class",interfaces:[]},Sg.prototype.invoke_58=function(a){return a!=null&&typeof a=="string"},Sg.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},Sg.$metadata$={kind:"class",interfaces:[]},l1.prototype.invoke_58=function(a){return a instanceof Error},l1.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},l1.$metadata$={kind:"class",interfaces:[]},h_.prototype.invoke_58=function(a){return a!=null&&wm(a)},h_.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},h_.$metadata$={kind:"class",interfaces:[]},c1.prototype.invoke_58=function(a){return a!=null&&jg(a)},c1.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},c1.$metadata$={kind:"class",interfaces:[]},Eg.prototype.invoke_58=function(a){return a!=null&&Fg(a)},Eg.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},Eg.$metadata$={kind:"class",interfaces:[]},f1.prototype.invoke_58=function(a){return a!=null&&Sm(a)},f1.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},f1.$metadata$={kind:"class",interfaces:[]},Pg.prototype.invoke_58=function(a){return a!=null&&Bg(a)},Pg.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},Pg.$metadata$={kind:"class",interfaces:[]},Ig.prototype.invoke_58=function(a){return a!=null&&Iv(a)},Ig.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},Ig.$metadata$={kind:"class",interfaces:[]},Tf.prototype.invoke_58=function(a){return a!=null&&Pv(a)},Tf.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},Tf.$metadata$={kind:"class",interfaces:[]},p1.prototype.invoke_58=function(a){return a!=null&&Cv(a)},p1.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},p1.$metadata$={kind:"class",interfaces:[]},h1.prototype.invoke_58=function(a){return typeof a=="function"&&a.length===this._$arity},h1.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},h1.$metadata$={kind:"class",interfaces:[]},gn.prototype._get_anyClass_=function(){return this._anyClass},gn.prototype._get_numberClass_=function(){return this._numberClass},gn.prototype._get_nothingClass_=function(){return this._nothingClass},gn.prototype._get_booleanClass_=function(){return this._booleanClass},gn.prototype._get_byteClass_=function(){return this._byteClass},gn.prototype._get_shortClass_=function(){return this._shortClass},gn.prototype._get_intClass_=function(){return this._intClass},gn.prototype._get_floatClass_=function(){return this._floatClass},gn.prototype._get_doubleClass_=function(){return this._doubleClass},gn.prototype._get_arrayClass_=function(){return this._arrayClass},gn.prototype._get_stringClass_=function(){return this._stringClass},gn.prototype._get_throwableClass_=function(){return this._throwableClass},gn.prototype._get_booleanArrayClass_=function(){return this._booleanArrayClass},gn.prototype._get_charArrayClass_=function(){return this._charArrayClass},gn.prototype._get_byteArrayClass_=function(){return this._byteArrayClass},gn.prototype._get_shortArrayClass_=function(){return this._shortArrayClass},gn.prototype._get_intArrayClass_=function(){return this._intArrayClass},gn.prototype._get_longArrayClass_=function(){return this._longArrayClass},gn.prototype._get_floatArrayClass_=function(){return this._floatArrayClass},gn.prototype._get_doubleArrayClass_=function(){return this._doubleArrayClass},gn.prototype.functionClass=function(a){var p,E,T=Oe[a];if(T==null){var D=new ls(Function,"Function"+a,(E=new h1(a),function(W){return E.invoke_58(W)}));Oe[a]=D,p=D}else p=T;return p},gn.$metadata$={simpleName:"PrimitiveClasses",kind:"object",interfaces:[]},Object.defineProperty(gn.prototype,"anyClass",{configurable:!0,get:gn.prototype._get_anyClass_}),Object.defineProperty(gn.prototype,"numberClass",{configurable:!0,get:gn.prototype._get_numberClass_}),Object.defineProperty(gn.prototype,"nothingClass",{configurable:!0,get:gn.prototype._get_nothingClass_}),Object.defineProperty(gn.prototype,"booleanClass",{configurable:!0,get:gn.prototype._get_booleanClass_}),Object.defineProperty(gn.prototype,"byteClass",{configurable:!0,get:gn.prototype._get_byteClass_}),Object.defineProperty(gn.prototype,"shortClass",{configurable:!0,get:gn.prototype._get_shortClass_}),Object.defineProperty(gn.prototype,"intClass",{configurable:!0,get:gn.prototype._get_intClass_}),Object.defineProperty(gn.prototype,"floatClass",{configurable:!0,get:gn.prototype._get_floatClass_}),Object.defineProperty(gn.prototype,"doubleClass",{configurable:!0,get:gn.prototype._get_doubleClass_}),Object.defineProperty(gn.prototype,"arrayClass",{configurable:!0,get:gn.prototype._get_arrayClass_}),Object.defineProperty(gn.prototype,"stringClass",{configurable:!0,get:gn.prototype._get_stringClass_}),Object.defineProperty(gn.prototype,"throwableClass",{configurable:!0,get:gn.prototype._get_throwableClass_}),Object.defineProperty(gn.prototype,"booleanArrayClass",{configurable:!0,get:gn.prototype._get_booleanArrayClass_}),Object.defineProperty(gn.prototype,"charArrayClass",{configurable:!0,get:gn.prototype._get_charArrayClass_}),Object.defineProperty(gn.prototype,"byteArrayClass",{configurable:!0,get:gn.prototype._get_byteArrayClass_}),Object.defineProperty(gn.prototype,"shortArrayClass",{configurable:!0,get:gn.prototype._get_shortArrayClass_}),Object.defineProperty(gn.prototype,"intArrayClass",{configurable:!0,get:gn.prototype._get_intArrayClass_}),Object.defineProperty(gn.prototype,"longArrayClass",{configurable:!0,get:gn.prototype._get_longArrayClass_}),Object.defineProperty(gn.prototype,"floatArrayClass",{configurable:!0,get:gn.prototype._get_floatArrayClass_}),Object.defineProperty(gn.prototype,"doubleArrayClass",{configurable:!0,get:gn.prototype._get_doubleArrayClass_}),I2.$metadata$={simpleName:"Appendable",kind:"interface",interfaces:[]},of.prototype._get_length__0=function(){return this._string.length},of.prototype.get_29=function(a){var p=this._string;if(!(a>=0&&a<=pu(p)))throw ka("index: "+a+", length: "+this._get_length__0()+"}");return ni(p,a)},of.prototype.subSequence_1=function(a,p){return this._string.substring(a,p)},of.prototype.append_1=function(a){return this._string=this._string+a,this},of.prototype.append_2=function(a){return this._string=this._string+Cp(a),this},of.prototype.append_3=function(a,p,E){var T=a;return this.appendRange(T==null?"null":T,p,E)},of.prototype.append_4=function(a){return this._string=this._string+Cp(a),this},of.prototype.append_5=function(a){var p=this._string,E=a;return this._string=p+(E==null?"null":E),this},of.prototype.setLength=function(a){if(a<0)throw Sn("Negative new length: "+a+".");if(a<=this._get_length__0()){var p=this._string;this._string=p.substring(0,a)}else{var E=this._get_length__0();if(E<a)do E=E+1|0,this._string=this._string+new Mt(0);while(E<a)}},of.prototype.toString=function(){return this._string},of.prototype.appendRange=function(a,p,E){var T=Sr(a);ma().checkBoundsIndexes(p,E,T.length);var D=this._string;return this._string=D+T.substring(p,E),this},of.$metadata$={simpleName:"StringBuilder",kind:"class",interfaces:[I2,Tr]},O2.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Mt.prototype.compareTo_9=function(a){return this._value_0-a._value_0|0},Mt.prototype.compareTo_14=function(a){return this.compareTo_9(a instanceof Mt?a:$e())},Mt.prototype.minus=function(a){return this._value_0-a._value_0|0},Mt.prototype.toInt_5=function(){return this._value_0},Mt.prototype.equals=function(a){return a===this||a instanceof Mt&&this._value_0===a._value_0},Mt.prototype.hashCode=function(){return this._value_0},Mt.prototype.toString=function(){return String.fromCharCode(this._value_0)},Mt.$metadata$={simpleName:"Char",kind:"class",interfaces:[Br]},gm.$metadata$={simpleName:"Iterable",kind:"interface",interfaces:[]},Fs.$metadata$={simpleName:"Entry",kind:"interface",interfaces:[]},Ks.$metadata$={simpleName:"Map",kind:"interface",interfaces:[]},pl.$metadata$={simpleName:"List",kind:"interface",interfaces:[Ol]},vv.$metadata$={simpleName:"MutableList",kind:"interface",interfaces:[pl,xv]},bv.$metadata$={simpleName:"MutableSet",kind:"interface",interfaces:[af,xv]},af.$metadata$={simpleName:"Set",kind:"interface",interfaces:[Ol]},_1.$metadata$={simpleName:"MutableEntry",kind:"interface",interfaces:[Fs]},Cg.$metadata$={simpleName:"MutableMap",kind:"interface",interfaces:[Ks]},Ol.$metadata$={simpleName:"Collection",kind:"interface",interfaces:[gm]},xv.$metadata$={simpleName:"MutableCollection",kind:"interface",interfaces:[Ol,Wx]},Wx.$metadata$={simpleName:"MutableIterable",kind:"interface",interfaces:[gm]},hl.prototype._get_ordinal__0=function(){return this._ordinal},hl.prototype.compareTo_11=function(a){return kg(this._ordinal,a._ordinal)},hl.prototype.compareTo_14=function(a){return this.compareTo_11(a instanceof hl?a:$e())},hl.prototype.equals=function(a){return this===a},hl.prototype.hashCode=function(){return Xx(this)},hl.prototype.toString=function(){return this._name},hl.$metadata$={simpleName:"Enum",kind:"class",interfaces:[Br]},wv.prototype.hasNext_14=function(){return this._index_2!==this._$array.length},wv.prototype.next_14=function(){if(this._index_2===this._$array.length)throw tc(""+this._index_2);var a=this._index_2;return this._index_2=a+1|0,this._$array[a]},wv.$metadata$={kind:"class",interfaces:[ri]},g1.prototype.invoke_58=function(a){return Sr(a)},g1.prototype.invoke_103=function(a){return this.invoke_58(a==null||yn(a)?a:$e())},g1.$metadata$={kind:"class",interfaces:[]},ym.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},kr.prototype.compareTo_48=function(a){return vm(this,a)},kr.prototype.compareTo_14=function(a){return this.compareTo_48(a instanceof kr?a:$e())},kr.prototype.plus_27=function(a){return ec(this,a)},kr.prototype.minus_28=function(a){return bm(this,a)},kr.prototype.times_27=function(a){return Wh(this,a)},kr.prototype.div_27=function(a){return function(p,E){if(Ap(E))throw Hx("division by zero");if(Ap(p))return on;if(rp(p,Fn)){if(rp(E,Bn)||rp(E,si))return Fn;if(rp(E,Fn))return Bn;var T=N2(function(tt,bt){return new kr(tt._low>>>1|tt._high<<31,tt._high>>1)}(p).div_27(E),1);return rp(T,on)?np(E)?Bn:si:ec(T,bm(p,Wh(E,T)).div_27(E))}if(rp(E,Fn))return on;if(np(p))return np(E)?uf(p).div_27(uf(E)):uf(uf(p).div_27(E));if(np(E))return uf(p.div_27(uf(E)));for(var D=on,W=p;R2(W,E);){for(var re=Ng(W)/Ng(E),ce=function(){var tt=Math;return tt.max.apply(tt,[].concat([].slice.call(new Float64Array([1,Math.floor(re)]))))}.call(this),Fe=Math.ceil(Math.log(ce)/Math.LN2),Ue=Fe<=48?1:Math.pow(2,Fe-48),Ve=Sv(ce),Ke=Wh(Ve,E);np(Ke)||M2(Ke,W);)Ke=Wh(Ve=Sv(ce-=Ue),E);Ap(Ve)&&(Ve=Bn),D=ec(D,Ve),W=bm(W,Ke)}return D}(this,a)},kr.prototype.unaryMinus_4=function(){return this.inv_0().plus_27(new kr(1,0))},kr.prototype.shl_0=function(a){return N2(this,a)},kr.prototype.ushr_0=function(a){return p=this,(E=63&a)==0?p:E<32?new kr(p._low>>>E|p._high<<(32-E|0),p._high>>>E):new kr(E===32?p._high:p._high>>>(E-32|0),0);var p,E},kr.prototype.and=function(a){return new kr(this._low&a._low,this._high&a._high)},kr.prototype.xor=function(a){return new kr(this._low^a._low,this._high^a._high)},kr.prototype.inv_0=function(){return new kr(~this._low,~this._high)},kr.prototype.toByte_4=function(){return b1(this._low)},kr.prototype.toShort_4=function(){return Dg(this._low)},kr.prototype.toInt_5=function(){return this._low},kr.prototype.toDouble_4=function(){return Ng(this)},kr.prototype.valueOf=function(){return this.toDouble_4()},kr.prototype.equals=function(a){return a instanceof kr&&rp(this,a)},kr.prototype.hashCode=function(){return this._low^this._high},kr.prototype.toString=function(){return Mg(this,10)},kr.$metadata$={simpleName:"Long",kind:"class",interfaces:[Br]},Xh.$metadata$={simpleName:"Exception",kind:"class",interfaces:[]},Es.$metadata$={simpleName:"IllegalArgumentException",kind:"class",interfaces:[]},kl.$metadata$={simpleName:"RuntimeException",kind:"class",interfaces:[]},uh.$metadata$={simpleName:"NoSuchElementException",kind:"class",interfaces:[]},b_.$metadata$={simpleName:"IllegalStateException",kind:"class",interfaces:[]},aa.$metadata$={simpleName:"IndexOutOfBoundsException",kind:"class",interfaces:[]},Yh.$metadata$={simpleName:"UnsupportedOperationException",kind:"class",interfaces:[]},x_.$metadata$={simpleName:"ArithmeticException",kind:"class",interfaces:[]},ip.$metadata$={simpleName:"NumberFormatException",kind:"class",interfaces:[]},S_.$metadata$={simpleName:"NullPointerException",kind:"class",interfaces:[]},lh.$metadata$={simpleName:"NoWhenBranchMatchedException",kind:"class",interfaces:[]},Zh.$metadata$={simpleName:"ClassCastException",kind:"class",interfaces:[]},Rd.$metadata$={simpleName:"UninitializedPropertyAccessException",kind:"class",interfaces:[]},Pr.$metadata$={simpleName:"KSerializer",kind:"interface",interfaces:[E_,Kh]},Kh.$metadata$={simpleName:"DeserializationStrategy",kind:"interface",interfaces:[]},E_.$metadata$={simpleName:"SerializationStrategy",kind:"interface",interfaces:[]},o.prototype.invoke_94=function(a){var p=vt()._get_descriptor__66();a.element$default("type",p,null,!1,12,null);var E=jr("kotlinx.serialization.Polymorphic<"+this._this$0_7._baseClass._get_simpleName__4()+">",Cs(),[],null,12);a.element$default("value",E,null,!1,12,null)},o.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},o.$metadata$={kind:"class",interfaces:[]},c.prototype._get_baseClass__0=function(){return this._baseClass},c.prototype._get_descriptor__66=function(){return this._descriptor},c.prototype.toString=function(){return"kotlinx.serialization.PolymorphicSerializer(baseClass: "+this._baseClass+")"},c.$metadata$={simpleName:"PolymorphicSerializer",kind:"class",interfaces:[]},A.$metadata$={simpleName:"SealedClassSerializer",kind:"class",interfaces:[]},L.$metadata$={simpleName:"StringFormat",kind:"interface",interfaces:[R]},R.$metadata$={simpleName:"SerialFormat",kind:"interface",interfaces:[]},Z.$metadata$={simpleName:"UnknownFieldException",kind:"class",interfaces:[]},le.$metadata$={simpleName:"MissingFieldException",kind:"class",interfaces:[]},Ae.$metadata$={simpleName:"SerializationException",kind:"class",interfaces:[]},gr.prototype.getElementAnnotations_17=function(a){return this._original.getElementAnnotations_17(a)},gr.prototype.getElementDescriptor_17=function(a){return this._original.getElementDescriptor_17(a)},gr.prototype.getElementIndex_17=function(a){return this._original.getElementIndex_17(a)},gr.prototype.getElementName_17=function(a){return this._original.getElementName_17(a)},gr.prototype._get_elementsCount__17=function(){return this._original._get_elementsCount__17()},gr.prototype._get_isInline__17=function(){return this._original._get_isInline__17()},gr.prototype._get_isNullable__17=function(){return this._original._get_isNullable__17()},gr.prototype._get_kind__17=function(){return this._original._get_kind__17()},gr.prototype._get_serialName__17=function(){return this._serialName},gr.prototype.equals=function(a){var p=a instanceof gr?a:null;if(p==null)return!1;var E=p;return!!hr(this._original,E._original)&&E._kClass.equals(this._kClass)},gr.prototype.hashCode=function(){var a=this._kClass.hashCode();return sr(31,a)+ca(this._serialName)|0},gr.prototype.toString=function(){return"ContextDescriptor(kClass: "+this._kClass+", original: "+this._original+")"},gr.$metadata$={simpleName:"ContextDescriptor",kind:"class",interfaces:[Ir]},Ir.prototype._get_isNullable__17=function(){return!1},Ir.prototype._get_isInline__17=function(){return!1},Ir.$metadata$={simpleName:"SerialDescriptor",kind:"interface",interfaces:[]},jn.prototype.hasNext_14=function(){return this._elementsLeft>0},jn.prototype.next_14=function(){var a=this._$this_elementDescriptors._get_elementsCount__17(),p=this._elementsLeft;return this._elementsLeft=p-1|0,this._$this_elementDescriptors.getElementDescriptor_17(a-p|0)},jn.$metadata$={kind:"class",interfaces:[ri]},Oi.prototype.iterator_2_0=function(){return new jn(this._$this_elementDescriptors_0)},Oi.prototype.iterator_39=function(){return this.iterator_2_0()},Oi.$metadata$={simpleName:"<no name provided>_1",kind:"class",interfaces:[gm]},oi.prototype.element=function(a,p,E,T){if(!this._uniqueNames.add_18(a))throw Sn(Sr("Element with name '"+a+"' is already registered"));this._elementNames.add_18(a),fe(),this._elementDescriptors.add_18(p),fe(),this._elementAnnotations.add_18(E),fe(),this._elementOptionality.add_18(T),fe()},oi.prototype.element$default=function(a,p,E,T,D,W){return(4&D)!=0&&(E=An()),(8&D)!=0&&(T=!1),this.element(a,p,E,T)},oi.$metadata$={simpleName:"ClassSerialDescriptorBuilder",kind:"class",interfaces:[]},fs.prototype.invoke_97=function(){return tw(this._this$0_8,this._this$0_8._typeParametersDescriptors)},fs.$metadata$={kind:"class",interfaces:[]},Va.prototype.invoke_102=function(a){return this._this$0_9.getElementName_17(a)+": "+this._this$0_9.getElementDescriptor_17(a)._get_serialName__17()},Va.prototype.invoke_103=function(a){return this.invoke_102(a!=null&&typeof a=="number"?a:$e())},Va.$metadata$={kind:"class",interfaces:[]},ki.prototype._get_serialName__17=function(){return this._serialName_1},ki.prototype._get_kind__17=function(){return this._kind},ki.prototype._get_elementsCount__17=function(){return this._elementsCount},ki.prototype._get_serialNames__3=function(){return this._serialNames},ki.prototype.getElementName_17=function(a){return z1(this._elementNames_0,a)},ki.prototype.getElementIndex_17=function(a){var p,E=this._name2Index.get_17(a);return E==null?(Iu(),p=-3):p=E,p},ki.prototype.getElementAnnotations_17=function(a){return z1(this._elementAnnotations_0,a)},ki.prototype.getElementDescriptor_17=function(a){return z1(this._elementDescriptors_0,a)},ki.prototype.equals=function(a){var p;e:do{if(this===a){p=!0;break e}if(!(a instanceof ki)){p=!1;break e}if(this._get_serialName__17()!==a._get_serialName__17()){p=!1;break e}var E=a;if(!y_(this._typeParametersDescriptors,E._typeParametersDescriptors)){p=!1;break e}if(this._get_elementsCount__17()!==a._get_elementsCount__17()){p=!1;break e}var T=0,D=this._get_elementsCount__17();if(T<D)do{var W=T;if(T=T+1|0,this.getElementDescriptor_17(W)._get_serialName__17()!==a.getElementDescriptor_17(W)._get_serialName__17()){p=!1;break e}if(!hr(this.getElementDescriptor_17(W)._get_kind__17(),a.getElementDescriptor_17(W)._get_kind__17())){p=!1;break e}}while(T<D);p=!0}while(0);return p},ki.prototype.hashCode=function(){return qa(this)},ki.prototype.toString=function(){var a;return F(ne(0,this._elementsCount),", ",this._serialName_1+"(",")",0,null,(a=new Va(this),function(p){return a.invoke_102(p)}),24)},ki.$metadata$={simpleName:"SerialDescriptorImpl",kind:"class",interfaces:[Ir,I_]},eu.prototype.invoke_94=function(a){return fe()},eu.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},eu.$metadata$={kind:"class",interfaces:[]},tu.prototype.invoke_94=function(a){return fe()},tu.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},tu.$metadata$={kind:"class",interfaces:[]},ru.$metadata$={simpleName:"ENUM",kind:"object",interfaces:[]},Bu.$metadata$={simpleName:"CONTEXTUAL",kind:"object",interfaces:[]},wa.prototype.toString=function(){return Dr(Su(this)._get_simpleName__4())},wa.prototype.hashCode=function(){return ca(this.toString())},wa.$metadata$={simpleName:"SerialKind",kind:"class",interfaces:[]},mi.$metadata$={simpleName:"BOOLEAN",kind:"object",interfaces:[]},yo.$metadata$={simpleName:"BYTE",kind:"object",interfaces:[]},io.$metadata$={simpleName:"CHAR",kind:"object",interfaces:[]},Ti.$metadata$={simpleName:"SHORT",kind:"object",interfaces:[]},Gu.$metadata$={simpleName:"INT",kind:"object",interfaces:[]},Eu.$metadata$={simpleName:"LONG",kind:"object",interfaces:[]},fa.$metadata$={simpleName:"FLOAT",kind:"object",interfaces:[]},ps.$metadata$={simpleName:"DOUBLE",kind:"object",interfaces:[]},Pu.$metadata$={simpleName:"STRING",kind:"object",interfaces:[]},fo.$metadata$={simpleName:"PrimitiveKind",kind:"class",interfaces:[]},rc.$metadata$={simpleName:"CLASS",kind:"object",interfaces:[]},ts.$metadata$={simpleName:"LIST",kind:"object",interfaces:[]},qc.$metadata$={simpleName:"MAP",kind:"object",interfaces:[]},fh.$metadata$={simpleName:"OBJECT",kind:"object",interfaces:[]},dl.$metadata$={simpleName:"StructureKind",kind:"class",interfaces:[]},Jh.$metadata$={simpleName:"SEALED",kind:"object",interfaces:[]},Qh.$metadata$={simpleName:"OPEN",kind:"object",interfaces:[]},Tl.$metadata$={simpleName:"PolymorphicKind",kind:"class",interfaces:[]},qi.prototype.decodeValue_1=function(){throw xe(Su(this)+" can't retrieve untyped values")},qi.prototype.decodeNotNullMark_9=function(){return!0},qi.prototype.decodeNull_9=function(){return null},qi.prototype.decodeBoolean_9=function(){var a=this.decodeValue_1();return typeof a=="boolean"?a:$e()},qi.prototype.decodeByte_9=function(){var a=this.decodeValue_1();return typeof a=="number"?a:$e()},qi.prototype.decodeShort_9=function(){var a=this.decodeValue_1();return typeof a=="number"?a:$e()},qi.prototype.decodeInt_9=function(){var a=this.decodeValue_1();return typeof a=="number"?a:$e()},qi.prototype.decodeLong_9=function(){var a=this.decodeValue_1();return a instanceof kr?a:$e()},qi.prototype.decodeFloat_9=function(){var a=this.decodeValue_1();return typeof a=="number"?a:$e()},qi.prototype.decodeDouble_9=function(){var a=this.decodeValue_1();return typeof a=="number"?a:$e()},qi.prototype.decodeChar_9=function(){var a=this.decodeValue_1();return a instanceof Mt?a:$e()},qi.prototype.decodeString_9=function(){var a=this.decodeValue_1();return typeof a=="string"?a:$e()},qi.prototype.decodeEnum_9=function(a){var p=this.decodeValue_1();return typeof p=="number"?p:$e()},qi.prototype.decodeInline_9=function(a){return this},qi.prototype.decodeSerializableValue_19=function(a,p){return this.decodeSerializableValue_18(a)},qi.prototype.beginStructure_14=function(a){return this},qi.prototype.endStructure_14=function(a){},qi.prototype.decodeBooleanElement_9=function(a,p){return this.decodeBoolean_9()},qi.prototype.decodeByteElement_9=function(a,p){return this.decodeByte_9()},qi.prototype.decodeShortElement_9=function(a,p){return this.decodeShort_9()},qi.prototype.decodeIntElement_9=function(a,p){return this.decodeInt_9()},qi.prototype.decodeLongElement_9=function(a,p){return this.decodeLong_9()},qi.prototype.decodeFloatElement_9=function(a,p){return this.decodeFloat_9()},qi.prototype.decodeDoubleElement_9=function(a,p){return this.decodeDouble_9()},qi.prototype.decodeCharElement_9=function(a,p){return this.decodeChar_9()},qi.prototype.decodeStringElement_9=function(a,p){return this.decodeString_9()},qi.prototype.decodeSerializableElement_9=function(a,p,E,T){return this.decodeSerializableValue_19(E,T)},qi.prototype.decodeNullableSerializableElement_9=function(a,p,E,T){return E._get_descriptor__66()._get_isNullable__17()||this.decodeNotNullMark_9()?this.decodeSerializableValue_19(E,T):this.decodeNull_9()},qi.$metadata$={simpleName:"AbstractDecoder",kind:"class",interfaces:[nc,xi]},Di.prototype.beginStructure_14=function(a){return this},Di.prototype.endStructure_14=function(a){},Di.prototype.encodeElement_2=function(a,p){return!0},Di.prototype.encodeValue_2=function(a){throw xe("Non-serializable "+Su(a)+" is not supported by "+Su(this)+" encoder")},Di.prototype.encodeNull_3=function(){throw xe("'null' is not supported by default")},Di.prototype.encodeBoolean_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeByte_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeShort_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeInt_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeLong_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeFloat_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeDouble_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeChar_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeString_3=function(a){return this.encodeValue_2(a)},Di.prototype.encodeEnum_3=function(a,p){return this.encodeValue_2(p)},Di.prototype.encodeInline_3=function(a){return this},Di.prototype.encodeBooleanElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeBoolean_3(E)},Di.prototype.encodeByteElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeByte_3(E)},Di.prototype.encodeShortElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeShort_3(E)},Di.prototype.encodeIntElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeInt_3(E)},Di.prototype.encodeLongElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeLong_3(E)},Di.prototype.encodeFloatElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeFloat_3(E)},Di.prototype.encodeDoubleElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeDouble_3(E)},Di.prototype.encodeCharElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeChar_3(E)},Di.prototype.encodeStringElement_3=function(a,p,E){this.encodeElement_2(a,p)&&this.encodeString_3(E)},Di.prototype.encodeSerializableElement_3=function(a,p,E,T){this.encodeElement_2(a,p)&&this.encodeSerializableValue_3(E,T)},Di.prototype.encodeNullableSerializableElement_3=function(a,p,E,T){this.encodeElement_2(a,p)&&this.encodeNullableSerializableValue_3(E,T)},Di.$metadata$={simpleName:"AbstractEncoder",kind:"class",interfaces:[As,zd]},nc.prototype.decodeSerializableValue_18=function(a){return a.deserialize_70(this)},nc.$metadata$={simpleName:"Decoder",kind:"interface",interfaces:[]},qg.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},xi.prototype.decodeSequentially_9=function(){return!1},xi.prototype.decodeCollectionSize_9=function(a){return-1},xi.prototype.decodeSerializableElement$default_9=function(a,p,E,T,D,W){return(8&D)!=0&&(T=null),W==null?this.decodeSerializableElement_9(a,p,E,T):W(a,p,E,T)},xi.$metadata$={simpleName:"CompositeDecoder",kind:"interface",interfaces:[]},As.prototype.encodeNotNullMark_3=function(){},As.prototype.beginCollection_3=function(a,p){return this.beginStructure_14(a)},As.prototype.encodeSerializableValue_3=function(a,p){a.serialize_107(this,p)},As.prototype.encodeNullableSerializableValue_3=function(a,p){if(a._get_descriptor__66()._get_isNullable__17())return this.encodeSerializableValue_3(ir(a,E_)?a:$e(),p);p==null?this.encodeNull_3():(this.encodeNotNullMark_3(),this.encodeSerializableValue_3(a,p))},As.$metadata$={simpleName:"Encoder",kind:"interface",interfaces:[]},zd.prototype.shouldEncodeElementDefault_3=function(a,p){return!0},zd.$metadata$={simpleName:"CompositeEncoder",kind:"interface",interfaces:[]},vc.prototype.serialize_107=function(a,p){var E=h(this,a,p),T=this._get_descriptor__66(),D=a.beginStructure_14(T),W=null;try{D.encodeStringElement_3(this._get_descriptor__66(),0,E._get_descriptor__66()._get_serialName__17());var re=this._get_descriptor__66();D.encodeSerializableElement_3(re,1,ir(E,E_)?E:$e(),p)}catch(ce){throw ce instanceof Error&&(W=ce),ce}finally{W==null&&D.endStructure_14(T)}},vc.prototype.deserialize_70=function(a){var p;e:do{var E=this._get_descriptor__66(),T=a.beginStructure_14(E),D=null;try{var W,re=null,ce=null;if(T.decodeSequentially_9())return O1(this,T);t:for(;;){var Fe=T.decodeElementIndex_9(this._get_descriptor__66());if(Iu(),Fe===-1)break t;if(Fe===0)re=T.decodeStringElement_9(this._get_descriptor__66(),Fe);else{if(Fe!==1)throw xe("Invalid index in polymorphic deserialization of "+(re==null?"unknown class":re)+`
 Expected 0, 1 or DECODE_DONE(-1), but found `+Fe);var Ue;r:do{var Ve=re;if(Ve==null)throw Sn(Sr("Cannot read polymorphic value before its type token"));Ue=Ve;break r}while(0);var Ke=w(this,T,re=Ue),tt=this._get_descriptor__66();ce=T.decodeSerializableElement$default_9(tt,Fe,Ke,null,8,null)}}t:do{var bt=ce;if(bt==null)throw Sn(Sr("Polymorphic value has not been read for class "+re));W=bt;break t}while(0);var Dt=W;p=yn(Dt)?Dt:$e();break e}catch(Nt){throw Nt instanceof Error&&(D=Nt),Nt}finally{D==null&&T.endStructure_14(E)}}while(0);return p},vc.prototype.findPolymorphicSerializerOrNull_1=function(a,p){return a._get_serializersModule__18().getPolymorphic_2(this._get_baseClass__0(),p)},vc.prototype.findPolymorphicSerializerOrNull_2=function(a,p){return a._get_serializersModule__18().getPolymorphic_1(this._get_baseClass__0(),p)},vc.$metadata$={simpleName:"AbstractPolymorphicSerializer",kind:"class",interfaces:[Pr]},I_.$metadata$={simpleName:"CachedNames",kind:"interface",interfaces:[]},kp.prototype._get_serialName__17=function(){return this._serialName_2},kp.$metadata$={simpleName:"PrimitiveArrayDescriptor",kind:"class",interfaces:[]},hs.prototype._get_kind__17=function(){return Lf()},hs.prototype._get_elementsCount__17=function(){return this._elementsCount_0},hs.prototype.getElementName_17=function(a){return a.toString()},hs.prototype.getElementIndex_17=function(a){var p=Zs(a);if(p==null)throw Sn(a+" is not a valid list index");return p},hs.prototype.getElementAnnotations_17=function(a){if(!(a>=0))throw Sn(Sr("Illegal index "+a+", "+this._get_serialName__17()+" expects only non-negative indices"));return An()},hs.prototype.getElementDescriptor_17=function(a){if(!(a>=0))throw Sn(Sr("Illegal index "+a+", "+this._get_serialName__17()+" expects only non-negative indices"));return this._elementDescriptor},hs.prototype.equals=function(a){return this===a||a instanceof hs&&!(!hr(this._elementDescriptor,a._elementDescriptor)||this._get_serialName__17()!==a._get_serialName__17())},hs.prototype.hashCode=function(){return sr(Ui(this._elementDescriptor),31)+ca(this._get_serialName__17())|0},hs.prototype.toString=function(){return this._get_serialName__17()+"("+this._elementDescriptor+")"},hs.$metadata$={simpleName:"ListLikeDescriptor",kind:"class",interfaces:[Ir]},Tp.prototype._get_serialName__17=function(){return"kotlin.Array"},Tp.$metadata$={simpleName:"ArrayClassDesc",kind:"class",interfaces:[]},ph.prototype._get_serialName__17=function(){return"kotlin.collections.ArrayList"},ph.$metadata$={simpleName:"ArrayListClassDesc",kind:"class",interfaces:[]},Lp.$metadata$={simpleName:"LinkedHashMapClassDesc",kind:"class",interfaces:[]},Wu.prototype._get_serialName__17=function(){return this._serialName_3},Wu.prototype._get_kind__17=function(){return ch()},Wu.prototype._get_elementsCount__17=function(){return this._elementsCount_1},Wu.prototype.getElementName_17=function(a){return a.toString()},Wu.prototype.getElementIndex_17=function(a){var p=Zs(a);if(p==null)throw Sn(a+" is not a valid map index");return p},Wu.prototype.getElementAnnotations_17=function(a){if(!(a>=0))throw Sn(Sr("Illegal index "+a+", "+this._get_serialName__17()+" expects only non-negative indices"));return An()},Wu.prototype.getElementDescriptor_17=function(a){var p;if(!(a>=0))throw Sn(Sr("Illegal index "+a+", "+this._get_serialName__17()+" expects only non-negative indices"));switch(a%2){case 0:p=this._keyDescriptor;break;case 1:p=this._valueDescriptor;break;default:throw no(Sr("Unreached"))}return p},Wu.prototype.equals=function(a){return this===a||a instanceof Wu&&this._get_serialName__17()===a._get_serialName__17()&&!!hr(this._keyDescriptor,a._keyDescriptor)&&!!hr(this._valueDescriptor,a._valueDescriptor)},Wu.prototype.hashCode=function(){var a=ca(this._get_serialName__17());return a=sr(31,a)+Ui(this._keyDescriptor)|0,sr(31,a)+Ui(this._valueDescriptor)|0},Wu.prototype.toString=function(){return this._get_serialName__17()+"("+this._keyDescriptor+", "+this._valueDescriptor+")"},Wu.$metadata$={simpleName:"MapLikeDescriptor",kind:"class",interfaces:[Ir]},ap.prototype._get_serialName__17=function(){return"kotlin.collections.HashSet"},ap.$metadata$={simpleName:"HashSetClassDesc",kind:"class",interfaces:[]},Np.prototype._get_serialName__17=function(){return"kotlin.collections.LinkedHashSet"},Np.$metadata$={simpleName:"LinkedHashSetClassDesc",kind:"class",interfaces:[]},sp.$metadata$={simpleName:"HashMapClassDesc",kind:"class",interfaces:[]},Zo.prototype._get_descriptor__66=function(){return this._descriptor_0},Zo.prototype.builderSize_14=function(a){return a._get_position__7()},Zo.prototype.toResult_14=function(a){return a.build_8()},Zo.prototype.checkCapacity_14=function(a,p){return a.ensureCapacity_8(p)},Zo.prototype.collectionIterator=function(a){throw no(Sr("This method lead to boxing and must not be used, use writeContents instead"))},Zo.prototype.collectionIterator_14=function(a){return this.collectionIterator(a==null||yn(a)?a:$e())},Zo.prototype.insert_8=function(a,p,E){throw no(Sr("This method lead to boxing and must not be used, use Builder.append instead"))},Zo.prototype.builder_16=function(){return this.toBuilder_30(this.empty_7())},Zo.prototype.serialize_3=function(a,p){var E=this.collectionSize_29(p),T=a.beginCollection_3(this._descriptor_0,E);this.writeContent_15(T,p,E),T.endStructure_14(this._descriptor_0)},Zo.prototype.serialize_107=function(a,p){return this.serialize_3(a,p==null||yn(p)?p:$e())},Zo.prototype.serialize_12=function(a,p){return this.serialize_3(a,p==null||yn(p)?p:$e())},Zo.prototype.deserialize_70=function(a){return this.merge_5(a,null)},Zo.$metadata$={simpleName:"PrimitiveArraySerializer",kind:"class",interfaces:[]},Cu.prototype.ensureCapacity$default_7=function(a,p,E){return(1&p)!=0&&(a=this._get_position__7()+1|0),E==null?this.ensureCapacity_8(a):E(a)},Cu.$metadata$={simpleName:"PrimitiveArrayBuilder",kind:"class",interfaces:[]},_l.prototype.serialize_12=function(a,p){var E=this.collectionSize_29(p),T=a.beginCollection_3(this._get_descriptor__66(),E),D=this.collectionIterator_14(p),W=0;if(W<E)do{var re=W;W=W+1|0,T.encodeSerializableElement_3(this._get_descriptor__66(),re,this._elementSerializer,D.next_14())}while(W<E);T.endStructure_14(this._get_descriptor__66())},_l.prototype.serialize_107=function(a,p){return this.serialize_12(a,p==null||yn(p)?p:$e())},_l.prototype.readAll_5=function(a,p,E,T){if(!(T>=0))throw Sn(Sr("Size must be known in advance when using READ_ALL"));var D=0;if(D<T)do{var W=D;D=D+1|0,this.readElement_24(a,E+W|0,p,!1)}while(D<T)},_l.prototype.readElement_24=function(a,p,E,T){var D=this._get_descriptor__66();this.insert_8(E,p,a.decodeSerializableElement$default_9(D,p,this._elementSerializer,null,8,null))},_l.$metadata$={simpleName:"ListLikeSerializer",kind:"class",interfaces:[]},ed.prototype.merge_5=function(a,p){var E=p,T=E==null?null:this.toBuilder_30(E),D=T==null?this.builder_16():T,W=this.builderSize_14(D),re=a.beginStructure_14(this._get_descriptor__66());if(re.decodeSequentially_9())this.readAll_5(re,D,W,function(Ue,Ve,Ke){var tt=Ve.decodeCollectionSize_9(Ue._get_descriptor__66());return Ue.checkCapacity_14(Ke,tt),tt}(this,re,D));else e:for(;;){var ce=re.decodeElementIndex_9(this._get_descriptor__66());if(Iu(),ce===-1)break e;var Fe=W+ce|0;this.readElement$default_5(re,Fe,D,!1,8,null)}return re.endStructure_14(this._get_descriptor__66()),this.toResult_14(D)},ed.prototype.deserialize_70=function(a){return this.merge_5(a,null)},ed.prototype.readElement$default_5=function(a,p,E,T,D,W){return(8&D)!=0&&(T=!0),W==null?this.readElement_24(a,p,E,T):W(a,p,E,T)},ed.$metadata$={simpleName:"AbstractCollectionSerializer",kind:"class",interfaces:[Pr]},qn.prototype._get_descriptor__66=function(){return this._descriptor_1},qn.prototype.collectionSize_1=function(a){return a.length},qn.prototype.collectionSize_29=function(a){return this.collectionSize_1(a!=null&&Md(a)?a:$e())},qn.prototype.collectionIterator_2=function(a){return Ag(a)},qn.prototype.collectionIterator_14=function(a){return this.collectionIterator_2(a!=null&&Md(a)?a:$e())},qn.prototype.builder_16=function(){return Qn()},qn.prototype.builderSize_2=function(a){return a._get_size__29()},qn.prototype.builderSize_14=function(a){return this.builderSize_2(a instanceof Bi?a:$e())},qn.prototype.toResult_2=function(a){return p=a,this._kClass_0,fi(p);var p},qn.prototype.toResult_14=function(a){return this.toResult_2(a instanceof Bi?a:$e())},qn.prototype.toBuilder_2=function(a){return cl(Ov(a))},qn.prototype.toBuilder_30=function(a){return this.toBuilder_2(a!=null&&Md(a)?a:$e())},qn.prototype.checkCapacity_2=function(a,p){return a.ensureCapacity_8(p)},qn.prototype.checkCapacity_14=function(a,p){return this.checkCapacity_2(a instanceof Bi?a:$e(),p)},qn.prototype.insert_1=function(a,p,E){a.add_9(p,E)},qn.prototype.insert_8=function(a,p,E){var T=a instanceof Bi?a:$e();return this.insert_1(T,p,E==null||yn(E)?E:$e())},qn.$metadata$={simpleName:"ReferenceArraySerializer",kind:"class",interfaces:[]},Vn.prototype._get_descriptor__66=function(){return this._descriptor_2},Vn.prototype.collectionSize_3=function(a){return a._get_size__29()},Vn.prototype.collectionSize_29=function(a){return this.collectionSize_3(a!=null&&ir(a,pl)?a:$e())},Vn.prototype.collectionIterator_4=function(a){return a.iterator_39()},Vn.prototype.collectionIterator_14=function(a){return this.collectionIterator_4(a!=null&&ir(a,pl)?a:$e())},Vn.prototype.builder_16=function(){return Qn()},Vn.prototype.builderSize_4=function(a){return a._get_size__29()},Vn.prototype.builderSize_14=function(a){return this.builderSize_4(a instanceof Bi?a:$e())},Vn.prototype.toResult_4=function(a){return a},Vn.prototype.toResult_14=function(a){return this.toResult_4(a instanceof Bi?a:$e())},Vn.prototype.toBuilder_4=function(a){var p=a instanceof Bi?a:null;return p==null?cl(a):p},Vn.prototype.toBuilder_30=function(a){return this.toBuilder_4(a!=null&&ir(a,pl)?a:$e())},Vn.prototype.checkCapacity_4=function(a,p){return a.ensureCapacity_8(p)},Vn.prototype.checkCapacity_14=function(a,p){return this.checkCapacity_4(a instanceof Bi?a:$e(),p)},Vn.prototype.insert_3=function(a,p,E){a.add_9(p,E)},Vn.prototype.insert_8=function(a,p,E){var T=a instanceof Bi?a:$e();return this.insert_3(T,p,E==null||yn(E)?E:$e())},Vn.$metadata$={simpleName:"ArrayListSerializer",kind:"class",interfaces:[]},js.prototype._get_descriptor__66=function(){return this._descriptor_3},js.prototype.collectionSize_12=function(a){return a._get_size__29()},js.prototype.collectionSize_29=function(a){return this.collectionSize_12(a!=null&&ir(a,Ks)?a:$e())},js.prototype.collectionIterator_13=function(a){return a._get_entries__5().iterator_39()},js.prototype.collectionIterator_14=function(a){return this.collectionIterator_13(a!=null&&ir(a,Ks)?a:$e())},js.prototype.builder_16=function(){return ep()},js.prototype.builderSize_6=function(a){return a._get_size__29()},js.prototype.builderSize_14=function(a){return this.builderSize_6(a instanceof go?a:$e())},js.prototype.toResult_6=function(a){return a},js.prototype.toResult_14=function(a){return this.toResult_6(a instanceof go?a:$e())},js.prototype.toBuilder_13=function(a){var p=a instanceof go?a:null;return p==null?function(E,T){return oh(T),go.call(T),T._map_0=Hl(),T.putAll_1(E),T}(a,Object.create(go.prototype)):p},js.prototype.toBuilder_30=function(a){return this.toBuilder_13(a!=null&&ir(a,Ks)?a:$e())},js.prototype.checkCapacity_6=function(a,p){},js.prototype.checkCapacity_14=function(a,p){return this.checkCapacity_6(a instanceof go?a:$e(),p)},js.$metadata$={simpleName:"LinkedHashMapSerializer",kind:"class",interfaces:[]},Mp.prototype.readAll_5=function(a,p,E,T){if(!(T>=0))throw Sn(Sr("Size must be known in advance when using READ_ALL"));var D=function(Ue,Ve){return function(Ke,tt){if(!Ke)throw Sn("Step must be positive, was: "+tt+".")}(Ve>0,Ve),$().fromClosedRange(Ue._first_1,Ue._last,Ue._step_0>0?Ve:0|-Ve)}(ne(0,sr(T,2)),2),W=D._first_1,re=D._last,ce=D._step_0;if(ce>0&&W<=re||ce<0&&re<=W)do{var Fe=W;W=W+ce|0,this.readElement_24(a,E+Fe|0,p,!1)}while(Fe!==re)},Mp.prototype.readElement_24=function(a,p,E,T){var D,W=this._get_descriptor__66(),re=a.decodeSerializableElement$default_9(W,p,this._keySerializer,null,8,null);if(T){var ce=a.decodeElementIndex_9(this._get_descriptor__66());if(ce!==(p+1|0))throw Sn(Sr("Value must follow key in a map, index for key: "+p+", returned index for value: "+ce));D=ce}else D=p+1|0;var Fe,Ue=D;if(!E.containsKey_8(re)||this._valueSerializer._get_descriptor__66()._get_kind__17()instanceof fo){var Ve=this._get_descriptor__66();Fe=a.decodeSerializableElement$default_9(Ve,Ue,this._valueSerializer,null,8,null)}else Fe=a.decodeSerializableElement_9(this._get_descriptor__66(),Ue,this._valueSerializer,Vl(E,re));var Ke=Fe;E.put_4(re,Ke),fe()},Mp.prototype.serialize_12=function(a,p){for(var E=this.collectionSize_29(p),T=a.beginCollection_3(this._get_descriptor__66(),E),D=0,W=this.collectionIterator_14(p);W.hasNext_14();){var re=W.next_14(),ce=re._get_key__3(),Fe=re._get_value__15(),Ue=this._get_descriptor__66(),Ve=D;D=Ve+1|0,T.encodeSerializableElement_3(Ue,Ve,this._keySerializer,ce);var Ke=this._get_descriptor__66(),tt=D;D=tt+1|0,T.encodeSerializableElement_3(Ke,tt,this._valueSerializer,Fe)}T.endStructure_14(this._get_descriptor__66())},Mp.prototype.serialize_107=function(a,p){return this.serialize_12(a,p==null||yn(p)?p:$e())},Mp.$metadata$={simpleName:"MapLikeSerializer",kind:"class",interfaces:[]},nu.prototype._get_descriptor__66=function(){return this._descriptor_4},nu.prototype.collectionSize_10=function(a){return a._get_size__29()},nu.prototype.collectionSize_29=function(a){return this.collectionSize_10(a!=null&&ir(a,af)?a:$e())},nu.prototype.collectionIterator_11=function(a){return a.iterator_39()},nu.prototype.collectionIterator_14=function(a){return this.collectionIterator_11(a!=null&&ir(a,af)?a:$e())},nu.prototype.builder_16=function(){return Ep()},nu.prototype.builderSize_9=function(a){return a._get_size__29()},nu.prototype.builderSize_14=function(a){return this.builderSize_9(a instanceof In?a:$e())},nu.prototype.toResult_9=function(a){return a},nu.prototype.toResult_14=function(a){return this.toResult_9(a instanceof In?a:$e())},nu.prototype.toBuilder_11=function(a){var p=a instanceof In?a:null;return p==null?function(E){return function(T,D){return na.call(D),In.call(D),D._map=Of(T._get_size__29()),D.addAll_10(T),fe(),D}(E,Object.create(In.prototype))}(a):p},nu.prototype.toBuilder_30=function(a){return this.toBuilder_11(a!=null&&ir(a,af)?a:$e())},nu.prototype.checkCapacity_9=function(a,p){},nu.prototype.checkCapacity_14=function(a,p){return this.checkCapacity_9(a instanceof In?a:$e(),p)},nu.prototype.insert_5=function(a,p,E){a.add_18(E),fe()},nu.prototype.insert_8=function(a,p,E){var T=a instanceof In?a:$e();return this.insert_5(T,p,E==null||yn(E)?E:$e())},nu.$metadata$={simpleName:"HashSetSerializer",kind:"class",interfaces:[]},Li.prototype._get_descriptor__66=function(){return this._descriptor_5},Li.prototype.collectionSize_10=function(a){return a._get_size__29()},Li.prototype.collectionSize_29=function(a){return this.collectionSize_10(a!=null&&ir(a,af)?a:$e())},Li.prototype.collectionIterator_11=function(a){return a.iterator_39()},Li.prototype.collectionIterator_14=function(a){return this.collectionIterator_11(a!=null&&ir(a,af)?a:$e())},Li.prototype.builder_16=function(){return a=Object.create(Jl.prototype),ah(ep(),a),Jl.call(a),a;var a},Li.prototype.builderSize_11=function(a){return a._get_size__29()},Li.prototype.builderSize_14=function(a){return this.builderSize_11(a instanceof Jl?a:$e())},Li.prototype.toResult_11=function(a){return a},Li.prototype.toResult_14=function(a){return this.toResult_11(a instanceof Jl?a:$e())},Li.prototype.toBuilder_11=function(a){var p=a instanceof Jl?a:null;return p==null?function(E){return function(T,D){return ah(ep(),D),Jl.call(D),D.addAll_10(T),fe(),D}(E,Object.create(Jl.prototype))}(a):p},Li.prototype.toBuilder_30=function(a){return this.toBuilder_11(a!=null&&ir(a,af)?a:$e())},Li.prototype.checkCapacity_11=function(a,p){},Li.prototype.checkCapacity_14=function(a,p){return this.checkCapacity_11(a instanceof Jl?a:$e(),p)},Li.prototype.insert_7=function(a,p,E){a.add_18(E),fe()},Li.prototype.insert_8=function(a,p,E){var T=a instanceof Jl?a:$e();return this.insert_7(T,p,E==null||yn(E)?E:$e())},Li.$metadata$={simpleName:"LinkedHashSetSerializer",kind:"class",interfaces:[]},rs.prototype._get_descriptor__66=function(){return this._descriptor_6},rs.prototype.collectionSize_12=function(a){return a._get_size__29()},rs.prototype.collectionSize_29=function(a){return this.collectionSize_12(a!=null&&ir(a,Ks)?a:$e())},rs.prototype.collectionIterator_13=function(a){return a._get_entries__5().iterator_39()},rs.prototype.collectionIterator_14=function(a){return this.collectionIterator_13(a!=null&&ir(a,Ks)?a:$e())},rs.prototype.builder_16=function(){return Hl()},rs.prototype.builderSize_13=function(a){return a._get_size__29()},rs.prototype.builderSize_14=function(a){return this.builderSize_13(a instanceof $i?a:$e())},rs.prototype.toResult_13=function(a){return a},rs.prototype.toResult_14=function(a){return this.toResult_13(a instanceof $i?a:$e())},rs.prototype.toBuilder_13=function(a){var p=a instanceof $i?a:null;return p==null?function(E,T){return oh(T),T.putAll_1(E),T}(a,Object.create($i.prototype)):p},rs.prototype.toBuilder_30=function(a){return this.toBuilder_13(a!=null&&ir(a,Ks)?a:$e())},rs.prototype.checkCapacity_13=function(a,p){},rs.prototype.checkCapacity_14=function(a,p){return this.checkCapacity_13(a instanceof $i?a:$e(),p)},rs.$metadata$={simpleName:"HashMapSerializer",kind:"class",interfaces:[]},k1.prototype.invoke_94=function(a){for(var p=this._this$0_10._values_0,E=0,T=p.length;E<T;){var D=p[E];E=E+1|0;var W=jr(this._$serialName+"."+D._name,P_(),[],null,12);a.element$default(D._name,W,null,!1,12,null)}},k1.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},k1.$metadata$={kind:"class",interfaces:[]},Vc.prototype._get_descriptor__66=function(){return this._descriptor_7},Vc.prototype.serialize_107=function(a,p){var E,T,D=P(this._values_0,p);if(D===-1)throw xe(p+" is not a valid enum "+this._descriptor_7._get_serialName__17()+", must be one of "+((T=(E=this._values_0)==null?null:C(E,", ","[","]",0,null,null,56))==null?"null":T));a.encodeEnum_3(this._descriptor_7,D)},Vc.prototype.deserialize_70=function(a){var p=a.decodeEnum_9(this._descriptor_7);if(!(0<=p&&p<=(this._values_0.length-1|0)))throw xe(p+" is not among valid "+this._descriptor_7._get_serialName__17()+" enum values, values size is "+this._values_0.length);return this._values_0[p]},Vc.prototype.toString=function(){return"kotlinx.serialization.internal.EnumSerializer<"+this._descriptor_7._get_serialName__17()+">"},Vc.$metadata$={simpleName:"EnumSerializer",kind:"class",interfaces:[Pr]},hh.prototype._get_isInline__17=function(){return this._isInline},hh.prototype.hashCode=function(){return sr(Ko.prototype.hashCode.call(this),31)},hh.prototype.equals=function(a){var p;e:do{if(this===a){p=!0;break e}if(!(a instanceof hh)){p=!1;break e}if(this._get_serialName__17()!==a._get_serialName__17()){p=!1;break e}var E=a;if(!E._isInline||!y_(this._get_typeParameterDescriptors__0(),E._get_typeParameterDescriptors__0())){p=!1;break e}if(this._get_elementsCount__17()!==a._get_elementsCount__17()){p=!1;break e}var T=0,D=this._get_elementsCount__17();if(T<D)do{var W=T;if(T=T+1|0,this.getElementDescriptor_17(W)._get_serialName__17()!==a.getElementDescriptor_17(W)._get_serialName__17()){p=!1;break e}if(!hr(this.getElementDescriptor_17(W)._get_kind__17(),a.getElementDescriptor_17(W)._get_kind__17())){p=!1;break e}}while(T<D);p=!0}while(0);return p},hh.$metadata$={simpleName:"InlineClassDescriptor",kind:"class",interfaces:[]},td.prototype.childSerializers_15=function(){return[this._$primitiveSerializer]},td.prototype._get_descriptor__66=function(){throw no(Sr("unsupported"))},td.prototype.serialize_107=function(a,p){throw no(Sr("unsupported"))},td.prototype.deserialize_70=function(a){throw no(Sr("unsupported"))},td.$metadata$={kind:"class",interfaces:[eo]},Gc.prototype._get_descriptor__66=function(){return this._descriptor_8},Gc.prototype.serialize_19=function(a,p){var E=a.encodeInline_3(this._descriptor_8);E==null||(E.encodeInt_3(p),fe()),fe()},Gc.prototype.serialize_107=function(a,p){return this.serialize_19(a,p instanceof zu?p._data_0:$e())},Gc.prototype.deserialize_15=function(a){return a.decodeInline_9(this._descriptor_8).decodeInt_9()},Gc.prototype.deserialize_70=function(a){return new zu(this.deserialize_15(a))},Gc.$metadata$={simpleName:"UIntSerializer",kind:"object",interfaces:[Pr]},rd.prototype._get_descriptor__66=function(){return this._descriptor_9},rd.prototype.serialize_21=function(a,p){var E=a.encodeInline_3(this._descriptor_9);E==null||(E.encodeLong_3(p),fe()),fe()},rd.prototype.serialize_107=function(a,p){return this.serialize_21(a,p instanceof l?p._data_1:$e())},rd.prototype.deserialize_17=function(a){return a.decodeInline_9(this._descriptor_9).decodeLong_9()},rd.prototype.deserialize_70=function(a){return new l(this.deserialize_17(a))},rd.$metadata$={simpleName:"ULongSerializer",kind:"object",interfaces:[Pr]},dh.prototype._get_descriptor__66=function(){return this._descriptor_10},dh.prototype.serialize_23=function(a,p){var E=a.encodeInline_3(this._descriptor_10);E==null||(E.encodeByte_3(p),fe()),fe()},dh.prototype.serialize_107=function(a,p){return this.serialize_23(a,p instanceof hu?p._data:$e())},dh.prototype.deserialize_19=function(a){return a.decodeInline_9(this._descriptor_10).decodeByte_9()},dh.prototype.deserialize_70=function(a){return new hu(this.deserialize_19(a))},dh.$metadata$={simpleName:"UByteSerializer",kind:"object",interfaces:[Pr]},nd.prototype._get_descriptor__66=function(){return this._descriptor_11},nd.prototype.serialize_25=function(a,p){var E=a.encodeInline_3(this._descriptor_11);E==null||(E.encodeShort_3(p),fe()),fe()},nd.prototype.serialize_107=function(a,p){return this.serialize_25(a,p instanceof x?p._data_2:$e())},nd.prototype.deserialize_21=function(a){return a.decodeInline_9(this._descriptor_11).decodeShort_9()},nd.prototype.deserialize_70=function(a){return new x(this.deserialize_21(a))},nd.$metadata$={simpleName:"UShortSerializer",kind:"object",interfaces:[Pr]},Ta.prototype._get_descriptor__66=function(){return this._descriptor_12},Ta.prototype.serialize_27=function(a,p){p!=null?(a.encodeNotNullMark_3(),a.encodeSerializableValue_3(this._serializer,p)):a.encodeNull_3()},Ta.prototype.serialize_107=function(a,p){return this.serialize_27(a,p==null||yn(p)?p:$e())},Ta.prototype.deserialize_70=function(a){return a.decodeNotNullMark_9()?a.decodeSerializableValue_18(this._serializer):a.decodeNull_9()},Ta.prototype.equals=function(a){return this===a||!(a==null||!Su(this).equals(Su(a)))&&(a instanceof Ta||$e(),fe(),!!hr(this._serializer,a._serializer))},Ta.prototype.hashCode=function(){return Ui(this._serializer)},Ta.$metadata$={simpleName:"NullableSerializer",kind:"class",interfaces:[Pr]},bc.prototype.getElementAnnotations_17=function(a){return this._original_0.getElementAnnotations_17(a)},bc.prototype.getElementDescriptor_17=function(a){return this._original_0.getElementDescriptor_17(a)},bc.prototype.getElementIndex_17=function(a){return this._original_0.getElementIndex_17(a)},bc.prototype.getElementName_17=function(a){return this._original_0.getElementName_17(a)},bc.prototype._get_elementsCount__17=function(){return this._original_0._get_elementsCount__17()},bc.prototype._get_isInline__17=function(){return this._original_0._get_isInline__17()},bc.prototype._get_kind__17=function(){return this._original_0._get_kind__17()},bc.prototype._get_serialName__17=function(){return this._serialName_4},bc.prototype._get_serialNames__3=function(){return this._serialNames_0},bc.prototype._get_isNullable__17=function(){return!0},bc.prototype.equals=function(a){return this===a||a instanceof bc&&!!hr(this._original_0,a._original_0)},bc.prototype.toString=function(){return this._original_0+"?"},bc.prototype.hashCode=function(){return sr(Ui(this._original_0),31)},bc.$metadata$={simpleName:"SerialDescriptorForNullable",kind:"class",interfaces:[Ir,I_]},Fd.prototype._get_descriptor__66=function(){return this._descriptor_13},Fd.prototype.serialize_107=function(a,p){a.beginStructure_14(this._descriptor_13).endStructure_14(this._descriptor_13)},Fd.prototype.deserialize_70=function(a){return a.beginStructure_14(this._descriptor_13).endStructure_14(this._descriptor_13),this._objectInstance},Fd.$metadata$={simpleName:"ObjectSerializer",kind:"class",interfaces:[Pr]},Xg.prototype.invoke_97=function(){var a=this._this$0_11._generatedSerializer,p=a==null?null:a.childSerializers_15();return p==null?[]:p},Xg.$metadata$={kind:"class",interfaces:[]},L1.prototype.invoke_97=function(){var a,p=this._this$0_12._generatedSerializer,E=p==null?null:p.typeParametersSerializers_15();if(E==null)a=null;else{for(var T=ia(E.length),D=Ag(E);D.hasNext_14();){var W=D.next_14();T.add_18(W._get_descriptor__66()),fe()}a=T}return T1(a)},L1.$metadata$={kind:"class",interfaces:[]},Rp.prototype.invoke_97=function(){return tw(this._this$0_13,this._this$0_13._get_typeParameterDescriptors__0())},Rp.$metadata$={kind:"class",interfaces:[]},N1.prototype.invoke_102=function(a){return this._this$0_14.getElementName_17(a)+": "+this._this$0_14.getElementDescriptor_17(a)._get_serialName__17()},N1.prototype.invoke_103=function(a){return this.invoke_102(a!=null&&typeof a=="number"?a:$e())},N1.$metadata$={kind:"class",interfaces:[]},Ko.prototype._get_serialName__17=function(){return this._serialName_5},Ko.prototype._get_elementsCount__17=function(){return this._elementsCount_2},Ko.prototype._get_kind__17=function(){return op()},Ko.prototype._get_serialNames__3=function(){return this._indices._get_keys__5()},Ko.prototype._get_typeParameterDescriptors__0=function(){var a=this._typeParameterDescriptors$delegate;return zg("typeParameterDescriptors",1,xg,function(p){return p._get_typeParameterDescriptors__0()},null),a._get_value__15()},Ko.prototype.addElement_0=function(a,p){var E=this;E._added=E._added+1|0,this._names[E._added]=a,this._elementsOptionality[this._added]=p,this._propertiesAnnotations[this._added]=null,this._added===(this._elementsCount_2-1|0)&&(this._indices=function(T){var D=Hl(),W=0,re=T._names.length-1|0;if(W<=re)do{var ce=W;W=W+1|0;var Fe=T._names[ce];D.put_4(Fe,ce),fe()}while(W<=re);return D}(this))},Ko.prototype.getElementDescriptor_17=function(a){return z1(rw(this),a)._get_descriptor__66()},Ko.prototype.getElementAnnotations_17=function(a){var p=z1(this._propertiesAnnotations,a);return p==null?An():p},Ko.prototype.getElementName_17=function(a){return z1(this._names,a)},Ko.prototype.getElementIndex_17=function(a){var p,E=this._indices.get_17(a);return E==null?(Iu(),p=-3):p=E,p},Ko.prototype.equals=function(a){var p;e:do{if(this===a){p=!0;break e}if(!(a instanceof Ko)){p=!1;break e}if(this._get_serialName__17()!==a._get_serialName__17()){p=!1;break e}var E=a;if(!y_(this._get_typeParameterDescriptors__0(),E._get_typeParameterDescriptors__0())){p=!1;break e}if(this._get_elementsCount__17()!==a._get_elementsCount__17()){p=!1;break e}var T=0,D=this._get_elementsCount__17();if(T<D)do{var W=T;if(T=T+1|0,this.getElementDescriptor_17(W)._get_serialName__17()!==a.getElementDescriptor_17(W)._get_serialName__17()){p=!1;break e}if(!hr(this.getElementDescriptor_17(W)._get_kind__17(),a.getElementDescriptor_17(W)._get_kind__17())){p=!1;break e}}while(T<D);p=!0}while(0);return p},Ko.prototype.hashCode=function(){return cf(this)},Ko.prototype.toString=function(){var a;return F(ne(0,this._elementsCount_2),", ",this._get_serialName__17()+"(",")",0,null,(a=new N1(this),function(p){return a.invoke_102(p)}),24)},Ko.$metadata$={simpleName:"PluginGeneratedSerialDescriptor",kind:"class",interfaces:[Ir,I_]},eo.prototype.typeParametersSerializers_15=function(){return cr},eo.$metadata$={simpleName:"GeneratedSerializer",kind:"interface",interfaces:[Pr]},Cm.$metadata$={simpleName:"SerializerFactory",kind:"interface",interfaces:[]},Ll.prototype.collectionSize_14=function(a){return a.length},Ll.prototype.collectionSize_29=function(a){return this.collectionSize_14(a!=null&&jg(a)?a:$e())},Ll.prototype.toBuilder_15=function(a){return new Dp(a)},Ll.prototype.toBuilder_30=function(a){return this.toBuilder_15(a!=null&&jg(a)?a:$e())},Ll.prototype.empty_7=function(){return xa(0)},Ll.prototype.readElement_9=function(a,p,E,T){E.append_15(a.decodeCharElement_9(this._get_descriptor__66(),p))},Ll.prototype.readElement_24=function(a,p,E,T){return this.readElement_9(a,p,E instanceof Dp?E:$e(),T)},Ll.prototype.writeContent_0=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeCharElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},Ll.prototype.writeContent_15=function(a,p,E){return this.writeContent_0(a,p!=null&&jg(p)?p:$e(),E)},Ll.$metadata$={simpleName:"CharArraySerializer",kind:"object",interfaces:[Pr]},Nl.prototype.collectionSize_16=function(a){return a.length},Nl.prototype.collectionSize_29=function(a){return this.collectionSize_16(a!=null&&Cv(a)?a:$e())},Nl.prototype.toBuilder_17=function(a){return new ic(a)},Nl.prototype.toBuilder_30=function(a){return this.toBuilder_17(a!=null&&Cv(a)?a:$e())},Nl.prototype.empty_7=function(){return new Float64Array(0)},Nl.prototype.readElement_11=function(a,p,E,T){E.append_7(a.decodeDoubleElement_9(this._get_descriptor__66(),p))},Nl.prototype.readElement_24=function(a,p,E,T){return this.readElement_11(a,p,E instanceof ic?E:$e(),T)},Nl.prototype.writeContent_2=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeDoubleElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},Nl.prototype.writeContent_15=function(a,p,E){return this.writeContent_2(a,p!=null&&Cv(p)?p:$e(),E)},Nl.$metadata$={simpleName:"DoubleArraySerializer",kind:"object",interfaces:[Pr]},Ml.prototype.collectionSize_18=function(a){return a.length},Ml.prototype.collectionSize_29=function(a){return this.collectionSize_18(a!=null&&Pv(a)?a:$e())},Ml.prototype.toBuilder_19=function(a){return new _h(a)},Ml.prototype.toBuilder_30=function(a){return this.toBuilder_19(a!=null&&Pv(a)?a:$e())},Ml.prototype.empty_7=function(){return new Float32Array(0)},Ml.prototype.readElement_13=function(a,p,E,T){E.append_8(a.decodeFloatElement_9(this._get_descriptor__66(),p))},Ml.prototype.readElement_24=function(a,p,E,T){return this.readElement_13(a,p,E instanceof _h?E:$e(),T)},Ml.prototype.writeContent_4=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeFloatElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},Ml.prototype.writeContent_15=function(a,p,E){return this.writeContent_4(a,p!=null&&Pv(p)?p:$e(),E)},Ml.$metadata$={simpleName:"FloatArraySerializer",kind:"object",interfaces:[Pr]},ff.prototype.collectionSize_20=function(a){return a.length},ff.prototype.collectionSize_29=function(a){return this.collectionSize_20(a!=null&&Iv(a)?a:$e())},ff.prototype.toBuilder_21=function(a){return new zp(a)},ff.prototype.toBuilder_30=function(a){return this.toBuilder_21(a!=null&&Iv(a)?a:$e())},ff.prototype.empty_7=function(){return(a=Vh(Array(0),new kr(0,0))).$type$="LongArray",a;var a},ff.prototype.readElement_15=function(a,p,E,T){E.append_14(a.decodeLongElement_9(this._get_descriptor__66(),p))},ff.prototype.readElement_24=function(a,p,E,T){return this.readElement_15(a,p,E instanceof zp?E:$e(),T)},ff.prototype.writeContent_6=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeLongElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},ff.prototype.writeContent_15=function(a,p,E){return this.writeContent_6(a,p!=null&&Iv(p)?p:$e(),E)},ff.$metadata$={simpleName:"LongArraySerializer",kind:"object",interfaces:[Pr]},pf.prototype.collectionSize_22=function(a){return a.length},pf.prototype.collectionSize_29=function(a){return this.collectionSize_22(a!=null&&Bg(a)?a:$e())},pf.prototype.toBuilder_23=function(a){return new Fp(a)},pf.prototype.toBuilder_30=function(a){return this.toBuilder_23(a!=null&&Bg(a)?a:$e())},pf.prototype.empty_7=function(){return new Int32Array(0)},pf.prototype.readElement_17=function(a,p,E,T){E.append_10(a.decodeIntElement_9(this._get_descriptor__66(),p))},pf.prototype.readElement_24=function(a,p,E,T){return this.readElement_17(a,p,E instanceof Fp?E:$e(),T)},pf.prototype.writeContent_8=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeIntElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},pf.prototype.writeContent_15=function(a,p,E){return this.writeContent_8(a,p!=null&&Bg(p)?p:$e(),E)},pf.$metadata$={simpleName:"IntArraySerializer",kind:"object",interfaces:[Pr]},hf.prototype.collectionSize_24=function(a){return a.length},hf.prototype.collectionSize_29=function(a){return this.collectionSize_24(a!=null&&Sm(a)?a:$e())},hf.prototype.toBuilder_25=function(a){return new mh(a)},hf.prototype.toBuilder_30=function(a){return this.toBuilder_25(a!=null&&Sm(a)?a:$e())},hf.prototype.empty_7=function(){return new Int16Array(0)},hf.prototype.readElement_19=function(a,p,E,T){E.append_11(a.decodeShortElement_9(this._get_descriptor__66(),p))},hf.prototype.readElement_24=function(a,p,E,T){return this.readElement_19(a,p,E instanceof mh?E:$e(),T)},hf.prototype.writeContent_10=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeShortElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},hf.prototype.writeContent_15=function(a,p,E){return this.writeContent_10(a,p!=null&&Sm(p)?p:$e(),E)},hf.$metadata$={simpleName:"ShortArraySerializer",kind:"object",interfaces:[Pr]},df.prototype.collectionSize_26=function(a){return a.length},df.prototype.collectionSize_29=function(a){return this.collectionSize_26(a!=null&&Fg(a)?a:$e())},df.prototype.toBuilder_27=function(a){return new jp(a)},df.prototype.toBuilder_30=function(a){return this.toBuilder_27(a!=null&&Fg(a)?a:$e())},df.prototype.empty_7=function(){return new Int8Array(0)},df.prototype.readElement_21=function(a,p,E,T){E.append_12(a.decodeByteElement_9(this._get_descriptor__66(),p))},df.prototype.readElement_24=function(a,p,E,T){return this.readElement_21(a,p,E instanceof jp?E:$e(),T)},df.prototype.writeContent_12=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeByteElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},df.prototype.writeContent_15=function(a,p,E){return this.writeContent_12(a,p!=null&&Fg(p)?p:$e(),E)},df.$metadata$={simpleName:"ByteArraySerializer",kind:"object",interfaces:[Pr]},Wc.prototype.collectionSize_28=function(a){return a.length},Wc.prototype.collectionSize_29=function(a){return this.collectionSize_28(a!=null&&wm(a)?a:$e())},Wc.prototype.toBuilder_29=function(a){return new gh(a)},Wc.prototype.toBuilder_30=function(a){return this.toBuilder_29(a!=null&&wm(a)?a:$e())},Wc.prototype.empty_7=function(){return Og(0)},Wc.prototype.readElement_23=function(a,p,E,T){E.append_13(a.decodeBooleanElement_9(this._get_descriptor__66(),p))},Wc.prototype.readElement_24=function(a,p,E,T){return this.readElement_23(a,p,E instanceof gh?E:$e(),T)},Wc.prototype.writeContent_14=function(a,p,E){var T=0;if(T<E)do{var D=T;T=T+1|0,a.encodeBooleanElement_3(this._get_descriptor__66(),D,p[D])}while(T<E)},Wc.prototype.writeContent_15=function(a,p,E){return this.writeContent_14(a,p!=null&&wm(p)?p:$e(),E)},Wc.$metadata$={simpleName:"BooleanArraySerializer",kind:"object",interfaces:[Pr]},Dp.prototype._get_position__7=function(){return this._position},Dp.prototype.ensureCapacity_8=function(a){this._buffer.length<a&&(this._buffer=Av(this._buffer,ee(a,sr(this._buffer.length,2))))},Dp.prototype.append_15=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer,E=this._position;this._position=E+1|0,p[E]=a},Dp.prototype.build_8=function(){return Av(this._buffer,this._position)},Dp.$metadata$={simpleName:"CharArrayBuilder",kind:"class",interfaces:[]},ic.prototype._get_position__7=function(){return this._position_0},ic.prototype.ensureCapacity_8=function(a){this._buffer_0.length<a&&(this._buffer_0=E1(this._buffer_0,ee(a,sr(this._buffer_0.length,2))))},ic.prototype.append_7=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer_0,E=this._position_0;this._position_0=E+1|0,p[E]=a},ic.prototype.build_8=function(){return E1(this._buffer_0,this._position_0)},ic.$metadata$={simpleName:"DoubleArrayBuilder",kind:"class",interfaces:[]},_h.prototype._get_position__7=function(){return this._position_1},_h.prototype.ensureCapacity_8=function(a){this._buffer_1.length<a&&(this._buffer_1=D2(this._buffer_1,ee(a,sr(this._buffer_1.length,2))))},_h.prototype.append_8=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer_1,E=this._position_1;this._position_1=E+1|0,p[E]=a},_h.prototype.build_8=function(){return D2(this._buffer_1,this._position_1)},_h.$metadata$={simpleName:"FloatArrayBuilder",kind:"class",interfaces:[]},zp.prototype._get_position__7=function(){return this._position_2},zp.prototype.ensureCapacity_8=function(a){this._buffer_2.length<a&&(this._buffer_2=Em(this._buffer_2,ee(a,sr(this._buffer_2.length,2))))},zp.prototype.append_14=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer_2,E=this._position_2;this._position_2=E+1|0,p[E]=a},zp.prototype.build_8=function(){return Em(this._buffer_2,this._position_2)},zp.$metadata$={simpleName:"LongArrayBuilder",kind:"class",interfaces:[]},Fp.prototype._get_position__7=function(){return this._position_3},Fp.prototype.ensureCapacity_8=function(a){this._buffer_3.length<a&&(this._buffer_3=$g(this._buffer_3,ee(a,sr(this._buffer_3.length,2))))},Fp.prototype.append_10=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer_3,E=this._position_3;this._position_3=E+1|0,p[E]=a},Fp.prototype.build_8=function(){return $g(this._buffer_3,this._position_3)},Fp.$metadata$={simpleName:"IntArrayBuilder",kind:"class",interfaces:[]},mh.prototype._get_position__7=function(){return this._position_4},mh.prototype.ensureCapacity_8=function(a){this._buffer_4.length<a&&(this._buffer_4=oa(this._buffer_4,ee(a,sr(this._buffer_4.length,2))))},mh.prototype.append_11=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer_4,E=this._position_4;this._position_4=E+1|0,p[E]=a},mh.prototype.build_8=function(){return oa(this._buffer_4,this._position_4)},mh.$metadata$={simpleName:"ShortArrayBuilder",kind:"class",interfaces:[]},jp.prototype._get_position__7=function(){return this._position_5},jp.prototype.ensureCapacity_8=function(a){this._buffer_5.length<a&&(this._buffer_5=z2(this._buffer_5,ee(a,sr(this._buffer_5.length,2))))},jp.prototype.append_12=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer_5,E=this._position_5;this._position_5=E+1|0,p[E]=a},jp.prototype.build_8=function(){return z2(this._buffer_5,this._position_5)},jp.$metadata$={simpleName:"ByteArrayBuilder",kind:"class",interfaces:[]},gh.prototype._get_position__7=function(){return this._position_6},gh.prototype.ensureCapacity_8=function(a){this._buffer_6.length<a&&(this._buffer_6=P1(this._buffer_6,ee(a,sr(this._buffer_6.length,2))))},gh.prototype.append_13=function(a){this.ensureCapacity$default_7(0,1,null);var p=this._buffer_6,E=this._position_6;this._position_6=E+1|0,p[E]=a},gh.prototype.build_8=function(){return P1(this._buffer_6,this._position_6)},gh.$metadata$={simpleName:"BooleanArrayBuilder",kind:"class",interfaces:[]},Am.prototype._get_descriptor__66=function(){return this._descriptor_14},Am.prototype.serialize_38=function(a,p){return a.encodeString_3(p)},Am.prototype.serialize_107=function(a,p){return this.serialize_38(a,p!=null&&typeof p=="string"?p:$e())},Am.prototype.deserialize_70=function(a){return a.decodeString_9()},Am.$metadata$={simpleName:"StringSerializer",kind:"object",interfaces:[Pr]},Om.prototype._get_descriptor__66=function(){return this._descriptor_15},Om.prototype.serialize_40=function(a,p){return a.encodeChar_3(p)},Om.prototype.serialize_107=function(a,p){return this.serialize_40(a,p instanceof Mt?p:$e())},Om.prototype.deserialize_70=function(a){return a.decodeChar_9()},Om.$metadata$={simpleName:"CharSerializer",kind:"object",interfaces:[Pr]},id.prototype._get_descriptor__66=function(){return this._descriptor_16},id.prototype.serialize_42=function(a,p){return a.encodeDouble_3(p)},id.prototype.serialize_107=function(a,p){return this.serialize_42(a,p!=null&&typeof p=="number"?p:$e())},id.prototype.deserialize_70=function(a){return a.decodeDouble_9()},id.$metadata$={simpleName:"DoubleSerializer",kind:"object",interfaces:[Pr]},jd.prototype._get_descriptor__66=function(){return this._descriptor_17},jd.prototype.serialize_44=function(a,p){return a.encodeFloat_3(p)},jd.prototype.serialize_107=function(a,p){return this.serialize_44(a,p!=null&&typeof p=="number"?p:$e())},jd.prototype.deserialize_70=function(a){return a.decodeFloat_9()},jd.$metadata$={simpleName:"FloatSerializer",kind:"object",interfaces:[Pr]},Yg.prototype._get_descriptor__66=function(){return this._descriptor_18},Yg.prototype.serialize_46=function(a,p){return a.encodeLong_3(p)},Yg.prototype.serialize_107=function(a,p){return this.serialize_46(a,p instanceof kr?p:$e())},Yg.prototype.deserialize_70=function(a){return a.decodeLong_9()},Yg.$metadata$={simpleName:"LongSerializer",kind:"object",interfaces:[Pr]},km.prototype._get_descriptor__66=function(){return this._descriptor_19},km.prototype.serialize_48=function(a,p){return a.encodeInt_3(p)},km.prototype.serialize_107=function(a,p){return this.serialize_48(a,p!=null&&typeof p=="number"?p:$e())},km.prototype.deserialize_70=function(a){return a.decodeInt_9()},km.$metadata$={simpleName:"IntSerializer",kind:"object",interfaces:[Pr]},Hg.prototype._get_descriptor__66=function(){return this._descriptor_20},Hg.prototype.serialize_50=function(a,p){return a.encodeShort_3(p)},Hg.prototype.serialize_107=function(a,p){return this.serialize_50(a,p!=null&&typeof p=="number"?p:$e())},Hg.prototype.deserialize_70=function(a){return a.decodeShort_9()},Hg.$metadata$={simpleName:"ShortSerializer",kind:"object",interfaces:[Pr]},Zg.prototype._get_descriptor__66=function(){return this._descriptor_21},Zg.prototype.serialize_52=function(a,p){return a.encodeByte_3(p)},Zg.prototype.serialize_107=function(a,p){return this.serialize_52(a,p!=null&&typeof p=="number"?p:$e())},Zg.prototype.deserialize_70=function(a){return a.decodeByte_9()},Zg.$metadata$={simpleName:"ByteSerializer",kind:"object",interfaces:[Pr]},Kg.prototype._get_descriptor__66=function(){return this._descriptor_22},Kg.prototype.serialize_54=function(a,p){return a.encodeBoolean_3(p)},Kg.prototype.serialize_107=function(a,p){return this.serialize_54(a,p!=null&&typeof p=="boolean"?p:$e())},Kg.prototype.deserialize_70=function(a){return a.decodeBoolean_9()},Kg.$metadata$={simpleName:"BooleanSerializer",kind:"object",interfaces:[Pr]},Lm.prototype.deserialize_42=function(a){this._$$delegate_0.deserialize_70(a)},Lm.prototype.deserialize_70=function(a){return this.deserialize_42(a),fe()},Lm.prototype.serialize_56=function(a,p){this._$$delegate_0.serialize_107(a,fe())},Lm.prototype.serialize_107=function(a,p){return this.serialize_56(a,p instanceof De?p:$e())},Lm.prototype._get_descriptor__66=function(){return this._$$delegate_0._descriptor_13},Lm.$metadata$={simpleName:"UnitSerializer",kind:"object",interfaces:[Pr]},Xu.prototype._get_serialName__17=function(){return this._serialName_6},Xu.prototype._get_kind__17=function(){return this._kind_0},Xu.prototype._get_elementsCount__17=function(){return 0},Xu.prototype.getElementName_17=function(a){M1()},Xu.prototype.getElementIndex_17=function(a){M1()},Xu.prototype.getElementDescriptor_17=function(a){M1()},Xu.prototype.getElementAnnotations_17=function(a){M1()},Xu.prototype.toString=function(){return"PrimitiveDescriptor("+this._serialName_6+")"},Xu.$metadata$={simpleName:"PrimitiveSerialDescriptor",kind:"class",interfaces:[Ir]},iu.prototype.getTag_5=function(a,p){return this.nested_4(this.elementName_4(a,p))},iu.prototype.nested_4=function(a){var p=this._get_currentTagOrNull__5();return this.composeName_4(p==null?"":p,a)},iu.prototype.elementName_4=function(a,p){return a.getElementName_17(p)},iu.prototype.composeName_4=function(a,p){return Js(a)===0?p:a+"."+p},iu.$metadata$={simpleName:"NamedValueDecoder",kind:"class",interfaces:[]},R1.prototype.invoke_97=function(){return this._this$0_15.decodeSerializableValue_19(this._$deserializer,this._$previousValue)},R1.$metadata$={kind:"class",interfaces:[]},Nm.prototype.invoke_97=function(){return this._this$0_16.decodeNotNullMark_9()?this._this$0_16.decodeSerializableValue_19(this._$deserializer_0,this._$previousValue_0):this._this$0_16.decodeNull_9()},Nm.$metadata$={kind:"class",interfaces:[]},Zn.prototype._get_serializersModule__18=function(){return ti},Zn.prototype.decodeTaggedValue_0=function(a){throw xe(Su(this)+" can't retrieve untyped values")},Zn.prototype.decodeTaggedNotNullMark_2=function(a){return!0},Zn.prototype.decodeTaggedBoolean_2=function(a){var p=this.decodeTaggedValue_0(a);return typeof p=="boolean"?p:$e()},Zn.prototype.decodeTaggedByte_2=function(a){var p=this.decodeTaggedValue_0(a);return typeof p=="number"?p:$e()},Zn.prototype.decodeTaggedShort_2=function(a){var p=this.decodeTaggedValue_0(a);return typeof p=="number"?p:$e()},Zn.prototype.decodeTaggedInt_2=function(a){var p=this.decodeTaggedValue_0(a);return typeof p=="number"?p:$e()},Zn.prototype.decodeTaggedLong_2=function(a){var p=this.decodeTaggedValue_0(a);return p instanceof kr?p:$e()},Zn.prototype.decodeTaggedFloat_2=function(a){var p=this.decodeTaggedValue_0(a);return typeof p=="number"?p:$e()},Zn.prototype.decodeTaggedDouble_2=function(a){var p=this.decodeTaggedValue_0(a);return typeof p=="number"?p:$e()},Zn.prototype.decodeTaggedChar_2=function(a){var p=this.decodeTaggedValue_0(a);return p instanceof Mt?p:$e()},Zn.prototype.decodeTaggedString_2=function(a){var p=this.decodeTaggedValue_0(a);return typeof p=="string"?p:$e()},Zn.prototype.decodeTaggedEnum_2=function(a,p){var E=this.decodeTaggedValue_0(a);return typeof E=="number"?E:$e()},Zn.prototype.decodeTaggedInline_2=function(a,p){return this.pushTag_0(a),this},Zn.prototype.decodeSerializableValue_19=function(a,p){return this.decodeSerializableValue_18(a)},Zn.prototype.decodeInline_9=function(a){return this.decodeTaggedInline_2(this.popTag_5(),a)},Zn.prototype.decodeNotNullMark_9=function(){var a=this._get_currentTagOrNull__5();if(a==null)return!1;var p=a;return this.decodeTaggedNotNullMark_2(p)},Zn.prototype.decodeNull_9=function(){return null},Zn.prototype.decodeBoolean_9=function(){return this.decodeTaggedBoolean_2(this.popTag_5())},Zn.prototype.decodeByte_9=function(){return this.decodeTaggedByte_2(this.popTag_5())},Zn.prototype.decodeShort_9=function(){return this.decodeTaggedShort_2(this.popTag_5())},Zn.prototype.decodeInt_9=function(){return this.decodeTaggedInt_2(this.popTag_5())},Zn.prototype.decodeLong_9=function(){return this.decodeTaggedLong_2(this.popTag_5())},Zn.prototype.decodeFloat_9=function(){return this.decodeTaggedFloat_2(this.popTag_5())},Zn.prototype.decodeDouble_9=function(){return this.decodeTaggedDouble_2(this.popTag_5())},Zn.prototype.decodeChar_9=function(){return this.decodeTaggedChar_2(this.popTag_5())},Zn.prototype.decodeString_9=function(){return this.decodeTaggedString_2(this.popTag_5())},Zn.prototype.decodeEnum_9=function(a){return this.decodeTaggedEnum_2(this.popTag_5(),a)},Zn.prototype.beginStructure_14=function(a){return this},Zn.prototype.endStructure_14=function(a){},Zn.prototype.decodeBooleanElement_9=function(a,p){return this.decodeTaggedBoolean_2(this.getTag_5(a,p))},Zn.prototype.decodeByteElement_9=function(a,p){return this.decodeTaggedByte_2(this.getTag_5(a,p))},Zn.prototype.decodeShortElement_9=function(a,p){return this.decodeTaggedShort_2(this.getTag_5(a,p))},Zn.prototype.decodeIntElement_9=function(a,p){return this.decodeTaggedInt_2(this.getTag_5(a,p))},Zn.prototype.decodeLongElement_9=function(a,p){return this.decodeTaggedLong_2(this.getTag_5(a,p))},Zn.prototype.decodeFloatElement_9=function(a,p){return this.decodeTaggedFloat_2(this.getTag_5(a,p))},Zn.prototype.decodeDoubleElement_9=function(a,p){return this.decodeTaggedDouble_2(this.getTag_5(a,p))},Zn.prototype.decodeCharElement_9=function(a,p){return this.decodeTaggedChar_2(this.getTag_5(a,p))},Zn.prototype.decodeStringElement_9=function(a,p){return this.decodeTaggedString_2(this.getTag_5(a,p))},Zn.prototype.decodeSerializableElement_9=function(a,p,E,T){var D;return Lv(this,this.getTag_5(a,p),(D=new R1(this,E,T),function(){return D.invoke_97()}))},Zn.prototype.decodeNullableSerializableElement_9=function(a,p,E,T){var D;return Lv(this,this.getTag_5(a,p),(D=new Nm(this,E,T),function(){return D.invoke_97()}))},Zn.prototype._get_currentTagOrNull__5=function(){return(a=this._tagStack).isEmpty_29()?null:a.get_29(a._get_size__29()-1|0);var a},Zn.prototype.pushTag_0=function(a){this._tagStack.add_18(a),fe()},Zn.prototype.popTag_5=function(){var a=this._tagStack.removeAt_2(fu(this._tagStack));return this._flag=!0,a},Zn.$metadata$={simpleName:"TaggedDecoder",kind:"class",interfaces:[nc,xi]},Mm.prototype._get_key__3=function(){return this._key_0},Mm.prototype._get_value__15=function(){return this._value_1},Mm.prototype.toString=function(){return"MapEntry(key="+this._key_0+", value="+this._value_1+")"},Mm.prototype.hashCode=function(){var a=this._key_0==null?0:Ui(this._key_0);return sr(a,31)+(this._value_1==null?0:Ui(this._value_1))|0},Mm.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Mm))return!1;var p=a instanceof Mm?a:$e();return!!hr(this._key_0,p._key_0)&&!!hr(this._value_1,p._value_1)},Mm.$metadata$={simpleName:"MapEntry",kind:"class",interfaces:[Fs]},B2.prototype.invoke_94=function(a){var p=this._$keySerializer._get_descriptor__66();a.element$default("key",p,null,!1,12,null);var E=this._$valueSerializer._get_descriptor__66();a.element$default("value",E,null,!1,12,null)},B2.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},B2.$metadata$={kind:"class",interfaces:[]},Bd.prototype._get_descriptor__66=function(){return this._descriptor_23},Bd.prototype._get_key__4=function(a){return a._get_key__3()},Bd.prototype._get_key__8=function(a){return this._get_key__4(a!=null&&ir(a,Fs)?a:$e())},Bd.prototype._get_value__6=function(a){return a._get_value__15()},Bd.prototype._get_value__10=function(a){return this._get_value__6(a!=null&&ir(a,Fs)?a:$e())},Bd.prototype.toResult_25=function(a,p){return new Mm(a,p)},Bd.$metadata$={simpleName:"MapEntrySerializer",kind:"class",interfaces:[]},$2.prototype.invoke_94=function(a){var p=this._$keySerializer_0._get_descriptor__66();a.element$default("first",p,null,!1,12,null);var E=this._$valueSerializer_0._get_descriptor__66();a.element$default("second",E,null,!1,12,null)},$2.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},$2.$metadata$={kind:"class",interfaces:[]},$d.prototype._get_descriptor__66=function(){return this._descriptor_24},$d.prototype._get_key__6=function(a){return a._first},$d.prototype._get_key__8=function(a){return this._get_key__6(a instanceof Rn?a:$e())},$d.prototype._get_value__8=function(a){return a._second},$d.prototype._get_value__10=function(a){return this._get_value__8(a instanceof Rn?a:$e())},$d.prototype.toResult_25=function(a,p){return ji(a,p)},$d.$metadata$={simpleName:"PairSerializer",kind:"class",interfaces:[]},U2.prototype.invoke_94=function(a){var p=this._this$0_17._aSerializer._get_descriptor__66();a.element$default("first",p,null,!1,12,null);var E=this._this$0_17._bSerializer._get_descriptor__66();a.element$default("second",E,null,!1,12,null);var T=this._this$0_17._cSerializer._get_descriptor__66();a.element$default("third",T,null,!1,12,null)},U2.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},U2.$metadata$={kind:"class",interfaces:[]},D1.prototype._get_descriptor__66=function(){return this._descriptor_25},D1.prototype.serialize_60=function(a,p){var E=a.beginStructure_14(this._descriptor_25);E.encodeSerializableElement_3(this._descriptor_25,0,this._aSerializer,p._first_0),E.encodeSerializableElement_3(this._descriptor_25,1,this._bSerializer,p._second_0),E.encodeSerializableElement_3(this._descriptor_25,2,this._cSerializer,p._third),E.endStructure_14(this._descriptor_25)},D1.prototype.serialize_107=function(a,p){return this.serialize_60(a,p instanceof lo?p:$e())},D1.prototype.deserialize_70=function(a){var p=a.beginStructure_14(this._descriptor_25);return p.decodeSequentially_9()?function(E,T){var D=T.decodeSerializableElement$default_9(E._descriptor_25,0,E._aSerializer,null,8,null),W=T.decodeSerializableElement$default_9(E._descriptor_25,1,E._bSerializer,null,8,null),re=T.decodeSerializableElement$default_9(E._descriptor_25,2,E._cSerializer,null,8,null);return T.endStructure_14(E._descriptor_25),new lo(D,W,re)}(this,p):function(E,T){var D=Yi,W=Yi,re=Yi;e:for(;;){var ce=T.decodeElementIndex_9(E._descriptor_25);if(Iu(),ce===-1)break e;if(ce===0)D=T.decodeSerializableElement$default_9(E._descriptor_25,0,E._aSerializer,null,8,null);else if(ce===1)W=T.decodeSerializableElement$default_9(E._descriptor_25,1,E._bSerializer,null,8,null);else{if(ce!==2)throw xe("Unexpected index "+ce);re=T.decodeSerializableElement$default_9(E._descriptor_25,2,E._cSerializer,null,8,null)}}if(T.endStructure_14(E._descriptor_25),D===Yi)throw xe("Element 'first' is missing");if(W===Yi)throw xe("Element 'second' is missing");if(re===Yi)throw xe("Element 'third' is missing");return new lo(D==null||yn(D)?D:$e(),W==null||yn(W)?W:$e(),re==null||yn(re)?re:$e())}(this,p)},D1.$metadata$={simpleName:"TripleSerializer",kind:"class",interfaces:[Pr]},Rm.prototype.serialize_62=function(a,p){var E=a.beginStructure_14(this._get_descriptor__66());E.encodeSerializableElement_3(this._get_descriptor__66(),0,this._keySerializer_0,this._get_key__8(p)),E.encodeSerializableElement_3(this._get_descriptor__66(),1,this._valueSerializer_0,this._get_value__10(p)),E.endStructure_14(this._get_descriptor__66())},Rm.prototype.serialize_107=function(a,p){return this.serialize_62(a,p==null||yn(p)?p:$e())},Rm.prototype.deserialize_70=function(a){var p=a.beginStructure_14(this._get_descriptor__66());if(p.decodeSequentially_9()){var E=this._get_descriptor__66(),T=p.decodeSerializableElement$default_9(E,0,this._keySerializer_0,null,8,null),D=this._get_descriptor__66(),W=p.decodeSerializableElement$default_9(D,1,this._valueSerializer_0,null,8,null);return this.toResult_25(T,W)}var re=Yi,ce=Yi;e:for(;;){var Fe=p.decodeElementIndex_9(this._get_descriptor__66());if(Iu(),Fe===-1)break e;if(Fe===0){var Ue=this._get_descriptor__66();re=p.decodeSerializableElement$default_9(Ue,0,this._keySerializer_0,null,8,null)}else{if(Fe!==1)throw xe("Invalid index: "+Fe);var Ve=this._get_descriptor__66();ce=p.decodeSerializableElement$default_9(Ve,1,this._valueSerializer_0,null,8,null)}}if(p.endStructure_14(this._get_descriptor__66()),re===Yi)throw xe("Element 'key' is missing");if(ce===Yi)throw xe("Element 'value' is missing");var Ke=re==null||yn(re)?re:$e();return this.toResult_25(Ke,ce==null||yn(ce)?ce:$e())},Rm.$metadata$={simpleName:"KeyValueSerializer",kind:"class",interfaces:[Pr]},q2.prototype.getContextual$default=function(a,p,E,T){return(2&E)!=0&&(p=An()),T==null?this.getContextual_0(a,p):T(a,p)},q2.$metadata$={simpleName:"SerializersModule",kind:"class",interfaces:[]},Dm.prototype.getPolymorphic_1=function(a,p){if(E=p,!a.isInstance_4(E))return null;var E,T=this._polyBase2Serializers.get_17(a),D=T==null?null:T.get_17(Su(p));return D!=null&&ir(D,E_)?D:null},Dm.prototype.getPolymorphic_2=function(a,p){var E=this._polyBase2NamedSerializers.get_17(a),T=E==null?null:(E!=null&&ir(E,Ks)?E:$e()).get_17(p),D=T!=null&&ir(T,Pr)?T:null;if(D!=null)return D;var W=this._polyBase2DefaultProvider.get_17(a),re=W!=null&&typeof W=="function"?W:null;return re==null?null:re(p)},Dm.prototype.getContextual_0=function(a,p){var E=this._class2ContextualFactory.get_17(a),T=E==null?null:E.invoke_85(p);return T==null||ir(T,Pr)?T:null},Dm.prototype.dumpTo_0=function(a){for(var p=this._class2ContextualFactory._get_entries__5().iterator_39();p.hasNext_14();){var E=p.next_14(),T=E._get_key__3(),D=E._get_value__15(),W=D;if(W instanceof nw){var re=ir(T,Fu)?T:$e(),ce=D._serializer_0;a.contextual_2(re,ir(ce,Pr)?ce:$e())}else W instanceof iw&&a.contextual_1(T,D._provider)}for(var Fe=this._polyBase2Serializers._get_entries__5().iterator_39();Fe.hasNext_14();)for(var Ue=Fe.next_14(),Ve=Ue._get_key__3(),Ke=Ue._get_value__15()._get_entries__5().iterator_39();Ke.hasNext_14();){var tt=Ke.next_14(),bt=tt._get_key__3(),Dt=tt._get_value__15(),Nt=ir(Ve,Fu)?Ve:$e(),lr=ir(bt,Fu)?bt:$e();a.polymorphic_0(Nt,lr,ir(Dt,Pr)?Dt:$e())}for(var Mr=this._polyBase2DefaultProvider._get_entries__5().iterator_39();Mr.hasNext_14();){var $r=Mr.next_14(),Nn=$r._get_key__3(),ur=$r._get_value__15(),mr=ir(Nn,Fu)?Nn:$e();a.polymorphicDefault_0(mr,typeof ur=="function"?ur:$e())}},Dm.$metadata$={simpleName:"SerialModuleImpl",kind:"class",interfaces:[]},nw.$metadata$={simpleName:"Argless",kind:"class",interfaces:[]},iw.$metadata$={simpleName:"WithTypeArguments",kind:"class",interfaces:[]},ET.$metadata$={simpleName:"ContextualProvider",kind:"class",interfaces:[]},V2.prototype.invoke_85=function(a){return this._$serializer},V2.prototype.invoke_103=function(a){return this.invoke_85(a!=null&&ir(a,pl)?a:$e())},V2.$metadata$={kind:"class",interfaces:[]},G2.prototype.contextual_2=function(a,p){return this.contextual_1(a,(E=new V2(p),function(T){return E.invoke_85(T)}));var E},G2.$metadata$={simpleName:"SerializersModuleCollector",kind:"interface",interfaces:[]},Xz.$metadata$={simpleName:"SerializableWith",kind:"class",interfaces:[nr],associatedObjectKey:0},ow.$metadata$={simpleName:"Default",kind:"object",interfaces:[]},A_.prototype._get_configuration__3=function(){return this._configuration},A_.prototype._get_serializersModule__18=function(){return this._serializersModule},A_.prototype.encodeToString_2=function(a,p){var E,T,D,W=new ny;try{var re=hw(),ce=[hw(),dw(),_w(),nP()].length;return(E=W,T=re,D=Vh(Array(ce),null),function(Fe,Ue,Ve,Ke,tt){return _s.call(tt,new ml(Fe,Ue),Ue,Ve,Ke),tt}(E,this,T,D,Object.create(_s.prototype))).encodeSerializableValue_3(a,p),W.toString()}finally{W.release()}},A_.prototype.decodeFromString_2=function(a,p){var E=new Yu(p),T=new ds(this,hw(),E).decodeSerializableValue_18(a);return E.expectEof(),T},A_.prototype.decodeFromJsonElement_1=function(a,p){return function(E,T,D){var W,re=T;return re instanceof Sa?W=b5(E,T,null,null,12):re instanceof Bs?W=new $p(E,T):re instanceof xc||hr(re,Jg())?W=new Xd(E,T instanceof _f?T:$e()):Tg(),W.decodeSerializableValue_18(D)}(this,p,a)},A_.$metadata$={simpleName:"Json",kind:"class",interfaces:[L]},W2.prototype.build_8=function(){if(this._useArrayPolymorphism&&this._classDiscriminator!=="type")throw Sn(Sr("Class discriminator should not be specified when array polymorphism is specified"));if(this._prettyPrint){if(this._prettyPrintIndent!=="    "){var a;e:do{for(var p=this._prettyPrintIndent,E=0,T=p.length;E<T;){var D=ni(p,E);if(E=E+1|0,!(D.equals(new Mt(32))||D.equals(new Mt(9))||D.equals(new Mt(13))||D.equals(new Mt(10)))){a=!1;break e}}a=!0}while(0);if(!a)throw Sn(Sr("Only whitespace, tab, newline and carriage return are allowed as pretty print symbols. Had "+this._prettyPrintIndent))}}else if(this._prettyPrintIndent!=="    ")throw Sn(Sr("Indent should not be specified when default printing mode is used"));return new sw(this._encodeDefaults,this._ignoreUnknownKeys,this._isLenient,this._allowStructuredMapKeys,this._prettyPrint,this._prettyPrintIndent,this._coerceInputValues,this._useArrayPolymorphism,this._classDiscriminator,this._allowSpecialFloatingPointValues,this._useAlternativeNames)},W2.$metadata$={simpleName:"JsonBuilder",kind:"class",interfaces:[]},aw.$metadata$={simpleName:"JsonImpl",kind:"class",interfaces:[]},sw.prototype.toString=function(){return"JsonConfiguration(encodeDefaults="+this._encodeDefaults_0+", ignoreUnknownKeys="+this._ignoreUnknownKeys_0+", isLenient="+this._isLenient_0+", allowStructuredMapKeys="+this._allowStructuredMapKeys_0+", prettyPrint="+this._prettyPrint_0+", prettyPrintIndent='"+this._prettyPrintIndent_0+"', coerceInputValues="+this._coerceInputValues_0+", useArrayPolymorphism="+this._useArrayPolymorphism_0+", classDiscriminator='"+this._classDiscriminator_0+"', allowSpecialFloatingPointValues="+this._allowSpecialFloatingPointValues_0+")"},sw.$metadata$={simpleName:"JsonConfiguration",kind:"class",interfaces:[]},F1.prototype._get_descriptor__66=function(){return this._descriptor_26},F1.prototype.serialize_107=function(a,p){var E,T=a._get_serializersModule__18().getPolymorphic_1(this._baseClass_0,p),D=T==null?ot(Su(p)):T;D==null?function(re,ce,Fe){var Ue=ce._get_simpleName__4();throw xe("Class '"+(Ue==null?""+ce:Ue)+"' is not registered for polymorphic serialization in the scope of '"+Fe._get_simpleName__4()+`'.
Mark the base class as 'sealed' or register the serializer explicitly.`)}(0,Su(p),this._baseClass_0):E=D;var W=E;(ir(W,Pr)?W:$e()).serialize_107(a,p)},F1.prototype.deserialize_70=function(a){var p=cw(a),E=p.decodeJsonElement_5(),T=this.selectDeserializer_0(E),D=ir(T,Pr)?T:$e();return p._get_json__9().decodeFromJsonElement_1(D,E)},F1.$metadata$={simpleName:"JsonContentPolymorphicSerializer",kind:"class",interfaces:[Pr]},X2.$metadata$={simpleName:"JsonDecoder",kind:"interface",interfaces:[nc,xi]},Bp.$metadata$={simpleName:"JsonElement",kind:"class",interfaces:[],associatedObjects:{0:uw}},Y2.prototype.invoke_87=function(a){var p=a._get_key__3(),E=a._get_value__15(),T=yv();return jT(T,p),T.append_1(new Mt(58)),fe(),T.append_4(E),fe(),T.toString()},Y2.prototype.invoke_103=function(a){return this.invoke_87(a!=null&&ir(a,Fs)?a:$e())},Y2.$metadata$={kind:"class",interfaces:[]},Sa.prototype.containsKey_7=function(a){return this._content.containsKey_8(a)},Sa.prototype.containsKey_8=function(a){return a!=null&&typeof a=="string"&&this.containsKey_7(a!=null&&typeof a=="string"?a:$e())},Sa.prototype.get_16=function(a){return this._content.get_17(a)},Sa.prototype.get_17=function(a){return a==null||typeof a!="string"?null:this.get_16(a!=null&&typeof a=="string"?a:$e())},Sa.prototype.isEmpty_29=function(){return this._content.isEmpty_29()},Sa.prototype._get_entries__5=function(){return this._content._get_entries__5()},Sa.prototype._get_keys__5=function(){return this._content._get_keys__5()},Sa.prototype._get_size__29=function(){return this._content._get_size__29()},Sa.prototype.equals=function(a){return hr(this._content,a)},Sa.prototype.hashCode=function(){return Ui(this._content)},Sa.prototype.toString=function(){var a;return F(this._content._get_entries__5(),",","{","}",0,null,(a=new Y2,function(p){return a.invoke_87(p)}),24)},Sa.$metadata$={simpleName:"JsonObject",kind:"class",interfaces:[Ks],associatedObjects:{0:Vd}},_f.prototype.toString=function(){return this._get_content__1()},_f.$metadata$={simpleName:"JsonPrimitive",kind:"class",interfaces:[],associatedObjects:{0:TT}},Ud.prototype._get_content__1=function(){return this._content_0},Ud.$metadata$={simpleName:"JsonNull",kind:"object",interfaces:[]},xc.prototype._get_content__1=function(){return this._content_1},xc.prototype.toString=function(){var a;if(this._isString){var p=yv();jT(p,this._content_1),a=p.toString()}else a=this._content_1;return a},xc.prototype.equals=function(a){return this===a||!(a==null||!Su(this).equals(Su(a)))&&(a instanceof xc||$e(),fe(),this._isString===a._isString&&this._content_1===a._content_1)},xc.prototype.hashCode=function(){var a=0|this._isString;return sr(31,a)+ca(this._content_1)|0},xc.$metadata$={simpleName:"JsonLiteral",kind:"class",interfaces:[]},Bs.prototype.contains_26=function(a){return this._content_2.contains_27(a)},Bs.prototype.contains_27=function(a){return a instanceof Bp&&this.contains_26(a instanceof Bp?a:$e())},Bs.prototype.containsAll_21=function(a){return this._content_2.containsAll_22(a)},Bs.prototype.containsAll_22=function(a){return this.containsAll_21(a)},Bs.prototype.get_29=function(a){return this._content_2.get_29(a)},Bs.prototype.indexOf_5=function(a){return this._content_2.indexOf_6(a)},Bs.prototype.indexOf_6=function(a){return a instanceof Bp?this.indexOf_5(a instanceof Bp?a:$e()):-1},Bs.prototype.isEmpty_29=function(){return this._content_2.isEmpty_29()},Bs.prototype.iterator_39=function(){return this._content_2.iterator_39()},Bs.prototype.listIterator_4=function(a){return this._content_2.listIterator_4(a)},Bs.prototype.subList_4=function(a,p){return this._content_2.subList_4(a,p)},Bs.prototype._get_size__29=function(){return this._content_2._get_size__29()},Bs.prototype.equals=function(a){return hr(this._content_2,a)},Bs.prototype.hashCode=function(){return Ui(this._content_2)},Bs.prototype.toString=function(){return F(this._content_2,",","[","]",0,null,null,56)},Bs.$metadata$={simpleName:"JsonArray",kind:"class",interfaces:[pl],associatedObjects:{0:NT}},qd.prototype.getElementAnnotations_17=function(a){return this._$$delegate_0_0.getElementAnnotations_17(a)},qd.prototype.getElementDescriptor_17=function(a){return this._$$delegate_0_0.getElementDescriptor_17(a)},qd.prototype.getElementIndex_17=function(a){return this._$$delegate_0_0.getElementIndex_17(a)},qd.prototype.getElementName_17=function(a){return this._$$delegate_0_0.getElementName_17(a)},qd.prototype._get_elementsCount__17=function(){return this._$$delegate_0_0._get_elementsCount__17()},qd.prototype._get_isInline__17=function(){return this._$$delegate_0_0._get_isInline__17()},qd.prototype._get_isNullable__17=function(){return this._$$delegate_0_0._get_isNullable__17()},qd.prototype._get_kind__17=function(){return this._$$delegate_0_0._get_kind__17()},qd.prototype._get_serialName__17=function(){return this._serialName_7},qd.$metadata$={simpleName:"JsonObjectDescriptor",kind:"object",interfaces:[Ir]},j1.prototype._get_descriptor__66=function(){return this._descriptor_27},j1.prototype.serialize_65=function(a,p){q1(a),ii(vt(),uw()).serialize_107(a,p)},j1.prototype.serialize_107=function(a,p){return this.serialize_65(a,p instanceof Sa?p:$e())},j1.prototype.deserialize_70=function(a){return LT(a),new Sa(ii(vt(),uw()).deserialize_70(a))},j1.$metadata$={simpleName:"JsonObjectSerializer",kind:"object",interfaces:[Pr]},IT.prototype.invoke_97=function(){return TT()._descriptor_29},IT.$metadata$={kind:"class",interfaces:[]},CT.prototype.invoke_97=function(){return e5()._descriptor_30},CT.$metadata$={kind:"class",interfaces:[]},AT.prototype.invoke_97=function(){return t5()._descriptor_31},AT.$metadata$={kind:"class",interfaces:[]},OT.prototype.invoke_97=function(){return Vd()._descriptor_27},OT.$metadata$={kind:"class",interfaces:[]},kT.prototype.invoke_97=function(){return NT()._descriptor_32},kT.$metadata$={kind:"class",interfaces:[]},H2.prototype.invoke_94=function(a){var p,E=lw((p=new IT,function(){return p.invoke_97()}));a.element$default("JsonPrimitive",E,null,!1,12,null);var T=lw(function(){var ce=new CT;return function(){return ce.invoke_97()}}());a.element$default("JsonNull",T,null,!1,12,null);var D=lw(function(){var ce=new AT;return function(){return ce.invoke_97()}}());a.element$default("JsonLiteral",D,null,!1,12,null);var W=lw(function(){var ce=new OT;return function(){return ce.invoke_97()}}());a.element$default("JsonObject",W,null,!1,12,null);var re=lw(function(){var ce=new kT;return function(){return ce.invoke_97()}}());a.element$default("JsonArray",re,null,!1,12,null)},H2.prototype.invoke_103=function(a){return this.invoke_94(a instanceof oi?a:$e()),fe()},H2.$metadata$={kind:"class",interfaces:[]},B1.prototype._get_descriptor__66=function(){return this._descriptor_28},B1.prototype.serialize_67=function(a,p){q1(a);var E=p;E instanceof _f?a.encodeSerializableValue_3(TT(),p):E instanceof Sa?a.encodeSerializableValue_3(Vd(),p):E instanceof Bs&&a.encodeSerializableValue_3(NT(),p)},B1.prototype.serialize_107=function(a,p){return this.serialize_67(a,p instanceof Bp?p:$e())},B1.prototype.deserialize_70=function(a){return cw(a).decodeJsonElement_5()},B1.$metadata$={simpleName:"JsonElementSerializer",kind:"object",interfaces:[Pr]},$1.prototype._get_descriptor__66=function(){return this._descriptor_29},$1.prototype.serialize_69=function(a,p){var E;if(q1(a),p instanceof Ud)E=a.encodeSerializableValue_3(e5(),Jg());else{var T=t5();E=a.encodeSerializableValue_3(T,p instanceof xc?p:$e())}return E},$1.prototype.serialize_107=function(a,p){return this.serialize_69(a,p instanceof _f?p:$e())},$1.prototype.deserialize_70=function(a){var p=cw(a).decodeJsonElement_5();if(!(p instanceof _f))throw O_(-1,"Unexpected JSON element, expected JsonPrimitive, had "+Su(p),Sr(p));return p},$1.$metadata$={simpleName:"JsonPrimitiveSerializer",kind:"object",interfaces:[Pr]},U1.prototype._get_descriptor__66=function(){return this._descriptor_30},U1.prototype.serialize_71=function(a,p){q1(a),a.encodeNull_3()},U1.prototype.serialize_107=function(a,p){return this.serialize_71(a,p instanceof Ud?p:$e())},U1.prototype.deserialize_70=function(a){if(LT(a),a.decodeNotNullMark_9())throw new Nv("Expected 'null' literal");return a.decodeNull_9(),fe(),Jg()},U1.$metadata$={simpleName:"JsonNullSerializer",kind:"object",interfaces:[Pr]},V1.prototype._get_descriptor__66=function(){return this._descriptor_31},V1.prototype.serialize_73=function(a,p){if(q1(a),p._isString)return a.encodeString_3(p._content_1);var E=xu(p._get_content__1());if(E!=null)return a.encodeLong_3(E);fe();var T=O(p._content_1);if((T==null?null:new l(T))!=null){var D=a.encodeInline_3(br(va())._get_descriptor__66());return D==null||(D.encodeLong_3(T),fe()),fe(),fe()}fe();var W=function(ce){var Fe=+ce;return hv(Fe)&&!C2(ce)||Fe===0&&mm(ce)?null:Fe}(p._get_content__1());if(W!=null)return a.encodeDouble_3(W);fe();var re=Qz(p);if(re!=null)return a.encodeBoolean_3(re);fe(),a.encodeString_3(p._content_1)},V1.prototype.serialize_107=function(a,p){return this.serialize_73(a,p instanceof xc?p:$e())},V1.prototype.deserialize_70=function(a){var p=cw(a).decodeJsonElement_5();if(!(p instanceof xc))throw O_(-1,"Unexpected JSON element, expected JsonLiteral, had "+Su(p),Sr(p));return p},V1.$metadata$={simpleName:"JsonLiteralSerializer",kind:"object",interfaces:[Pr]},Gd.prototype.getElementAnnotations_17=function(a){return this._$$delegate_0_1.getElementAnnotations_17(a)},Gd.prototype.getElementDescriptor_17=function(a){return this._$$delegate_0_1.getElementDescriptor_17(a)},Gd.prototype.getElementIndex_17=function(a){return this._$$delegate_0_1.getElementIndex_17(a)},Gd.prototype.getElementName_17=function(a){return this._$$delegate_0_1.getElementName_17(a)},Gd.prototype._get_elementsCount__17=function(){return this._$$delegate_0_1._get_elementsCount__17()},Gd.prototype._get_isInline__17=function(){return this._$$delegate_0_1._get_isInline__17()},Gd.prototype._get_isNullable__17=function(){return this._$$delegate_0_1._get_isNullable__17()},Gd.prototype._get_kind__17=function(){return this._$$delegate_0_1._get_kind__17()},Gd.prototype._get_serialName__17=function(){return this._serialName_8},Gd.$metadata$={simpleName:"JsonArrayDescriptor",kind:"object",interfaces:[Ir]},G1.prototype._get_descriptor__66=function(){return this._descriptor_32},G1.prototype.serialize_75=function(a,p){q1(a),vn(uw()).serialize_107(a,p)},G1.prototype.serialize_107=function(a,p){return this.serialize_75(a,p instanceof Bs?p:$e())},G1.prototype.deserialize_70=function(a){return LT(a),new Bs(vn(uw()).deserialize_70(a))},G1.$metadata$={simpleName:"JsonArraySerializer",kind:"object",interfaces:[Pr]},Wd.prototype._get_serialName__17=function(){return Qg(this)._get_serialName__17()},Wd.prototype._get_kind__17=function(){return Qg(this)._get_kind__17()},Wd.prototype._get_elementsCount__17=function(){return Qg(this)._get_elementsCount__17()},Wd.prototype.getElementName_17=function(a){return Qg(this).getElementName_17(a)},Wd.prototype.getElementIndex_17=function(a){return Qg(this).getElementIndex_17(a)},Wd.prototype.getElementAnnotations_17=function(a){return Qg(this).getElementAnnotations_17(a)},Wd.prototype.getElementDescriptor_17=function(a){return Qg(this).getElementDescriptor_17(a)},Wd.$metadata$={kind:"class",interfaces:[Ir]},fw.$metadata$={simpleName:"JsonEncoder",kind:"interface",interfaces:[As,zd]},r5.$metadata$={simpleName:"JsonNames",kind:"class",interfaces:[nr]},ml.prototype.indent_0=function(){this._writingFirst=!0;var a=this._level;this._level=a+1|0,fe()},ml.prototype.unIndent_0=function(){var a=this._level;this._level=a-1|0,fe()},ml.prototype.nextItem_0=function(){if(this._writingFirst=!1,this._json._configuration._prettyPrint_0){this.print_13(`
`);var a=this._level,p=0;if(p<a)do p=p+1|0,this.print_13(this._json._configuration._prettyPrintIndent_0);while(p<a)}},ml.prototype.space_0=function(){this._json._configuration._prettyPrint_0&&this.print_12(new Mt(32))},ml.prototype.print_12=function(a){return this._sb.append_15(a)},ml.prototype.print_13=function(a){return this._sb.append_16(a)},ml.prototype.print_14=function(a){return this._sb.append_16(a.toString())},ml.prototype.print_15=function(a){return this._sb.append_16(a.toString())},ml.prototype.print_10=function(a){return this._sb.append_14(Qs(a))},ml.prototype.print_11=function(a){return this._sb.append_14(Qs(a))},ml.prototype.print_8=function(a){return this._sb.append_14(Qs(a))},ml.prototype.print_9=function(a){return this._sb.append_14(a)},ml.prototype.print_16=function(a){return this._sb.append_16(a.toString())},ml.prototype.printQuoted_0=function(a){return this._sb.appendQuoted(a)},ml.$metadata$={simpleName:"Composer",kind:"class",interfaces:[]},zm.prototype.print_8=function(a){return ml.prototype.print_13.call(this,co(a))},zm.prototype.print_9=function(a){return ml.prototype.print_13.call(this,wu(a))},zm.prototype.print_10=function(a){return ml.prototype.print_13.call(this,$c(a))},zm.prototype.print_11=function(a){return ml.prototype.print_13.call(this,y(a))},zm.$metadata$={simpleName:"ComposerForUnsignedNumbers",kind:"class",interfaces:[]},Nv.$metadata$={simpleName:"JsonDecodingException",kind:"class",interfaces:[]},Mv.$metadata$={simpleName:"JsonEncodingException",kind:"class",interfaces:[]},k_.$metadata$={simpleName:"JsonException",kind:"class",interfaces:[]},Yu.prototype.expectEof=function(){if(this.consumeNextToken_1()!==10){var a="Expected EOF, but had "+ni(this._source,this._currentPosition-1|0)+" instead";this.fail$default(a,0,2,null)}},Yu.prototype.tryConsumeComma=function(){var a=W1(this);return a!==this._source.length&&!!ni(this._source,a).equals(new Mt(44))&&(this._currentPosition=this._currentPosition+1|0,fe(),!0)},Yu.prototype.canConsumeValue=function(){for(var a=this._currentPosition;a<this._source.length;){var p=ni(this._source,a);if(!(p.equals(new Mt(32))||p.equals(new Mt(10))||p.equals(new Mt(13))||p.equals(new Mt(9))))return this._currentPosition=a,kY(0,p);a=a+1|0,fe()}return this._currentPosition=a,!1},Yu.prototype.consumeNextToken=function(a){var p=this.consumeNextToken_1();return p!==a&&RT(this,a),p},Yu.prototype.consumeNextToken_0=function(a){for(var p=this._source;this._currentPosition<p.length;){var E=this._currentPosition;this._currentPosition=E+1|0;var T=ni(p,E);if(!(T.equals(new Mt(32))||T.equals(new Mt(10))||T.equals(new Mt(13))||T.equals(new Mt(9)))){if(T.equals(a))return fe();u5(this,a)}}u5(this,a)},Yu.prototype.peekNextToken=function(){for(var a=this._source;this._currentPosition<a.length;){var p=ni(a,this._currentPosition);if(!(p.equals(new Mt(32))||p.equals(new Mt(10))||p.equals(new Mt(13))||p.equals(new Mt(9))))return X1(p);this._currentPosition=this._currentPosition+1|0,fe()}return 10},Yu.prototype.consumeNextToken_1=function(){for(var a=this._source;this._currentPosition<a.length;){var p=this._currentPosition;this._currentPosition=p+1|0;var E=X1(ni(a,p));if(E!==3)return E}return 10},Yu.prototype.tryConsumeNotNull=function(){var a=W1(this);if((this._source.length-a|0)<4)return!0;var p=0;if(p<=3)do{var E=p;if(p=p+1|0,!ni("null",E).equals(ni(this._source,a+E|0)))return!0}while(p<=3);return this._currentPosition=a+4|0,!1},Yu.prototype.peekString=function(a){var p,E=this.peekNextToken();if(a){if(E!==1&&E!==0)return null;p=this.consumeStringLenient()}else{if(E!==1)return null;p=this.consumeString()}var T=p;return this._peekedString=T,T},Yu.prototype.consumeKeyString=function(){this.consumeNextToken_0(new Mt(34));var a,p=this._currentPosition,E=new Mt(34),T=(a=p,function(re,ce,Fe,Ue){var Ve,Ke;if(Ue||typeof re!="string")Ve=function(Dt,Nt,lr,Mr){if(!Mr&&Nt.length===1&&typeof Dt=="string"){var $r=Dt,Nn=function(pi){var oo;switch(pi.length){case 0:throw tc("Array is empty.");case 1:oo=pi[0];break;default:throw Sn("Array has more than one element.")}return oo}(Nt).toString();return $r.indexOf(Nn,lr)}var ur=ee(lr,0),mr=pu(Dt);if(ur<=mr)do{var Mn=ur;ur=ur+1|0;var Wn,Xi=ni(Dt,Mn);e:do{for(var Yn=Nt,Dn=0,sa=Yn.length;Dn<sa;){var Xn=Yn[Dn];if(Dn=Dn+1|0,Ss(Xn,Xi,Mr)){Wn=!0;break e}}Wn=!1}while(0);if(Wn)return Mn}while(Mn!==mr);return-1}(re,((Ke=[ce].slice()).$type$="CharArray",Ke),Fe,Ue);else{var tt=re,bt=ce.toString();Ve=tt.indexOf(bt,Fe)}return Ve}(this._source,E,a,!1));T===-1&&RT(this,1);var D=p;if(D<T)do{var W=D;if(D=D+1|0,ni(this._source,W).equals(new Mt(92)))return TY(this,this._currentPosition,W)}while(D<T);return this._currentPosition=T+1|0,this._source.substring(p,T)},Yu.prototype.consumeString=function(){return this._peekedString!=null?l5(this):this.consumeKeyString()},Yu.prototype.consumeStringLenient=function(){if(this._peekedString!=null)return l5(this);var a=W1(this);a>=this._source.length&&this.fail("EOF",a);var p=X1(ni(this._source,a));if(p===1)return this.consumeString();if(p!==0){var E="Expected beginning of the string, but got "+ni(this._source,a);this.fail$default(E,0,2,null)}for(;a<this._source.length&&X1(ni(this._source,a))===0;)a=a+1|0,fe();var T=this._source,D=this._currentPosition,W=a,re=T.substring(D,W);return this._currentPosition=a,re},Yu.prototype.skipElement=function(a){var p=Qn(),E=this.peekNextToken();if(E!==8&&E!==6)return this.consumeStringLenient(),fe(),fe();for(;;)if((E=this.peekNextToken())!==1){var T=E;if(T===8||T===6)p.add_18(E),fe();else if(T===9){if(V(p)!==8)throw O_(this._currentPosition,"found ] instead of }",this._source);Ka(p),fe()}else if(T===7){if(V(p)!==6)throw O_(this._currentPosition,"found } instead of ]",this._source);Ka(p),fe()}else T===10&&this.fail$default("Unexpected end of input due to malformed JSON during ignoring unknown keys",0,2,null);if(this.consumeNextToken_1(),fe(),p._get_size__29()===0)return fe()}else a?(this.consumeStringLenient(),fe()):(this.consumeKeyString(),fe())},Yu.prototype.toString=function(){return"JsonReader(source='"+this._source+"', currentPosition="+this._currentPosition+")"},Yu.prototype.failOnUnknownKey=function(a){var p=this._source,E=this._currentPosition,T=_o(p.substring(0,E),a,0,!1,6);this.fail("Encountered an unknown key '"+a+`'.
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.`,T)},Yu.prototype.fail=function(a,p){throw O_(p,a,this._source)},Yu.prototype.fail$default=function(a,p,E,T){return(2&E)!=0&&(p=this._currentPosition),this.fail(a,p)},Yu.prototype.consumeNumericLiteral=function(){var a,p=W1(this);p===this._source.length&&this.fail$default("EOF",0,2,null),ni(this._source,p).equals(new Mt(34))?((p=p+1|0)===this._source.length&&this.fail$default("EOF",0,2,null),a=!0):a=!1;var E,T=a,D=new kr(0,0),W=!1,re=p,ce=!0;e:for(;ce;){var Fe=ni(this._source,p);if(Fe.equals(new Mt(45)))p!==re&&this.fail$default("Unexpected symbol '-' in numeric literal",0,2,null),W=!0,p=p+1|0,fe();else{if(X1(Fe)!==0)break e;p=p+1|0,fe(),ce=p!==this._source.length;var Ue=Fe.minus(new Mt(48));if(!(0<=Ue&&Ue<=9)){var Ve="Unexpected symbol '"+Fe+"' in numeric literal";this.fail$default(Ve,0,2,null)}(D=D.times_27(Qs(10)).minus_28(Qs(Ue))).compareTo_48(new kr(0,0))>0&&this.fail$default("Numeric value overflow",0,2,null)}}if((re===p||W&&re===(p-1|0))&&this.fail$default("Expected numeric literal",0,2,null),T&&(ce||this.fail$default("EOF",0,2,null),ni(this._source,p).equals(new Mt(34))||this.fail$default("Expected closing quotation mark",0,2,null),p=p+1|0,fe()),this._currentPosition=p,W)E=D;else{var Ke=D;cs(),Ke.equals(new kr(0,-2147483648))?this.fail$default("Numeric value overflow",0,2,null):E=D.unaryMinus_4()}return E},Yu.prototype.consumeBoolean=function(){return c5(this,W1(this))},Yu.prototype.consumeBooleanLenient=function(){var a,p=W1(this);p===this._source.length&&this.fail$default("EOF",0,2,null),ni(this._source,p).equals(new Mt(34))?(p=p+1|0,fe(),a=!0):a=!1;var E=a,T=c5(this,p);return E&&(this._currentPosition===this._source.length&&this.fail$default("EOF",0,2,null),ni(this._source,this._currentPosition).equals(new Mt(34))||this.fail$default("Expected closing quotation mark",0,2,null),this._currentPosition=this._currentPosition+1|0,fe()),T},Yu.$metadata$={simpleName:"JsonLexer",kind:"class",interfaces:[]},p5.$metadata$={simpleName:"CharMappings",kind:"object",interfaces:[]},J2.prototype.invoke_97=function(){return _5(this._$boundThis)},J2.prototype._get_name__1=function(){return"buildAlternativeNamesMap"},J2.$metadata$={kind:"class",interfaces:[]},zT.prototype.read=function(){var a,p=this._lexer.peekNextToken();return p===1?a=m5(this,!0):p===0?a=m5(this,!1):p===6?a=function(E){var T=E._lexer.consumeNextToken(6);E._lexer.peekNextToken()===4&&E._lexer.fail$default("Unexpected leading comma",0,2,null);for(var D=ep();E._lexer.canConsumeValue();){var W=E._isLenient_1?E._lexer.consumeStringLenient():E._lexer.consumeString();E._lexer.consumeNextToken(5),fe();var re=E.read();D.put_4(W,re),fe(),(T=E._lexer.consumeNextToken_1())!==4&&T!==7&&E._lexer.fail$default("Expected end of the object or comma",0,2,null)}return T===6?(E._lexer.consumeNextToken(7),fe()):T===4&&E._lexer.fail$default("Unexpected trailing comma",0,2,null),new Sa(D)}(this):p===8?a=function(E){var T=E._lexer.consumeNextToken_1();E._lexer.peekNextToken()===4&&E._lexer.fail$default("Unexpected leading comma",0,2,null);for(var D=Qn();E._lexer.canConsumeValue();){var W=E.read();if(D.add_18(W),fe(),(T=E._lexer.consumeNextToken_1())!==4){var re=E._lexer,ce=T===9,Fe=re._currentPosition;ce||re.fail("Expected end of the array or comma",Fe)}}return T===8?(E._lexer.consumeNextToken(9),fe()):T===4&&E._lexer.fail$default("Unexpected trailing comma",0,2,null),new Bs(D)}(this):this._lexer.fail$default("Can't begin reading element, unexpected token",0,2,null),a},zT.$metadata$={simpleName:"JsonTreeReader",kind:"class",interfaces:[]},H1.prototype.contextual_1=function(a,p){},H1.prototype.polymorphic_0=function(a,p,E){var T=E._get_descriptor__66();(function(D,W,re){var ce=W._get_kind__17();if(ce instanceof Tl||hr(ce,Cs()))throw Sn("Serializer for "+re._get_simpleName__4()+" can't be registered as a subclass for polymorphic serialization because its kind "+ce+" is not concrete. To work with multiple hierarchies, register it as a base class.");if(D._useArrayPolymorphism_1)return fe();if(hr(ce,Lf())||hr(ce,ch())||ce instanceof fo||ce instanceof ru)throw Sn("Serializer for "+re._get_simpleName__4()+" of kind "+ce+" cannot be serialized polymorphically with class discriminator.")})(this,T,p),this._useArrayPolymorphism_1||function(D,W,re){var ce=0,Fe=W._get_elementsCount__17();if(ce<Fe)do{var Ue=ce;ce=ce+1|0;var Ve=W.getElementName_17(Ue);if(Ve===D._discriminator)throw Sn("Polymorphic serializer for "+re+" has property '"+Ve+"' that conflicts with JSON class discriminator. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism")}while(ce<Fe)}(this,T,p)},H1.prototype.polymorphicDefault_0=function(a,p){},H1.$metadata$={simpleName:"PolymorphismValidator",kind:"class",interfaces:[G2]},Q2.$metadata$={simpleName:"Key",kind:"class",interfaces:[]},pw.prototype.set_3=function(a,p,E){var T,D=this._map_1,W=D.get_17(a);if(W==null){var re=VT(1);D.put_4(a,re),fe(),T=re}else T=W;var ce=T,Fe=p instanceof Q2?p:$e(),Ue=yn(E)?E:$e();ce.put_4(Fe,Ue),fe()},pw.prototype.getOrPut=function(a,p,E){var T=this.get_19(a,p);if(T!=null)return T;fe();var D=E();return this.set_3(a,p,D),D},pw.prototype.get_19=function(a,p){var E=this._map_1.get_17(a),T=E==null?null:E.get_17(p instanceof Q2?p:$e());return yn(T)?T:null},pw.$metadata$={simpleName:"DescriptorSchemaCache",kind:"class",interfaces:[]},ds.prototype._get_json__9=function(){return this._json_0},ds.prototype._get_serializersModule__18=function(){return this._serializersModule_1},ds.prototype.decodeJsonElement_5=function(){return new zT(this._json_0._configuration,this._lexer_0).read()},ds.prototype.decodeSerializableValue_18=function(a){return g5(this,a)},ds.prototype.beginStructure_14=function(a){var p,E=x5(this._json_0,a);this._lexer_0.consumeNextToken_0(E._begin),(p=this)._lexer_0.peekNextToken()===4&&p._lexer_0.fail$default("Unexpected leading comma",0,2,null);var T=E;return T.equals(dw())||T.equals(_w())||T.equals(nP())?new ds(this._json_0,E,this._lexer_0):this._mode.equals(E)?this:new ds(this._json_0,E,this._lexer_0)},ds.prototype.endStructure_14=function(a){this._lexer_0.consumeNextToken_0(this._mode._end)},ds.prototype.decodeNotNullMark_9=function(){return this._lexer_0.tryConsumeNotNull()},ds.prototype.decodeNull_9=function(){return null},ds.prototype.decodeElementIndex_9=function(a){var p=this._mode;return p.equals(hw())?function(E,T){for(var D=E._lexer_0.tryConsumeComma();E._lexer_0.canConsumeValue();){D=!1;var W=DY(E);E._lexer_0.consumeNextToken_0(new Mt(58));var re,ce=K2(T,E._json_0,W);if(Iu(),ce!==-3){if(!E._configuration_0._coerceInputValues_0||!MY(E,T,ce))return ce;D=E._lexer_0.tryConsumeComma(),re=!1}else re=!0;re&&(D=RY(E,W))}return D&&E._lexer_0.fail$default("Unexpected trailing comma",0,2,null),Iu(),-1}(this,a):p.equals(_w())?function(E){var T,D=!1,W=E._currentIndex%2!=0;if(W?E._currentIndex!==-1&&(D=E._lexer_0.tryConsumeComma()):E._lexer_0.consumeNextToken_0(new Mt(58)),E._lexer_0.canConsumeValue()){if(W)if(E._currentIndex===-1){var re=E._lexer_0,ce=!D,Fe=re._currentPosition;ce||re.fail("Unexpected trailing comma",Fe)}else{var Ue=E._lexer_0,Ve=D,Ke=Ue._currentPosition;Ve||Ue.fail("Expected comma after the key-value pair",Ke)}var tt=E;tt._currentIndex=tt._currentIndex+1|0,T=tt._currentIndex}else D&&E._lexer_0.fail$default("Expected '}', but had ',' instead",0,2,null),Iu(),T=-1;return T}(this):function(E){var T,D=E._lexer_0.tryConsumeComma();if(E._lexer_0.canConsumeValue()){E._currentIndex===-1||D||E._lexer_0.fail$default("Expected end of the array or comma",0,2,null);var W=E;W._currentIndex=W._currentIndex+1|0,T=W._currentIndex}else D&&E._lexer_0.fail$default("Unexpected trailing comma",0,2,null),Iu(),T=-1;return T}(this)},ds.prototype.decodeBoolean_9=function(){return this._configuration_0._isLenient_0?this._lexer_0.consumeBooleanLenient():this._lexer_0.consumeBoolean()},ds.prototype.decodeByte_9=function(){var a=this._lexer_0.consumeNumericLiteral();if(!a.equals(Qs(a.toByte_4()))){var p="Failed to parse byte for input '"+a+"'";this._lexer_0.fail$default(p,0,2,null)}return a.toByte_4()},ds.prototype.decodeShort_9=function(){var a=this._lexer_0.consumeNumericLiteral();if(!a.equals(Qs(a.toShort_4()))){var p="Failed to parse short for input '"+a+"'";this._lexer_0.fail$default(p,0,2,null)}return a.toShort_4()},ds.prototype.decodeInt_9=function(){var a=this._lexer_0.consumeNumericLiteral();if(!a.equals(Qs(a.toInt_5()))){var p="Failed to parse int for input '"+a+"'";this._lexer_0.fail$default(p,0,2,null)}return a.toInt_5()},ds.prototype.decodeLong_9=function(){return this._lexer_0.consumeNumericLiteral()},ds.prototype.decodeFloat_9=function(){var a;e:do{var p=this._lexer_0,E=p.consumeStringLenient();try{a=sh(E);break e}catch(W){if(!(W instanceof Es))throw W;var T="Failed to parse type 'float' for input '"+E+"'";p.fail$default(T,0,2,null)}}while(0);var D=a;if(this._json_0._configuration._allowSpecialFloatingPointValues_0||dv(D))return D;o5(this._lexer_0,D)},ds.prototype.decodeDouble_9=function(){var a;e:do{var p=this._lexer_0,E=p.consumeStringLenient();try{a=sh(E);break e}catch(W){if(!(W instanceof Es))throw W;var T="Failed to parse type 'double' for input '"+E+"'";p.fail$default(T,0,2,null)}}while(0);var D=a;if(this._json_0._configuration._allowSpecialFloatingPointValues_0||a1(D))return D;o5(this._lexer_0,D)},ds.prototype.decodeChar_9=function(){var a=this._lexer_0.consumeStringLenient();if(a.length!==1){var p="Expected single char, but got '"+a+"'";this._lexer_0.fail$default(p,0,2,null)}return ni(a,0)},ds.prototype.decodeString_9=function(){return this._configuration_0._isLenient_0?this._lexer_0.consumeStringLenient():this._lexer_0.consumeString()},ds.prototype.decodeInline_9=function(a){return FT(a)?new Nf(this._lexer_0,this._json_0):qi.prototype.decodeInline_9.call(this,a)},ds.prototype.decodeEnum_9=function(a){return d5(a,this._json_0,this.decodeString_9())},ds.$metadata$={simpleName:"StreamingJsonDecoder",kind:"class",interfaces:[X2]},Nf.prototype._get_serializersModule__18=function(){return this._serializersModule_2},Nf.prototype.decodeElementIndex_9=function(a){throw no(Sr("unsupported"))},Nf.prototype.decodeInt_9=function(){var a;e:do{var p=this._lexer_1,E=p.consumeStringLenient();try{a=U(E);break e}catch(D){if(!(D instanceof Es))throw D;var T="Failed to parse type 'UInt' for input '"+E+"'";p.fail$default(T,0,2,null)}}while(0);return a},Nf.prototype.decodeLong_9=function(){var a;e:do{var p=this._lexer_1,E=p.consumeStringLenient();try{a=H(E);break e}catch(D){if(!(D instanceof Es))throw D;var T="Failed to parse type 'ULong' for input '"+E+"'";p.fail$default(T,0,2,null)}}while(0);return a},Nf.prototype.decodeByte_9=function(){var a;e:do{var p=this._lexer_1,E=p.consumeStringLenient();try{a=me(E);break e}catch(D){if(!(D instanceof Es))throw D;var T="Failed to parse type 'UByte' for input '"+E+"'";p.fail$default(T,0,2,null)}}while(0);return a},Nf.prototype.decodeShort_9=function(){var a;e:do{var p=this._lexer_1,E=p.consumeStringLenient();try{a=je(E);break e}catch(D){if(!(D instanceof Es))throw D;var T="Failed to parse type 'UShort' for input '"+E+"'";p.fail$default(T,0,2,null)}}while(0);return a},Nf.$metadata$={simpleName:"JsonDecoderForUnsignedTypes",kind:"class",interfaces:[]},_s.prototype._get_json__9=function(){return this._json_1},_s.prototype._get_serializersModule__18=function(){return this._serializersModule_3},_s.prototype.shouldEncodeElementDefault_3=function(a,p){return this._configuration_1._encodeDefaults_0},_s.prototype.encodeSerializableValue_3=function(a,p){e:do{if(!(a instanceof vc)||this._get_json__9()._configuration._useArrayPolymorphism_0){a.serialize_107(this,p),fe();break e}var E=y5(this,ir(a,E_)?a:$e(),yn(p)?p:$e());this._writePolymorphic=!0,E.serialize_107(this,p)}while(0)},_s.prototype.beginStructure_14=function(a){var p=x5(this._json_1,a);if(p._begin.equals(new Mt(0))||(this._composer.print_12(p._begin),this._composer.indent_0()),this._writePolymorphic&&(this._writePolymorphic=!1,function(D,W){D._composer.nextItem_0(),D.encodeString_3(D._configuration_1._classDiscriminator_0),D._composer.print_12(new Mt(58)),D._composer.space_0(),D.encodeString_3(W._get_serialName__17())}(this,a)),this._mode_0.equals(p))return this;var E=this._modeReuseCache,T=E==null?null:E[p._get_ordinal__0()];return T==null?new _s(this._composer,this._json_1,p,this._modeReuseCache):T},_s.prototype.endStructure_14=function(a){this._mode_0._end.equals(new Mt(0))||(this._composer.unIndent_0(),this._composer.nextItem_0(),this._composer.print_12(this._mode_0._end))},_s.prototype.encodeElement_2=function(a,p){var E=this._mode_0;if(E.equals(dw()))this._composer._writingFirst||this._composer.print_12(new Mt(44)),this._composer.nextItem_0();else if(E.equals(_w()))if(this._composer._writingFirst)this._forceQuoting=!0,this._composer.nextItem_0();else{var T;p%2==0?(this._composer.print_12(new Mt(44)),this._composer.nextItem_0(),T=!0):(this._composer.print_12(new Mt(58)),this._composer.space_0(),T=!1),this._forceQuoting=T}else E.equals(nP())?(p===0&&(this._forceQuoting=!0),p===1&&(this._composer.print_12(new Mt(44)),this._composer.space_0(),this._forceQuoting=!1)):(this._composer._writingFirst||this._composer.print_12(new Mt(44)),this._composer.nextItem_0(),this.encodeString_3(a.getElementName_17(p)),this._composer.print_12(new Mt(58)),this._composer.space_0());return!0},_s.prototype.encodeInline_3=function(a){return FT(a)?new _s(new zm(this._composer._sb,this._json_1),this._json_1,this._mode_0,null):Di.prototype.encodeInline_3.call(this,a)},_s.prototype.encodeNull_3=function(){this._composer.print_13("null")},_s.prototype.encodeBoolean_3=function(a){this._forceQuoting?this.encodeString_3(a.toString()):this._composer.print_16(a)},_s.prototype.encodeByte_3=function(a){this._forceQuoting?this.encodeString_3(a.toString()):this._composer.print_10(a)},_s.prototype.encodeShort_3=function(a){this._forceQuoting?this.encodeString_3(a.toString()):this._composer.print_11(a)},_s.prototype.encodeInt_3=function(a){this._forceQuoting?this.encodeString_3(a.toString()):this._composer.print_8(a)},_s.prototype.encodeLong_3=function(a){this._forceQuoting?this.encodeString_3(a.toString()):this._composer.print_9(a)},_s.prototype.encodeFloat_3=function(a){if(this._forceQuoting?this.encodeString_3(a.toString()):this._composer.print_14(a),!this._configuration_1._allowSpecialFloatingPointValues_0&&!dv(a))throw n5(a,this._composer._sb.toString())},_s.prototype.encodeDouble_3=function(a){if(this._forceQuoting?this.encodeString_3(a.toString()):this._composer.print_15(a),!this._configuration_1._allowSpecialFloatingPointValues_0&&!a1(a))throw n5(a,this._composer._sb.toString())},_s.prototype.encodeChar_3=function(a){this.encodeString_3(a.toString())},_s.prototype.encodeString_3=function(a){return this._composer.printQuoted_0(a)},_s.prototype.encodeEnum_3=function(a,p){this.encodeString_3(a.getElementName_17(p))},_s.$metadata$={simpleName:"StreamingJsonEncoder",kind:"class",interfaces:[fw]},wi.prototype._get_json__9=function(){return this._json_2},wi.prototype._get_value__15=function(){return this._value_2},wi.prototype._get_serializersModule__18=function(){return this._get_json__9()._get_serializersModule__18()},wi.prototype._get_configuration__3=function(){return this._configuration_2},wi.prototype.decodeJsonElement_5=function(){return Fm(this)},wi.prototype.decodeSerializableValue_18=function(a){return g5(this,a)},wi.prototype.composeName_4=function(a,p){return p},wi.prototype.beginStructure_14=function(a){var p,E=Fm(this),T=a._get_kind__17();if(hr(T,Lf())||T instanceof Tl){var D=this._get_json__9();if(!(E instanceof Bs))throw ey(-1,"Expected "+bi(Bs)+" as the serialized body of "+a._get_serialName__17()+", but had "+Su(E));p=new $p(D,E)}else if(hr(T,ch())){var W,re=this._get_json__9(),ce=w5(a.getElementDescriptor_17(0)),Fe=ce._get_kind__17();if(Fe instanceof fo||hr(Fe,Is())){var Ue=this._get_json__9();if(!(E instanceof Sa))throw ey(-1,"Expected "+bi(Sa)+" as the serialized body of "+a._get_serialName__17()+", but had "+Su(E));W=new yh(Ue,E)}else{if(!re._configuration._allowStructuredMapKeys_0)throw i5(ce);var Ve=this._get_json__9();if(!(E instanceof Bs))throw ey(-1,"Expected "+bi(Bs)+" as the serialized body of "+a._get_serialName__17()+", but had "+Su(E));W=new $p(Ve,E)}p=W}else{var Ke=this._get_json__9();if(!(E instanceof Sa))throw ey(-1,"Expected "+bi(Sa)+" as the serialized body of "+a._get_serialName__17()+", but had "+Su(E));p=b5(Ke,E,null,null,12)}return p},wi.prototype.endStructure_14=function(a){},wi.prototype.decodeNotNullMark_9=function(){return!(Fm(this)instanceof Ud)},wi.prototype.getValue_3=function(a){var p=this.currentElement_3(a),E=p instanceof _f?p:null;if(E==null)throw O_(-1,"Expected JsonPrimitive at "+a+", found "+p,Sr(Fm(this)));return E},wi.prototype.decodeTaggedEnum_6=function(a,p){return d5(p,this._get_json__9(),this.getValue_3(a)._get_content__1())},wi.prototype.decodeTaggedEnum_2=function(a,p){return this.decodeTaggedEnum_6(a!=null&&typeof a=="string"?a:$e(),p)},wi.prototype.decodeTaggedNotNullMark_6=function(a){return this.currentElement_3(a)!==Jg()},wi.prototype.decodeTaggedNotNullMark_2=function(a){return this.decodeTaggedNotNullMark_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedBoolean_6=function(a){var p,E=this.getValue_3(a);if(!this._get_json__9()._configuration._isLenient_0&&(E instanceof xc?E:$e())._isString)throw O_(-1,"Boolean literal for key '"+a+"' should be unquoted.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",Sr(Fm(this)));e:do{var T="boolean";try{var D=Qz(E);if(D==null)throw j2();var W,re=D;re==null?Mf(this,T):W=re,p=W;break e}catch(ce){if(!(ce instanceof Es))throw ce;Mf(this,T)}}while(0);return p},wi.prototype.decodeTaggedBoolean_2=function(a){return this.decodeTaggedBoolean_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedByte_6=function(a){var p;e:do{var E=this.getValue_3(a),T="byte";try{var D,W=PT(E),re=rt()._MIN_VALUE_3,ce=W<=rt()._MAX_VALUE_3&&re<=W?b1(W):null;ce==null?Mf(this,T):D=ce,p=D;break e}catch(Fe){if(!(Fe instanceof Es))throw Fe;Mf(this,T)}}while(0);return p},wi.prototype.decodeTaggedByte_2=function(a){return this.decodeTaggedByte_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedShort_6=function(a){var p;e:do{var E=this.getValue_3(a),T="short";try{var D,W=PT(E),re=gt()._MIN_VALUE_4,ce=W<=gt()._MAX_VALUE_4&&re<=W?Dg(W):null;ce==null?Mf(this,T):D=ce,p=D;break e}catch(Fe){if(!(Fe instanceof Es))throw Fe;Mf(this,T)}}while(0);return p},wi.prototype.decodeTaggedShort_2=function(a){return this.decodeTaggedShort_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedInt_6=function(a){var p;e:do{var E=this.getValue_3(a);try{var T,D=PT(E);D==null?Mf(this,"int"):T=D,p=T;break e}catch(W){if(!(W instanceof Es))throw W;Mf(this,"int")}}while(0);return p},wi.prototype.decodeTaggedInt_2=function(a){return this.decodeTaggedInt_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedLong_6=function(a){var p;e:do{var E=this.getValue_3(a),T="long";try{var D,W=function(re){var ce,Fe=xu(re);return Fe==null?Al(re):ce=Fe,ce}(E._get_content__1());W==null?Mf(this,T):D=W,p=D;break e}catch(re){if(!(re instanceof Es))throw re;Mf(this,T)}}while(0);return p},wi.prototype.decodeTaggedLong_2=function(a){return this.decodeTaggedLong_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedFloat_6=function(a){var p;e:do{var E=this.getValue_3(a),T="float";try{var D,W=sh(E._get_content__1());W==null?Mf(this,T):D=W,p=D;break e}catch(ce){if(!(ce instanceof Es))throw ce;Mf(this,T)}}while(0);var re=p;if(this._get_json__9()._configuration._allowSpecialFloatingPointValues_0||dv(re))return re;throw a5(re,a,Sr(Fm(this)))},wi.prototype.decodeTaggedFloat_2=function(a){return this.decodeTaggedFloat_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedDouble_6=function(a){var p;e:do{var E=this.getValue_3(a),T="double";try{var D,W=sh(E._get_content__1());W==null?Mf(this,T):D=W,p=D;break e}catch(ce){if(!(ce instanceof Es))throw ce;Mf(this,T)}}while(0);var re=p;if(this._get_json__9()._configuration._allowSpecialFloatingPointValues_0||a1(re))return re;throw a5(re,a,Sr(Fm(this)))},wi.prototype.decodeTaggedDouble_2=function(a){return this.decodeTaggedDouble_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedChar_6=function(a){var p;e:do{var E=this.getValue_3(a),T="char";try{var D,W=Se(E._get_content__1());W==null?Mf(this,T):D=W,p=D;break e}catch(re){if(!(re instanceof Es))throw re;Mf(this,T)}}while(0);return p},wi.prototype.decodeTaggedChar_2=function(a){return this.decodeTaggedChar_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedString_6=function(a){var p=this.getValue_3(a);if(!this._get_json__9()._configuration._isLenient_0&&!(p instanceof xc?p:$e())._isString)throw O_(-1,"String literal for key '"+a+"' should be quoted.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",Sr(Fm(this)));return p._get_content__1()},wi.prototype.decodeTaggedString_2=function(a){return this.decodeTaggedString_6(a!=null&&typeof a=="string"?a:$e())},wi.prototype.decodeTaggedInline_6=function(a,p){return FT(p)?new Nf(new Yu(this.getValue_3(a)._get_content__1()),this._get_json__9()):iu.prototype.decodeTaggedInline_2.call(this,a,p)},wi.prototype.decodeTaggedInline_2=function(a,p){return this.decodeTaggedInline_6(a!=null&&typeof a=="string"?a:$e(),p)},wi.$metadata$={simpleName:"AbstractJsonTreeDecoder",kind:"class",interfaces:[X2]},tP.prototype.invoke_97=function(){return _5(this._$boundThis_0)},tP.prototype._get_name__1=function(){return"buildAlternativeNamesMap"},tP.$metadata$={kind:"class",interfaces:[]},mf.prototype._get_value__15=function(){return this._value_3},mf.prototype.decodeElementIndex_9=function(a){for(;this._position_7<a._get_elementsCount__17();){var p=this._position_7;this._position_7=p+1|0;var E=this.getTag_5(a,p),T=this._get_value__15();if((ir(T,Ks)?T:$e()).containsKey_8(E)&&(!this._get_configuration__3()._coerceInputValues_0||!zY(this,a,this._position_7-1|0,E)))return this._position_7-1|0}return Iu(),-1},mf.prototype.elementName_4=function(a,p){var E=a.getElementName_17(p);if(!this._get_configuration__3()._useAlternativeNames_0||this._get_value__15()._get_keys__5().contains_27(E))return E;var T,D,W,re=this._get_json__9()._schemaCache.getOrPut(a,Ts,(T=new tP(a),(D=function(){return T.invoke_97()}).callableName=T._get_name__1(),D)),ce=this._get_value__15()._get_keys__5();e:do{for(var Fe=ce.iterator_39();Fe.hasNext_14();){var Ue=Fe.next_14();if(re.get_17(Ue)===p){W=Ue;break e}}W=null}while(0);return W==null?E:W},mf.prototype.currentElement_3=function(a){return Vl(this._get_value__15(),a)},mf.prototype.beginStructure_14=function(a){return a===this._polyDescriptor?this:wi.prototype.beginStructure_14.call(this,a)},mf.prototype.endStructure_14=function(a){var p;if(this._get_configuration__3()._ignoreUnknownKeys_0||a._get_kind__17()instanceof Tl)return fe();if(this._get_configuration__3()._useAlternativeNames_0){var E=Wg(a),T=this._get_json__9()._schemaCache.get_19(a,Ts),D=T==null?null:T._get_keys__5();p=function(Fe,Ue){var Ve=function(bt){return ir(bt,Ol)?bt._get_size__29():null}(Ue),Ke=Ve==null?null:Fe._get_size__29()+Ve|0,tt=S2(Ke==null?sr(Fe._get_size__29(),2):Ke);return tt.addAll_10(Fe),fe(),Gl(tt,Ue),fe(),tt}(E,D==null?Aa():D)}else p=Wg(a);for(var W=p,re=this._get_value__15()._get_keys__5().iterator_39();re.hasNext_14();){var ce=re.next_14();if(!W.contains_27(ce)&&ce!==this._polyDiscriminator)throw OY(ce,this._get_value__15().toString())}},mf.$metadata$={simpleName:"JsonTreeDecoder",kind:"class",interfaces:[]},$p.prototype._get_value__15=function(){return this._value_4},$p.prototype.elementName_4=function(a,p){return p.toString()},$p.prototype.currentElement_3=function(a){return this._value_4.get_29(tp(a))},$p.prototype.decodeElementIndex_9=function(a){for(;this._currentIndex_0<(this._size_0-1|0);){var p=this._currentIndex_0;return this._currentIndex_0=p+1|0,fe(),this._currentIndex_0}return Iu(),-1},$p.$metadata$={simpleName:"JsonTreeListDecoder",kind:"class",interfaces:[]},Xd.prototype._get_value__15=function(){return this._value_5},Xd.prototype.decodeElementIndex_9=function(a){return 0},Xd.prototype.currentElement_3=function(a){if(a!=="primitive")throw Sn(Sr("This input can only handle primitives with 'primitive' tag"));return this._value_5},Xd.$metadata$={simpleName:"JsonPrimitiveDecoder",kind:"class",interfaces:[]},yh.prototype._get_value__15=function(){return this._value_6},yh.prototype.elementName_4=function(a,p){var E=p/2|0;return this._keys_0.get_29(E)},yh.prototype.decodeElementIndex_9=function(a){for(;this._position_8<(this._size_1-1|0);){var p=this._position_8;return this._position_8=p+1|0,fe(),this._position_8}return Iu(),-1},yh.prototype.currentElement_3=function(a){return this._position_8%2==0?Hz(a):Vl(this._value_6,a)},yh.prototype.endStructure_14=function(a){},yh.$metadata$={simpleName:"JsonTreeMapDecoder",kind:"class",interfaces:[]},ry.$metadata$={simpleName:"WriteMode",kind:"class",interfaces:[]},Xc.prototype._get_json__9=function(){return this._json_3},Xc.prototype._get_serializersModule__18=function(){return this._json_3._get_serializersModule__18()},Xc.prototype.encodeNull_3=function(){this._result=null},Xc.prototype.encodeLong_3=function(a){var p,E=a.toDouble_4();if(!this._json_3._configuration._isLenient_0&&(p=a,p.compareTo_48(new kr(0,0))<0?p.unaryMinus_4():p).toDouble_4()>9007199254740991)throw Sn(a+" can't be deserialized to number due to a potential precision loss. Use the JsonConfiguration option isLenient to serialise anyway");this.encodeValue_2(E)},Xc.prototype.encodeChar_3=function(a){this.encodeValue_2(a.toString())},Xc.prototype.encodeValue_2=function(a){this._result=a},Xc.prototype.encodeEnum_3=function(a,p){this.encodeValue_2(a.getElementName_17(p))},Xc.prototype.endStructure_14=function(a){},Xc.$metadata$={simpleName:"DynamicPrimitiveEncoder",kind:"class",interfaces:[fw]},S5.$metadata$={simpleName:"NoOutputMark",kind:"object",interfaces:[]},iP.prototype._get_parent_=function(){var a=this._parent;if(a!=null)return a;Lg("parent")},iP.$metadata$={simpleName:"Node",kind:"class",interfaces:[]},Dv.$metadata$={simpleName:"WriteMode",kind:"class",interfaces:[]},Hu.prototype._get_json__9=function(){return this._json_4},Hu.prototype._get_serializersModule__18=function(){return this._json_4._get_serializersModule__18()},Hu.prototype.encodeElement_2=function(a,p){var E;return vh(this)._index_3=p,this._currentDescriptor=a,vh(this)._writeMode.equals(UT())?this._currentElementIsMapKey=vh(this)._index_3%2==0:(E=!!vh(this)._writeMode.equals(qT())&&a._get_kind__17()instanceof Tl,this._currentName=E?p.toString():a.getElementName_17(p)),!0},Hu.prototype.encodeValue_2=function(a){this._currentElementIsMapKey?this._currentName=Sr(a):this._result_0===$T()?this._result_0=a:vh(this)._jsObject[this._currentName]=a},Hu.prototype.encodeChar_3=function(a){this.encodeValue_2(a.toString())},Hu.prototype.encodeNull_3=function(){if(this._currentElementIsMapKey)this._currentName=null;else{if(this._encodeNullAsUndefined)return fe();vh(this)._jsObject[this._currentName]=null}},Hu.prototype.encodeEnum_3=function(a,p){this.encodeValue_2(a.getElementName_17(p))},Hu.prototype.encodeLong_3=function(a){var p=a.toDouble_4(),E=Math.abs(p)>9007199254740991;if(!this._json_4._configuration._isLenient_0&&E)throw Sn(a+" can't be serialized to number due to a potential precision loss. Use the JsonConfiguration option isLenient to serialize anyway");if(this._currentElementIsMapKey&&E)throw Sn("Long with value "+a+" can't be used in json as map key, because its value is larger than Number.MAX_SAFE_INTEGER");this.encodeValue_2(p)},Hu.prototype.encodeFloat_3=function(a){this.encodeDouble_3(a)},Hu.prototype.encodeDouble_3=function(a){if(this._currentElementIsMapKey){var p=Math.floor(a)!==a;if(!a1(a)||p)throw Sn("Double with value "+a+" can't be used in json as map key, because its value is not an integer.")}this.encodeValue_2(a)},Hu.prototype.shouldEncodeElementDefault_3=function(a,p){return this._json_4._configuration._encodeDefaults_0},Hu.prototype.encodeSerializableValue_3=function(a,p){e:do{if(!(a instanceof vc)||this._get_json__9()._configuration._useArrayPolymorphism_0){a.serialize_107(this,p),fe();break e}var E=y5(this,ir(a,E_)?a:$e(),yn(p)?p:$e());this._writePolymorphic_0=!0,E.serialize_107(this,p)}while(0)},Hu.prototype.beginStructure_14=function(a){if(this._currentElementIsMapKey)throw Sn("Value of type "+a._get_serialName__17()+" can't be used in json as map key. It should have either primitive or enum kind, but its kind is "+a._get_kind__17()+".");var p=this.selectMode(a);if(this._result_0===$T())this._result_0=E5(0,p),this._current=new iP(p,this._result_0),vh(this)._parent=vh(this);else{var E=E5(0,p);vh(this)._jsObject[this._currentName]=E,function(T,D,W){var re=new iP(W,D);re._parent=vh(T),T._current=re}(this,E,p)}return this._writePolymorphic_0&&(this._writePolymorphic_0=!1,vh(this)._jsObject[this._json_4._configuration._classDiscriminator_0]=a._get_serialName__17()),vh(this)._index_3=0,this},Hu.prototype.endStructure_14=function(a){var p;(p=this)._current=vh(p)._get_parent_(),p._currentElementIsMapKey=!1},Hu.prototype.selectMode=function(a){var p,E=a._get_kind__17();if(hr(E,op())||hr(E,P_())||hr(E,Cs()))p=P5();else if(hr(E,Lf())||E instanceof Tl)p=qT();else if(hr(E,ch()))p=UT();else{if(E instanceof fo||hr(E,Is()))throw no(Sr("DynamicObjectSerializer does not support serialization of singular primitive values or enum types."));Tg()}return p},Hu.$metadata$={simpleName:"DynamicObjectEncoder",kind:"class",interfaces:[fw]},ny.prototype.append_14=function(a){this._sb_0.append_4(a),fe()},ny.prototype.append_15=function(a){this._sb_0.append_1(a),fe()},ny.prototype.append_16=function(a){this._sb_0.append_5(a),fe()},ny.prototype.appendQuoted=function(a){jT(this._sb_0,a)},ny.prototype.toString=function(){return this._sb_0.toString()},ny.prototype.release=function(){},ny.$metadata$={simpleName:"JsonStringBuilder",kind:"class",interfaces:[]},Yd.prototype._get_LOCALIZATION_AR_=function(){return this._LOCALIZATION_AR},Yd.prototype._get_LOCALIZATION_EN_=function(){return this._LOCALIZATION_EN},Yd.prototype._get_LOCALIZATION_FI_=function(){return this._LOCALIZATION_FI},Yd.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Yd.prototype,"LOCALIZATION_AR",{configurable:!0,get:Yd.prototype._get_LOCALIZATION_AR_}),Object.defineProperty(Yd.prototype,"LOCALIZATION_EN",{configurable:!0,get:Yd.prototype._get_LOCALIZATION_EN_}),Object.defineProperty(Yd.prototype,"LOCALIZATION_FI",{configurable:!0,get:Yd.prototype._get_LOCALIZATION_FI_}),aP.prototype.invoke_98=function(a){a._ignoreUnknownKeys=!0},aP.prototype.invoke_103=function(a){return this.invoke_98(a instanceof W2?a:$e()),fe()},aP.$metadata$={kind:"class",interfaces:[]},mw.prototype.generateRoute=function(a,p){return this.generateRoute_0(a,p===void 0?null:p)},mw.prototype.generateRoute_0=function(a,p){var E,T=C_(),D=Ge(T._get_serializersModule__18(),Ql(bi(pl),[Ip(Ql(bi(T_),[],!1))],!1)),W=T.decodeFromString_2(ir(D,Pr)?D:$e(),a),re=p;if(re==null)E=null;else{var ce=C_(),Fe=Ge(ce._get_serializersModule__18(),Ql(bi(T_),[],!1));E=ce.decodeFromString_2(ir(Fe,Pr)?Fe:$e(),re)}var Ue=(E==null&&V(W),new Hv(Y(W),null,V(W),null,null,An()));Ue._wayfindingPath=W;var Ve,Ke,tt,bt,Dt,Nt,lr,Mr,$r,Nn,ur=Ue,mr=i6().convertWayfindingSplitToSteps(ur,!1,!1),Mn=function(sa,Xn,pi){qm.call(pi),pi._destination=sa._destination_0,pi._configuration_3=sa;for(var oo=0,Zu=pi,lp=ia(uo(Xn,10)),yf=0,Sc=Xn.iterator_39();Sc.hasNext_14();){var Ou=Sc.next_14(),Vp=yf;yf=Vp+1|0;var gl,ac=Wr(Vp),Gp=Ou._node.geometry(),Wm=Gp instanceof ou?Gp:$e(),j_=ac===0?0:(wy=Xn.get_29(ac-1|0)._node,cb=Ou._node,Kv=void 0,Jv=void 0,Kv=wy.geometry(),Jv=cb.geometry(),ad().bearing(Kv,Jv)),cd=jY(0,ac,Xn),B_=Ou._level_1,$_=Ou._waypoint!=null,U_=Ou._waypoint,Hd=U_==null?null:U_.id();if(Ou._pathToNode!=null){var bh=ad(),q_=Dr(Ou._pathToNode).geometry();gl=bh.length_0(q_,"meters")}else gl=0;var xh=gl;oo+=xh;var by=!yw(Dr((V_=Ou._node).properties()),"type")||jm(Dr(Dr(V_.properties()).get_16("type")))!=="elevator"&&jm(Dr(Dr(V_.properties()).get_16("type")))!=="escalator"&&jm(Dr(Dr(V_.properties()).get_16("type")))!=="staircase"?null:Dr(Ou._node.id()),xy=Ou._pathToNode;xy!=null&&(pi._lastNodeWithPathIndex=ac),lp.add_18(new Um(j_,Wm,cd,xh,B_,by,$_,Hd,xy)),fe()}var V_,wy,cb,Kv,Jv;return Zu._nodeList=lp,pi._distanceMeters=oo,pi}(new R_(null,V(W),An(),(Ve=!1,Ke=!1,tt=!1,bt=!1,Dt=!1,Nt=!1,lr=!1,Mr=!1,$r=0,Nn=Object.create(Ew.prototype),Ve=!1,Ke=!1,tt=!1,bt=!1,Dt=!1,Nt=!1,lr=!1,Mr=!1,$r=0,Ew.call(Nn,Ve,Ke,tt,bt,Dt,Nt,lr,Mr,$r),Nn)),mr,Object.create(qm.prototype));this._guidanceTextGenerator.generateStaticInstructionsForRoute(Mn);var Wn,Xi,Yn=C_(),Dn=Ge(Yn._get_serializersModule__18(),Ql(bi(qm),[],!1));return Wn=Yn,Xi=ir(Dn,Pr)?Dn:$e(),function(sa,Xn,pi){if(Xn._get_descriptor__66()._get_kind__17()instanceof fo||Xn._get_descriptor__66()._get_kind__17()instanceof ru){var oo=new Xc(sa);return oo.encodeSerializableValue_3(Xn,pi),oo._result}var Zu=new Hu(sa,!1);return Zu.encodeSerializableValue_3(Xn,pi),Zu._result_0}(Wn,Xi,Mn)},mw.prototype.generateRoute$default=function(a,p,E,T){return(2&E)!=0&&(p=null),this.generateRoute_0(a,p)},mw.$metadata$={simpleName:"RouteFactory",kind:"class",interfaces:[]},sP.prototype.getQuantityString=function(a,p){return p===0?"ZERO":p===1?"ONE":p===2?"TWO":2<=p&&p<=4?"FEW":5<=p&&p<=100?"MANY":"OTHER"},sP.$metadata$={simpleName:"Resources",kind:"class",interfaces:[]},Z1.prototype._get_resources_=function(){return this._resources},Z1.$metadata$={simpleName:"Context",kind:"class",interfaces:[]},Object.defineProperty(Z1.prototype,"resources",{configurable:!0,get:Z1.prototype._get_resources_}),GT.prototype.e=function(a,p){(function(){var E=console;return E.log.apply(E,[].concat([a,p]))}).call(this)},GT.$metadata$={simpleName:"Log",kind:"object",interfaces:[]},WT.prototype.fromGeometry=function(a){var p=new T_;return p._internalGeometry=a,p},WT.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},iy.prototype._get_descriptor__66=function(){return this._descriptor_33},iy.prototype.childSerializers_15=function(){return[Bt(),new Ta(Bt()),new Ta(Bm()),new Ta(Vd())]},iy.prototype.deserialize_70=function(a){var p,E,T,D,W,re,ce=this._descriptor_33,Fe=!0,Ue=0,Ve=0,Ke=null,tt=null,bt=null,Dt=null,Nt=a.beginStructure_14(ce);if(Nt.decodeSequentially_9())Ke=Nt.decodeStringElement_9(ce,0),Ve|=1,tt=Nt.decodeNullableSerializableElement_9(ce,1,Bt(),tt),Ve|=2,bt=Nt.decodeNullableSerializableElement_9(ce,2,Bm(),bt),Ve|=4,Dt=Nt.decodeNullableSerializableElement_9(ce,3,Vd(),Dt),Ve|=8;else for(;Fe;)switch(Ue=Nt.decodeElementIndex_9(ce)){case-1:Fe=!1;break;case 0:Ke=Nt.decodeStringElement_9(ce,0),Ve|=1;break;case 1:tt=Nt.decodeNullableSerializableElement_9(ce,1,Bt(),tt),Ve|=2;break;case 2:bt=Nt.decodeNullableSerializableElement_9(ce,2,Bm(),bt),Ve|=4;break;case 3:Dt=Nt.decodeNullableSerializableElement_9(ce,3,Vd(),Dt),Ve|=8;break;default:throw B(Ue)}return Nt.endStructure_14(ce),p=Ve,E=Ke,T=tt,D=bt,W=Dt,(re=Object.create(T_.prototype))._type_0=(1&p)==0?"Feature":E,re._internalId=(2&p)==0?null:T,re._internalGeometry=(4&p)==0?null:D,re._internalProperties=(8&p)==0?new Sa(Qi()):W,re},iy.prototype.serialize_77=function(a,p){var E=this._descriptor_33,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._type_0!=="Feature")&&T.encodeStringElement_3(E,0,p._type_0),(T.shouldEncodeElementDefault_3(E,1)||p._internalId!=null)&&T.encodeNullableSerializableElement_3(E,1,Bt(),p._internalId),(T.shouldEncodeElementDefault_3(E,2)||p._internalGeometry!=null)&&T.encodeNullableSerializableElement_3(E,2,Bm(),p._internalGeometry),(!!T.shouldEncodeElementDefault_3(E,3)||!hr(p._internalProperties,new Sa(Qi())))&&T.encodeNullableSerializableElement_3(E,3,Vd(),p._internalProperties),T.endStructure_14(E)},iy.prototype.serialize_107=function(a,p){return this.serialize_77(a,p instanceof T_?p:$e())},iy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},T_.prototype.getStringProperty=function(a){var p=this._internalProperties,E=p==null?null:p.get_16(a);return E==null?null:Sr(E)},T_.prototype.id=function(){return this._internalId},T_.prototype.geometry=function(){return this._internalGeometry},T_.prototype.properties=function(){return this._internalProperties},T_.$metadata$={simpleName:"Feature",kind:"class",interfaces:[],associatedObjects:{0:gf}},up.$metadata$={simpleName:"Geometry",kind:"class",interfaces:[],associatedObjects:{0:Bm}},K1.prototype.selectDeserializer_0=function(a){var p,E=Kz(a).get_16("type");switch(E==null?null:jm(E)){case"Point":p=fP().serializer();break;case"LineString":p=lP().serializer_3();break;case"MultiLineString":p=(Ls==null&&new XT,Ls).serializer_3();break;case"Polygon":p=(il==null&&new HT,il).serializer_3();break;case"MultiPolygon":p=(nl==null&&new YT,nl).serializer_3();break;default:var T=Kz(a).get_16("type"),D="error deserializing "+(T==null?null:Sr(T));throw no(Sr(D))}return p},K1.$metadata$={simpleName:"GeometryDeserializer",kind:"object",interfaces:[]},uP.prototype.fromLngLats=function(a){for(var p=new L_,E=p,T=ia(uo(a,10)),D=a.iterator_39();D.hasNext_14();){var W=D.next_14(),re=[W._coordinates_0[0],W._coordinates_0[1]];T.add_18(re),fe()}var ce=T;return E._internalCoordinates=fi(ce),p},uP.prototype.serializer_3=function(){return A5()},uP.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},oy.prototype._get_descriptor__66=function(){return this._descriptor_34},oy.prototype.childSerializers_15=function(){return[Bt(),new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga()))]},oy.prototype.deserialize_70=function(a){var p=this._descriptor_34,E=!0,T=0,D=0,W=null,re=null,ce=a.beginStructure_14(p);if(ce.decodeSequentially_9())W=ce.decodeStringElement_9(p,0),D|=1,re=ce.decodeSerializableElement_9(p,1,new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga())),re),D|=2;else for(;E;)switch(T=ce.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=ce.decodeStringElement_9(p,0),D|=1;break;case 1:re=ce.decodeSerializableElement_9(p,1,new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga())),re),D|=2;break;default:throw B(T)}return ce.endStructure_14(p),function(Fe,Ue,Ve,Ke,tt){return up.call(tt),tt._type_1=(1&Fe)==0?"LineString":Ue,(2&Fe)==0?tt._internalCoordinates=[]:tt._internalCoordinates=Ve,tt}(D,W,re,0,Object.create(L_.prototype))},oy.prototype.serialize_80=function(a,p){var E=this._descriptor_34,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._type_1!=="LineString")&&T.encodeStringElement_3(E,0,p._type_1),(!!T.shouldEncodeElementDefault_3(E,1)||!hr(p._internalCoordinates,[]))&&T.encodeSerializableElement_3(E,1,new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga())),p._internalCoordinates),T.endStructure_14(E)},oy.prototype.serialize_107=function(a,p){return this.serialize_80(a,p instanceof L_?p:$e())},oy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},L_.prototype.coordinates_0=function(){for(var a=this._internalCoordinates,p=ia(a.length),E=a,T=0,D=E.length;T<D;){var W=E[T];T=T+1|0,p.add_18(fP().fromLngLat(W[0],W[1])),fe()}return p},L_.$metadata$={simpleName:"LineString",kind:"class",interfaces:[],associatedObjects:{0:A5}},XT.prototype.serializer_3=function(){return O5()},XT.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},ay.prototype._get_descriptor__66=function(){return this._descriptor_35},ay.prototype.childSerializers_15=function(){return[Bt(),new qn(un()._get_arrayClass_(),new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga())))]},ay.prototype.deserialize_70=function(a){var p=this._descriptor_35,E=!0,T=0,D=0,W=null,re=null,ce=a.beginStructure_14(p);if(ce.decodeSequentially_9())W=ce.decodeStringElement_9(p,0),D|=1,re=ce.decodeSerializableElement_9(p,1,new qn(un()._get_arrayClass_(),new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga()))),re),D|=2;else for(;E;)switch(T=ce.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=ce.decodeStringElement_9(p,0),D|=1;break;case 1:re=ce.decodeSerializableElement_9(p,1,new qn(un()._get_arrayClass_(),new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga()))),re),D|=2;break;default:throw B(T)}return ce.endStructure_14(p),function(Fe,Ue,Ve,Ke,tt){return up.call(tt),tt._type_2=(1&Fe)==0?"MultiLineString":Ue,(2&Fe)==0?tt._internalCoordinates_0=[]:tt._internalCoordinates_0=Ve,tt}(D,W,re,0,Object.create(J1.prototype))},ay.prototype.serialize_82=function(a,p){var E=this._descriptor_35,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._type_2!=="MultiLineString")&&T.encodeStringElement_3(E,0,p._type_2),(!!T.shouldEncodeElementDefault_3(E,1)||!hr(p._internalCoordinates_0,[]))&&T.encodeSerializableElement_3(E,1,new qn(un()._get_arrayClass_(),new qn(un()._get_arrayClass_(),new qn(un()._get_doubleClass_(),Ga()))),p._internalCoordinates_0),T.endStructure_14(E)},ay.prototype.serialize_107=function(a,p){return this.serialize_82(a,p instanceof J1?p:$e())},ay.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},J1.$metadata$={simpleName:"MultiLineString",kind:"class",interfaces:[],associatedObjects:{0:O5}},YT.prototype.serializer_3=function(){return k5()},YT.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},sy.prototype._get_descriptor__66=function(){return this._descriptor_36},sy.prototype.childSerializers_15=function(){return[Bt(),new Vn(new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga()))))]},sy.prototype.deserialize_70=function(a){var p,E,T,D,W=this._descriptor_36,re=!0,ce=0,Fe=0,Ue=null,Ve=null,Ke=a.beginStructure_14(W);if(Ke.decodeSequentially_9())Ue=Ke.decodeStringElement_9(W,0),Fe|=1,Ve=Ke.decodeSerializableElement_9(W,1,new Vn(new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga())))),Ve),Fe|=2;else for(;re;)switch(ce=Ke.decodeElementIndex_9(W)){case-1:re=!1;break;case 0:Ue=Ke.decodeStringElement_9(W,0),Fe|=1;break;case 1:Ve=Ke.decodeSerializableElement_9(W,1,new Vn(new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga())))),Ve),Fe|=2;break;default:throw B(ce)}return Ke.endStructure_14(W),p=Fe,E=Ue,T=Ve,D=Object.create(Q1.prototype),up.call(D),D._type_3=(1&p)==0?"MultiPolygon":E,D._coordinates=(2&p)==0?An():T,D},sy.prototype.serialize_84=function(a,p){var E=this._descriptor_36,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._type_3!=="MultiPolygon")&&T.encodeStringElement_3(E,0,p._type_3),(!!T.shouldEncodeElementDefault_3(E,1)||!hr(p._coordinates,An()))&&T.encodeSerializableElement_3(E,1,new Vn(new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga())))),p._coordinates),T.endStructure_14(E)},sy.prototype.serialize_107=function(a,p){return this.serialize_84(a,p instanceof Q1?p:$e())},sy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},Q1.$metadata$={simpleName:"MultiPolygon",kind:"class",interfaces:[],associatedObjects:{0:k5}},cP.prototype.fromLngLat=function(a,p){var E=new ou,T=[a,p];return E._coordinates_0=T,E},cP.prototype.serializer=function(){return eb()},cP.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},N_.prototype._get_descriptor__66=function(){return this._descriptor_37},N_.prototype.childSerializers_15=function(){return[Bt(),new qn(un()._get_doubleClass_(),Ga())]},N_.prototype.deserialize_70=function(a){var p=this._descriptor_37,E=!0,T=0,D=0,W=null,re=null,ce=a.beginStructure_14(p);if(ce.decodeSequentially_9())W=ce.decodeStringElement_9(p,0),D|=1,re=ce.decodeSerializableElement_9(p,1,new qn(un()._get_doubleClass_(),Ga()),re),D|=2;else for(;E;)switch(T=ce.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=ce.decodeStringElement_9(p,0),D|=1;break;case 1:re=ce.decodeSerializableElement_9(p,1,new qn(un()._get_doubleClass_(),Ga()),re),D|=2;break;default:throw B(T)}return ce.endStructure_14(p),T5(D,W,re)},N_.prototype.serialize_86=function(a,p){var E=this._descriptor_37,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._type_4!=="Point")&&T.encodeStringElement_3(E,0,p._type_4),(!!T.shouldEncodeElementDefault_3(E,1)||!hr(p._coordinates_0,[]))&&T.encodeSerializableElement_3(E,1,new qn(un()._get_doubleClass_(),Ga()),p._coordinates_0),T.endStructure_14(E)},N_.prototype.serialize_107=function(a,p){return this.serialize_86(a,p instanceof ou?p:$e())},N_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},Object.defineProperty(N_.prototype,"descriptor",{configurable:!0,get:N_.prototype._get_descriptor__66}),ou.prototype._set_type_=function(a){this._type_4=a},ou.prototype._get_type_=function(){return this._type_4},ou.prototype._set_coordinates_=function(a){this._coordinates_0=a},ou.prototype._get_coordinates_=function(){return this._coordinates_0},ou.$metadata$={simpleName:"Point",kind:"class",interfaces:[],associatedObjects:{0:eb}},Object.defineProperty(ou.prototype,"type",{configurable:!0,get:ou.prototype._get_type_,set:ou.prototype._set_type_}),Object.defineProperty(ou.prototype,"coordinates",{configurable:!0,get:ou.prototype._get_coordinates_,set:ou.prototype._set_coordinates_}),HT.prototype.serializer_3=function(){return L5()},HT.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},uy.prototype._get_descriptor__66=function(){return this._descriptor_38},uy.prototype.childSerializers_15=function(){return[Bt(),new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga())))]},uy.prototype.deserialize_70=function(a){var p,E,T,D,W=this._descriptor_38,re=!0,ce=0,Fe=0,Ue=null,Ve=null,Ke=a.beginStructure_14(W);if(Ke.decodeSequentially_9())Ue=Ke.decodeStringElement_9(W,0),Fe|=1,Ve=Ke.decodeSerializableElement_9(W,1,new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga()))),Ve),Fe|=2;else for(;re;)switch(ce=Ke.decodeElementIndex_9(W)){case-1:re=!1;break;case 0:Ue=Ke.decodeStringElement_9(W,0),Fe|=1;break;case 1:Ve=Ke.decodeSerializableElement_9(W,1,new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga()))),Ve),Fe|=2;break;default:throw B(ce)}return Ke.endStructure_14(W),p=Fe,E=Ue,T=Ve,D=Object.create(tb.prototype),up.call(D),D._type_5=(1&p)==0?"Polygon":E,D._coordinates_1=(2&p)==0?An():T,D},uy.prototype.serialize_88=function(a,p){var E=this._descriptor_38,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._type_5!=="Polygon")&&T.encodeStringElement_3(E,0,p._type_5),(!!T.shouldEncodeElementDefault_3(E,1)||!hr(p._coordinates_1,An()))&&T.encodeSerializableElement_3(E,1,new Vn(new Vn(new qn(un()._get_doubleClass_(),Ga()))),p._coordinates_1),T.endStructure_14(E)},uy.prototype.serialize_107=function(a,p){return this.serialize_88(a,p instanceof tb?p:$e())},uy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},tb.$metadata$={simpleName:"Polygon",kind:"class",interfaces:[],associatedObjects:{0:L5}},vw.prototype.distance=function(a,p,E){return sh(Sr(function(T,D,W){return r.distance(T,D,W)}(a._coordinates_0,p._coordinates_0,E)))},vw.prototype.length_0=function(a,p){return sh(Sr(function(E,T){return r.length(r.lineString(E),{units:T})}(a._internalCoordinates,p)))},vw.prototype.bearing=function(a,p){return sh(Sr((E=a._coordinates_0,T=p._coordinates_0,r.bearing(E,T))));var E,T},vw.$metadata$={simpleName:"TurfMeasurement",kind:"object",interfaces:[]},ZT.prototype.nearestPointOnLine=function(a,p){return function(E,T){return r.nearestPointOnLine(E,T)}(lP().fromLngLats(p),a)},ZT.$metadata$={simpleName:"TurfMisc",kind:"object",interfaces:[]},pP.prototype.escapeHTML=function(a){return this},pP.prototype.compile=function(a){return new bw(a==null?"":a)},pP.$metadata$={simpleName:"Compiler",kind:"class",interfaces:[]},bw.prototype.execute=function(a){this._template;var p=N5(this,a),E=C_(),T=Ge(E._get_serializersModule__18(),Ql(bi(Sa),[],!1)),D=E.encodeToString_2(ir(T,Pr)?T:$e(),p);return this.execute_1(D)},bw.prototype.execute_0=function(a){this._template;var p=C_(),E=Ge(p._get_serializersModule__18(),Ql(bi(Ks),[Ip(Ql(un()._get_stringClass_(),[],!1)),Ip(Ql(un()._get_stringClass_(),[],!0))],!1)),T=p.encodeToString_2(ir(E,Pr)?E:$e(),a);return this.execute_1(T)},bw.prototype.execute_1=function(a){return Sr((p=this._template,E=a,n.render(p,JSON.parse(E))));var p,E},bw.$metadata$={simpleName:"Template",kind:"class",interfaces:[]},KT.prototype.compiler=function(){return new pP},KT.$metadata$={simpleName:"Mustache",kind:"object",interfaces:[]},M5.$metadata$={simpleName:"Plurals",kind:"class",interfaces:[]},R5.$metadata$={simpleName:"R",kind:"object",interfaces:[]},ly.prototype._get_descriptor__66=function(){return this._descriptor_39},ly.prototype.childSerializers_15=function(){return[new Ta(Bt()),new Ta(Bm()),new Ta(Vd())]},ly.prototype.deserialize_70=function(a){var p,E,T,D,W,re=this._descriptor_39,ce=!0,Fe=0,Ue=0,Ve=null,Ke=null,tt=null,bt=a.beginStructure_14(re);if(bt.decodeSequentially_9())Ve=bt.decodeNullableSerializableElement_9(re,0,Bt(),Ve),Ue|=1,Ke=bt.decodeNullableSerializableElement_9(re,1,Bm(),Ke),Ue|=2,tt=bt.decodeNullableSerializableElement_9(re,2,Vd(),tt),Ue|=4;else for(;ce;)switch(Fe=bt.decodeElementIndex_9(re)){case-1:ce=!1;break;case 0:Ve=bt.decodeNullableSerializableElement_9(re,0,Bt(),Ve),Ue|=1;break;case 1:Ke=bt.decodeNullableSerializableElement_9(re,1,Bm(),Ke),Ue|=2;break;case 2:tt=bt.decodeNullableSerializableElement_9(re,2,Vd(),tt),Ue|=4;break;default:throw B(Fe)}return bt.endStructure_14(re),p=Ue,E=Ve,T=Ke,D=tt,(W=Object.create(sd.prototype))._id=(1&p)==0?null:E,W._featureGeometry=(2&p)==0?null:T,W._featureProperties=(4&p)==0?null:D,W},ly.prototype.serialize_90=function(a,p){var E=this._descriptor_39,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._id!=null)&&T.encodeNullableSerializableElement_3(E,0,Bt(),p._id),(T.shouldEncodeElementDefault_3(E,1)||p._featureGeometry!=null)&&T.encodeNullableSerializableElement_3(E,1,Bm(),p._featureGeometry),(T.shouldEncodeElementDefault_3(E,2)||p._featureProperties!=null)&&T.encodeNullableSerializableElement_3(E,2,Vd(),p._featureProperties),T.endStructure_14(E)},ly.prototype.serialize_107=function(a,p){return this.serialize_90(a,p instanceof sd?p:$e())},ly.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},sd.prototype.getLevel=function(){throw no(Sr("dummy function!"))},sd.prototype.getTitle=function(){throw no(Sr("dummy function!"))},sd.prototype.getLevels=function(){throw no(Sr("dummy function!"))},sd.prototype.getType=function(){var a=this._featureProperties,p=(a==null||a.get_16("type"),this._featureProperties),E=p==null?null:p.get_16("type");switch(E==null?null:jm(E)){case"decision":return z5();case"door":return ud(),Qc;case"elevator":return JT();case"entrance":return ud(),Nc;case"escalator":return QT();case"hazard":return F5();case"landmark":return ud(),ao;case"poi":return ud(),Vi;case"staircase":return eL();case"ticket_gate":return ud(),Gs;case"outdoor_connector":return ud(),Vs;default:return ud(),Sl}},sd.prototype.getRange=function(){throw no(Sr("dummy function!"))},sd.prototype.pointToPointDistance=function(a){var p=this._featureGeometry;return p==null?null:p instanceof ou?ad().distance(p,a,"meters"):null},sd.$metadata$={simpleName:"Feature",kind:"class",interfaces:[],associatedObjects:{0:function(){return bp==null&&new ly,bp}}},cy.prototype._get_descriptor__66=function(){return this._descriptor_40},cy.prototype.childSerializers_15=function(){return[new Ta(Bt()),new Ta(Bt()),new Ta(Bt()),new Ta(Bt()),new Ta(Bt()),new Ta(Bt())]},cy.prototype.deserialize_70=function(a){var p=this._descriptor_40,E=!0,T=0,D=0,W=null,re=null,ce=null,Fe=null,Ue=null,Ve=null,Ke=a.beginStructure_14(p);if(Ke.decodeSequentially_9())W=Ke.decodeNullableSerializableElement_9(p,0,Bt(),W),D|=1,re=Ke.decodeNullableSerializableElement_9(p,1,Bt(),re),D|=2,ce=Ke.decodeNullableSerializableElement_9(p,2,Bt(),ce),D|=4,Fe=Ke.decodeNullableSerializableElement_9(p,3,Bt(),Fe),D|=8,Ue=Ke.decodeNullableSerializableElement_9(p,4,Bt(),Ue),D|=16,Ve=Ke.decodeNullableSerializableElement_9(p,5,Bt(),Ve),D|=32;else for(;E;)switch(T=Ke.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=Ke.decodeNullableSerializableElement_9(p,0,Bt(),W),D|=1;break;case 1:re=Ke.decodeNullableSerializableElement_9(p,1,Bt(),re),D|=2;break;case 2:ce=Ke.decodeNullableSerializableElement_9(p,2,Bt(),ce),D|=4;break;case 3:Fe=Ke.decodeNullableSerializableElement_9(p,3,Bt(),Fe),D|=8;break;case 4:Ue=Ke.decodeNullableSerializableElement_9(p,4,Bt(),Ue),D|=16;break;case 5:Ve=Ke.decodeNullableSerializableElement_9(p,5,Bt(),Ve),D|=32;break;default:throw B(T)}return Ke.endStructure_14(p),function(tt,bt,Dt,Nt,lr,Mr,$r,Nn,ur){if((1&tt)==0)throw K("zero");if(ur._zero=bt,(2&tt)==0)throw K("one");if(ur._one=Dt,(4&tt)==0)throw K("two");if(ur._two=Nt,(8&tt)==0)throw K("few");if(ur._few=lr,(16&tt)==0)throw K("more");if(ur._many=Mr,(32&tt)==0)throw K("other");return ur._other=$r,ur}(D,W,re,ce,Fe,Ue,Ve,0,Object.create(M_.prototype))},cy.prototype.serialize_92=function(a,p){var E=this._descriptor_40,T=a.beginStructure_14(E);T.encodeNullableSerializableElement_3(E,0,Bt(),p._zero),T.encodeNullableSerializableElement_3(E,1,Bt(),p._one),T.encodeNullableSerializableElement_3(E,2,Bt(),p._two),T.encodeNullableSerializableElement_3(E,3,Bt(),p._few),T.encodeNullableSerializableElement_3(E,4,Bt(),p._many),T.encodeNullableSerializableElement_3(E,5,Bt(),p._other),T.endStructure_14(E)},cy.prototype.serialize_107=function(a,p){return this.serialize_92(a,p instanceof M_?p:$e())},cy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},M_.prototype.getStringForQuantity=function(a,p){return this.getStringForQuantity_0(a,o1(p))},M_.prototype.getStringForQuantity_0=function(a,p){var E,T,D=a._resources.getQuantityString((_a==null&&new R5,_a)._plurals._proximi_quantities,p);switch(D){case"ZERO":E=this._zero;break;case"ONE":E=this._one;break;case"TWO":E=this._two;break;case"FEW":E=this._few;break;case"MANY":E=this._many;break;case"OTHER":E=this._other;break;default:E=null}return E!=null?T=E:((vp==null&&new GT,vp).e("GuidanceTranslation","Missing translation for quantity "+D),T=""),T},M_.prototype.toString=function(){return"QuantityString(zero="+this._zero+", one="+this._one+", two="+this._two+", few="+this._few+", many="+this._many+", other="+this._other+")"},M_.prototype.hashCode=function(){var a=this._zero==null?0:ca(this._zero);return a=sr(a,31)+(this._one==null?0:ca(this._one))|0,a=sr(a,31)+(this._two==null?0:ca(this._two))|0,a=sr(a,31)+(this._few==null?0:ca(this._few))|0,a=sr(a,31)+(this._many==null?0:ca(this._many))|0,sr(a,31)+(this._other==null?0:ca(this._other))|0},M_.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof M_))return!1;var p=a instanceof M_?a:$e();return this._zero==p._zero&&this._one==p._one&&this._two==p._two&&this._few==p._few&&this._many==p._many&&this._other==p._other},M_.$metadata$={simpleName:"QuantityString",kind:"class",interfaces:[],associatedObjects:{0:$m}},fy.prototype._get_descriptor__66=function(){return this._descriptor_41},fy.prototype.childSerializers_15=function(){return[Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),new Ta(Bt()),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),new Ta(Bt()),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),Bt(),$m(),new js(Bt(),$m())]},fy.prototype.deserialize_70=function(a){var p=this._descriptor_41,E=!0,T=0,D=0,W=0,re=null,ce=null,Fe=null,Ue=null,Ve=null,Ke=null,tt=null,bt=null,Dt=null,Nt=null,lr=null,Mr=null,$r=null,Nn=null,ur=null,mr=null,Mn=null,Wn=null,Xi=null,Yn=null,Dn=null,sa=null,Xn=null,pi=null,oo=null,Zu=null,lp=null,yf=null,Sc=null,Ou=null,Vp=null,gl=null,ac=null,Gp=null,Wm=null,j_=null,cd=null,B_=null,$_=null,U_=null,Hd=null,bh=null,q_=null,xh=null,by=null,xy=null,V_=null,wy=null,cb=null,Kv=null,Jv=null,fL=null,pL=null,hL=null,dL=null,_L=null,mL=null,gL=null,yL=null,vL=null,bL=null,xL=null,Cw=null,Aw=null,qt=a.beginStructure_14(p);if(qt.decodeSequentially_9())re=qt.decodeStringElement_9(p,0),D|=1,ce=qt.decodeStringElement_9(p,1),D|=2,Fe=qt.decodeStringElement_9(p,2),D|=4,Ue=qt.decodeStringElement_9(p,3),D|=8,Ve=qt.decodeStringElement_9(p,4),D|=16,Ke=qt.decodeStringElement_9(p,5),D|=32,tt=qt.decodeStringElement_9(p,6),D|=64,bt=qt.decodeStringElement_9(p,7),D|=128,Dt=qt.decodeStringElement_9(p,8),D|=256,Nt=qt.decodeStringElement_9(p,9),D|=512,lr=qt.decodeStringElement_9(p,10),D|=1024,Mr=qt.decodeStringElement_9(p,11),D|=2048,$r=qt.decodeNullableSerializableElement_9(p,12,Bt(),$r),D|=4096,Nn=qt.decodeStringElement_9(p,13),D|=8192,ur=qt.decodeStringElement_9(p,14),D|=16384,mr=qt.decodeStringElement_9(p,15),D|=32768,Mn=qt.decodeStringElement_9(p,16),D|=65536,Wn=qt.decodeStringElement_9(p,17),D|=131072,Xi=qt.decodeStringElement_9(p,18),D|=262144,Yn=qt.decodeStringElement_9(p,19),D|=524288,Dn=qt.decodeStringElement_9(p,20),D|=1048576,sa=qt.decodeStringElement_9(p,21),D|=2097152,Xn=qt.decodeStringElement_9(p,22),D|=4194304,pi=qt.decodeStringElement_9(p,23),D|=8388608,oo=qt.decodeStringElement_9(p,24),D|=16777216,Zu=qt.decodeNullableSerializableElement_9(p,25,Bt(),Zu),D|=33554432,lp=qt.decodeStringElement_9(p,26),D|=67108864,yf=qt.decodeStringElement_9(p,27),D|=134217728,Sc=qt.decodeStringElement_9(p,28),D|=268435456,Ou=qt.decodeStringElement_9(p,29),D|=536870912,Vp=qt.decodeStringElement_9(p,30),D|=1073741824,gl=qt.decodeStringElement_9(p,31),D|=-2147483648,ac=qt.decodeStringElement_9(p,32),W|=1,Gp=qt.decodeStringElement_9(p,33),W|=2,Wm=qt.decodeStringElement_9(p,34),W|=4,j_=qt.decodeStringElement_9(p,35),W|=8,cd=qt.decodeStringElement_9(p,36),W|=16,B_=qt.decodeStringElement_9(p,37),W|=32,$_=qt.decodeStringElement_9(p,38),W|=64,U_=qt.decodeStringElement_9(p,39),W|=128,Hd=qt.decodeStringElement_9(p,40),W|=256,bh=qt.decodeStringElement_9(p,41),W|=512,q_=qt.decodeStringElement_9(p,42),W|=1024,xh=qt.decodeStringElement_9(p,43),W|=2048,by=qt.decodeStringElement_9(p,44),W|=4096,xy=qt.decodeStringElement_9(p,45),W|=8192,V_=qt.decodeStringElement_9(p,46),W|=16384,wy=qt.decodeStringElement_9(p,47),W|=32768,cb=qt.decodeStringElement_9(p,48),W|=65536,Kv=qt.decodeStringElement_9(p,49),W|=131072,Jv=qt.decodeStringElement_9(p,50),W|=262144,fL=qt.decodeStringElement_9(p,51),W|=524288,pL=qt.decodeStringElement_9(p,52),W|=1048576,hL=qt.decodeStringElement_9(p,53),W|=2097152,dL=qt.decodeStringElement_9(p,54),W|=4194304,_L=qt.decodeStringElement_9(p,55),W|=8388608,mL=qt.decodeStringElement_9(p,56),W|=16777216,gL=qt.decodeStringElement_9(p,57),W|=33554432,yL=qt.decodeStringElement_9(p,58),W|=67108864,vL=qt.decodeStringElement_9(p,59),W|=134217728,bL=qt.decodeStringElement_9(p,60),W|=268435456,xL=qt.decodeStringElement_9(p,61),W|=536870912,Cw=qt.decodeSerializableElement_9(p,62,$m(),Cw),W|=1073741824,Aw=qt.decodeSerializableElement_9(p,63,new js(Bt(),$m()),Aw),W|=-2147483648;else for(;E;)switch(T=qt.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:re=qt.decodeStringElement_9(p,0),D|=1;break;case 1:ce=qt.decodeStringElement_9(p,1),D|=2;break;case 2:Fe=qt.decodeStringElement_9(p,2),D|=4;break;case 3:Ue=qt.decodeStringElement_9(p,3),D|=8;break;case 4:Ve=qt.decodeStringElement_9(p,4),D|=16;break;case 5:Ke=qt.decodeStringElement_9(p,5),D|=32;break;case 6:tt=qt.decodeStringElement_9(p,6),D|=64;break;case 7:bt=qt.decodeStringElement_9(p,7),D|=128;break;case 8:Dt=qt.decodeStringElement_9(p,8),D|=256;break;case 9:Nt=qt.decodeStringElement_9(p,9),D|=512;break;case 10:lr=qt.decodeStringElement_9(p,10),D|=1024;break;case 11:Mr=qt.decodeStringElement_9(p,11),D|=2048;break;case 12:$r=qt.decodeNullableSerializableElement_9(p,12,Bt(),$r),D|=4096;break;case 13:Nn=qt.decodeStringElement_9(p,13),D|=8192;break;case 14:ur=qt.decodeStringElement_9(p,14),D|=16384;break;case 15:mr=qt.decodeStringElement_9(p,15),D|=32768;break;case 16:Mn=qt.decodeStringElement_9(p,16),D|=65536;break;case 17:Wn=qt.decodeStringElement_9(p,17),D|=131072;break;case 18:Xi=qt.decodeStringElement_9(p,18),D|=262144;break;case 19:Yn=qt.decodeStringElement_9(p,19),D|=524288;break;case 20:Dn=qt.decodeStringElement_9(p,20),D|=1048576;break;case 21:sa=qt.decodeStringElement_9(p,21),D|=2097152;break;case 22:Xn=qt.decodeStringElement_9(p,22),D|=4194304;break;case 23:pi=qt.decodeStringElement_9(p,23),D|=8388608;break;case 24:oo=qt.decodeStringElement_9(p,24),D|=16777216;break;case 25:Zu=qt.decodeNullableSerializableElement_9(p,25,Bt(),Zu),D|=33554432;break;case 26:lp=qt.decodeStringElement_9(p,26),D|=67108864;break;case 27:yf=qt.decodeStringElement_9(p,27),D|=134217728;break;case 28:Sc=qt.decodeStringElement_9(p,28),D|=268435456;break;case 29:Ou=qt.decodeStringElement_9(p,29),D|=536870912;break;case 30:Vp=qt.decodeStringElement_9(p,30),D|=1073741824;break;case 31:gl=qt.decodeStringElement_9(p,31),D|=-2147483648;break;case 32:ac=qt.decodeStringElement_9(p,32),W|=1;break;case 33:Gp=qt.decodeStringElement_9(p,33),W|=2;break;case 34:Wm=qt.decodeStringElement_9(p,34),W|=4;break;case 35:j_=qt.decodeStringElement_9(p,35),W|=8;break;case 36:cd=qt.decodeStringElement_9(p,36),W|=16;break;case 37:B_=qt.decodeStringElement_9(p,37),W|=32;break;case 38:$_=qt.decodeStringElement_9(p,38),W|=64;break;case 39:U_=qt.decodeStringElement_9(p,39),W|=128;break;case 40:Hd=qt.decodeStringElement_9(p,40),W|=256;break;case 41:bh=qt.decodeStringElement_9(p,41),W|=512;break;case 42:q_=qt.decodeStringElement_9(p,42),W|=1024;break;case 43:xh=qt.decodeStringElement_9(p,43),W|=2048;break;case 44:by=qt.decodeStringElement_9(p,44),W|=4096;break;case 45:xy=qt.decodeStringElement_9(p,45),W|=8192;break;case 46:V_=qt.decodeStringElement_9(p,46),W|=16384;break;case 47:wy=qt.decodeStringElement_9(p,47),W|=32768;break;case 48:cb=qt.decodeStringElement_9(p,48),W|=65536;break;case 49:Kv=qt.decodeStringElement_9(p,49),W|=131072;break;case 50:Jv=qt.decodeStringElement_9(p,50),W|=262144;break;case 51:fL=qt.decodeStringElement_9(p,51),W|=524288;break;case 52:pL=qt.decodeStringElement_9(p,52),W|=1048576;break;case 53:hL=qt.decodeStringElement_9(p,53),W|=2097152;break;case 54:dL=qt.decodeStringElement_9(p,54),W|=4194304;break;case 55:_L=qt.decodeStringElement_9(p,55),W|=8388608;break;case 56:mL=qt.decodeStringElement_9(p,56),W|=16777216;break;case 57:gL=qt.decodeStringElement_9(p,57),W|=33554432;break;case 58:yL=qt.decodeStringElement_9(p,58),W|=67108864;break;case 59:vL=qt.decodeStringElement_9(p,59),W|=134217728;break;case 60:bL=qt.decodeStringElement_9(p,60),W|=268435456;break;case 61:xL=qt.decodeStringElement_9(p,61),W|=536870912;break;case 62:Cw=qt.decodeSerializableElement_9(p,62,$m(),Cw),W|=1073741824;break;case 63:Aw=qt.decodeSerializableElement_9(p,63,new js(Bt(),$m()),Aw),W|=-2147483648;break;default:throw B(T)}return qt.endStructure_14(p),function(Wa,Xa,dAe,qY,VY,GY,WY,XY,YY,HY,ZY,KY,JY,QY,eH,tH,rH,nH,iH,oH,aH,sH,uH,lH,cH,fH,pH,hH,dH,_H,mH,gH,yH,vH,bH,xH,wH,SH,EH,PH,IH,CH,AH,OH,kH,TH,LH,NH,MH,RH,DH,zH,FH,jH,BH,$H,UH,qH,VH,GH,WH,XH,YH,HH,ZH,KH,JH,_Ae,bn){if((1&Wa)==0)throw K("lang");if(bn._lang=qY,(2&Wa)==0)throw K("route_ready");if(bn._routeReady=VY,(4&Wa)==0)throw K("update_turn");if(bn._updateTurn=GY,(8&Wa)==0)throw K("update_turn_confirmation");if(bn._updateTurnConfirmation=WY,(16&Wa)==0)throw K("update_turn_left_hard");if(bn._updateTurnLeftHard=XY,(32&Wa)==0)throw K("update_turn_left");if(bn._updateTurnLeft=YY,(64&Wa)==0)throw K("update_turn_left_slight");if(bn._updateTurnLeftSlight=HY,(128&Wa)==0)throw K("update_turn_straight");if(bn._updateTurnStraight=ZY,(256&Wa)==0)throw K("update_turn_right_slight");if(bn._updateTurnRightSlight=KY,(512&Wa)==0)throw K("update_turn_right");if(bn._updateTurnRight=JY,(1024&Wa)==0)throw K("update_turn_right_hard");if(bn._updateTurnRightHard=QY,(2048&Wa)==0)throw K("update_turn_around");if(bn._updateTurnAround=eH,(4096&Wa)==0)throw K("update_waypoint");if(bn._updateWaypoint=tH,(8192&Wa)==0)throw K("update_destination");if(bn._updateDestination=rH,(16384&Wa)==0)throw K("update_levelchange_elevator");if(bn._updateLevelchangeElevator=nH,(32768&Wa)==0)throw K("update_levelchange_escalator");if(bn._updateLevelchangeEscalator=iH,(65536&Wa)==0)throw K("update_levelchange_stairs");if(bn._updateLevelchangeStairs=oH,(131072&Wa)==0)throw K("immediate_turn_left_hard");if(bn._immediateTurnLeftHard=aH,(262144&Wa)==0)throw K("immediate_turn_left");if(bn._immediateTurnLeft=sH,(524288&Wa)==0)throw K("immediate_turn_left_slight");if(bn._immediateTurnLeftSlight=uH,(1048576&Wa)==0)throw K("immediate_turn_straight");if(bn._immediateTurnStraight=lH,(2097152&Wa)==0)throw K("immediate_turn_right_slight");if(bn._immediateTurnRightSlight=cH,(4194304&Wa)==0)throw K("immediate_turn_right");if(bn._immediateTurnRight=fH,(8388608&Wa)==0)throw K("immediate_turn_right_hard");if(bn._immediateTurnRightHard=pH,(16777216&Wa)==0)throw K("immediate_turn_around");if(bn._immediateTurnAround=hH,(33554432&Wa)==0)throw K("immediate_waypoint");if(bn._immediateWaypoint=dH,(67108864&Wa)==0)throw K("immediate_levelchange_elevator");if(bn._immediateLevelchangeElevator=_H,(134217728&Wa)==0)throw K("immediate_levelchange_escalator");if(bn._immediateLevelchangeEscalator=mH,(268435456&Wa)==0)throw K("immediate_levelchange_stairs");if(bn._immediateLevelchangeStairs=gH,(536870912&Wa)==0)throw K("direction_up");if(bn._directionUp=yH,(1073741824&Wa)==0)throw K("direction_down");if(bn._directionDown=vH,(-2147483648&Wa)==0)throw K("immediate_levelchange_side_left");if(bn._immediateLevelchangeSideLeft=bH,(1&Xa)==0)throw K("immediate_levelchange_side_right");if(bn._immediateLevelchangeSideRight=xH,(2&Xa)==0)throw K("immediate_levelchange_side_ahead");if(bn._immediateLevelchangeSideAhead=wH,(4&Xa)==0)throw K("next_step_destination");if(bn._nextStepDestination=SH,(8&Xa)==0)throw K("next_step_landmarks");if(bn._nextStepLandmarks=EH,(16&Xa)==0)throw K("next_step_landmarks_landmark_position_left");if(bn._nextStepLandmarksLandmarkPositionLeft=PH,(32&Xa)==0)throw K("next_step_landmarks_landmark_position_right");if(bn._nextStepLandmarksLandmarkPositionRight=IH,(64&Xa)==0)throw K("next_step_levelchanger_elevator");if(bn._nextStepLevelchangerElevator=CH,(128&Xa)==0)throw K("next_step_levelchanger_escalator");if(bn._nextStepLevelchangerEscalator=AH,(256&Xa)==0)throw K("next_step_levelchanger_stairs");if(bn._nextStepLevelchangerStairs=OH,bn._exitLevelChangerElevator=(512&Xa)==0?"":kH,bn._exitLevelChangerEscalator=(1024&Xa)==0?"":TH,bn._exitLevelChangerStairs=(2048&Xa)==0?"":LH,(4096&Xa)==0)throw K("passing_landmark");if(bn._passingLandmark=NH,(8192&Xa)==0)throw K("destination_arriving");if(bn._destinationArriving=MH,(16384&Xa)==0)throw K("destination_arrived");if(bn._destinationArrived=RH,(32768&Xa)==0)throw K("state_calculating");if(bn._stateCalculating=DH,(65536&Xa)==0)throw K("state_recalculating");if(bn._stateRecalculating=zH,(131072&Xa)==0)throw K("state_route_not_found");if(bn._stateRouteNotFound=FH,(262144&Xa)==0)throw K("state_route_osrm_error");if(bn._stateRouteOsrmError=jH,(524288&Xa)==0)throw K("state_canceled");if(bn._stateCanceled=BH,(1048576&Xa)==0)throw K("hazard");if(bn._hazard=$H,(2097152&Xa)==0)throw K("hazard_side_left");if(bn._hazardSideLeft=UH,(4194304&Xa)==0)throw K("hazard_side_right");if(bn._hazardSideRight=qH,(8388608&Xa)==0)throw K("hazard_side_ahead");if(bn._hazardSideAhead=VH,(16777216&Xa)==0)throw K("decision");if(bn._decision=GH,(33554432&Xa)==0)throw K("segment_enter");if(bn._segmentEnter=WH,(67108864&Xa)==0)throw K("segment_leave");if(bn._segmentLeave=XH,(134217728&Xa)==0)throw K("heading_correction");if(bn._headingCorrection=YH,(268435456&Xa)==0)throw K("heading_start");if(bn._headingStart=HH,(536870912&Xa)==0)throw K("heading_wrong_way");if(bn._headingWrongWay=ZH,(1073741824&Xa)==0)throw K("level");if(bn._levels=KH,(-2147483648&Xa)==0)throw K("units");return bn._units=JH,bn}(D,W,0,re,ce,Fe,Ue,Ve,Ke,tt,bt,Dt,Nt,lr,Mr,$r,Nn,ur,mr,Mn,Wn,Xi,Yn,Dn,sa,Xn,pi,oo,Zu,lp,yf,Sc,Ou,Vp,gl,ac,Gp,Wm,j_,cd,B_,$_,U_,Hd,bh,q_,xh,by,xy,V_,wy,cb,Kv,Jv,fL,pL,hL,dL,_L,mL,gL,yL,vL,bL,xL,Cw,Aw,0,Object.create(hP.prototype))},fy.prototype.serialize_94=function(a,p){var E=this._descriptor_41,T=a.beginStructure_14(E);T.encodeStringElement_3(E,0,p._lang),T.encodeStringElement_3(E,1,p._routeReady),T.encodeStringElement_3(E,2,p._updateTurn),T.encodeStringElement_3(E,3,p._updateTurnConfirmation),T.encodeStringElement_3(E,4,p._updateTurnLeftHard),T.encodeStringElement_3(E,5,p._updateTurnLeft),T.encodeStringElement_3(E,6,p._updateTurnLeftSlight),T.encodeStringElement_3(E,7,p._updateTurnStraight),T.encodeStringElement_3(E,8,p._updateTurnRightSlight),T.encodeStringElement_3(E,9,p._updateTurnRight),T.encodeStringElement_3(E,10,p._updateTurnRightHard),T.encodeStringElement_3(E,11,p._updateTurnAround),T.encodeNullableSerializableElement_3(E,12,Bt(),p._updateWaypoint),T.encodeStringElement_3(E,13,p._updateDestination),T.encodeStringElement_3(E,14,p._updateLevelchangeElevator),T.encodeStringElement_3(E,15,p._updateLevelchangeEscalator),T.encodeStringElement_3(E,16,p._updateLevelchangeStairs),T.encodeStringElement_3(E,17,p._immediateTurnLeftHard),T.encodeStringElement_3(E,18,p._immediateTurnLeft),T.encodeStringElement_3(E,19,p._immediateTurnLeftSlight),T.encodeStringElement_3(E,20,p._immediateTurnStraight),T.encodeStringElement_3(E,21,p._immediateTurnRightSlight),T.encodeStringElement_3(E,22,p._immediateTurnRight),T.encodeStringElement_3(E,23,p._immediateTurnRightHard),T.encodeStringElement_3(E,24,p._immediateTurnAround),T.encodeNullableSerializableElement_3(E,25,Bt(),p._immediateWaypoint),T.encodeStringElement_3(E,26,p._immediateLevelchangeElevator),T.encodeStringElement_3(E,27,p._immediateLevelchangeEscalator),T.encodeStringElement_3(E,28,p._immediateLevelchangeStairs),T.encodeStringElement_3(E,29,p._directionUp),T.encodeStringElement_3(E,30,p._directionDown),T.encodeStringElement_3(E,31,p._immediateLevelchangeSideLeft),T.encodeStringElement_3(E,32,p._immediateLevelchangeSideRight),T.encodeStringElement_3(E,33,p._immediateLevelchangeSideAhead),T.encodeStringElement_3(E,34,p._nextStepDestination),T.encodeStringElement_3(E,35,p._nextStepLandmarks),T.encodeStringElement_3(E,36,p._nextStepLandmarksLandmarkPositionLeft),T.encodeStringElement_3(E,37,p._nextStepLandmarksLandmarkPositionRight),T.encodeStringElement_3(E,38,p._nextStepLevelchangerElevator),T.encodeStringElement_3(E,39,p._nextStepLevelchangerEscalator),T.encodeStringElement_3(E,40,p._nextStepLevelchangerStairs),(T.shouldEncodeElementDefault_3(E,41)||p._exitLevelChangerElevator!=="")&&T.encodeStringElement_3(E,41,p._exitLevelChangerElevator),(T.shouldEncodeElementDefault_3(E,42)||p._exitLevelChangerEscalator!=="")&&T.encodeStringElement_3(E,42,p._exitLevelChangerEscalator),(T.shouldEncodeElementDefault_3(E,43)||p._exitLevelChangerStairs!=="")&&T.encodeStringElement_3(E,43,p._exitLevelChangerStairs),T.encodeStringElement_3(E,44,p._passingLandmark),T.encodeStringElement_3(E,45,p._destinationArriving),T.encodeStringElement_3(E,46,p._destinationArrived),T.encodeStringElement_3(E,47,p._stateCalculating),T.encodeStringElement_3(E,48,p._stateRecalculating),T.encodeStringElement_3(E,49,p._stateRouteNotFound),T.encodeStringElement_3(E,50,p._stateRouteOsrmError),T.encodeStringElement_3(E,51,p._stateCanceled),T.encodeStringElement_3(E,52,p._hazard),T.encodeStringElement_3(E,53,p._hazardSideLeft),T.encodeStringElement_3(E,54,p._hazardSideRight),T.encodeStringElement_3(E,55,p._hazardSideAhead),T.encodeStringElement_3(E,56,p._decision),T.encodeStringElement_3(E,57,p._segmentEnter),T.encodeStringElement_3(E,58,p._segmentLeave),T.encodeStringElement_3(E,59,p._headingCorrection),T.encodeStringElement_3(E,60,p._headingStart),T.encodeStringElement_3(E,61,p._headingWrongWay),T.encodeSerializableElement_3(E,62,$m(),p._levels),T.encodeSerializableElement_3(E,63,new js(Bt(),$m()),p._units),T.endStructure_14(E)},fy.prototype.serialize_107=function(a,p){return this.serialize_94(a,p instanceof hP?p:$e())},fy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},hP.$metadata$={simpleName:"GuidanceTranslation",kind:"class",interfaces:[],associatedObjects:{0:function(){return Yo==null&&new fy,Yo}}},oc.prototype.isLevelChanger=function(){return!(!this.equals(JT())&&!this.equals(QT()))||this.equals(eL())},oc.$metadata$={simpleName:"ProximiioFeatureType",kind:"class",interfaces:[]},py.prototype._get_descriptor__66=function(){return this._descriptor_42},py.prototype.childSerializers_15=function(){return[Ga(),eb(),new Vc("io.proximi.mapbox.library.RouteStepDirection",dP()),Ga(),Tm(),new Ta(Bt()),od(),new Ta(Bt()),new Ta(gf()),new Ta(new Vn(Bt()))]},py.prototype.deserialize_70=function(a){var p=this._descriptor_42,E=!0,T=0,D=0,W=0,re=null,ce=null,Fe=0,Ue=0,Ve=null,Ke=!1,tt=null,bt=null,Dt=null,Nt=a.beginStructure_14(p);if(Nt.decodeSequentially_9())W=Nt.decodeDoubleElement_9(p,0),D|=1,re=Nt.decodeSerializableElement_9(p,1,eb(),re),D|=2,ce=Nt.decodeSerializableElement_9(p,2,new Vc("io.proximi.mapbox.library.RouteStepDirection",dP()),ce),D|=4,Fe=Nt.decodeDoubleElement_9(p,3),D|=8,Ue=Nt.decodeIntElement_9(p,4),D|=16,Ve=Nt.decodeNullableSerializableElement_9(p,5,Bt(),Ve),D|=32,Ke=Nt.decodeBooleanElement_9(p,6),D|=64,tt=Nt.decodeNullableSerializableElement_9(p,7,Bt(),tt),D|=128,bt=Nt.decodeNullableSerializableElement_9(p,8,gf(),bt),D|=256,Dt=Nt.decodeNullableSerializableElement_9(p,9,new Vn(Bt()),Dt),D|=512;else for(;E;)switch(T=Nt.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=Nt.decodeDoubleElement_9(p,0),D|=1;break;case 1:re=Nt.decodeSerializableElement_9(p,1,eb(),re),D|=2;break;case 2:ce=Nt.decodeSerializableElement_9(p,2,new Vc("io.proximi.mapbox.library.RouteStepDirection",dP()),ce),D|=4;break;case 3:Fe=Nt.decodeDoubleElement_9(p,3),D|=8;break;case 4:Ue=Nt.decodeIntElement_9(p,4),D|=16;break;case 5:Ve=Nt.decodeNullableSerializableElement_9(p,5,Bt(),Ve),D|=32;break;case 6:Ke=Nt.decodeBooleanElement_9(p,6),D|=64;break;case 7:tt=Nt.decodeNullableSerializableElement_9(p,7,Bt(),tt),D|=128;break;case 8:bt=Nt.decodeNullableSerializableElement_9(p,8,gf(),bt),D|=256;break;case 9:Dt=Nt.decodeNullableSerializableElement_9(p,9,new Vn(Bt()),Dt),D|=512;break;default:throw B(T)}return Nt.endStructure_14(p),function(lr,Mr,$r,Nn,ur,mr,Mn,Wn,Xi,Yn,Dn,sa,Xn){if((1&lr)==0)throw K("bearingFromLastStep");if(Xn._bearingFromLastNode=Mr,(2&lr)==0)throw K("coordinates");if(Xn._coordinates_2=$r,(4&lr)==0)throw K("direction");if(Xn._direction=Nn,(8&lr)==0)throw K("distanceFromLastStep");if(Xn._distanceFromLastNode=ur,(16&lr)==0)throw K("level");if(Xn._level_0=mr,(32&lr)==0)throw K("levelChangerId");if(Xn._levelChangerId=Mn,(64&lr)==0)throw K("isWaypoint");if(Xn._isWaypoint=Wn,(128&lr)==0)throw K("waypointId");if(Xn._waypointId=Xi,(256&lr)==0)throw K("lineStringFeatureFromLastStep");return Xn._lineStringFeatureTo=Yn,Xn._instruction=(512&lr)==0?null:Dn,Xn}(D,W,re,ce,Fe,Ue,Ve,Ke,tt,bt,Dt,0,Object.create(Um.prototype))},py.prototype.serialize_96=function(a,p){var E=this._descriptor_42,T=a.beginStructure_14(E);T.encodeDoubleElement_3(E,0,p._bearingFromLastNode),T.encodeSerializableElement_3(E,1,eb(),p._coordinates_2),T.encodeSerializableElement_3(E,2,new Vc("io.proximi.mapbox.library.RouteStepDirection",dP()),p._direction),T.encodeDoubleElement_3(E,3,p._distanceFromLastNode),T.encodeIntElement_3(E,4,p._level_0),T.encodeNullableSerializableElement_3(E,5,Bt(),p._levelChangerId),T.encodeBooleanElement_3(E,6,p._isWaypoint),T.encodeNullableSerializableElement_3(E,7,Bt(),p._waypointId),T.encodeNullableSerializableElement_3(E,8,gf(),p._lineStringFeatureTo),(T.shouldEncodeElementDefault_3(E,9)||p._instruction!=null)&&T.encodeNullableSerializableElement_3(E,9,new Vn(Bt()),p._instruction),T.endStructure_14(E)},py.prototype.serialize_107=function(a,p){return this.serialize_96(a,p instanceof Um?p:$e())},py.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},Um.prototype.toString=function(){return"RouteNode(bearingFromLastNode="+this._bearingFromLastNode+", coordinates="+this._coordinates_2+", direction="+this._direction+", distanceFromLastNode="+this._distanceFromLastNode+", level="+this._level_0+", levelChangerId="+this._levelChangerId+", isWaypoint="+this._isWaypoint+", waypointId="+this._waypointId+", lineStringFeatureTo="+this._lineStringFeatureTo+")"},Um.prototype.hashCode=function(){var a=Vu(this._bearingFromLastNode);return a=sr(a,31)+Ui(this._coordinates_2)|0,a=sr(a,31)+this._direction.hashCode()|0,a=sr(a,31)+Vu(this._distanceFromLastNode)|0,a=sr(a,31)+this._level_0|0,a=sr(a,31)+(this._levelChangerId==null?0:ca(this._levelChangerId))|0,a=sr(a,31)+(0|this._isWaypoint)|0,a=sr(a,31)+(this._waypointId==null?0:ca(this._waypointId))|0,sr(a,31)+(this._lineStringFeatureTo==null?0:Ui(this._lineStringFeatureTo))|0},Um.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Um))return!1;var p=a instanceof Um?a:$e();return!!(hr(this._bearingFromLastNode,p._bearingFromLastNode)&&hr(this._coordinates_2,p._coordinates_2)&&this._direction.equals(p._direction)&&hr(this._distanceFromLastNode,p._distanceFromLastNode)&&this._level_0===p._level_0&&this._levelChangerId==p._levelChangerId&&this._isWaypoint===p._isWaypoint&&this._waypointId==p._waypointId&&hr(this._lineStringFeatureTo,p._lineStringFeatureTo))},Um.$metadata$={simpleName:"RouteNode",kind:"class",interfaces:[],associatedObjects:{0:xw}},hy.prototype._get_descriptor__66=function(){return this._descriptor_43},hy.prototype.childSerializers_15=function(){return[Ga(),new Ta(Ga()),new Ta(Bt()),gf(),ww(),Tm(),new Vn(xw())]},hy.prototype.deserialize_70=function(a){var p=this._descriptor_43,E=!0,T=0,D=0,W=0,re=null,ce=null,Fe=null,Ue=null,Ve=0,Ke=null,tt=a.beginStructure_14(p);if(tt.decodeSequentially_9())W=tt.decodeDoubleElement_9(p,0),D|=1,re=tt.decodeNullableSerializableElement_9(p,1,Ga(),re),D|=2,ce=tt.decodeNullableSerializableElement_9(p,2,Bt(),ce),D|=4,Fe=tt.decodeSerializableElement_9(p,3,gf(),Fe),D|=8,Ue=tt.decodeSerializableElement_9(p,4,ww(),Ue),D|=16,Ve=tt.decodeIntElement_9(p,5),D|=32,Ke=tt.decodeSerializableElement_9(p,6,new Vn(xw()),Ke),D|=64;else for(;E;)switch(T=tt.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=tt.decodeDoubleElement_9(p,0),D|=1;break;case 1:re=tt.decodeNullableSerializableElement_9(p,1,Ga(),re),D|=2;break;case 2:ce=tt.decodeNullableSerializableElement_9(p,2,Bt(),ce),D|=4;break;case 3:Fe=tt.decodeSerializableElement_9(p,3,gf(),Fe),D|=8;break;case 4:Ue=tt.decodeSerializableElement_9(p,4,ww(),Ue),D|=16;break;case 5:Ve=tt.decodeIntElement_9(p,5),D|=32;break;case 6:Ke=tt.decodeSerializableElement_9(p,6,new Vn(xw()),Ke),D|=64;break;default:throw B(T)}return tt.endStructure_14(p),function(bt,Dt,Nt,lr,Mr,$r,Nn,ur,mr,Mn){if((1&bt)==0)throw K("distanceMeters");if(Mn._distanceMeters=Dt,Mn._distanceCustom=(2&bt)==0?null:Nt,Mn._distanceCustomUnit=(4&bt)==0?null:lr,(8&bt)==0)throw K("destination");if(Mn._destination=Mr,(16&bt)==0)throw K("configuration");if(Mn._configuration_3=$r,Mn._lastNodeWithPathIndex=(32&bt)==0?0:Nn,(64&bt)==0)throw K("steps");return Mn._nodeList=ur,Mn}(D,W,re,ce,Fe,Ue,Ve,Ke,0,Object.create(qm.prototype))},hy.prototype.serialize_98=function(a,p){var E=this._descriptor_43,T=a.beginStructure_14(E);T.encodeDoubleElement_3(E,0,p._distanceMeters),(T.shouldEncodeElementDefault_3(E,1)||p._distanceCustom!=null)&&T.encodeNullableSerializableElement_3(E,1,Ga(),p._distanceCustom),(T.shouldEncodeElementDefault_3(E,2)||p._distanceCustomUnit!=null)&&T.encodeNullableSerializableElement_3(E,2,Bt(),p._distanceCustomUnit),T.encodeSerializableElement_3(E,3,gf(),p._destination),T.encodeSerializableElement_3(E,4,ww(),p._configuration_3),(T.shouldEncodeElementDefault_3(E,5)||p._lastNodeWithPathIndex!==0)&&T.encodeIntElement_3(E,5,p._lastNodeWithPathIndex),T.encodeSerializableElement_3(E,6,new Vn(xw()),p._nodeList),T.endStructure_14(E)},hy.prototype.serialize_107=function(a,p){return this.serialize_98(a,p instanceof qm?p:$e())},hy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},qm.prototype._get_destinationTitle_=function(){var a=this._get_destinationProperties_(),p=a==null?null:a.get_16("title_i18n"),E=p==null?null:gw(p),T=E==null?null:E.get_16(lL().getDefault()._language),D=T==null?null:jm(T);if(D!=null&&Js(D)!==0)return D;var W=this._get_destinationProperties_(),re=W==null?null:W.get_16("title_i18n"),ce=re==null?null:gw(re),Fe=ce==null?null:ce.get_16("en"),Ue=Fe==null?null:jm(Fe);return Ue!=null&&Js(Ue)!==0?Ue:this._destination.getStringProperty("title")},qm.prototype._get_destinationPoint_=function(){return this._destination.geometry()},qm.prototype._get_destinationProperties_=function(){return this._destination.properties()},qm.$metadata$={simpleName:"Route",kind:"class",interfaces:[],associatedObjects:{0:function(){return pc==null&&new hy,pc}}},zv.$metadata$={simpleName:"Waypoint",kind:"interface",interfaces:[]},j5.$metadata$={simpleName:"VariableWaypoint",kind:"class",interfaces:[zv]},B5.$metadata$={simpleName:"SimpleWaypoint",kind:"class",interfaces:[zv]},dy.prototype._get_descriptor__66=function(){return this._descriptor_44},dy.prototype.childSerializers_15=function(){return[new Ta(gf()),gf(),new Vn(new c(bi(zv))),Sw()]},dy.prototype.deserialize_70=function(a){var p=this._descriptor_44,E=!0,T=0,D=0,W=null,re=null,ce=null,Fe=null,Ue=a.beginStructure_14(p);if(Ue.decodeSequentially_9())W=Ue.decodeNullableSerializableElement_9(p,0,gf(),W),D|=1,re=Ue.decodeSerializableElement_9(p,1,gf(),re),D|=2,ce=Ue.decodeSerializableElement_9(p,2,new Vn(new c(bi(zv))),ce),D|=4,Fe=Ue.decodeSerializableElement_9(p,3,Sw(),Fe),D|=8;else for(;E;)switch(T=Ue.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=Ue.decodeNullableSerializableElement_9(p,0,gf(),W),D|=1;break;case 1:re=Ue.decodeSerializableElement_9(p,1,gf(),re),D|=2;break;case 2:ce=Ue.decodeSerializableElement_9(p,2,new Vn(new c(bi(zv))),ce),D|=4;break;case 3:Fe=Ue.decodeSerializableElement_9(p,3,Sw(),Fe),D|=8;break;default:throw B(T)}return Ue.endStructure_14(p),function(Ve,Ke,tt,bt,Dt,Nt,lr){if((1&Ve)==0)throw K("start");if(lr._start=Ke,(2&Ve)==0)throw K("destination");if(lr._destination_0=tt,(4&Ve)==0)throw K("waypointList");if(lr._waypointList=bt,(8&Ve)==0)throw K("wayfindingOptions");return lr._wayfindingOptions=Dt,lr}(D,W,re,ce,Fe,0,Object.create(R_.prototype))},dy.prototype.serialize_100=function(a,p){var E=this._descriptor_44,T=a.beginStructure_14(E);T.encodeNullableSerializableElement_3(E,0,gf(),p._start),T.encodeSerializableElement_3(E,1,gf(),p._destination_0),T.encodeSerializableElement_3(E,2,new Vn(new c(bi(zv))),p._waypointList),T.encodeSerializableElement_3(E,3,Sw(),p._wayfindingOptions),T.endStructure_14(E)},dy.prototype.serialize_107=function(a,p){return this.serialize_100(a,p instanceof R_?p:$e())},dy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},R_.prototype.getWaypointById=function(a){var p;e:do{for(var E=this._waypointList,T=ia(uo(E,10)),D=E.iterator_39();D.hasNext_14();){var W,re=D.next_14(),ce=re;if(ce instanceof B5)W=Yr(re._feature);else{if(!(ce instanceof j5))throw no(Sr("Unsupported waypoint subclass!"));W=re._features}T.add_18(W),fe()}for(var Fe=xs(T).iterator_39();Fe.hasNext_14();){var Ue=Fe.next_14();if(Ue._id===a){p=Ue;break e}}p=null}while(0);return p},R_.prototype.toString=function(){return"RouteConfiguration(start="+this._start+", destination="+this._destination_0+", waypointList="+this._waypointList+", wayfindingOptions="+this._wayfindingOptions+")"},R_.prototype.hashCode=function(){var a=this._start==null?0:Ui(this._start);return a=sr(a,31)+Ui(this._destination_0)|0,a=sr(a,31)+Ui(this._waypointList)|0,sr(a,31)+Ui(this._wayfindingOptions)|0},R_.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof R_))return!1;var p=a instanceof R_?a:$e();return!!(hr(this._start,p._start)&&hr(this._destination_0,p._destination_0)&&hr(this._waypointList,p._waypointList)&&hr(this._wayfindingOptions,p._wayfindingOptions))},R_.$metadata$={simpleName:"RouteConfiguration",kind:"class",interfaces:[],associatedObjects:{0:ww}},rb.prototype.getLevelChangeList=function(){return bs([Uv(),qv(),Vv(),jv(),Bv(),$v()])},rb.prototype.isLevelChange=function(a){return q(this.getLevelChangeList(),a)},rb.prototype.getTurnList=function(){return bs([nb(),ib(),ob(),ab(),Fv(),sb(),ub(),lb()])},rb.prototype.isTurn=function(a){return q(this.getTurnList(),a)},rb.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Au.prototype.isTurn_0=function(){return Vm().getTurnList().contains_27(this)},Au.prototype.isLevelChangeExit=function(){return!(!this.equals(tL())&&!this.equals(rL()))||this.equals(nL())},Au.$metadata$={simpleName:"RouteStepDirection",kind:"class",interfaces:[]},Gv.prototype.toString=function(){return"RouteUpdateData(nodeIndex="+this._nodeIndex+", stepBearing="+this._stepBearing+", stepDirection="+this._stepDirection+", stepDistance="+this._stepDistance+", stepDistanceTotal="+this._stepDistanceTotal+", nextStepBearing="+this._nextStepBearing+", nextStepDistance="+this._nextStepDistance+", nextStepDirection="+this._nextStepDirection+", pathLengthRemaining="+this._pathLengthRemaining+", position="+this._position_9+")"},Gv.prototype.hashCode=function(){var a=this._nodeIndex;return a=sr(a,31)+Vu(this._stepBearing)|0,a=sr(a,31)+this._stepDirection.hashCode()|0,a=sr(a,31)+Vu(this._stepDistance)|0,a=sr(a,31)+Vu(this._stepDistanceTotal)|0,a=sr(a,31)+(this._nextStepBearing==null?0:Vu(this._nextStepBearing))|0,a=sr(a,31)+(this._nextStepDistance==null?0:Vu(this._nextStepDistance))|0,a=sr(a,31)+(this._nextStepDirection==null?0:this._nextStepDirection.hashCode())|0,a=sr(a,31)+Vu(this._pathLengthRemaining)|0,sr(a,31)+Ui(this._position_9)|0},Gv.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Gv))return!1;var p=a instanceof Gv?a:$e();return!!(this._nodeIndex===p._nodeIndex&&hr(this._stepBearing,p._stepBearing)&&this._stepDirection.equals(p._stepDirection)&&hr(this._stepDistance,p._stepDistance)&&hr(this._stepDistanceTotal,p._stepDistanceTotal)&&hr(this._nextStepBearing,p._nextStepBearing)&&hr(this._nextStepDistance,p._nextStepDistance)&&hr(this._nextStepDirection,p._nextStepDirection)&&hr(this._pathLengthRemaining,p._pathLengthRemaining)&&hr(this._position_9,p._position_9))},Gv.$metadata$={simpleName:"RouteUpdateData",kind:"class",interfaces:[]},Up.$metadata$={simpleName:"RouteUpdateType",kind:"class",interfaces:[]},Gm.prototype.toString=function(){return"UnitStage(unitName="+this._unitName+", unitConversionToMeters="+this._unitConversionToMeters+", minValueInMeters="+this._minValueInMeters+", decimals="+this._decimals+")"},Gm.prototype.hashCode=function(){var a=ca(this._unitName);return a=sr(a,31)+Vu(this._unitConversionToMeters)|0,a=sr(a,31)+Vu(this._minValueInMeters)|0,sr(a,31)+this._decimals|0},Gm.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Gm))return!1;var p=a instanceof Gm?a:$e();return this._unitName===p._unitName&&!!hr(this._unitConversionToMeters,p._unitConversionToMeters)&&!!hr(this._minValueInMeters,p._minValueInMeters)&&this._decimals===p._decimals},Gm.$metadata$={simpleName:"UnitStage",kind:"class",interfaces:[]},Wv.prototype.toString=function(){return"ConversionResult(value="+this._value_7+", valueRounded="+this._valueRounded+", valueString="+this._valueString+", unitName="+this._unitName_0+")"},Wv.prototype.hashCode=function(){var a=Vu(this._value_7);return a=sr(a,31)+Vu(this._valueRounded)|0,a=sr(a,31)+ca(this._valueString)|0,sr(a,31)+ca(this._unitName_0)|0},Wv.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Wv))return!1;var p=a instanceof Wv?a:$e();return!!hr(this._value_7,p._value_7)&&!!hr(this._valueRounded,p._valueRounded)&&this._valueString===p._valueString&&this._unitName_0===p._unitName_0},Wv.$metadata$={simpleName:"ConversionResult",kind:"class",interfaces:[]},V5.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},iL.prototype.convert=function(a){var p,E=this._stageList;e:do{for(var T=E.listIterator_4(E._get_size__29());T.hasPrevious_1();){var D=T.previous_1();if(D._minValueInMeters<=a){p=D;break e}}p=null}while(0);var W,re=p;if(re!=null){var ce=a*re._unitConversionToMeters,Fe=D5(ce,re._decimals),Ue=Fe.toString();W=new Wv(ce,Fe,Ue,re._unitName)}else W=_P()._DEFAULT.convert(a);return W},iL.$metadata$={simpleName:"UnitConversion",kind:"class",interfaces:[]},my.prototype._get_descriptor__66=function(){return this._descriptor_45},my.prototype.childSerializers_15=function(){return[od(),od(),od(),od(),od(),od(),od(),od(),Ga()]},my.prototype.deserialize_70=function(a){var p,E,T,D,W,re,ce,Fe,Ue,Ve,Ke,tt=this._descriptor_45,bt=!0,Dt=0,Nt=0,lr=!1,Mr=!1,$r=!1,Nn=!1,ur=!1,mr=!1,Mn=!1,Wn=!1,Xi=0,Yn=a.beginStructure_14(tt);if(Yn.decodeSequentially_9())lr=Yn.decodeBooleanElement_9(tt,0),Nt|=1,Mr=Yn.decodeBooleanElement_9(tt,1),Nt|=2,$r=Yn.decodeBooleanElement_9(tt,2),Nt|=4,Nn=Yn.decodeBooleanElement_9(tt,3),Nt|=8,ur=Yn.decodeBooleanElement_9(tt,4),Nt|=16,mr=Yn.decodeBooleanElement_9(tt,5),Nt|=32,Mn=Yn.decodeBooleanElement_9(tt,6),Nt|=64,Wn=Yn.decodeBooleanElement_9(tt,7),Nt|=128,Xi=Yn.decodeDoubleElement_9(tt,8),Nt|=256;else for(;bt;)switch(Dt=Yn.decodeElementIndex_9(tt)){case-1:bt=!1;break;case 0:lr=Yn.decodeBooleanElement_9(tt,0),Nt|=1;break;case 1:Mr=Yn.decodeBooleanElement_9(tt,1),Nt|=2;break;case 2:$r=Yn.decodeBooleanElement_9(tt,2),Nt|=4;break;case 3:Nn=Yn.decodeBooleanElement_9(tt,3),Nt|=8;break;case 4:ur=Yn.decodeBooleanElement_9(tt,4),Nt|=16;break;case 5:mr=Yn.decodeBooleanElement_9(tt,5),Nt|=32;break;case 6:Mn=Yn.decodeBooleanElement_9(tt,6),Nt|=64;break;case 7:Wn=Yn.decodeBooleanElement_9(tt,7),Nt|=128;break;case 8:Xi=Yn.decodeDoubleElement_9(tt,8),Nt|=256;break;default:throw B(Dt)}return Yn.endStructure_14(tt),p=Nt,E=lr,T=Mr,D=$r,W=Nn,re=ur,ce=mr,Fe=Mn,Ue=Wn,Ve=Xi,(Ke=Object.create(Ew.prototype))._avoidBarriers=(1&p)!=0&&E,Ke._avoidElevators=(2&p)!=0&&T,Ke._avoidEscalators=(4&p)!=0&&D,Ke._avoidNarrowPaths=(8&p)!=0&&W,Ke._avoidRamps=(16&p)!=0&&re,Ke._avoidRevolvingDoors=(32&p)!=0&&ce,Ke._avoidStaircases=(64&p)!=0&&Fe,Ke._avoidTicketGates=(128&p)!=0&&Ue,Ke._pathFixDistance=(256&p)==0?0:Ve,Ke},my.prototype.serialize_102=function(a,p){var E=this._descriptor_45,T=a.beginStructure_14(E);(T.shouldEncodeElementDefault_3(E,0)||p._avoidBarriers!==!1)&&T.encodeBooleanElement_3(E,0,p._avoidBarriers),(T.shouldEncodeElementDefault_3(E,1)||p._avoidElevators!==!1)&&T.encodeBooleanElement_3(E,1,p._avoidElevators),(T.shouldEncodeElementDefault_3(E,2)||p._avoidEscalators!==!1)&&T.encodeBooleanElement_3(E,2,p._avoidEscalators),(T.shouldEncodeElementDefault_3(E,3)||p._avoidNarrowPaths!==!1)&&T.encodeBooleanElement_3(E,3,p._avoidNarrowPaths),(T.shouldEncodeElementDefault_3(E,4)||p._avoidRamps!==!1)&&T.encodeBooleanElement_3(E,4,p._avoidRamps),(T.shouldEncodeElementDefault_3(E,5)||p._avoidRevolvingDoors!==!1)&&T.encodeBooleanElement_3(E,5,p._avoidRevolvingDoors),(T.shouldEncodeElementDefault_3(E,6)||p._avoidStaircases!==!1)&&T.encodeBooleanElement_3(E,6,p._avoidStaircases),(T.shouldEncodeElementDefault_3(E,7)||p._avoidTicketGates!==!1)&&T.encodeBooleanElement_3(E,7,p._avoidTicketGates),!T.shouldEncodeElementDefault_3(E,8)&&hr(p._pathFixDistance,0)||T.encodeDoubleElement_3(E,8,p._pathFixDistance),T.endStructure_14(E)},my.prototype.serialize_107=function(a,p){return this.serialize_102(a,p instanceof Ew?p:$e())},my.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},Ew.$metadata$={simpleName:"WayfindingOptions",kind:"class",interfaces:[],associatedObjects:{0:Sw}},Pw.prototype._get_landmarkList_=function(){return function(a,p,E){for(var T=Qn(),D=a.iterator_39();D.hasNext_14();){var W=D.next_14();q(E,W._id)||(T.add_18(W),fe())}return T}(this._landmarkList,0,this._ignoredFeatureIdList)},Pw.prototype.updateFeatureList=function(a){for(var p=Qn(),E=a.iterator_39();E.hasNext_14();){var T=E.next_14();T.getType().equals(z5())&&(p.add_18(T),fe())}this._decisionList=p;for(var D=Qn(),W=a.iterator_39();W.hasNext_14();){var re=W.next_14();re.getType().equals(F5())&&(D.add_18(re),fe())}this._hazardList=D;for(var ce=Qn(),Fe=a.iterator_39();Fe.hasNext_14();){var Ue=Fe.next_14();Ue.getType().isLevelChanger()&&(ce.add_18(Ue),fe())}this._levelChangerList=ce},Pw.prototype.getLevelChangerById=function(a){var p,E=this._levelChangerList;e:do{for(var T=E.iterator_39();T.hasNext_14();){var D=T.next_14();if(D._id===a){p=D;break e}}p=null}while(0);return Dr(p)},Pw.$metadata$={simpleName:"GuidanceFeatureManager",kind:"class",interfaces:[]},gy.prototype._get_descriptor__66=function(){return this._descriptor_46},gy.prototype.childSerializers_15=function(){return[Bt(),Bt(),Tm(),Bt(),Tm(),Tm(),Bt(),Bt(),Tm()]},gy.prototype.deserialize_70=function(a){var p=this._descriptor_46,E=!0,T=0,D=0,W=null,re=null,ce=0,Fe=null,Ue=0,Ve=0,Ke=null,tt=null,bt=0,Dt=a.beginStructure_14(p);if(Dt.decodeSequentially_9())W=Dt.decodeStringElement_9(p,0),D|=1,re=Dt.decodeStringElement_9(p,1),D|=2,ce=Dt.decodeIntElement_9(p,2),D|=4,Fe=Dt.decodeStringElement_9(p,3),D|=8,Ue=Dt.decodeIntElement_9(p,4),D|=16,Ve=Dt.decodeIntElement_9(p,5),D|=32,Ke=Dt.decodeStringElement_9(p,6),D|=64,tt=Dt.decodeStringElement_9(p,7),D|=128,bt=Dt.decodeIntElement_9(p,8),D|=256;else for(;E;)switch(T=Dt.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=Dt.decodeStringElement_9(p,0),D|=1;break;case 1:re=Dt.decodeStringElement_9(p,1),D|=2;break;case 2:ce=Dt.decodeIntElement_9(p,2),D|=4;break;case 3:Fe=Dt.decodeStringElement_9(p,3),D|=8;break;case 4:Ue=Dt.decodeIntElement_9(p,4),D|=16;break;case 5:Ve=Dt.decodeIntElement_9(p,5),D|=32;break;case 6:Ke=Dt.decodeStringElement_9(p,6),D|=64;break;case 7:tt=Dt.decodeStringElement_9(p,7),D|=128;break;case 8:bt=Dt.decodeIntElement_9(p,8),D|=256;break;default:throw B(T)}return Dt.endStructure_14(p),function(Nt,lr,Mr,$r,Nn,ur,mr,Mn,Wn,Xi,Yn,Dn){if((1&Nt)==0)throw K("distance");if(Dn._distance=lr,(2&Nt)==0)throw K("distanceUnit");if(Dn._distanceUnit=Mr,(4&Nt)==0)throw K("headingTo");if(Dn._headingTo=$r,(8&Nt)==0)throw K("headingDirection");if(Dn._headingDirection=Nn,(16&Nt)==0)throw K("levelFrom");if(Dn._levelFrom=ur,(32&Nt)==0)throw K("levelsChanged");if(Dn._levelsChanged=mr,(64&Nt)==0)throw K("levelUnitString");if(Dn._levelUnitString=Mn,(128&Nt)==0)throw K("levelDirection");if(Dn._levelDirection=Wn,(256&Nt)==0)throw K("levelTo");return Dn._levelTo=Xi,Dn}(D,W,re,ce,Fe,Ue,Ve,Ke,tt,bt,0,Object.create(z_.prototype))},gy.prototype.serialize_104=function(a,p){var E=this._descriptor_46,T=a.beginStructure_14(E);T.encodeStringElement_3(E,0,p._distance),T.encodeStringElement_3(E,1,p._distanceUnit),T.encodeIntElement_3(E,2,p._headingTo),T.encodeStringElement_3(E,3,p._headingDirection),T.encodeIntElement_3(E,4,p._levelFrom),T.encodeIntElement_3(E,5,p._levelsChanged),T.encodeStringElement_3(E,6,p._levelUnitString),T.encodeStringElement_3(E,7,p._levelDirection),T.encodeIntElement_3(E,8,p._levelTo),T.endStructure_14(E)},gy.prototype.serialize_107=function(a,p){return this.serialize_104(a,p instanceof z_?p:$e())},gy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},yy.prototype._get_descriptor__66=function(){return this._descriptor_47},yy.prototype.childSerializers_15=function(){return[Bt(),Bt(),Bt()]},yy.prototype.deserialize_70=function(a){var p=this._descriptor_47,E=!0,T=0,D=0,W=null,re=null,ce=null,Fe=a.beginStructure_14(p);if(Fe.decodeSequentially_9())W=Fe.decodeStringElement_9(p,0),D|=1,re=Fe.decodeStringElement_9(p,1),D|=2,ce=Fe.decodeStringElement_9(p,2),D|=4;else for(;E;)switch(T=Fe.decodeElementIndex_9(p)){case-1:E=!1;break;case 0:W=Fe.decodeStringElement_9(p,0),D|=1;break;case 1:re=Fe.decodeStringElement_9(p,1),D|=2;break;case 2:ce=Fe.decodeStringElement_9(p,2),D|=4;break;default:throw B(T)}return Fe.endStructure_14(p),function(Ue,Ve,Ke,tt,bt,Dt){if((1&Ue)==0)throw K("distance");if(Dt._distance_0=Ve,(2&Ue)==0)throw K("distanceUnit");if(Dt._distanceUnit_0=Ke,(4&Ue)==0)throw K("direction");return Dt._direction_0=tt,Dt}(D,W,re,ce,0,Object.create(F_.prototype))},yy.prototype.serialize_106=function(a,p){var E=this._descriptor_47,T=a.beginStructure_14(E);T.encodeStringElement_3(E,0,p._distance_0),T.encodeStringElement_3(E,1,p._distanceUnit_0),T.encodeStringElement_3(E,2,p._direction_0),T.endStructure_14(E)},yy.prototype.serialize_107=function(a,p){return this.serialize_106(a,p instanceof F_?p:$e())},yy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[eo]},z_.prototype.toString=function(){return"LevelChangerData(distance="+this._distance+", distanceUnit="+this._distanceUnit+", headingTo="+this._headingTo+", headingDirection="+this._headingDirection+", levelFrom="+this._levelFrom+", levelsChanged="+this._levelsChanged+", levelUnitString="+this._levelUnitString+", levelDirection="+this._levelDirection+", levelTo="+this._levelTo+")"},z_.prototype.hashCode=function(){var a=ca(this._distance);return a=sr(a,31)+ca(this._distanceUnit)|0,a=sr(a,31)+this._headingTo|0,a=sr(a,31)+ca(this._headingDirection)|0,a=sr(a,31)+this._levelFrom|0,a=sr(a,31)+this._levelsChanged|0,a=sr(a,31)+ca(this._levelUnitString)|0,a=sr(a,31)+ca(this._levelDirection)|0,sr(a,31)+this._levelTo|0},z_.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof z_))return!1;var p=a instanceof z_?a:$e();return this._distance===p._distance&&this._distanceUnit===p._distanceUnit&&this._headingTo===p._headingTo&&this._headingDirection===p._headingDirection&&this._levelFrom===p._levelFrom&&this._levelsChanged===p._levelsChanged&&this._levelUnitString===p._levelUnitString&&this._levelDirection===p._levelDirection&&this._levelTo===p._levelTo},z_.$metadata$={simpleName:"LevelChangerData",kind:"class",interfaces:[],associatedObjects:{0:function(){return yu==null&&new gy,yu}}},F_.prototype.toString=function(){return"TurnData(distance="+this._distance_0+", distanceUnit="+this._distanceUnit_0+", direction="+this._direction_0+")"},F_.prototype.hashCode=function(){var a=ca(this._distance_0);return a=sr(a,31)+ca(this._distanceUnit_0)|0,sr(a,31)+ca(this._direction_0)|0},F_.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof F_))return!1;var p=a instanceof F_?a:$e();return this._distance_0===p._distance_0&&this._distanceUnit_0===p._distanceUnit_0&&this._direction_0===p._direction_0},F_.$metadata$={simpleName:"TurnData",kind:"class",interfaces:[],associatedObjects:{0:function(){return cu==null&&new yy,cu}}},qp.prototype.toString=function(){return"RouteUpdateTextResult(updateText="+this._updateText+", additionalText="+this._additionalText+")"},qp.prototype.hashCode=function(){var a=ca(this._updateText);return sr(a,31)+(this._additionalText==null?0:ca(this._additionalText))|0},qp.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof qp))return!1;var p=a instanceof qp?a:$e();return this._updateText===p._updateText&&this._additionalText==p._additionalText},qp.$metadata$={simpleName:"RouteUpdateTextResult",kind:"class",interfaces:[]},gP.prototype.compare_0=function(a,p){return this._function(a,p)},gP.prototype.compare=function(a,p){return this.compare_0(a,p)},gP.$metadata$={simpleName:"sam$kotlin_Comparator$0",kind:"class",interfaces:[wr]},yP.prototype.invoke_100=function(a,p){return function(E,T){return E===T?0:E==null?-1:T==null?1:kg(E!=null&&((W=typeof(D=E))=="string"||W==="boolean"||S1(D)||ir(D,cm(bi(Br))))?E:$e(),T);var D,W}(a.pointToPointDistance(Dr(this._this$0_18._route)._nodeList.get_29(this._$nodeIndex-1|0)._coordinates_2),p.pointToPointDistance(Dr(this._this$0_18._route)._nodeList.get_29(this._$nodeIndex-1|0)._coordinates_2))},yP.prototype.invoke_101=function(a,p){var E=a instanceof sd?a:$e();return this.invoke_100(E,p instanceof sd?p:$e())},yP.$metadata$={kind:"class",interfaces:[]},vP.prototype.invoke_102=function(a){var p;if(yw(this._$metadata,a.toString())&&yw(gw(this._$metadata.get_16(a.toString())),this._this$0_19._get_language_())){var E=gw(this._$metadata.get_16(a.toString())).get_16(this._this$0_19._get_language_()),T=E==null?null:jm(E);p=T==null?"":T}else p="";return p},vP.prototype.invoke_103=function(a){return this.invoke_102(a!=null&&typeof a=="number"?a:$e())},vP.$metadata$={kind:"class",interfaces:[]},Xv.prototype._get_language_=function(){return lL().getDefault()._language},Xv.prototype.setUnitConversion=function(a){this._conversion=a},Xv.prototype.generateStaticInstructionsForRoute=function(a){var p=function(bt,Dt){var Nt=bt._levelOverrideMap,lr=new Xv(bt._context,bt._featureManager,bt._guidanceTts,Gn(bt));return lr.setUnitConversion(lr._conversion),lr._levelOverrideMap=Nt,lr._route=Dt,lr}(this,a);if(!hr(this._conversion,_P()._DEFAULT)){var E=this._conversion.convert(a._distanceMeters);a._distanceCustom=E._value_7,a._distanceCustomUnit=E._unitName_0}for(var T=0,D=a._nodeList.iterator_39();D.hasNext_14();){var W=D.next_14();e:do{var re=T;T=re+1|0;var ce=Wr(re);if(ce===0){fe();break e}if(W._direction.isLevelChangeExit()){fe();break e}var Fe=ce>1&&Vm().isLevelChange(a._nodeList.get_29(ce-2|0)._direction),Ue=W,Ve=p.generateUpdateString(q5(),new Gv(ce,W._bearingFromLastNode,W._direction,W._distanceFromLastNode,W._distanceFromLastNode,ce<fu(a._nodeList)?a._nodeList.get_29(ce+1|0)._bearingFromLastNode:null,ce<fu(a._nodeList)?a._nodeList.get_29(ce+1|0)._distanceFromLastNode:null,ce<fu(a._nodeList)?a._nodeList.get_29(ce+1|0)._direction:null,0,fP().fromLngLat(0,0)),Fe),Ke=Qn();Js(Ve._updateText)>0&&(Ke.add_18(Ve._updateText),fe());var tt=Ve._additionalText;tt!=null&&Js(tt)!==0&&(Ke.add_18(Dr(Ve._additionalText)),fe()),Ue._instruction=Ke}while(0)}},Xv.prototype.generateUpdateString=function(a,p,E){var T,D=a;D.equals((D_(),Du))?T=vy(Gn(this)._stateCalculating,null,2):D.equals((D_(),hc))?T=vy(Gn(this)._stateRecalculating,null,2):D.equals((D_(),qu))?T=vy(Gn(this)._stateRouteNotFound,null,2):D.equals((D_(),Ul))?T=vy(Gn(this)._stateRouteOsrmError,null,2):D.equals((D_(),zc))?T=vy(Gn(this)._stateCanceled,null,2):D.equals((D_(),Dh))?T=new qp(Z5(this),K5(this)):D.equals(q5())?T=vy(oL(this,Dr(p)),null,2):D.equals((D_(),Zf))?T=vy(function(re,ce){var Fe=an(new Rn("update",oL(re,ce)));return re._mustache.compile(Gn(re)._updateTurnConfirmation).execute_0(Fe)}(this,Dr(p)),null,2):D.equals((D_(),Pi))?T=vy(oL(this,Dr(p)),null,2):D.equals(U5())?T=function(re,ce,Fe,Ue){var Ve,Ke="",tt=ce._stepDirection;if(tt.equals(nb()))Ve=Gn(re)._immediateTurnAround;else if(tt.equals(ib()))Ve=Gn(re)._immediateTurnLeftHard;else if(tt.equals(ob()))Ve=Gn(re)._immediateTurnLeft;else if(tt.equals(ab()))Ve=Gn(re)._immediateTurnLeftSlight;else if(tt.equals(Fv()))Ve=Gn(re)._immediateTurnStraight;else if(tt.equals(sb()))Ve=Gn(re)._immediateTurnRightSlight;else if(tt.equals(ub()))Ve=Gn(re)._immediateTurnRight;else if(tt.equals(lb()))Ve=Gn(re)._immediateTurnRightHard;else if(tt.equals(_y()))Ve=Z5(re);else if(tt.equals(jv()))Ve=ld(re,Gn(re)._immediateLevelchangeElevator,ce);else if(tt.equals(Bv()))Ve=ld(re,Gn(re)._immediateLevelchangeEscalator,ce);else if(tt.equals($v()))Ve=ld(re,Gn(re)._immediateLevelchangeStairs,ce);else if(tt.equals(Uv()))Ve=ld(re,Gn(re)._immediateLevelchangeElevator,ce);else if(tt.equals(qv()))Ve=ld(re,Gn(re)._immediateLevelchangeEscalator,ce);else{if(!tt.equals(Vv()))throw no(Sr("Unsupported step direction."));Ve=ld(re,Gn(re)._immediateLevelchangeStairs,ce)}var bt,Dt=Ve;if(Dr(re._route)._nodeList.get_29(ce._nodeIndex)._isWaypoint){var Nt=re._mustache.compile(Gn(re)._immediateWaypoint),lr=Ia([new Rn("turn",Dt)]),Mr=Dr(re._route)._nodeList.get_29(ce._nodeIndex)._waypointId;if(Mr!=null){var $r=Dr(re._route)._configuration_3.getWaypointById(Mr),Nn=$r==null?null:$r.getTitle();lr.put_4("waypointTitle",Nn==null?"":Nn)}fe(),bt=Nt.execute_0(lr)}else bt=Dt;var ur=bt;if(ce._stepDirection.equals(_y())&&(Ke+=K5(re)),!Vm().isLevelChange(ce._stepDirection)&&Vm().isTurn(ce._nextStepDirection)){var mr=X5(re,ce._nodeIndex+1|0,Ue);Ke+=Js(Ke)===0?mr:" "+mr}if(_y().equals(ce._nextStepDirection)){var Mn=W5(re,Dr(ce._nextStepDistance));Ke+=Js(Ke)===0?Mn:" "+Mn}if(Vm().isLevelChange(ce._nextStepDirection)){var Wn=H5(re,ce._nodeIndex+1|0,Dr(ce._nextStepDistance),Fe);Ke+=Js(Ke)===0?Wn:" "+Wn}return new qp(ur,Ke)}(this,Dr(p),this._featureManager._levelChangerList,this._featureManager._get_landmarkList_()):Tg();var W=T;return E&&p!=null?function(re,ce,Fe,Ue){if(Dr(re._route)._nodeList.get_29(ce._nodeIndex-1|0)._levelChangerId==null)return Ue;var Ve,Ke;e:do{for(var tt=re._featureManager._levelChangerList.iterator_39();tt.hasNext_14();){var bt=tt.next_14();if(bt._id==Dr(re._route)._nodeList.get_29(ce._nodeIndex-1|0)._levelChangerId){Ve=bt;break e}}Ve=null}while(0);if(Ve==null)return Ue;var Dt=Ve._featureGeometry;if(G5(Dt instanceof ou?Dt:$e(),Dr(re._route)._nodeList.get_29(ce._nodeIndex-1|0)._coordinates_2)<.2){var Nt;if(Dr(re._route)._nodeList.get_29(ce._nodeIndex)._direction.isTurn_0()){var lr;if(Fe.equals(U5())){var Mr=Dr(re._route)._nodeList.get_29(ce._nodeIndex)._bearingFromLastNode,$r=Yv(Dr(re._route)._nodeList.get_29(ce._nodeIndex+1|0)._bearingFromLastNode-Mr);lr=new qp(mP(re,ce,re._featureManager._levelChangerList,$r),null)}else lr=new qp(mP(re,ce,re._featureManager._levelChangerList,0),Ue._updateText);Nt=lr}else Nt=new qp(mP(re,ce,re._featureManager._levelChangerList,0),Ue._updateText);Ke=Nt}else Ke=new qp(function(Nn,ur,mr,Mn,Wn,Xi){return mP(Nn,ur,mr,null)}(re,ce,re._featureManager._levelChangerList),Vm().isTurn(ce._stepDirection)||Vm().isTurn(ce._stepDirection)?X5(re,ce._nodeIndex,re._featureManager._get_landmarkList_()):_y().equals(ce._stepDirection)?W5(re,ce._stepDistance):Vm().isLevelChange(ce._stepDirection)?H5(re,ce._nodeIndex,ce._stepDistance,re._featureManager._levelChangerList):null);return Ke}(this,p,a,W):W},Xv.$metadata$={simpleName:"GuidanceTextGenerator",kind:"class",interfaces:[]},r6.$metadata$={simpleName:"GuidanceTts",kind:"class",interfaces:[]},Hv.prototype.toString=function(){return"RouteSplit(from="+this._from+", toConnector="+this._toConnector+", toDestination="+this._toDestination+", toWaypoint="+this._toWaypoint+", campusId="+this._campusId+", splits="+this._splits+")"},Hv.prototype.hashCode=function(){var a=Ui(this._from);return a=sr(a,31)+(this._toConnector==null?0:Ui(this._toConnector))|0,a=sr(a,31)+(this._toDestination==null?0:Ui(this._toDestination))|0,a=sr(a,31)+(this._toWaypoint==null?0:Ui(this._toWaypoint))|0,a=sr(a,31)+(this._campusId==null?0:ca(this._campusId))|0,sr(a,31)+Ui(this._splits)|0},Hv.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Hv))return!1;var p=a instanceof Hv?a:$e();return!!(hr(this._from,p._from)&&hr(this._toConnector,p._toConnector)&&hr(this._toDestination,p._toDestination)&&hr(this._toWaypoint,p._toWaypoint)&&this._campusId==p._campusId&&hr(this._splits,p._splits))},Hv.$metadata$={simpleName:"RouteSplit",kind:"class",interfaces:[]},Zv.prototype.toString=function(){return"RouteStep(node="+this._node+", pathToNode="+this._pathToNode+", campusId="+this._campusId_0+", level="+this._level_1+", connector="+this._connector+", waypoint="+this._waypoint+")"},Zv.prototype.hashCode=function(){var a=Ui(this._node);return a=sr(a,31)+(this._pathToNode==null?0:Ui(this._pathToNode))|0,a=sr(a,31)+(this._campusId_0==null?0:ca(this._campusId_0))|0,a=sr(a,31)+this._level_1|0,a=sr(a,31)+(this._connector==null?0:Ui(this._connector))|0,sr(a,31)+(this._waypoint==null?0:Ui(this._waypoint))|0},Zv.prototype.equals=function(a){if(this===a)return!0;if(!(a instanceof Zv))return!1;var p=a instanceof Zv?a:$e();return!!(hr(this._node,p._node)&&hr(this._pathToNode,p._pathToNode)&&this._campusId_0==p._campusId_0&&this._level_1===p._level_1&&hr(this._connector,p._connector)&&hr(this._waypoint,p._waypoint))},Zv.$metadata$={simpleName:"RouteStep",kind:"class",interfaces:[]},sL.prototype.convertWayfindingSplitToSteps=function(a,p,E){for(var T=E&&C5(Y(Dr(a._wayfindingPath)))?1:0,D=a._toWaypoint!=null&&C5(V(Dr(a._wayfindingPath)))?Dr(a._wayfindingPath)._get_size__29()-1|0:Dr(a._wayfindingPath)._get_size__29(),W=Dr(a._wayfindingPath).subList_4(T,D),re=fu(W),ce=ia(uo(W,10)),Fe=0,Ue=W.iterator_39();Ue.hasNext_14();){var Ve,Ke=Ue.next_14();e:do{var tt=Fe;Fe=tt+1|0;var bt=Wr(tt);if(p&&bt===0||bt>re){Ve=null;break e}var Dt=Rl(Ke),Nt=bt>0&&Dt===Rl(W.get_29(bt-1|0))?UY(i6(),bt,W):null,lr=bt===re?a._toConnector:null,Mr=bt===re?a._toWaypoint:null;Ve=new Zv(Ke,Nt,a._campusId,Dt,lr,Mr)}while(0);ce.add_18(Ve),fe()}return function($r,Nn){for(var ur=$r.iterator_39();ur.hasNext_14();){var mr=ur.next_14();mr!=null&&(Nn.add_18(mr),fe())}return Nn}(ce,Qn())},sL.$metadata$={simpleName:"Router",kind:"object",interfaces:[]},uL.prototype.getDefault=function(){return new a6},uL.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},a6.$metadata$={simpleName:"Locale",kind:"class",interfaces:[]},Il.prototype._get_entries__5=Ks.prototype._get_entries__5,S.prototype.hasNext_14=ri.prototype.hasNext_14,rn.prototype.get_29=pl.prototype.get_29,us.prototype._get_entries__5=Cg.prototype._get_entries__5,kf.prototype.createJsMap_0=vg.prototype.createJsMap_0,ju.prototype._get_simpleName__4=Fu.prototype._get_simpleName__4,ju.prototype.isInstance_4=Fu.prototype.isInstance_4,vc.prototype._get_descriptor__66=Pr.prototype._get_descriptor__66,ki.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,ki.prototype._get_isInline__17=Ir.prototype._get_isInline__17,qi.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,qi.prototype._get_serializersModule__18=nc.prototype._get_serializersModule__18,qi.prototype.decodeSerializableValue_18=nc.prototype.decodeSerializableValue_18,qi.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,qi.prototype.decodeElementIndex_9=xi.prototype.decodeElementIndex_9,qi.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,Di.prototype._get_serializersModule__18=As.prototype._get_serializersModule__18,Di.prototype.encodeNotNullMark_3=As.prototype.encodeNotNullMark_3,Di.prototype.beginCollection_3=As.prototype.beginCollection_3,Di.prototype.encodeSerializableValue_3=As.prototype.encodeSerializableValue_3,Di.prototype.encodeNullableSerializableValue_3=As.prototype.encodeNullableSerializableValue_3,Di.prototype.shouldEncodeElementDefault_3=zd.prototype.shouldEncodeElementDefault_3,hs.prototype._get_serialName__17=Ir.prototype._get_serialName__17,hs.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,hs.prototype._get_isInline__17=Ir.prototype._get_isInline__17,kp.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,kp.prototype._get_isInline__17=Ir.prototype._get_isInline__17,Tp.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,Tp.prototype._get_isInline__17=Ir.prototype._get_isInline__17,ph.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,ph.prototype._get_isInline__17=Ir.prototype._get_isInline__17,Wu.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,Wu.prototype._get_isInline__17=Ir.prototype._get_isInline__17,Lp.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,Lp.prototype._get_isInline__17=Ir.prototype._get_isInline__17,ap.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,ap.prototype._get_isInline__17=Ir.prototype._get_isInline__17,Np.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,Np.prototype._get_isInline__17=Ir.prototype._get_isInline__17,sp.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,sp.prototype._get_isInline__17=Ir.prototype._get_isInline__17,ed.prototype._get_descriptor__66=Pr.prototype._get_descriptor__66,Ko.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,Ko.prototype._get_isInline__17=Ir.prototype._get_isInline__17,hh.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,td.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,Xu.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,Xu.prototype._get_isInline__17=Ir.prototype._get_isInline__17,Zn.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,Zn.prototype.decodeSerializableValue_18=nc.prototype.decodeSerializableValue_18,Zn.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,Zn.prototype.decodeElementIndex_9=xi.prototype.decodeElementIndex_9,Zn.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,iu.prototype.decodeSerializableValue_18=nc.prototype.decodeSerializableValue_18,iu.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,iu.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,iu.prototype.decodeElementIndex_9=xi.prototype.decodeElementIndex_9,iu.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,Rm.prototype._get_descriptor__66=Pr.prototype._get_descriptor__66,Wd.prototype._get_isNullable__17=Ir.prototype._get_isNullable__17,Wd.prototype._get_isInline__17=Ir.prototype._get_isInline__17,H1.prototype.contextual_2=G2.prototype.contextual_2,ds.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,ds.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,ds.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,Nf.prototype.decodeSerializableValue_18=nc.prototype.decodeSerializableValue_18,Nf.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,Nf.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,Nf.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,_s.prototype.encodeNotNullMark_3=As.prototype.encodeNotNullMark_3,_s.prototype.beginCollection_3=As.prototype.beginCollection_3,_s.prototype.encodeNullableSerializableValue_3=As.prototype.encodeNullableSerializableValue_3,wi.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,wi.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,wi.prototype.decodeElementIndex_9=xi.prototype.decodeElementIndex_9,wi.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,mf.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,mf.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,mf.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,$p.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,$p.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,$p.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,Xd.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,Xd.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,Xd.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,yh.prototype.decodeSerializableElement$default_9=xi.prototype.decodeSerializableElement$default_9,yh.prototype.decodeSequentially_9=xi.prototype.decodeSequentially_9,yh.prototype.decodeCollectionSize_9=xi.prototype.decodeCollectionSize_9,Xc.prototype.encodeNotNullMark_3=As.prototype.encodeNotNullMark_3,Xc.prototype.beginCollection_3=As.prototype.beginCollection_3,Xc.prototype.encodeSerializableValue_3=As.prototype.encodeSerializableValue_3,Xc.prototype.encodeNullableSerializableValue_3=As.prototype.encodeNullableSerializableValue_3,Xc.prototype.shouldEncodeElementDefault_3=zd.prototype.shouldEncodeElementDefault_3,Hu.prototype.encodeNotNullMark_3=As.prototype.encodeNotNullMark_3,Hu.prototype.beginCollection_3=As.prototype.beginCollection_3,Hu.prototype.encodeNullableSerializableValue_3=As.prototype.encodeNullableSerializableValue_3,iy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,oy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,ay.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,sy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,N_.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,uy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,ly.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,cy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,fy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,py.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,hy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,dy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,my.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,gy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,yy.prototype.typeParametersSerializers_15=eo.prototype.typeParametersSerializers_15,pt=null,Oe=Vh(Array(0),null),Pt=new ArrayBuffer(8),Rt=new Float64Array(Pt),mt=new Int32Array(Pt),Rt[0]=-1,Nr=mt[0]!==0?1:0,Qr=1-Nr|0,on=Rg(0),Bn=Rg(1),si=Rg(-1),$n=new kr(-1,2147483647),Fn=new kr(0,-2147483648),Vo=Rg(16777216),ta=[[{kind:"class",interfaces:[]},{kind:"class",interfaces:[]}],[{kind:"class",interfaces:[]},{kind:"class",interfaces:[]}],[{kind:"class",interfaces:[]},{kind:"class",interfaces:[]}]],_r=[],cr=[],Lt=Ys([ji(un()._get_stringClass_(),vt()),ji(bi(Mt),At(Td())),ji(un()._get_charArrayClass_(),(Et==null&&new Ll,Et)),ji(un()._get_doubleClass_(),Ot(er())),ji(un()._get_doubleArrayClass_(),(fr==null&&new Nl,fr)),ji(un()._get_floatClass_(),Ft(Vt())),ji(un()._get_floatArrayClass_(),(Zt==null&&new Ml,Zt)),ji(bi(kr),Qt(cs())),ji(un()._get_longArrayClass_(),(or==null&&new ff,or)),ji(un()._get_intClass_(),pr(xt())),ji(un()._get_intArrayClass_(),(en==null&&new pf,en)),ji(un()._get_shortClass_(),Vr(gt())),ji(un()._get_shortArrayClass_(),(dr==null&&new hf,dr)),ji(un()._get_byteClass_(),yr(rt())),ji(un()._get_byteArrayClass_(),(Ur==null&&new df,Ur)),ji(un()._get_booleanClass_(),Zr()),ji(un()._get_booleanArrayClass_(),(ln==null&&new Wc,ln)),ji(bi(De),(fe(),bl==null&&new Lm,bl))]),Yi=new Object,ti=new Dm(Qi(),Qi(),Qi(),Qi()),Ts=new Q2,ul=[($t==null&&new Gc,$t)._get_descriptor__66(),br(va())._get_descriptor__66(),(dt==null&&new dh,dt)._get_descriptor__66(),(zt==null&&new nd,zt)._get_descriptor__66()],Nu=ul.length>0?function(a){var p;switch(a.length){case 0:return Aa();case 1:return I(p=[a[0]],Pp(p.length));default:return I(a,S2(a.length))}}(ul):Aa(),Ba=function(){var a=Vh(Array(93),null),p=0;if(p<=31)do{var E=p;p=p+1|0;var T=eP(E>>12),D=eP(E>>8),W=eP(E>>4),re=eP(E);a[E]="\\u"+T+D+W+re}while(p<=31);return a[new Mt(34).toInt_5()]='\\"',a[new Mt(92).toInt_5()]="\\\\",a[new Mt(9).toInt_5()]="\\t",a[new Mt(8).toInt_5()]="\\b",a[new Mt(10).toInt_5()]="\\n",a[new Mt(13).toInt_5()]="\\r",a[12]="\\f",a}(),m.RouteFactory=mw;var s6=m.android||(m.android={}),u6=s6.content||(s6.content={});u6.Context=Z1,u6.Context.Resources=sP;var l6=m.com||(m.com={}),c6=l6.mapbox||(l6.mapbox={}),cL=c6.geojson||(c6.geojson={});cL.Geometry=up,cL.Point=ou,cL.Point.Point_init_$Create$=T5})(s.exports)}},u={},function s(m){var v=u[m];if(v!==void 0)return v.exports;var _=u[m]={exports:{}};return i[m](_,_.exports,s),_.exports}(970);var i,u})})(wY);var qy={},qz=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(qy,"__esModule",{value:!0});qy.PolygonTitlesLayer=qy.PolygonIconsLayer=qy.PolygonsLayer=void 0;var E$=Xy,NS=Yy,gCe=function(e){qz(t,e);function t(r){var n=e.call(this,r)||this;return n.id="shop-custom",n.type="fill-extrusion",n.minzoom=17,n.maxzoom=24,n.source="main",n.filter=["all",["==",["get","type"],"shop-custom"],["==",["to-number",["get","level"]],0]],n.paint=new E$.PaintProperties({"fill-extrusion-height":["case",["boolean",["feature-state","selected"],!1],r.selectedPolygonHeight,["boolean",["feature-state","hover"],!1],r.hoverPolygonHeight,["boolean",["feature-state","active"],!1],r.hoverPolygonHeight,r.defaultPolygonHeight],"fill-extrusion-base":r.base,"fill-extrusion-opacity":r.opacity,"fill-extrusion-color":["case",["boolean",["feature-state","selected"],!1],r.selectedPolygonColor,["boolean",["feature-state","hover"],!1],r.hoverPolygonColor,["boolean",["feature-state","active"],!1],r.hoverPolygonColor,["boolean",["feature-state","disabled"],!1],"#8a8a8a",r.defaultPolygonColor]}),n}return t}(E$.default);qy.PolygonsLayer=gCe;var yCe=function(e){qz(t,e);function t(r){var n=e.call(this,r)||this;return n.id="poi-custom-icons",n.type="symbol",n.minzoom=17,n.maxzoom=24,n.source="main",n.filter=["all",["==",["get","type"],"poi-custom"],["==",["to-number",["get","level"]],0]],n.layout=new NS.LayoutProperties({"icon-image":"{amenity}","icon-size":["interpolate",["exponential",.5],["zoom"],17,.1,22,.5],"text-anchor":"top","text-offset":[0,2],"text-font":["Open Sans Regular"],"text-size":14,"symbol-placement":"point","icon-allow-overlap":!0,"text-allow-overlap":!0}),n}return t}(NS.default);qy.PolygonIconsLayer=yCe;var vCe=function(e){qz(t,e);function t(r){var n=e.call(this,r)||this;return n.id="shop-labels",n.type="symbol",n.minzoom=17,n.maxzoom=24,n.source="main",n.filter=["all",["==",["get","type"],"shop-label"],["==",["to-number",["get","level"]],0]],n.layout=new NS.LayoutProperties({"symbol-placement":"line-center","text-anchor":"top","text-ignore-placement":!0,"text-allow-overlap":!0,"text-field":"{title}","text-font":["Open Sans Bold"],"text-size":["interpolate",["linear"],["zoom"],18,4,18.5,6,19,14,19.5,16,20,18,20.5,24,21,30,21.5,36,22,42],"text-letter-spacing":.005,"text-max-width":7}),n.paint=new NS.PaintProperties({"text-color":["case",["boolean",["feature-state","selected"],!1],r.selectedLabelColor,["boolean",["feature-state","hover"],!1],r.hoverLabelColor,r.defaultLabelColor]}),n}return t}(NS.default);qy.PolygonTitlesLayer=vCe;var Vz={};Object.defineProperty(Vz,"__esModule",{value:!0});var bCe=a_,xCe=function(){function e(t){this.id=t.id?t.id:bCe.uuidv4(),this.lat=t.lat,this.lng=t.lng,this.level=t.level}return e.prototype.updatePosition=function(t){this.lat=t.lat,this.lng=t.lng,this.level=t.level},e}();Vz.default=xCe;var Gz={},Wz={},gI,wCe=new Uint8Array(16);function EY(){if(!gI&&(gI=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gI))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gI(wCe)}var SCe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vT(e){return typeof e=="string"&&SCe.test(e)}var vf=[];for(var $N=0;$N<256;++$N)vf.push(($N+256).toString(16).substr(1));function bT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(vf[e[t+0]]+vf[e[t+1]]+vf[e[t+2]]+vf[e[t+3]]+"-"+vf[e[t+4]]+vf[e[t+5]]+"-"+vf[e[t+6]]+vf[e[t+7]]+"-"+vf[e[t+8]]+vf[e[t+9]]+"-"+vf[e[t+10]]+vf[e[t+11]]+vf[e[t+12]]+vf[e[t+13]]+vf[e[t+14]]+vf[e[t+15]]).toLowerCase();if(!vT(r))throw TypeError("Stringified UUID is invalid");return r}var P$,UN,qN=0,VN=0;function ECe(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var u=e.node||P$,s=e.clockseq!==void 0?e.clockseq:UN;if(u==null||s==null){var m=e.random||(e.rng||EY)();u==null&&(u=P$=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),s==null&&(s=UN=(m[6]<<8|m[7])&16383)}var v=e.msecs!==void 0?e.msecs:Date.now(),_=e.nsecs!==void 0?e.nsecs:VN+1,P=v-qN+(_-VN)/1e4;if(P<0&&e.clockseq===void 0&&(s=s+1&16383),(P<0||v>qN)&&e.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qN=v,VN=_,UN=s,v+=122192928e5;var C=((v&268435455)*1e4+_)%4294967296;i[n++]=C>>>24&255,i[n++]=C>>>16&255,i[n++]=C>>>8&255,i[n++]=C&255;var I=v/4294967296*1e4&268435455;i[n++]=I>>>8&255,i[n++]=I&255,i[n++]=I>>>24&15|16,i[n++]=I>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var k=0;k<6;++k)i[n+k]=u[k];return t||bT(i)}function PY(e){if(!vT(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function PCe(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var ICe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",CCe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function IY(e,t,r){function n(i,u,s,m){if(typeof i=="string"&&(i=PCe(i)),typeof u=="string"&&(u=PY(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var v=new Uint8Array(16+i.length);if(v.set(u),v.set(i,u.length),v=r(v),v[6]=v[6]&15|t,v[8]=v[8]&63|128,s){m=m||0;for(var _=0;_<16;++_)s[m+_]=v[_];return s}return bT(v)}try{n.name=e}catch{}return n.DNS=ICe,n.URL=CCe,n}function ACe(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return OCe(kCe(TCe(e),e.length*8))}function OCe(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var u=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(u>>>4&15)+n.charAt(u&15),16);t.push(s)}return t}function CY(e){return(e+64>>>9<<4)+14+1}function kCe(e,t){e[t>>5]|=128<<t%32,e[CY(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,u=271733878,s=0;s<e.length;s+=16){var m=r,v=n,_=i,P=u;r=Ff(r,n,i,u,e[s],7,-680876936),u=Ff(u,r,n,i,e[s+1],12,-389564586),i=Ff(i,u,r,n,e[s+2],17,606105819),n=Ff(n,i,u,r,e[s+3],22,-1044525330),r=Ff(r,n,i,u,e[s+4],7,-176418897),u=Ff(u,r,n,i,e[s+5],12,1200080426),i=Ff(i,u,r,n,e[s+6],17,-1473231341),n=Ff(n,i,u,r,e[s+7],22,-45705983),r=Ff(r,n,i,u,e[s+8],7,1770035416),u=Ff(u,r,n,i,e[s+9],12,-1958414417),i=Ff(i,u,r,n,e[s+10],17,-42063),n=Ff(n,i,u,r,e[s+11],22,-1990404162),r=Ff(r,n,i,u,e[s+12],7,1804603682),u=Ff(u,r,n,i,e[s+13],12,-40341101),i=Ff(i,u,r,n,e[s+14],17,-1502002290),n=Ff(n,i,u,r,e[s+15],22,1236535329),r=jf(r,n,i,u,e[s+1],5,-165796510),u=jf(u,r,n,i,e[s+6],9,-1069501632),i=jf(i,u,r,n,e[s+11],14,643717713),n=jf(n,i,u,r,e[s],20,-373897302),r=jf(r,n,i,u,e[s+5],5,-701558691),u=jf(u,r,n,i,e[s+10],9,38016083),i=jf(i,u,r,n,e[s+15],14,-660478335),n=jf(n,i,u,r,e[s+4],20,-405537848),r=jf(r,n,i,u,e[s+9],5,568446438),u=jf(u,r,n,i,e[s+14],9,-1019803690),i=jf(i,u,r,n,e[s+3],14,-187363961),n=jf(n,i,u,r,e[s+8],20,1163531501),r=jf(r,n,i,u,e[s+13],5,-1444681467),u=jf(u,r,n,i,e[s+2],9,-51403784),i=jf(i,u,r,n,e[s+7],14,1735328473),n=jf(n,i,u,r,e[s+12],20,-1926607734),r=Bf(r,n,i,u,e[s+5],4,-378558),u=Bf(u,r,n,i,e[s+8],11,-2022574463),i=Bf(i,u,r,n,e[s+11],16,1839030562),n=Bf(n,i,u,r,e[s+14],23,-35309556),r=Bf(r,n,i,u,e[s+1],4,-1530992060),u=Bf(u,r,n,i,e[s+4],11,1272893353),i=Bf(i,u,r,n,e[s+7],16,-155497632),n=Bf(n,i,u,r,e[s+10],23,-1094730640),r=Bf(r,n,i,u,e[s+13],4,681279174),u=Bf(u,r,n,i,e[s],11,-358537222),i=Bf(i,u,r,n,e[s+3],16,-722521979),n=Bf(n,i,u,r,e[s+6],23,76029189),r=Bf(r,n,i,u,e[s+9],4,-640364487),u=Bf(u,r,n,i,e[s+12],11,-421815835),i=Bf(i,u,r,n,e[s+15],16,530742520),n=Bf(n,i,u,r,e[s+2],23,-995338651),r=$f(r,n,i,u,e[s],6,-198630844),u=$f(u,r,n,i,e[s+7],10,1126891415),i=$f(i,u,r,n,e[s+14],15,-1416354905),n=$f(n,i,u,r,e[s+5],21,-57434055),r=$f(r,n,i,u,e[s+12],6,1700485571),u=$f(u,r,n,i,e[s+3],10,-1894986606),i=$f(i,u,r,n,e[s+10],15,-1051523),n=$f(n,i,u,r,e[s+1],21,-2054922799),r=$f(r,n,i,u,e[s+8],6,1873313359),u=$f(u,r,n,i,e[s+15],10,-30611744),i=$f(i,u,r,n,e[s+6],15,-1560198380),n=$f(n,i,u,r,e[s+13],21,1309151649),r=$f(r,n,i,u,e[s+4],6,-145523070),u=$f(u,r,n,i,e[s+11],10,-1120210379),i=$f(i,u,r,n,e[s+2],15,718787259),n=$f(n,i,u,r,e[s+9],21,-343485551),r=My(r,m),n=My(n,v),i=My(i,_),u=My(u,P)}return[r,n,i,u]}function TCe(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(CY(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function My(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function LCe(e,t){return e<<t|e>>>32-t}function xT(e,t,r,n,i,u){return My(LCe(My(My(t,e),My(n,u)),i),r)}function Ff(e,t,r,n,i,u,s){return xT(t&r|~t&n,e,t,i,u,s)}function jf(e,t,r,n,i,u,s){return xT(t&n|r&~n,e,t,i,u,s)}function Bf(e,t,r,n,i,u,s){return xT(t^r^n,e,t,i,u,s)}function $f(e,t,r,n,i,u,s){return xT(r^(t|~n),e,t,i,u,s)}var NCe=IY("v3",48,ACe),MCe=NCe;function RCe(e,t,r){e=e||{};var n=e.random||(e.rng||EY)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return bT(n)}function DCe(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function GN(e,t){return e<<t|e>>>32-t}function zCe(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var u=e.length/4+2,s=Math.ceil(u/16),m=new Array(s),v=0;v<s;++v){for(var _=new Uint32Array(16),P=0;P<16;++P)_[P]=e[v*64+P*4]<<24|e[v*64+P*4+1]<<16|e[v*64+P*4+2]<<8|e[v*64+P*4+3];m[v]=_}m[s-1][14]=(e.length-1)*8/Math.pow(2,32),m[s-1][14]=Math.floor(m[s-1][14]),m[s-1][15]=(e.length-1)*8&4294967295;for(var C=0;C<s;++C){for(var I=new Uint32Array(80),k=0;k<16;++k)I[k]=m[C][k];for(var F=16;F<80;++F)I[F]=GN(I[F-3]^I[F-8]^I[F-14]^I[F-16],1);for(var V=r[0],Y=r[1],q=r[2],M=r[3],j=r[4],G=0;G<80;++G){var J=Math.floor(G/20),he=GN(V,5)+DCe(J,Y,q,M)+j+t[J]+I[G]>>>0;j=M,M=q,q=GN(Y,30)>>>0,Y=V,V=he}r[0]=r[0]+V>>>0,r[1]=r[1]+Y>>>0,r[2]=r[2]+q>>>0,r[3]=r[3]+M>>>0,r[4]=r[4]+j>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var FCe=IY("v5",80,zCe),jCe=FCe,BCe="00000000-0000-0000-0000-000000000000";function $Ce(e){if(!vT(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var UCe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",v1:ECe,v3:MCe,v4:RCe,v5:jCe,NIL:BCe,version:$Ce,validate:vT,stringify:bT,parse:PY}),qCe=R0(UCe);Object.defineProperty(Wz,"__esModule",{value:!0});var WN=qCe,VCe=function(){function e(t){this.id=t.id?t.id:WN.v4()+":"+WN.v4(),this.organization_id=t.organization_id,this.organization_name=t.organization_name,this.visitor_id=t.visitor_id?t.visitor_id:WN.v4(),this.createdAt=t.createdAt?t.createdAt:new Date}return e}();Wz.default=VCe;var GCe=Ne&&Ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WCe=Ne&&Ne.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(s){s(u)})}return new(r||(r=Promise))(function(u,s){function m(P){try{_(n.next(P))}catch(C){s(C)}}function v(P){try{_(n.throw(P))}catch(C){s(C)}}function _(P){P.done?u(P.value):i(P.value).then(m,v)}_((n=n.apply(e,t||[])).next())})},XCe=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(Gz,"__esModule",{value:!0});var YCe=a_,HCe=Wz,ZCe=function(e){GCe(t,e);function t(r){var n=e.call(this,r)||this;return n.startLngLat=r.startLngLat,n.startLevel=r.startLevel,n.startSegmentId=r.startSegmentId,n.startSegmentName=r.startSegmentName,n.startGeofenceId=r.startGeofenceId,n.startGeofenceName=r.startGeofenceName,n.destinationFeatureId=r.destinationFeatureId,n.destinationName=r.destinationName,n.destinationLngLat=r.destinationLngLat,n.destinationLevel=r.destinationLevel,n.foundPath=r.foundPath,n.optionAvoidBarrier=r.optionAvoidBarrier,n.optionAvoidElevators=r.optionAvoidElevators,n.optionAvoidEscalators=r.optionAvoidEscalators,n.optionAvoidNarrowPaths=r.optionAvoidNarrowPaths,n.optionAvoidRamps=r.optionAvoidRamps,n.optionAvoidStaircases=r.optionAvoidStaircases,n.optionAvoidTicketGates=r.optionAvoidTicketGates,n.route=r.route,n.rerouted=r.rerouted,n}return t.prototype.save=function(){return WCe(this,void 0,void 0,function(){var r;return XCe(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,YCe.axios.post("v6/geo/wayfinding_logs",[this])];case 1:return n.sent(),[3,3];case 2:return r=n.sent(),console.log("Log saving failed, "+r.message),[3,3];case 3:return[2]}})})},t}(HCe.default);Gz.default=ZCe;(function(e){var t=Ne&&Ne.__assign||function(){return t=Object.assign||function(Be){for(var Q,te=1,oe=arguments.length;te<oe;te++){Q=arguments[te];for(var ve in Q)Object.prototype.hasOwnProperty.call(Q,ve)&&(Be[ve]=Q[ve])}return Be},t.apply(this,arguments)},r=Ne&&Ne.__awaiter||function(Be,Q,te,oe){function ve(de){return de instanceof te?de:new te(function(ze){ze(de)})}return new(te||(te=Promise))(function(de,ze){function ye(yt){try{Qe(oe.next(yt))}catch(_t){ze(_t)}}function Je(yt){try{Qe(oe.throw(yt))}catch(_t){ze(_t)}}function Qe(yt){yt.done?de(yt.value):ve(yt.value).then(ye,Je)}Qe((oe=oe.apply(Be,Q||[])).next())})},n=Ne&&Ne.__generator||function(Be,Q){var te={label:0,sent:function(){if(de[0]&1)throw de[1];return de[1]},trys:[],ops:[]},oe,ve,de,ze;return ze={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(ze[Symbol.iterator]=function(){return this}),ze;function ye(Qe){return function(yt){return Je([Qe,yt])}}function Je(Qe){if(oe)throw new TypeError("Generator is already executing.");for(;te;)try{if(oe=1,ve&&(de=Qe[0]&2?ve.return:Qe[0]?ve.throw||((de=ve.return)&&de.call(ve),0):ve.next)&&!(de=de.call(ve,Qe[1])).done)return de;switch(ve=0,de&&(Qe=[Qe[0]&2,de.value]),Qe[0]){case 0:case 1:de=Qe;break;case 4:return te.label++,{value:Qe[1],done:!1};case 5:te.label++,ve=Qe[1],Qe=[0];continue;case 7:Qe=te.ops.pop(),te.trys.pop();continue;default:if(de=te.trys,!(de=de.length>0&&de[de.length-1])&&(Qe[0]===6||Qe[0]===2)){te=0;continue}if(Qe[0]===3&&(!de||Qe[1]>de[0]&&Qe[1]<de[3])){te.label=Qe[1];break}if(Qe[0]===6&&te.label<de[1]){te.label=de[1],de=Qe;break}if(de&&te.label<de[2]){te.label=de[2],te.ops.push(Qe);break}de[2]&&te.ops.pop(),te.trys.pop();continue}Qe=Q.call(Be,te)}catch(yt){Qe=[6,yt],ve=0}finally{oe=de=0}if(Qe[0]&5)throw Qe[1];return{value:Qe[0]?Qe[1]:void 0,done:!0}}},i=Ne&&Ne.__spreadArray||function(Be,Q){for(var te=0,oe=Q.length,ve=Be.length;te<oe;te++,ve++)Be[ve]=Q[te];return Be};Object.defineProperty(e,"__esModule",{value:!0}),e.Map=e.globalState=void 0;var u=cq.exports,s=fq,m=U4,v=xE,_=wE,P=vA,C=gR,I=vR,k=Jp,F=bR,V=Mz,Y=Rz,q=a_,M=FX,j=yx,G=bE,J=Dz,he=Tn,pe=xY.exports,ne=wY.exports,ee=Ph,ie=qy,we=Vz,Se=Cr,Pe=Gz;e.globalState={initializing:!0,floor:new _.FloorModel({}),floors:[],place:new v.PlaceModel({}),places:[],style:new P.default({}),styles:[],amenities:[],features:new k.FeatureCollection({}),dynamicFeatures:new k.FeatureCollection({}),allFeatures:new k.FeatureCollection({}),latitude:0,longitude:0,loadingRoute:!1,noPlaces:!1,textNavigation:null,persons:[],user:null};var ae=function(){function Be(Q){this.geojsonSource=new C.default(new k.FeatureCollection({})),this.syntheticSource=new I.default(new k.FeatureCollection({})),this.routingSource=new F.default,this.clusterSource=new V.default,this.imageSourceManager=new Y.default,this.onMapReadyListener=new J.Subject,this.onPlaceSelectListener=new J.Subject,this.onFloorSelectListener=new J.Subject,this.onRouteFoundListener=new J.Subject,this.onRouteFailedListener=new J.Subject,this.onRouteCancelListener=new J.Subject,this.onFeatureAddListener=new J.Subject,this.onFeatureUpdateListener=new J.Subject,this.onFeatureDeleteListener=new J.Subject,this.onPolygonClickListener=new J.Subject,this.onPoiClickListener=new J.Subject,this.onPersonUpdateListener=new J.Subject,this.defaultOptions={selector:"proximiioMap",allowNewFeatureModal:!1,newFeatureModalEvent:"click",enableTBTNavigation:!0,zoomIntoPlace:!0,isKiosk:!1,initPolygons:!1,polygonsOptions:{defaultPolygonColor:"#dbd7e8",hoverPolygonColor:"#a58dfa",selectedPolygonColor:"#6945ed",defaultLabelColor:"#6945ed",hoverLabelColor:"#fff",selectedLabelColor:"#fff",defaultPolygonHeight:3,hoverPolygonHeight:3,selectedPolygonHeight:3,base:0,opacity:1},considerVisibilityParam:!0,fitBoundsPadding:250,minFitBoundsDistance:15,showLevelDirectionIcon:!1,showRasterFloorplans:!1,animatedRoute:!1,useRasterTiles:!1,handleUrlParams:!1,urlParams:{startFeauture:"startFeature",destinationFeature:"destinationFeature",defaultPlace:"defaultPlace"},useGpsLocation:!1,geolocationControlOptions:{autoTrigger:!0,autoLocate:!0,position:"top-right"}},this.showStartPoint=!1,this.amenityIds=[],this.filteredFeatures=[],this.hiddenFeatures=[],this.filteredAmenities=[],this.amenityFilters=[],this.hiddenAmenities=[],this.amenityCategories={},this.counter=0,this.arc={},this.steps=300,this.animationInstances=[],Q.isKiosk&&Q.mapboxOptions&&Q.kioskSettings&&!Q.mapboxOptions.center&&(Q.mapboxOptions.center=Q.kioskSettings.coordinates);var te=t(t({},this.defaultOptions.urlParams),Q.urlParams),oe=t(t({},this.defaultOptions.polygonsOptions),Q.polygonsOptions);if(this.defaultOptions=t(t({},this.defaultOptions),Q),this.defaultOptions.urlParams=te,this.defaultOptions.polygonsOptions=oe,this.state=e.globalState,this.defaultOptions.isKiosk&&this.defaultOptions.useGpsLocation)throw new Error("It's not possible to use both isKiosk and useGpsLocation options as enabled!");this.onSourceChange=this.onSourceChange.bind(this),this.onSyntheticChange=this.onSyntheticChange.bind(this),this.onStyleChange=this.onStyleChange.bind(this),this.onStyleSelect=this.onStyleSelect.bind(this),this.onRouteUpdate=this.onRouteUpdate.bind(this),this.onRouteChange=this.onRouteChange.bind(this),this.onRouteCancel=this.onRouteCancel.bind(this),this.initialize()}return Be.prototype.initialize=function(){return r(this,void 0,void 0,function(){return n(this,function(Q){switch(Q.label){case 0:return this.geojsonSource.on(this.onSourceChange),this.syntheticSource.on(this.onSyntheticChange),this.routingSource.on(this.onRouteChange),[4,this.fetch()];case 1:return Q.sent(),[2]}})})},Be.prototype.cancelObservers=function(){return r(this,void 0,void 0,function(){return n(this,function(Q){return this.geojsonSource.off(this.onSourceChange),this.syntheticSource.off(this.onSyntheticChange),this.state.style.off(this.onStyleChange),[2]})})},Be.prototype.fetch=function(){var Q,te,oe;return r(this,void 0,void 0,function(){var ve,de,ze,ye,Je,Qe,yt,_t,Tt,Yt,It,Ut,Or,Xt,Ht=this;return n(this,function(xr){switch(xr.label){case 0:return ve=null,this.defaultOptions.handleUrlParams&&(de=new URLSearchParams(window.location.search),ve=de.get(this.defaultOptions.urlParams.defaultPlace)),[4,s.default.getPackage(this.defaultOptions.initPolygons)];case 1:return ze=xr.sent(),ye=ze.places,Je=ze.style,Qe=ze.styles,yt=ze.features,_t=ze.amenities,Tt=yt.features.filter(function(Lr){return Lr.properties.type==="elevator"||Lr.properties.type==="escalator"||Lr.properties.type==="staircase"}),[4,m.default.getCurrentUser()];case 2:return Yt=xr.sent(),It=ve?ye.find(function(Lr){return Lr.id===ve||Lr.name===ve}):ye.find(function(Lr){return Lr.id===Ht.defaultOptions.defaultPlaceId}),Ut=ye.length>0?It||ye[0]:new v.PlaceModel({}),Or=[Ut.location.lng,Ut.location.lat],!((Q=this.defaultOptions.mapboxOptions)===null||Q===void 0)&&Q.center&&(Or=this.defaultOptions.mapboxOptions.center),this.defaultOptions.isKiosk&&(Or=(te=this.defaultOptions.kioskSettings)===null||te===void 0?void 0:te.coordinates),ve&&(Or=[Ut.location.lng,Ut.location.lat]),Je.center=Or,this.defaultOptions.mapboxOptions&&(this.defaultOptions.mapboxOptions.center=Je.center),this.defaultOptions.zoomLevel&&(Je.zoom=this.defaultOptions.zoomLevel),this.defaultOptions.language&&(this.geojsonSource.language=this.defaultOptions.language),this.defaultOptions.routeColor&&(Xt=Je.layers.find(function(Lr){return Lr.id==="proximiio-routing-line-remaining"}),Xt&&(Xt.paint["line-color"]=this.defaultOptions.routeColor)),this.geojsonSource.fetch(yt),this.routingSource.routing.setData(new k.FeatureCollection(yt)),this.prepareStyle(Je),this.imageSourceManager.enabled=this.defaultOptions.showRasterFloorplans,this.imageSourceManager.belowLayer=Je.usesPrefixes()?"proximiio-floors":"floors",this.imageSourceManager.initialize(),this.state=t(t({},this.state),{initializing:!1,place:Ut,places:ye,style:Je,styles:Qe,amenities:_t,features:yt,allFeatures:new k.FeatureCollection(yt),levelChangers:new k.FeatureCollection({features:Tt}),latitude:Or[1],longitude:Or[0],zoom:this.defaultOptions.zoomLevel?this.defaultOptions.zoomLevel:(oe=this.defaultOptions.mapboxOptions)===null||oe===void 0?void 0:oe.zoom,noPlaces:ye.length===0,user:Yt}),Je.on(this.onStyleChange),this.map=new u.Map(t(t({},this.defaultOptions.mapboxOptions),{container:this.defaultOptions.selector?this.defaultOptions.selector:"map"})),this.map.setStyle(this.state.style),this.map.on("load",function(Lr){Ht.onMapReady(Lr)}),this.defaultOptions.allowNewFeatureModal&&this.map.on(this.defaultOptions.newFeatureModalEvent?this.defaultOptions.newFeatureModalEvent:"dblclick",function(Lr){Ht.featureDialog(Lr)}),this.defaultOptions.enableTBTNavigation&&(this.routeFactory=new ne.RouteFactory(JSON.stringify(this.state.allFeatures.features),this.defaultOptions.language?this.defaultOptions.language:"en")),[2]}})})},Be.prototype.onMapReady=function(Q){var te,oe;return r(this,void 0,void 0,function(){var ve,de,ze,ye,Je,Qe,yt,_t,Tt,Yt=this;return n(this,function(It){switch(It.label){case 0:return ve=Q.target,ve?((te=this.state.style)===null||te===void 0||te.togglePaths(!0),de=ve.getLayer("routing-line-completed"),ze=typeof de=="undefined"&&typeof ve.getLayer("proximiio-routing-line-completed")!="undefined",ye=ve.getLayer("shops"),ze?(ve.moveLayer("proximiio-routing-line-completed","proximiio-outer_wall"),ve.moveLayer("proximiio-routing-line-remaining","proximiio-outer_wall"),ve.moveLayer("proximiio-paths","routing-line-completed")):de&&(ye&&(ve.moveLayer("routing-line-completed","proximiio-routing-symbols"),ve.moveLayer("routing-line-remaining","proximiio-routing-symbols")),ve.moveLayer("proximiio-paths","routing-line-completed")),Je=ve.getLayer("proximiio-routing-symbols"),Je&&(Je.filter.push(["match",["get","type"],["poi","poi-custom"],!1,!0]),this.state.style.getLayer("proximiio-routing-symbols").filter=Je.filter,ve.setFilter("proximiio-routing-symbols",Je.filter)),ve.setMaxZoom(30),[4,q.getImageFromBase64(M.chevron)]):[3,6];case 1:return Qe=It.sent(),[4,q.getImageFromBase64(M.person)];case 2:return yt=It.sent(),[4,q.getImageFromBase64(M.floorchangeUpImage)];case 3:return _t=It.sent(),[4,q.getImageFromBase64(M.floorchangeDownImage)];case 4:return Tt=It.sent(),ve.addImage("chevron_right",Qe),ve.addImage("pulsing-dot",M.pulsingDot,{pixelRatio:2}),ve.addImage("person",yt),ve.addImage("floorchange-up-image",_t),ve.addImage("floorchange-down-image",Tt),this.onSourceChange(),this.updateMapSource(this.geojsonSource),this.updateMapSource(this.routingSource),this.updateCluster(),this.updateImages(),this.filteredAmenities=this.amenityIds,this.imageSourceManager.setLevel(ve,(oe=this.state.floor)===null||oe===void 0?void 0:oe.level),[4,this.onPlaceSelect(this.state.place,this.defaultOptions.zoomIntoPlace)];case 5:It.sent(),this.defaultOptions.useRasterTiles&&this.initRasterTiles(),this.defaultOptions.isKiosk&&this.initKiosk(),this.defaultOptions.initPolygons&&this.initPolygons(),this.defaultOptions.useGpsLocation&&this.initGeoLocation(),this.defaultOptions.considerVisibilityParam&&this.handlePoiVisibility(),this.defaultOptions.showLevelDirectionIcon&&this.initDirectionIcon(),this.defaultOptions.animatedRoute&&this.initAnimatedRoute(),this.initPersonsMap(),this.map.on("click","proximiio-pois-icons",function(Ut){Yt.onShopClick(Ut)}),this.map.on("click","pois-icons",function(Ut){Yt.onShopClick(Ut)}),this.onMapReadyListener.next(!0),this.defaultOptions.handleUrlParams&&this.initUrlParams(),this.map.setStyle(this.state.style),It.label=6;case 6:return[2]}})})},Be.prototype.initKiosk=function(){this.map&&(this.showStartPoint=!1,this.defaultOptions.kioskSettings&&(this.startPoint=he.point(this.defaultOptions.kioskSettings.coordinates,{level:this.defaultOptions.kioskSettings.level}),this.showStartPoint=!0,this.state.style.addSource("my-location",{type:"geojson",data:{type:"FeatureCollection",features:[this.startPoint]}}),this.state.style.addLayer({id:"my-location-layer",type:"symbol",source:"my-location",layout:{"icon-image":"pulsing-dot"},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]}),this.centerOnPoi(this.startPoint)))},Be.prototype.onSetKiosk=function(Q,te,oe){this.map&&this.defaultOptions.isKiosk&&(this.defaultOptions.kioskSettings={coordinates:[te,Q],level:oe},this.startPoint=he.point(this.defaultOptions.kioskSettings.coordinates,{level:this.defaultOptions.kioskSettings.level}),this.state.style.sources["my-location"].data={type:"FeatureCollection",features:[this.startPoint]},this.map.setFilter("my-location-layer",["all",["==",["to-number",["get","level"]],oe]]),this.map.setStyle(this.state.style),this.centerOnPoi(this.startPoint))},Be.prototype.initGeoLocation=function(){var Q=this;if(this.map&&this.defaultOptions.useGpsLocation){var te=new u.GeolocateControl({positionOptions:{enableHighAccuracy:!0},showAccuracyCircle:!1,trackUserLocation:!0});this.map.addControl(te,this.defaultOptions.geolocationControlOptions.position),this.defaultOptions.geolocationControlOptions.autoTrigger&&setTimeout(function(){te.trigger()}),this.defaultOptions.geolocationControlOptions.autoLocate===!1&&setTimeout(function(){te._watchState="BACKGROUND",te._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),te._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),te.fire(new Event("trackuserlocationend"))}),te.on("geolocate",function(oe){Q.startPoint=he.point([oe.coords.longitude,oe.coords.latitude],{level:Q.state.floor.level})})}},Be.prototype.initDirectionIcon=function(){var Q=this;this.map&&(this.state.style.addSource("direction-icon-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.state.style.addLayer({id:"direction-icon-layer",type:"symbol",source:"direction-icon-source",minzoom:17,maxzoom:24,layout:{"icon-image":"{icon}","icon-size":["interpolate",["exponential",.5],["zoom"],17,.1,22,.3],"icon-offset":{type:"identity",property:"iconOffset"},"symbol-placement":"point","icon-allow-overlap":!0,"text-allow-overlap":!1},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]}),this.map.on("click","proximiio-levelchangers",function(te){if(Q.routingSource.points){var oe=Q.state.style.getSource("direction-icon-source").data.features.find(function(de){return de.properties.level===Q.state.floor.level}),ve=oe?oe.properties.icon==="floorchange-up-image"?"up":"down":null;ve&&te.features[0].properties.id===oe.properties.levelChangerId&&Q.setFloorByWay(ve)}}))},Be.prototype.onSetFeaturesHighlight=function(Q,te,oe,ve){var de=this.map,ze=this.state.allFeatures.features.filter(function(Qe){return Q.includes(Qe.id||Qe.properties.id)}),ye=this.map.getLayer("proximiio-pois-icons"),Je=this.map.getLayoutProperty("proximiio-pois-icons","icon-size");de&&(de.getLayer("highlight-icon-layer")||this.state.style.addLayer({id:"highlight-icon-layer",type:"circle",source:"highlight-icon-source",minzoom:ye.minzoom,maxzoom:ye.maxzoom,paint:{"circle-radius":Je[0]==="interpolate"?[Je[0],Je[1],Je[2],Je[3],Je[4]*(oe||50),Je[5],Je[6]*(oe||50)]:oe,"circle-color":te||"#000","circle-blur":ve!=null?ve:.8},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]},this.defaultOptions.initPolygons?"shop-custom":"proximiio-shop"),de.getSource("highlight-icon-source")||this.state.style.addSource("highlight-icon-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.state.style.sources["highlight-icon-source"].data.features=ze||[],this.map.setStyle(this.state.style))},Be.prototype.initAnimatedRoute=function(){this.map&&(this.state.style.addSource("route-point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.state.style.addLayer({id:"route-point",type:"circle",source:"route-point",minzoom:17,maxzoom:24,paint:{"circle-color":"#1d8a9f","circle-radius":10},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]}))},Be.prototype.initRasterTiles=function(){var Q,te,oe,ve,de,ze;if(this.map){var ye=this.state.style.metadata;this.state.style.addSource("raster-tiles",{type:"raster",tiles:!((Q=this.defaultOptions.rasterTilesOptions)===null||Q===void 0)&&Q.tilesUrl?["https://api.proximi.fi/imageproxy/source="+this.defaultOptions.rasterTilesOptions.tilesUrl]:["https://api.proximi.fi/imageproxy/source="+ye["proximiio:raster:tileurl"]],tileSize:!((te=this.defaultOptions.rasterTilesOptions)===null||te===void 0)&&te.tileSize?this.defaultOptions.rasterTilesOptions.tileSize:ye["proximiio:raster:tilesize"]?ye["proximiio:raster:tilesize"]:256,attribution:!((oe=this.defaultOptions.rasterTilesOptions)===null||oe===void 0)&&oe.attribution?this.defaultOptions.rasterTilesOptions.attribution:ye["proximiio:raster:attribution"]?ye["proximiio:raster:attribution"]:""}),this.state.style.addLayer({id:"raster-tiles",type:"raster",source:"raster-tiles",minzoom:!((ve=this.defaultOptions.rasterTilesOptions)===null||ve===void 0)&&ve.minZoom?this.defaultOptions.rasterTilesOptions.minZoom:ye["proximiio:raster:minzoom"]?ye["proximiio:raster:minzoom"]:15,maxzoom:!((de=this.defaultOptions.rasterTilesOptions)===null||de===void 0)&&de.maxZoom?this.defaultOptions.rasterTilesOptions.maxZoom:ye["proximiio:raster:maxzoom"]?ye["proximiio:raster:maxzoom"]:22},!((ze=this.defaultOptions.rasterTilesOptions)===null||ze===void 0)&&ze.beforeLayer?this.defaultOptions.rasterTilesOptions.beforeLayer:ye["proximiio:raster:beforelayer"]?ye["proximiio:raster:beforelayer"]:"osm-country_label-en")}},Be.prototype.initPolygons=function(){var Q=this;if(this.map){var te=new ie.PolygonsLayer(this.defaultOptions.polygonsOptions);te.setFilterLevel(this.state.floor.level),this.state.style.addLayer(te.json);var oe=new ie.PolygonIconsLayer(this.defaultOptions.polygonsOptions);oe.setFilterLevel(this.state.floor.level),this.state.style.addLayer(oe.json);var ve=new ie.PolygonTitlesLayer(this.defaultOptions.polygonsOptions);ve.setFilterLevel(this.state.floor.level),this.state.style.addLayer(ve.json),this.map.on("click","shop-custom",function(de){Q.onShopClick(de)}),this.map.on("mouseenter","shop-custom",function(){Q.onShopMouseEnter()}),this.map.on("mousemove","shop-custom",function(de){Q.onShopMouseMove(de)}),this.map.on("mouseleave","shop-custom",function(de){Q.onShopMouseLeave(de)})}},Be.prototype.onShopClick=function(Q){if(Q.features&&Q.features[0]&&Q.features[0].properties)if(this.defaultOptions.initPolygons){var te=this.state.allFeatures.features.find(function(ve){return ve.properties.id===Q.features[0].properties.poi_id}),oe=this.state.allFeatures.features.find(function(ve){return ve.properties.id===Q.features[0].properties.id});te&&this.handlePolygonSelection(te),this.onPolygonClickListener.next(te||oe)}else{var oe=this.state.allFeatures.features.find(function(de){return de.properties.id===Q.features[0].properties.id});this.onPoiClickListener.next(oe)}},Be.prototype.handlePolygonSelection=function(Q){var te=Q&&Q.properties.metadata?Q.properties.metadata.polygon_id:null;this.selectedPolygon&&(this.map.setFeatureState({source:"main",id:this.selectedPolygon.id},{selected:!1}),this.selectedPolygon.properties.label_id&&this.map.setFeatureState({source:"main",id:this.selectedPolygon.properties.label_id},{selected:!1})),te&&(this.selectedPolygon=this.state.allFeatures.features.find(function(oe){return oe.properties.id===te&&oe.properties.type==="shop-custom"}),this.selectedPolygon&&(this.map.setFeatureState({source:"main",id:this.selectedPolygon.id},{selected:!0}),this.selectedPolygon.properties.label_id&&this.map.setFeatureState({source:"main",id:this.selectedPolygon.properties.label_id},{selected:!0})))},Be.prototype.onShopMouseEnter=function(){this.map.getCanvas().style.cursor="pointer"},Be.prototype.onShopMouseMove=function(Q){Q.features&&Q.features.length>0&&(this.hoveredPolygon&&(this.map.setFeatureState({source:"main",id:this.hoveredPolygon.id},{hover:!1}),this.hoveredPolygon.properties.label_id&&this.map.setFeatureState({source:"main",id:this.hoveredPolygon.properties.label_id},{hover:!1})),this.hoveredPolygon=Q.features[0],this.map.setFeatureState({source:"main",id:this.hoveredPolygon.id},{hover:!0}),this.hoveredPolygon.properties.label_id&&this.map.setFeatureState({source:"main",id:this.hoveredPolygon.properties.label_id},{hover:!0}))},Be.prototype.onShopMouseLeave=function(Q){this.map.getCanvas().style.cursor="",this.hoveredPolygon&&(this.map.setFeatureState({source:"main",id:this.hoveredPolygon.id},{hover:!1}),this.hoveredPolygon.properties.label_id&&this.map.setFeatureState({source:"main",id:this.hoveredPolygon.properties.label_id},{hover:!1})),this.hoveredPolygon=null},Be.prototype.initUrlParams=function(){var Q=new URLSearchParams(window.location.search),te=Q.get(this.defaultOptions.urlParams.startFeauture),oe=Q.get(this.defaultOptions.urlParams.destinationFeature),ve=te?this.state.allFeatures.features.find(function(ze){return ze.properties.title&&(ze.id===te||ze.properties.id===te||ze.properties.title===te)}):this.startPoint,de=this.state.allFeatures.features.find(function(ze){return ze.properties.title&&(ze.id===oe||ze.properties.id===oe||ze.properties.title===oe)});ve&&de&&this.onRouteUpdate(ve,de)},Be.prototype.featureDialog=function(Q){var te=this,oe,ve=this.map.queryRenderedFeatures(Q.point,{layers:["proximiio-pois-icons"]}),de=ve.length>0,ze=new pe.modal({footer:!0,stickyFooter:!1,closeMethods:["overlay","button","escape"],closeLabel:"Close",onClose:function(){ze.destroy()}});ze.setContent(de?ee.EDIT_FEATURE_DIALOG(Q,ve[0]):ee.NEW_FEATURE_DIALOG(Q,(oe=this.state.floor)===null||oe===void 0?void 0:oe.level)),ze.addFooterBtn("Submit","tingle-btn tingle-btn--primary",function(){return r(te,void 0,void 0,function(){var ye,Je,Qe,yt;return n(this,function(_t){switch(_t.label){case 0:return ye=new FormData(document.querySelector("#modal-form")),yt={id:""+ye.get("id"),title:""+ye.get("title"),level:ye.get("level"),lat:ye.get("lat"),lng:ye.get("lng")},ye.get("icon").size?[4,q.getBase64FromImage(ye.get("icon"))]:[3,2];case 1:return Qe=_t.sent(),[3,3];case 2:Qe=void 0,_t.label=3;case 3:return Je=(yt.icon=Qe,yt),Je.title&&Je.level&&Je.lat&&Je.lng?de?[4,this.onUpdateFeature(Je.id,Je.title,+Je.level,+Je.lat,+Je.lng,Je.icon)]:[3,5]:[3,8];case 4:return _t.sent(),[3,7];case 5:return[4,this.onAddNewFeature(Je.title,+Je.level,+Je.lat,+Je.lng,Je.icon,Je.id)];case 6:_t.sent(),_t.label=7;case 7:return ze.close(),[3,9];case 8:alert("Please fill all the required fields!"),_t.label=9;case 9:return[2]}})})}),de&&ze.addFooterBtn("Delete","tingle-btn tingle-btn--danger",function(){var ye,Je;te.onDeleteFeature((Je=(ye=ve[0])===null||ye===void 0?void 0:ye.properties)===null||Je===void 0?void 0:Je.id),ze.close()}),ze.addFooterBtn("Cancel","tingle-btn tingle-btn--default tingle-btn--pull-right",function(){ze.close()}),ze.open()},Be.prototype.onAddNewFeature=function(Q,te,oe,ve,de,ze,ye,Je){return r(this,void 0,void 0,function(){var Qe,yt,_t;return n(this,function(Tt){switch(Tt.label){case 0:if(Qe=ze||q.uuidv4(),this.state.allFeatures.features.findIndex(function(Yt){return Yt.id===Qe||Yt.properties.id===Qe})>0)throw console.error("Create feature failed: Feature with id '"+Qe+"' already exists!"),new Error("Create feature failed: Feature with id '"+Qe+"' already exists!");return yt=new k.default({type:"Feature",id:Qe,geometry:new k.Geometry({type:"Point",coordinates:[ve,oe]}),properties:{type:"poi",usecase:"poi",id:Qe,minzoom:15,visibility:"visible",amenity:de?ze:"default",title:Q,level:te,images:[de],place_id:ye,floor_id:Je}}),de&&de.length>0?[4,q.getImageFromBase64(de)]:[3,2];case 1:_t=Tt.sent(),this.map.addImage(Qe,_t),Tt.label=2;case 2:return this.state.dynamicFeatures.features.push(yt),this.geojsonSource.create(yt),this.onFeaturesChange(),this.onFeatureAddListener.next(yt),[2,yt]}})})},Be.prototype.onUpdateFeature=function(Q,te,oe,ve,de,ze,ye,Je){return r(this,void 0,void 0,function(){var Qe,yt,_t,Tt;return n(this,function(Yt){switch(Yt.label){case 0:if(Qe=this.state.allFeatures.features.find(function(It){return It.id===Q||It.properties.id===Q}),!Qe)throw console.error("Update feature failed: Feature with id '"+Q+"' has not been found!"),new Error("Update feature failed: Feature with id '"+Q+"' has not been found!");return yt=new k.default(Qe),yt.geometry.coordinates=[de||yt.geometry.coordinates[0],ve||yt.geometry.coordinates[1]],yt.properties=t(t({},yt.properties),{title:te||yt.properties.title,level:oe||yt.properties.level,amenity:ze?Q:yt.properties.amenity,images:ze?[ze]:yt.properties.images,place_id:ye||yt.properties.place_id,floor_id:Je||yt.properties.floor_id}),ze&&ze.length>0?[4,q.getImageFromBase64(ze)]:[3,2];case 1:_t=Yt.sent(),this.map.addImage(Q,_t),Yt.label=2;case 2:return Tt=this.state.dynamicFeatures.features.findIndex(function(It){return It.id===yt.id||It.properties.id===yt.id}),this.state.dynamicFeatures.features[Tt]=yt,this.geojsonSource.update(yt),this.onFeaturesChange(),this.onFeatureUpdateListener.next(yt),[2,yt]}})})},Be.prototype.onDeleteFeature=function(Q){return r(this,void 0,void 0,function(){var te,oe;return n(this,function(ve){if(te=this.state.allFeatures.features.find(function(de){return de.id===Q||de.properties.id===Q}),!te)throw console.error("Deleting feature failed: Feature with id '"+Q+"' has not been found!"),new Error("Deleting feature failed: Feature with id '"+Q+"' has not been found!");return oe=this.state.dynamicFeatures.features.findIndex(function(de){return de.id===Q||de.properties.id===Q}),this.state.dynamicFeatures.features.splice(oe,1),this.geojsonSource.delete(Q),this.onFeaturesChange(),this.onFeatureDeleteListener.next(te),[2]})})},Be.prototype.onFeaturesChange=function(){this.state.allFeatures.features=i(i([],this.state.features.features),this.state.dynamicFeatures.features),this.onSourceChange(),this.routingSource.routing.setData(this.state.allFeatures),this.updateMapSource(this.routingSource),this.defaultOptions.enableTBTNavigation&&(this.routeFactory=new ne.RouteFactory(JSON.stringify(this.state.allFeatures.features),this.defaultOptions.language?this.defaultOptions.language:"en"))},Be.prototype.onSetFeatureFilter=function(Q,te){for(var oe=this.state.allFeatures.features.filter(function(Qe){return Qe.properties.id===Q||Qe.id===Q||Qe.properties.title===Q}),ve=function(Qe){te&&de.hiddenFeatures.findIndex(function(yt){return yt===Qe.properties.id})===-1?de.hiddenFeatures.push(Qe.properties.id):!te&&de.filteredFeatures.findIndex(function(yt){return yt===Qe.properties.id})===-1&&de.filteredFeatures.push(Qe.properties.id)},de=this,ze=0,ye=oe;ze<ye.length;ze++){var Je=ye[ze];ve(Je)}this.filterOutFeatures()},Be.prototype.onRemoveFeatureFilter=function(Q,te){for(var oe=this.state.allFeatures.features.filter(function(Qe){return Qe.properties.id===Q||Qe.id===Q||Qe.properties.title===Q}),ve=function(Qe){te&&de.hiddenFeatures.findIndex(function(yt){return yt===Qe.properties.id})!==-1?de.hiddenFeatures.splice(de.hiddenFeatures.findIndex(function(yt){return yt===Qe.properties.id}),1):!te&&de.filteredFeatures.findIndex(function(yt){return yt===Qe.properties.id})!==-1&&de.filteredFeatures.splice(de.filteredFeatures.findIndex(function(yt){return yt===Qe.properties.id}),1)},de=this,ze=0,ye=oe;ze<ye.length;ze++){var Je=ye[ze];ve(Je)}this.filteredFeatures=this.filteredFeatures.length>0?this.filteredFeatures:[],this.hiddenFeatures=this.hiddenFeatures.length>0?this.hiddenFeatures:[],this.filterOutFeatures()},Be.prototype.onHidePois=function(){this.hiddenFeatures=this.state.allFeatures.features.filter(function(Q){return Q.properties.type==="poi"||Q.properties.usecase==="poi"}).map(function(Q){return Q.properties.id}),this.filterOutFeatures()},Be.prototype.onResetFeatureFilters=function(){this.filteredFeatures=[],this.hiddenFeatures=[],this.filterOutFeatures()},Be.prototype.onSetAmenityFilter=function(Q,te,oe){if(te&&oe)throw new Error("It's not possible to use both category and inverted options in setAmenityFilter function!");if(te){this.amenityCategories[te].active=!0,this.amenityCategories[te].activeId=Q;var ve=[],de=function(Je){if(ze.amenityCategories.hasOwnProperty(Je)){var Qe=ze.amenityCategories[Je];Qe.active&&(ve=Array.isArray(Q)?ve.concat(Qe.amenities.filter(function(yt){return!Qe.activeId.includes(yt)})):ve.concat(Qe.amenities.filter(function(yt){return yt!==Qe.activeId})))}},ze=this;for(var ye in this.amenityCategories)de(ye);this.amenityFilters=this.amenityIds.filter(function(Je){return!ve.includes(Je)})}else oe&&this.hiddenAmenities.findIndex(function(Je){return Je===Q})===-1?(Array.isArray(Q)?this.hiddenAmenities.concat(Q):this.hiddenAmenities.push(Q),this.filteredAmenities=this.filteredAmenities.filter(function(Je){return Je!==Q})):!oe&&this.amenityFilters.findIndex(function(Je){return Je===Q})===-1&&(Array.isArray(Q)?this.amenityFilters.concat(Q):this.amenityFilters.push(Q));this.filteredAmenities=this.amenityFilters,this.filterOutFeatures(),!oe&&!Array.isArray(Q)&&this.setActivePolygons(Q)},Be.prototype.onRemoveAmenityFilter=function(Q,te,oe){if(te&&oe)throw new Error("It's not possible to use both category and inverted options in removeAmenityFilter function!");if(te&&this.amenityCategories[te].active&&JSON.stringify(this.amenityCategories[te].activeId)===JSON.stringify(Q)){var ve=Array.isArray(Q)?this.amenityCategories[te].amenities.filter(function(de){return!Q.includes(de)}):this.amenityCategories[te].amenities.filter(function(de){return de!==Q});this.amenityFilters=this.amenityFilters.concat(ve),this.amenityCategories[te].active=!1}else te||(oe?(this.hiddenAmenities=this.hiddenAmenities.filter(function(de){return de!==Q}),this.filteredAmenities.findIndex(function(de){return de===Q})===-1&&(Array.isArray(Q)?this.filteredAmenities.concat(Q):this.filteredAmenities.push(Q))):this.amenityFilters=this.amenityFilters.filter(function(de){return de!==Q}));this.filteredAmenities=this.amenityFilters.length>0?this.amenityFilters:this.amenityIds,this.hiddenAmenities=this.hiddenAmenities.length>0?this.hiddenAmenities:[],this.filterOutFeatures(),this.setActivePolygons(null)},Be.prototype.onResetAmenityFilters=function(){this.amenityFilters=[],this.hiddenAmenities=[];for(var Q in this.amenityCategories)this.amenityCategories.hasOwnProperty(Q)&&(this.amenityCategories[Q].active=!1);this.filteredAmenities=this.amenityIds,this.filterOutFeatures(),this.setActivePolygons(null)},Be.prototype.filterOutFeatures=function(){var Q=this,te=["proximiio-pois-icons","proximiio-pois-labels","pois-icons","pois-labels"];this.defaultOptions.initPolygons&&te.push("poi-custom-icons","shop-labels"),te.forEach(function(oe){if(Q.map.getLayer(oe)){var ve=Q.map.getLayer(oe),de=i([],ve.filter),ze=de.findIndex(function(Je){return Je[1][1]==="amenity"}),ye=de.findIndex(function(Je){return Je[1][1]==="id"});Q.filteredAmenities.length>0&&(ze!==-1?de[ze]=["match",["get","amenity"],Q.filteredAmenities?Q.filteredAmenities:["undefined"],!0,!1]:de.push(["match",["get","amenity"],Q.filteredAmenities?Q.filteredAmenities:["undefined"],!0,!1])),Q.filteredFeatures.length>0?ye!==-1?de[ye]=["match",["get","id"],Q.filteredFeatures,!0,!1]:de.push(["match",["get","id"],Q.filteredFeatures,!0,!1]):ye!==-1&&de.splice(ye,1),Q.hiddenFeatures.length>0?ye!==-1?de[ye]=["match",["get","id"],Q.hiddenFeatures,!1,!0]:de.push(["match",["get","id"],Q.hiddenFeatures,!1,!0]):ye!==-1&&de.splice(ye,1),Q.state.style.getLayer(oe).filter=de,Q.map.setFilter(oe,de)}}),this.state.style.notify("filter-change")},Be.prototype.setActivePolygons=function(Q){var te=this;if(this.defaultOptions.initPolygons){var oe=this.activePolygonsAmenity?this.state.allFeatures.features.filter(function(It){var Ut;return It.properties.amenity===te.activePolygonsAmenity&&((Ut=It.properties.metadata)===null||Ut===void 0?void 0:Ut.polygon_id)&&It.geometry.type==="Point"}):[],ve=Q?this.state.allFeatures.features.filter(function(It){var Ut;return It.properties.amenity===Q&&((Ut=It.properties.metadata)===null||Ut===void 0?void 0:Ut.polygon_id)&&It.geometry.type==="Point"}):[];if(oe.length>0)for(var de=function(It){var Ut=ze.state.allFeatures.features.find(function(Or){return Or.properties.id===It.properties.metadata.polygon_id&&Or.properties.type==="shop-custom"});Ut&&ze.map.setFeatureState({source:"main",id:Ut.id},{active:!1})},ze=this,ye=0,Je=oe;ye<Je.length;ye++){var Qe=Je[ye];de(Qe)}if(ve.length>0)for(var yt=function(It){var Ut=_t.state.allFeatures.features.find(function(Or){return Or.properties.id===It.properties.metadata.polygon_id&&Or.properties.type==="shop-custom"});Ut&&_t.map.setFeatureState({source:"main",id:Ut.id},{active:!0})},_t=this,Tt=0,Yt=ve;Tt<Yt.length;Tt++){var Qe=Yt[Tt];yt(Qe)}}this.activePolygonsAmenity=Q},Be.prototype.handlePoiVisibility=function(){var Q=this,te=["proximiio-pois-icons","proximiio-pois-labels","pois-icons","pois-labels"];this.defaultOptions.initPolygons&&te.push("poi-custom-icons","shop-labels"),te.forEach(function(oe){Q.map.getLayer(oe)&&setTimeout(function(){var ve=Q.map.getLayer(oe),de=i([],ve.filter),ze=de.findIndex(function(ye){return ye[1][1]==="visibility"});ze!==-1?de[ze][0]==="!="?de[ze]=["match",["get","visibility"],["visible","hidden","undefined"],!0,!1]:de[ze]=["!=",["get","visibility"],"hidden"]:de.push(["!=",["get","visibility"],"hidden"]),Q.state.style.getLayer(oe).filter=de,Q.map.setFilter(oe,de)})}),this.state.style.notify("filter-change")},Be.prototype.onToggleHiddenPois=function(){this.handlePoiVisibility()},Be.prototype.onSetPerson=function(Q,te,oe,ve){var de=new we.default({lat:Q,lng:te,level:oe,id:ve});this.state=t(t({},this.state),{persons:[de]}),this.initPersonsMap()},Be.prototype.onAddPerson=function(Q,te,oe,ve){var de=new we.default({lat:Q,lng:te,level:oe,id:ve});this.state.persons=i(i([],this.state.persons),[de]),this.initPersonsMap()},Be.prototype.onUpdatePerson=function(Q,te,oe,ve){Q.updatePosition({lat:te,lng:oe,level:ve}),this.initPersonsMap()},Be.prototype.initPersonsMap=function(){var Q=this.map;Q.getLayer("persons-layer")||this.state.style.addLayer({id:"persons-layer",type:"symbol",source:"persons-source",layout:{"icon-image":"person","icon-size":["interpolate",["exponential",.3],["zoom"],17,.1,22,.3]},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]}),Q.getSource("persons-source")||this.state.style.addSource("persons-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}});var te=this.state.persons.map(function(oe){return he.point([oe.lng,oe.lat],{level:oe.level})});this.state.style.sources["persons-source"].data={type:"FeatureCollection",features:te},this.onPersonUpdateListener.next(this.state.persons)},Be.prototype.prepareStyle=function(Q){Q.setSource("main",this.geojsonSource),Q.setSource("synthetic",this.syntheticSource),Q.setSource("route",this.routingSource),Q.setSource("clusters",this.clusterSource),Q.setLevel(0)},Be.prototype.onRouteChange=function(Q){return r(this,void 0,void 0,function(){var te,oe,ve,de,ze=this;return n(this,function(ye){switch(ye.label){case 0:return Q==="loading-start"?(this.state=t(t({},this.state),{loadingRoute:!0}),[2]):Q!=="loading-finished"?[3,3]:this.routingSource.route?(te=this.routingSource.lines[0],oe=this.routeFactory.generateRoute(JSON.stringify(this.routingSource.points),JSON.stringify(this.endPoint)),this.state=t(t({},this.state),{loadingRoute:!1,textNavigation:oe}),this.defaultOptions.showLevelDirectionIcon&&this.addDirectionFeatures(),this.defaultOptions.animatedRoute&&this.addAnimatedRouteFeatures(),this.defaultOptions.forceFloorLevel!==null&&this.defaultOptions.forceFloorLevel!==void 0&&(this.routingSource.data.features=this.routingSource.data.features.map(function(Je){return Je.properties.level!==ze.defaultOptions.forceFloorLevel&&(Je.properties.level=ze.defaultOptions.forceFloorLevel),Je})),this.centerOnRoute(te),this.onRouteFoundListener.next({route:this.routingSource.route,TBTNav:this.defaultOptions.enableTBTNavigation?oe:null,start:this.startPoint,end:this.endPoint}),ve=new Pe.default({organization_id:this.state.user.organization.id,organization_name:this.state.user.organization.name,startLngLat:this.routingSource.start.geometry.coordinates,startLevel:this.routingSource.start.properties.level,startSegmentId:this.routingSource.start.id,startSegmentName:this.defaultOptions.isKiosk?"kioskPoint":this.routingSource.start.properties.title,destinationFeatureId:this.routingSource.finish.id,destinationName:this.routingSource.finish.properties.title,destinationLngLat:this.routingSource.finish.geometry.coordinates,destinationLevel:this.routingSource.finish.properties.level,foundPath:this.routingSource.lines.length>0,optionAvoidBarrier:this.routingSource.routing.wayfinding.configuration.avoidBarriers,optionAvoidElevators:this.routingSource.routing.wayfinding.configuration.avoidElevators,optionAvoidEscalators:this.routingSource.routing.wayfinding.configuration.avoidEscalators,optionAvoidNarrowPaths:this.routingSource.routing.wayfinding.configuration.avoidNarrowPaths,optionAvoidRamps:this.routingSource.routing.wayfinding.configuration.avoidRamps,optionAvoidStaircases:this.routingSource.routing.wayfinding.configuration.avoidStaircases,optionAvoidTicketGates:this.routingSource.routing.wayfinding.configuration.avoidTicketGates,route:this.routingSource.points.map(function(Je){return[Je.geometry.coordinates[0],Je.geometry.coordinates[1],Je.properties.level]}),rerouted:!1}),[4,ve.save()]):[3,2];case 1:ye.sent(),ye.label=2;case 2:return[2];case 3:return Q==="route-undefined"?(console.log("route not found"),this.state=t(t({},this.state),{loadingRoute:!1}),this.onRouteFailedListener.next("route not found"),[2]):(de=this.state.style,de.setSource("route",this.routingSource),this.state=t(t({},this.state),{style:de}),this.updateMapSource(this.routingSource),[2])}})})},Be.prototype.onSourceChange=function(){this.state=t(t({},this.state),{style:this.state.style}),this.updateMapSource(this.geojsonSource),this.updateCluster()},Be.prototype.onSyntheticChange=function(){this.state.style.setSource("synthetic",this.syntheticSource),this.updateMapSource(this.syntheticSource)},Be.prototype.updateMapSource=function(Q){var te=this.map;if(te&&te.getSource(Q.id)){var oe=te.getSource(Q.id);oe&&oe.setData(Q.data)}},Be.prototype.onStyleSelect=function(Q){var te=this.map;te&&(this.prepareStyle(Q),te.setStyle(Q.json)),this.state=t(t({},this.state),{style:Q})},Be.prototype.onStyleChange=function(Q,te){var oe=this.map;if(oe){if(Q==="overlay-toggled"){var ve=this.state.style.overlay?"visible":"none";oe.setLayoutProperty("main-polygon-fill","visibility",ve),oe.setLayoutProperty("main-polygon-outline","visibility",ve)}if(Q==="segments-toggled"){var de=this.state.style.segments?"visible":"none";oe.setLayoutProperty("main-segment-fill","visibility",de),oe.setLayoutProperty("main-segment-outline","visibility",de)}if(Q==="routable-toggled"){var ze=this.state.style.segments?"visible":"none";oe.setLayoutProperty("main-routable-fill","visibility",ze),oe.setLayoutProperty("main-routable-outline","visibility",ze)}if(Q==="cluster-toggled"){var ye=this.state.style.cluster?"visible":"none";oe.setLayoutProperty("clusters-circle","visibility",ye)}}if(Q==="layer-update"&&te){var Je=te.layer,Qe=te.changes,yt=Qe.filter(function(It){return It.kind==="E"&&It.path[0]==="layout"}),_t=Qe.filter(function(It){return It.kind==="E"&&It.path[0]==="paint"}),Tt=this.map;Tt&&(yt.forEach(function(It){It.kind==="E"&&Tt.setLayoutProperty(Je.id,It.path[1],It.rhs)}),_t.forEach(function(It){It.kind==="E"&&Tt.setPaintProperty(Je.id,It.path[1],It.rhs)}))}if(Q==="filter-change"){var Yt=this.map;this.state.style.getLayers("main").forEach(function(It){Yt.getLayer(It.id)&&Yt.removeLayer(It.id),Yt.addLayer(It)})}this.map.setStyle(this.state.style),this.state=t(t({},this.state),{style:this.state.style})},Be.prototype.onToggleRasterFloorplans=function(){this.imageSourceManager.enabled=!this.imageSourceManager.enabled;var Q=this.map;Q&&this.imageSourceManager.setLevel(Q,this.state.floor.level)},Be.prototype.updateCluster=function(){var Q=this,te=this.map;if(te){var oe={type:"FeatureCollection",features:this.geojsonSource.data.features.filter(function(de){return de.isPoint&&de.hasLevel(Q.state.floor.level)}).map(function(de){return de.json})},ve=te.getSource("clusters");ve&&ve.setData(oe)}},Be.prototype.onPlaceSelect=function(Q,te,oe){return r(this,void 0,void 0,function(){var ve,de,ze,ye;return n(this,function(Je){switch(Je.label){case 0:return this.state=t(t({},this.state),{place:Q}),[4,j.getPlaceFloors(Q.id)];case 1:return ve=Je.sent(),de={floors:ve.sort(function(Qe,yt){return Qe.level-yt.level})},ve.length>0&&(ze=oe?ve.find(function(Qe){return Qe.level===oe}):ve.find(function(Qe){return Qe.level===0}),ze?de.floor=ze:de.floor=ve[0]),this.state=t(t({},this.state),de),ye=this.map,ye&&te&&ye.flyTo({center:[Q.location.lng,Q.location.lat]}),this.onPlaceSelectListener.next(Q),de.floor&&this.onFloorSelect(de.floor),[2]}})})},Be.prototype.onFloorSelect=function(Q){var te=this,oe=this.map,ve=this.routingSource.levelPoints&&this.routingSource.levelPoints[Q.level]?this.routingSource.levelPoints[Q.level]:null;if(oe){if(this.state.style.setLevel(Q.level),oe.setStyle(this.state.style),setTimeout(function(){i(i([],te.state.style.getLayers("main")),te.state.style.getLayers("route")).forEach(function(Qe){oe.getLayer(Qe.id)&&oe.setFilter(Qe.id,Qe.filter)}),te.imageSourceManager.setLevel(oe,Q.level)}),ve){var de=Se.lineString(this.routingSource.levelPoints[Q.level].map(function(Qe){return Qe.geometry.coordinates})),ze=he.length(de,{units:"kilometers"})*1e3,ye=he.bbox(de);ze>=this.defaultOptions.minFitBoundsDistance?oe.fitBounds(ye,{padding:this.defaultOptions.fitBoundsPadding,bearing:this.map.getBearing(),pitch:this.map.getPitch()}):this.map.flyTo({center:he.center(de).geometry.coordinates})}if(this.defaultOptions.isKiosk&&oe.getLayer("my-location-layer")){var Je=["all",["==",["to-number",["get","level"]],Q.level]];oe.setFilter("my-location-layer",Je),this.state.style.getLayer("my-location-layer").filter=Je}if(this.defaultOptions.useGpsLocation&&this.startPoint&&(this.startPoint.properties=t(t({},this.startPoint.properties),{level:Q.level})),oe.getLayer("persons-layer")){var Je=["all",["==",["to-number",["get","level"]],Q.level]];oe.setFilter("persons-layer",Je),this.state.style.getLayer("persons-layer").filter=Je}if(this.defaultOptions.showLevelDirectionIcon&&oe.getLayer("direction-icon-layer")){var Je=["all",["==",["to-number",["get","level"]],Q.level]];oe.setFilter("direction-icon-layer",Je),this.state.style.getLayer("direction-icon-layer").filter=Je}if(this.defaultOptions.animatedRoute&&oe.getLayer("route-point")){var Je=["all",["==",["to-number",["get","level"]],Q.level]];oe.setFilter("route-point",Je),this.state.style.getLayer("route-point").filter=Je}if(oe.getLayer("highlight-icon-layer")){var Je=["all",["==",["to-number",["get","level"]],Q.level]];oe.setFilter("highlight-icon-layer",Je),this.state.style.getLayer("highlight-icon-layer").filter=Je}}this.state=t(t({},this.state),{floor:Q,style:this.state.style}),this.updateCluster(),this.onFloorSelectListener.next(Q)},Be.prototype.onRouteUpdate=function(Q,te){this.startPoint=Q,this.endPoint=te;try{te&&this.defaultOptions.initPolygons&&this.handlePolygonSelection(te),te&&this.defaultOptions.animatedRoute&&this.cancelAnimation(),this.routingSource.update(Q,te)}catch(oe){console.log("catched",oe)}this.state=t(t({},this.state),{style:this.state.style})},Be.prototype.onRouteCancel=function(){this.state=t(t({},this.state),{textNavigation:null}),this.defaultOptions.initPolygons&&this.handlePolygonSelection(),this.defaultOptions.showLevelDirectionIcon&&(this.state.style.sources["direction-icon-source"].data={type:"FeatureCollection",features:[]}),this.defaultOptions.animatedRoute&&(this.state.style.sources["route-point"].data={type:"FeatureCollection",features:[]},this.cancelAnimation()),this.map.setStyle(this.state.style),this.routingSource.cancel(),this.onRouteCancelListener.next("route cancelled")},Be.prototype.centerOnPoi=function(Q){if(this.state.floor.level!==parseInt(Q.properties.level,0)){var te=this.state.floors.find(function(oe){return oe.level===Q.properties.level});te&&this.onFloorSelect(te)}this.map&&this.map.flyTo({center:Q.geometry.coordinates})},Be.prototype.centerOnRoute=function(Q){if(Q&&Q.properties){if(this.state.floor.level!==+Q.properties.level){var te=this.state.floors.find(function(ze){return ze.level===+Q.properties.level});te&&this.onFloorSelect(te)}if(this.map){var oe=Se.lineString(this.routingSource.levelPoints[this.state.floor.level].map(function(ze){return ze.geometry.coordinates})),ve=he.length(oe,{units:"kilometers"})*1e3,de=he.bbox(oe);ve>=this.defaultOptions.minFitBoundsDistance?this.map.fitBounds(de,{padding:this.defaultOptions.fitBoundsPadding,bearing:this.map.getBearing(),pitch:this.map.getPitch()}):this.map.flyTo({center:he.center(oe).geometry.coordinates})}}},Be.prototype.centerOnCoords=function(Q,te,oe){this.map&&this.map.flyTo({center:[te,Q],zoom:oe||18})},Be.prototype.updateImages=function(){var Q=this;this.state.amenities.filter(function(te){return te.icon}).forEach(function(te){Q.amenityIds.push(te.id),Q.map.loadImage(te.icon,function(oe,ve){if(oe)throw oe;Q.map.addImage(te.id,ve)})})},Be.prototype.getUpcomingFloorNumber=function(Q){var te=this;if(this.routingSource.lines&&this.routingSource.route){var oe=this.routingSource.lines.findIndex(function(ye){return+ye.properties.level===te.state.floor.level}),ve=this.routingSource.lines[oe],de=this.routingSource.lines.findIndex(function(ye){return Q==="up"?+ye.properties.level>ve.properties.level:+ye.properties.level<ve.properties.level}),ze=this.routingSource.lines[de];return ze&&(Q==="up"&&+ze.properties.level>this.state.floor.level||Q==="down"&&+ze.properties.level<this.state.floor.level)?+ze.properties.level:this.state.floor.level}},Be.prototype.addDirectionFeatures=function(){var Q=this,te=this.routingSource.points.filter(function(oe){return oe.isLevelChanger}).map(function(oe,ve,de){var ze=Q.state.allFeatures.features.find(function(_t){return _t.id===oe.id}),ye=he.point(ze.geometry.coordinates),Je=new k.FeatureCollection({features:Q.state.levelChangers.features.filter(function(_t){return _t.properties.place_id===Q.state.place.id})}),Qe=he.nearestPoint(ye,Je),yt=de[ve+1]?de[ve+1]:de[ve-1];return new k.default({type:"Feature",geometry:Qe.geometry,properties:{usecase:"floor-change-symbol",icon:yt.properties.level>oe.properties.level?"floorchange-up-image":"floorchange-down-image",iconOffset:yt.properties.level>oe.properties.level?[4,-90]:[4,90],level:oe.properties.level,levelChangerId:Qe.properties.id}})});this.state.style.sources["direction-icon-source"].data={type:"FeatureCollection",features:te},this.map.setStyle(this.state.style)},Be.prototype.addAnimatedRouteFeatures=function(){this.counter=0,this.arc={};for(var Q=[],te=0,oe=this.routingSource.lines;te<oe.length;te++){var ve=oe[te],de=he.length(ve);this.arc[ve.id]=[];for(var ze=0;ze<de;ze+=de/this.steps){var ye=he.along(he.lineString(ve.geometry.coordinates),ze);this.arc[ve.id].push(ye.geometry.coordinates)}var Je=he.point(ve.geometry.coordinates[0],t(t({},ve.properties),{routePartId:ve.id}));Q.push(Je)}this.state.style.sources["route-point"].data=he.featureCollection(Q),this.map.setStyle(this.state.style),this.animate()},Be.prototype.animate=function(){var Q=this;if(Object.keys(this.arc).length>0){for(var te=[],oe=0,ve=Object.entries(this.arc);oe<ve.length;oe++){var de=ve[oe],ze=de[0],ye=de[1];if(ye[this.counter]){var Je=he.point(ye[this.counter],t(t({},this.routingSource.route[ze].properties),{routePartId:ze}));te.push(Je)}}if(this.state.style.sources["route-point"].data=he.featureCollection(te),this.map.setStyle(this.state.style),this.counter<this.steps){var Qe=window.requestAnimationFrame(this.animate.bind(this));this.animationInstances.push(Qe)}this.counter===this.steps&&setTimeout(function(){Q.counter=0,Q.animate()},2e3),this.counter++}},Be.prototype.cancelAnimation=function(){for(var Q=0,te=this.animationInstances;Q<te.length;Q++){var oe=te[Q];window.cancelAnimationFrame(oe)}},Be.prototype.getClosestFeature=function(Q,te){var oe=this.state.allFeatures.features.filter(function(ze){return ze.properties.amenity===Q&&ze.geometry.type==="Point"&&ze.properties.level===te.properties.level}),ve=this.state.allFeatures.features.filter(function(ze){return ze.properties.amenity===Q&&ze.geometry.type==="Point"}),de=he.point(te.geometry.coordinates);return oe.length>0||ve.length>0?he.nearestPoint(de,he.featureCollection(oe.length>0?oe:ve)):!1},Be.prototype.getMapboxInstance=function(){return this.map},Be.prototype.getMapReadyListener=function(){return this.onMapReadyListener.asObservable()},Be.prototype.setLanguage=function(Q){this.geojsonSource.language=Q,this.geojsonSource.fetch(this.state.features),this.onFeaturesChange()},Be.prototype.setPlace=function(Q,te,oe){return r(this,void 0,void 0,function(){var ve,de;return n(this,function(ze){switch(ze.label){case 0:return[4,G.getPlaceById(Q)];case 1:return ve=ze.sent(),de=typeof te!="undefined"?te:!0,[4,this.onPlaceSelect(ve,de,oe)];case 2:return ze.sent(),[2,ve]}})})},Be.prototype.getPlaceSelectListener=function(){return this.onPlaceSelectListener.asObservable()},Be.prototype.setFloorById=function(Q){var te=this.state.floors.filter(function(oe){return oe.id===Q})?this.state.floors.filter(function(oe){return oe.id===Q})[0]:this.state.floor;return te&&this.onFloorSelect(new _.FloorModel(te)),te},Be.prototype.setFloorByLevel=function(Q){var te=this.state.floors.filter(function(oe){return oe.level===Q})?this.state.floors.filter(function(oe){return oe.level===Q})[0]:this.state.floor;return te&&this.onFloorSelect(new _.FloorModel(te)),te},Be.prototype.setFloorByWay=function(Q){var te,oe=Q==="up"?this.state.floor.level+1:this.state.floor.level-1;return this.routingSource.route&&(oe=this.getUpcomingFloorNumber(Q)),te=this.state.floors.filter(function(ve){return ve.level===oe})?this.state.floors.filter(function(ve){return ve.level===oe})[0]:this.state.floor,te&&this.onFloorSelect(new _.FloorModel(te)),te},Be.prototype.getFloorSelectListener=function(){return this.onFloorSelectListener.asObservable()},Be.prototype.findRouteByIds=function(Q,te,oe){var ve=te?this.state.allFeatures.features.find(function(ze){return ze.id===te||ze.properties.id===te}):this.startPoint,de=this.state.allFeatures.features.find(function(ze){return ze.id===Q||ze.properties.id===Q});this.routingSource.toggleAccessible(oe),this.onRouteUpdate(ve,de)},Be.prototype.findRouteByTitle=function(Q,te,oe){var ve=te?this.state.allFeatures.features.find(function(ze){return ze.properties.title===te}):this.startPoint,de=this.state.allFeatures.features.find(function(ze){return ze.properties.title===Q});this.routingSource.toggleAccessible(oe),this.onRouteUpdate(ve,de)},Be.prototype.findRouteByCoords=function(Q,te,oe,ve,de,ze,ye){var Je=ve&&de&&ze?he.feature({type:"Point",coordinates:[de,ve]},{level:ze}):this.startPoint,Qe=he.feature({type:"Point",coordinates:[te,Q]},{level:oe});this.routingSource.toggleAccessible(ye),this.onRouteUpdate(Je,Qe)},Be.prototype.findRouteToNearestFeature=function(Q,te,oe){var ve=te?this.state.allFeatures.features.find(function(ze){return ze.id===te||ze.properties.id===te}):this.startPoint,de=this.getClosestFeature(Q,ve);if(de)this.routingSource.toggleAccessible(oe),this.onRouteUpdate(ve,de);else throw new Error("Feature not found")},Be.prototype.cancelRoute=function(){this.onRouteCancel()},Be.prototype.getTBTNav=function(){return this.state.textNavigation},Be.prototype.getRouteFoundListener=function(){return this.onRouteFoundListener.asObservable()},Be.prototype.getRouteFailedListener=function(){return this.onRouteFailedListener.asObservable()},Be.prototype.getRouteCancelListener=function(){return this.onRouteCancelListener.asObservable()},Be.prototype.centerToRoute=function(){if(this.routingSource&&this.routingSource.route&&this.routingSource.route["path-part-0"]){var Q=this.routingSource.route["path-part-0"];return this.centerOnRoute(Q),Q}else throw new Error("Route not found")},Be.prototype.centerToFeature=function(Q){var te=this.state.allFeatures.features.find(function(oe){return oe.id===Q||oe.properties.id===Q});if(te)return this.centerOnPoi(te),te;throw new Error("Feature not found")},Be.prototype.centerToCoordinates=function(Q,te,oe){this.centerOnCoords(Q,te,oe)},Be.prototype.addCustomFeature=function(Q,te,oe,ve,de,ze,ye,Je){return r(this,void 0,void 0,function(){return n(this,function(Qe){switch(Qe.label){case 0:return[4,this.onAddNewFeature(Q,+te,+oe,+ve,de,ze,ye,Je)];case 1:return[2,Qe.sent()]}})})},Be.prototype.updateFeature=function(Q,te,oe,ve,de,ze,ye,Je){return r(this,void 0,void 0,function(){return n(this,function(Qe){switch(Qe.label){case 0:return[4,this.onUpdateFeature(Q,te,oe,ve,de,ze,ye,Je)];case 1:return[2,Qe.sent()]}})})},Be.prototype.deleteFeature=function(Q){return this.onDeleteFeature(Q)},Be.prototype.getCustomFeaturesList=function(){return this.state.dynamicFeatures},Be.prototype.getFeatureAddListener=function(){return this.onFeatureAddListener.asObservable()},Be.prototype.getFeatureUpdateListener=function(){return this.onFeatureUpdateListener.asObservable()},Be.prototype.getFeatureDeleteListener=function(){return this.onFeatureDeleteListener.asObservable()},Be.prototype.setKiosk=function(Q,te,oe){if(this.defaultOptions.isKiosk)this.onSetKiosk(Q,te,oe);else throw new Error("Map is not initiated as kiosk")},Be.prototype.setBoundsPadding=function(Q){this.defaultOptions.fitBoundsPadding=Q},Be.prototype.setFeatureFilter=function(Q,te){this.onSetFeatureFilter(Q,te)},Be.prototype.removeFeatureFilter=function(Q,te){this.onRemoveFeatureFilter(Q,te)},Be.prototype.hidePois=function(){this.onHidePois()},Be.prototype.resetFeatureFilters=function(){this.onResetFeatureFilters()},Be.prototype.setAmenityFilter=function(Q,te,oe){if(!te||te&&this.amenityCategories[te])this.onSetAmenityFilter(Q,te,oe);else throw new Error("It seems there is no '"+te+"' amenities category created, please set category with 'setAmenitiesCategory()' method")},Be.prototype.removeAmenityFilter=function(Q,te,oe){if(!te||te&&this.amenityCategories[te])this.onRemoveAmenityFilter(Q,te,oe);else throw new Error("It seems there is no '"+te+"' amenities category created, please set category with 'setAmenitiesCategory()' method")},Be.prototype.resetAmenityFilters=function(){this.onResetAmenityFilters()},Be.prototype.setAmenitiesCategory=function(Q,te){this.amenityCategories[Q]={amenities:te}},Be.prototype.removeAmenitiesCategory=function(Q){if(this.amenityCategories[Q])delete this.amenityCategories[Q];else throw new Error("It seems there is no '"+Q+"' amenities category created, please set category with 'setAmenitiesCategory()' method")},Be.prototype.resetAmenitiesCategory=function(){this.amenityCategories={}},Be.prototype.getPolygonClickListener=function(){return this.onPolygonClickListener.asObservable()},Be.prototype.getPoiClickListener=function(){return this.onPoiClickListener.asObservable()},Be.prototype.setPerson=function(Q,te,oe,ve){this.onSetPerson(Q,te,oe,ve)},Be.prototype.upsertPerson=function(Q,te,oe,ve){var de=ve?this.state.persons.find(function(ze){return ze.id===ve}):null;de?this.onUpdatePerson(de,Q,te,oe):this.onAddPerson(Q,te,oe,ve)},Be.prototype.getPersonUpdateListener=function(){return this.onPersonUpdateListener.asObservable()},Be.prototype.toggleHiddenPois=function(){this.onToggleHiddenPois()},Be.prototype.toggleRasterFloorplans=function(){this.onToggleRasterFloorplans()},Be.prototype.setFeaturesHighlight=function(Q,te,oe,ve){this.onSetFeaturesHighlight(Q,te,oe,ve)},Be}();e.Map=ae})(H4);var wT={},AY={exports:{}};(function(e,t){var r;r=function(){function n(te,oe){var ve=Object.keys(te);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(te);oe&&(de=de.filter(function(ze){return Object.getOwnPropertyDescriptor(te,ze).enumerable})),ve.push.apply(ve,de)}return ve}function i(te){for(var oe=1;oe<arguments.length;oe++){var ve=arguments[oe]!=null?arguments[oe]:{};oe%2?n(Object(ve),!0).forEach(function(de){s(te,de,ve[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(ve)):n(Object(ve)).forEach(function(de){Object.defineProperty(te,de,Object.getOwnPropertyDescriptor(ve,de))})}return te}function u(te){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},u(te)}function s(te,oe,ve){return oe in te?Object.defineProperty(te,oe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):te[oe]=ve,te}function m(te){return function(oe){if(Array.isArray(oe))return _(oe)}(te)||function(oe){if(typeof Symbol!="undefined"&&oe[Symbol.iterator]!=null||oe["@@iterator"]!=null)return Array.from(oe)}(te)||v(te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(te,oe){if(te){if(typeof te=="string")return _(te,oe);var ve=Object.prototype.toString.call(te).slice(8,-1);return ve==="Object"&&te.constructor&&(ve=te.constructor.name),ve==="Map"||ve==="Set"?Array.from(te):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?_(te,oe):void 0}}function _(te,oe){(oe==null||oe>te.length)&&(oe=te.length);for(var ve=0,de=new Array(oe);ve<oe;ve++)de[ve]=te[ve];return de}var P=function(te){return typeof te=="string"?document.querySelector(te):te()},C=function(te,oe){var ve=typeof te=="string"?document.createElement(te):te;for(var de in oe){var ze=oe[de];if(de==="inside")ze.append(ve);else if(de==="dest")P(ze[0]).insertAdjacentElement(ze[1],ve);else if(de==="around"){var ye=ze;ye.parentNode.insertBefore(ve,ye),ve.append(ye),ye.getAttribute("autofocus")!=null&&ye.focus()}else de in ve?ve[de]=ze:ve.setAttribute(de,ze)}return ve},I=function(te,oe){return te=String(te).toLowerCase(),oe?te.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):te},k=function(te,oe){return C("mark",i({innerHTML:te},typeof oe=="string"&&{class:oe})).outerHTML},F=function(te,oe){oe.input.dispatchEvent(new CustomEvent(te,{bubbles:!0,detail:oe.feedback,cancelable:!0}))},V=function(te,oe,ve){var de=ve||{},ze=de.mode,ye=de.diacritics,Je=de.highlight,Qe=I(oe,ye);if(oe=String(oe),te=I(te,ye),ze==="loose"){var yt=(te=te.replace(/ /g,"")).length,_t=0,Tt=Array.from(oe).map(function(It,Ut){return _t<yt&&Qe[Ut]===te[_t]&&(It=Je?k(It,Je):It,_t++),It}).join("");if(_t===yt)return Tt}else{var Yt=Qe.indexOf(te);if(~Yt)return te=oe.substring(Yt,Yt+te.length),Yt=Je?oe.replace(te,k(te,Je)):oe}},Y=function(te,oe){return new Promise(function(ve,de){var ze;return(ze=te.data).cache&&ze.store?ve():new Promise(function(ye,Je){return typeof ze.src=="function"?ze.src(oe).then(ye,Je):ye(ze.src)}).then(function(ye){try{return te.feedback=ze.store=ye,F("response",te),ve()}catch(Je){return de(Je)}},de)})},q=function(te,oe){var ve=oe.data,de=oe.searchEngine,ze=[];ve.store.forEach(function(Je,Qe){var yt=function(Yt){var It=Yt?Je[Yt]:Je,Ut=typeof de=="function"?de(te,It):V(te,It,{mode:de,diacritics:oe.diacritics,highlight:oe.resultItem.highlight});if(Ut){var Or={match:Ut,value:Je};Yt&&(Or.key=Yt),ze.push(Or)}};if(ve.keys){var _t,Tt=function(Yt,It){var Ut=typeof Symbol!="undefined"&&Yt[Symbol.iterator]||Yt["@@iterator"];if(!Ut){if(Array.isArray(Yt)||(Ut=v(Yt))||It&&Yt&&typeof Yt.length=="number"){Ut&&(Yt=Ut);var Or=0,Xt=function(){};return{s:Xt,n:function(){return Or>=Yt.length?{done:!0}:{done:!1,value:Yt[Or++]}},e:function(Xr){throw Xr},f:Xt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ht,xr=!0,Lr=!1;return{s:function(){Ut=Ut.call(Yt)},n:function(){var Xr=Ut.next();return xr=Xr.done,Xr},e:function(Xr){Lr=!0,Ht=Xr},f:function(){try{xr||Ut.return==null||Ut.return()}finally{if(Lr)throw Ht}}}}(ve.keys);try{for(Tt.s();!(_t=Tt.n()).done;)yt(_t.value)}catch(Yt){Tt.e(Yt)}finally{Tt.f()}}else yt()}),ve.filter&&(ze=ve.filter(ze));var ye=ze.slice(0,oe.resultsList.maxResults);oe.feedback={query:te,matches:ze,results:ye},F("results",oe)},M="aria-expanded",j="aria-activedescendant",G="aria-selected",J=function(te,oe){te.feedback.selection=i({index:oe},te.feedback.results[oe])},he=function(te){te.isOpen||((te.wrapper||te.input).setAttribute(M,!0),te.list.removeAttribute("hidden"),te.isOpen=!0,F("open",te))},pe=function(te){te.isOpen&&((te.wrapper||te.input).setAttribute(M,!1),te.input.setAttribute(j,""),te.list.setAttribute("hidden",""),te.isOpen=!1,F("close",te))},ne=function(te,oe){var ve=oe.resultItem,de=oe.list.getElementsByTagName(ve.tag),ze=!!ve.selected&&ve.selected.split(" ");if(oe.isOpen&&de.length){var ye,Je,Qe=oe.cursor;te>=de.length&&(te=0),te<0&&(te=de.length-1),oe.cursor=te,Qe>-1&&(de[Qe].removeAttribute(G),ze&&(Je=de[Qe].classList).remove.apply(Je,m(ze))),de[te].setAttribute(G,!0),ze&&(ye=de[te].classList).add.apply(ye,m(ze)),oe.input.setAttribute(j,de[oe.cursor].id),oe.list.scrollTop=de[te].offsetTop-oe.list.clientHeight+de[te].clientHeight+5,oe.feedback.cursor=oe.cursor,J(oe,te),F("navigate",oe)}},ee=function(te){ne(te.cursor+1,te)},ie=function(te){ne(te.cursor-1,te)},we=function(te,oe,ve){(ve=ve>=0?ve:te.cursor)<0||(te.feedback.event=oe,J(te,ve),F("selection",te),pe(te))};function Se(te,oe){var ve=this;return new Promise(function(de,ze){var ye,Je;return ye=oe||((Je=te.input)instanceof HTMLInputElement||Je instanceof HTMLTextAreaElement?Je.value:Je.innerHTML),function(yt,_t,Tt){return _t?_t(yt):yt.length>=Tt}(ye=te.query?te.query(ye):ye,te.trigger,te.threshold)?Y(te,ye).then(function(yt){try{return te.feedback instanceof Error?de():(q(ye,te),te.resultsList&&function(_t){var Tt=_t.resultsList,Yt=_t.list,It=_t.resultItem,Ut=_t.feedback,Or=Ut.matches,Xt=Ut.results;if(_t.cursor=-1,Yt.innerHTML="",Or.length||Tt.noResults){var Ht=new DocumentFragment;Xt.forEach(function(xr,Lr){var Xr=C(It.tag,i({id:"".concat(It.id,"_").concat(Lr),role:"option",innerHTML:xr.match,inside:Ht},It.class&&{class:It.class}));It.element&&It.element(Xr,xr)}),Yt.append(Ht),Tt.element&&Tt.element(Yt,Ut),he(_t)}else pe(_t)}(te),Qe.call(ve))}catch(_t){return ze(_t)}},ze):(pe(te),Qe.call(ve));function Qe(){return de()}})}var Pe=function(te,oe){for(var ve in te)for(var de in te[ve])oe(ve,de)},ae=function(te){var oe,ve,de,ze=te.events,ye=(oe=function(){return Se(te)},ve=te.debounce,function(){clearTimeout(de),de=setTimeout(function(){return oe()},ve)}),Je=te.events=i({input:i({},ze&&ze.input)},te.resultsList&&{list:ze?i({},ze.list):{}}),Qe={input:{input:function(){ye()},keydown:function(yt){(function(_t,Tt){switch(_t.keyCode){case 40:case 38:_t.preventDefault(),_t.keyCode===40?ee(Tt):ie(Tt);break;case 13:Tt.submit||_t.preventDefault(),Tt.cursor>=0&&we(Tt,_t);break;case 9:Tt.resultsList.tabSelect&&Tt.cursor>=0&&we(Tt,_t);break;case 27:Tt.input.value="",pe(Tt)}})(yt,te)},blur:function(){pe(te)}},list:{mousedown:function(yt){yt.preventDefault()},click:function(yt){(function(_t,Tt){var Yt=Tt.resultItem.tag.toUpperCase(),It=Array.from(Tt.list.querySelectorAll(Yt)),Ut=_t.target.closest(Yt);Ut&&Ut.nodeName===Yt&&we(Tt,_t,It.indexOf(Ut))})(yt,te)}}};Pe(Qe,function(yt,_t){(te.resultsList||_t==="input")&&(Je[yt][_t]||(Je[yt][_t]=Qe[yt][_t]))}),Pe(Je,function(yt,_t){te[yt].addEventListener(_t,Je[yt][_t])})};function Be(te){var oe=this;return new Promise(function(ve,de){var ze,ye,Je;if(ze=te.placeHolder,Je={role:"combobox","aria-owns":(ye=te.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},C(te.input,i(i({"aria-controls":ye.id,"aria-autocomplete":"both"},ze&&{placeholder:ze}),!te.wrapper&&i({},Je))),te.wrapper&&(te.wrapper=C("div",i({around:te.input,class:te.name+"_wrapper"},Je))),ye&&(te.list=C(ye.tag,i({dest:[ye.destination,ye.position],id:ye.id,role:"listbox",hidden:"hidden"},ye.class&&{class:ye.class}))),ae(te),te.data.cache)return Y(te).then(function(yt){try{return Qe.call(oe)}catch(_t){return de(_t)}},de);function Qe(){return F("init",te),ve()}return Qe.call(oe)})}function Q(te){var oe=te.prototype;oe.init=function(){Be(this)},oe.start=function(ve){Se(this,ve)},oe.unInit=function(){if(this.wrapper){var ve=this.wrapper.parentNode;ve.insertBefore(this.input,this.wrapper),ve.removeChild(this.wrapper)}var de;Pe((de=this).events,function(ze,ye){de[ze].removeEventListener(ye,de.events[ze][ye])})},oe.open=function(){he(this)},oe.close=function(){pe(this)},oe.goTo=function(ve){ne(ve,this)},oe.next=function(){ee(this)},oe.previous=function(){ie(this)},oe.select=function(ve){we(this,null,ve)},oe.search=function(ve,de,ze){return V(ve,de,ze)}}return function te(oe){this.options=oe,this.id=te.instances=(te.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(ve){var de=ve.name,ze=ve.options,ye=ve.resultsList,Je=ve.resultItem;for(var Qe in ze)if(u(ze[Qe])==="object")for(var yt in ve[Qe]||(ve[Qe]={}),ze[Qe])ve[Qe][yt]=ze[Qe][yt];else ve[Qe]=ze[Qe];ve.selector=ve.selector||"#"+de,ye.destination=ye.destination||ve.selector,ye.id=ye.id||de+"_list_"+ve.id,Je.id=Je.id||de+"_result",ve.input=P(ve.selector)}(this),Q.call(this,te),Be(this)}},e.exports=r()})(AY);var W3=Ne&&Ne.__assign||function(){return W3=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},W3.apply(this,arguments)},XN=Ne&&Ne.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(s){s(u)})}return new(r||(r=Promise))(function(u,s){function m(P){try{_(n.next(P))}catch(C){s(C)}}function v(P){try{_(n.throw(P))}catch(C){s(C)}}function _(P){P.done?u(P.value):i(P.value).then(m,v)}_((n=n.apply(e,t||[])).next())})},YN=Ne&&Ne.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,s;return s={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function m(_){return function(P){return v([_,P])}}function v(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(u=_[0]&2?i.return:_[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,_[1])).done)return u;switch(i=0,u&&(_=[_[0]&2,u.value]),_[0]){case 0:case 1:u=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){r.label=_[1];break}if(_[0]===6&&r.label<u[1]){r.label=u[1],u=_;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(_);break}u[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(P){_=[6,P],i=0}finally{n=u=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(wT,"__esModule",{value:!0});wT.Select=void 0;var I$=bE,C$=yx,KCe=mR,JCe=AY.exports,QCe=Dz,eAe=function(){function e(t,r,n){var i=this;this.useApiSearch=!1,this.onSelectListener=new QCe.Subject;var u=r!=null&&r.selector?""+r.selector:"#proximiioSelect";this.useApiSearch=n!==void 0?n:!1,this.ac=new JCe(W3({data:this.getData(t),selector:u},r)),document.querySelector(u).addEventListener("selection",function(s){var m=s.detail;document.querySelector(u).blur();var v=m.selection.value[m.selection.key];document.querySelector(u).value=v,i.onSelectListener.next(m.selection.value)})}return e.prototype.getData=function(t){if(t==="Places")return this.getPlaces();if(t==="Floors")return this.getFloors();if(t==="Pois")return this.getPois()},e.prototype.getPlaces=function(){var t=this;return{src:function(r){return XN(t,void 0,void 0,function(){var n,i,u;return YN(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.useApiSearch?[4,I$.default.getPlaces(10,0,void 0,void 0,"name",r)]:[3,2];case 1:return i=s.sent(),[3,4];case 2:return[4,I$.default.getPlaces(100)];case 3:i=s.sent(),s.label=4;case 4:return n=i,[2,n.data];case 5:return u=s.sent(),[2,u];case 6:return[2]}})})},keys:["name"],cache:!1}},e.prototype.getFloors=function(){var t=this;return{src:function(r){return XN(t,void 0,void 0,function(){var n,i,u;return YN(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.useApiSearch?[4,C$.default.getFloors(10,0,void 0,void 0,"name",r)]:[3,2];case 1:return i=s.sent(),[3,4];case 2:return[4,C$.default.getFloors(100)];case 3:i=s.sent(),s.label=4;case 4:return n=i,[2,n.data];case 5:return u=s.sent(),[2,u];case 6:return[2]}})})},keys:["name"],cache:!1}},e.prototype.getPois=function(){var t=this;return{src:function(r){return XN(t,void 0,void 0,function(){var n;return YN(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,KCe.default.getPois()];case 1:return[2,i.sent()];case 2:return n=i.sent(),[2,n];case 3:return[2]}})})},keys:["getTitleWithLevel"],cache:!1}},e.prototype.getSelectListener=function(){return this.onSelectListener.asObservable()},e}();wT.Select=eAe;Object.defineProperty(HU,"__esModule",{value:!0});var tAe=U4,rAe=bE,nAe=yx,iAe=H4,oAe=wT,A$=HU.default={Auth:tAe.default,Places:rAe.default,Floors:nAe.default,Map:iAe.Map,Select:oAe.Select};function aAe(){return A$.Auth.loginWithToken("eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImlzcyI6IjBjNGYyNjhmLTZjMmYtNDM5Zi1iMTI3LTMzYTcwZGY2MmMwZSIsInR5cGUiOiJhcHBsaWNhdGlvbiIsImFwcGxpY2F0aW9uX2lkIjoiZWJmYTJjMzItNzA1Mi00ZGQxLWEyNTQtOWQ0ZjNkNjg2NzIxIn0.qKK7EK_oWNpoPgh89hZvDAECZ0s52xCCP2XpTDCv__4").then(e=>{console.log("Logged in",e);const t=new A$.Map({allowNewFeatureModal:!1,zoomIntoPlace:!1,defaultPlaceId:"6c553b5b-257e-4a30-bc0e-e5dca5623bbe",showRasterFloorplans:!0,isKiosk:!0,fitBoundsPadding:100,minFitBoundsDistance:50,kioskSettings:{coordinates:[-84.33523516,33.87391534],level:0},mapboxOptions:{zoom:18.5,bearing:10,pitch:40}});t.getPoiClickListener().subscribe(r=>{t.findRouteByIds(r.id,null)})}),Kr("section",{className:"relative",children:[ft("div",{className:"absolute inset-0 bg-gray-100 pointer-events-none mb-16","aria-hidden":"true"}),ft("div",{className:"absolute left-0 right-0 m-auto w-px p-px h-20 bg-gray-200 transform -translate-y-1/2"}),ft("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6",children:Kr("div",{className:"pt-12 md:pt-20",children:[Kr("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-16",children:[ft("h1",{className:"h2 mb-4",children:"Explore the map"}),ft("p",{className:"text-xl text-gray-600",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat."})]}),ft("div",{children:ft("div",{className:"max-w-xl md:max-w-none md:w-full mx-auto md:col-span-7 lg:col-span-6 md:mt-6","data-aos":"fade-right",children:ft("div",{id:"proximiioMap",style:{height:"600px"}})})})]})})]})}function sAe(){return ft("footer",{children:Kr("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[Kr("div",{className:"grid sm:grid-cols-12 gap-8 py-8 md:py-12 border-t border-gray-200",children:[Kr("div",{className:"sm:col-span-12 lg:col-span-3",children:[ft("div",{className:"mb-2",children:ft(au,{to:"/",className:"inline-block","aria-label":"Cruip",children:Kr("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[ft("defs",{children:Kr("radialGradient",{cx:"21.152%",cy:"86.063%",fx:"21.152%",fy:"86.063%",r:"79.941%",id:"footer-logo",children:[ft("stop",{stopColor:"#4FD1C5",offset:"0%"}),ft("stop",{stopColor:"#81E6D9",offset:"25.871%"}),ft("stop",{stopColor:"#338CF5",offset:"100%"})]})}),ft("rect",{width:"32",height:"32",rx:"16",fill:"url(#footer-logo)",fillRule:"nonzero"})]})})}),Kr("div",{className:"text-sm text-gray-600",children:[ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 hover:underline transition duration-150 ease-in-out",children:"Terms"})," \xB7 ",ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 hover:underline transition duration-150 ease-in-out",children:"Privacy Policy"})]})]}),Kr("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-2",children:[ft("h6",{className:"text-gray-800 font-medium mb-2",children:"Products"}),Kr("ul",{className:"text-sm",children:[ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Web Studio"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"DynamicBox Flex"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Programming Forms"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Integrations"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Command-line"})})]})]}),Kr("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-2",children:[ft("h6",{className:"text-gray-800 font-medium mb-2",children:"Resources"}),Kr("ul",{className:"text-sm",children:[ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Documentation"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Tutorials & Guides"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Blog"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Support Center"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Partners"})})]})]}),Kr("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-2",children:[ft("h6",{className:"text-gray-800 font-medium mb-2",children:"Company"}),Kr("ul",{className:"text-sm",children:[ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Home"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"About us"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Company values"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Pricing"})}),ft("li",{className:"mb-2",children:ft(au,{to:"#",className:"text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:"Privacy Policy"})})]})]}),Kr("div",{className:"sm:col-span-6 md:col-span-3 lg:col-span-3",children:[ft("h6",{className:"text-gray-800 font-medium mb-2",children:"Subscribe"}),ft("p",{className:"text-sm text-gray-600 mb-4",children:"Get the latest news and articles to your inbox every month."}),ft("form",{children:ft("div",{className:"flex flex-wrap mb-4",children:Kr("div",{className:"w-full",children:[ft("label",{className:"block text-sm sr-only",htmlFor:"newsletter",children:"Email"}),Kr("div",{className:"relative flex items-center max-w-xs",children:[ft("input",{id:"newsletter",type:"email",className:"form-input w-full text-gray-800 px-3 py-2 pr-12 text-sm",placeholder:"Your email",required:!0}),Kr("button",{type:"submit",className:"absolute inset-0 left-auto","aria-label":"Subscribe",children:[ft("span",{className:"absolute inset-0 right-auto w-px -ml-px my-2 bg-gray-300","aria-hidden":"true"}),ft("svg",{className:"w-3 h-3 fill-current text-blue-600 mx-3 flex-shrink-0",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z",fillRule:"nonzero"})})]})]})]})})})]})]}),Kr("div",{className:"md:flex md:items-center md:justify-between py-4 md:py-8 border-t border-gray-200",children:[Kr("ul",{className:"flex mb-4 md:order-1 md:ml-4 md:mb-0",children:[ft("li",{children:ft(au,{to:"#",className:"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out","aria-label":"Twitter",children:ft("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M24 11.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.7 0-3.2 1.5-3.2 3.3 0 .3 0 .5.1.7-2.7-.1-5.2-1.4-6.8-3.4-.3.5-.4 1-.4 1.7 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H8c1.5.9 3.2 1.5 5 1.5 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"})})})}),ft("li",{className:"ml-4",children:ft(au,{to:"#",className:"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out","aria-label":"Github",children:ft("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M16 8.2c-4.4 0-8 3.6-8 8 0 3.5 2.3 6.5 5.5 7.6.4.1.5-.2.5-.4V22c-2.2.5-2.7-1-2.7-1-.4-.9-.9-1.2-.9-1.2-.7-.5.1-.5.1-.5.8.1 1.2.8 1.2.8.7 1.3 1.9.9 2.3.7.1-.5.3-.9.5-1.1-1.8-.2-3.6-.9-3.6-4 0-.9.3-1.6.8-2.1-.1-.2-.4-1 .1-2.1 0 0 .7-.2 2.2.8.6-.2 1.3-.3 2-.3s1.4.1 2 .3c1.5-1 2.2-.8 2.2-.8.4 1.1.2 1.9.1 2.1.5.6.8 1.3.8 2.1 0 3.1-1.9 3.7-3.7 3.9.3.4.6.9.6 1.6v2.2c0 .2.1.5.6.4 3.2-1.1 5.5-4.1 5.5-7.6-.1-4.4-3.7-8-8.1-8z"})})})}),ft("li",{className:"ml-4",children:ft(au,{to:"#",className:"flex justify-center items-center text-gray-600 hover:text-gray-900 bg-white hover:bg-white-100 rounded-full shadow transition duration-150 ease-in-out","aria-label":"Facebook",children:ft("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M14.023 24L14 17h-3v-3h3v-2c0-2.7 1.672-4 4.08-4 1.153 0 2.144.086 2.433.124v2.821h-1.67c-1.31 0-1.563.623-1.563 1.536V14H21l-1 3h-2.72v7h-3.257z"})})})})]}),Kr("div",{className:"text-sm text-gray-600 mr-4",children:["Made by ",ft("a",{className:"text-blue-600 hover:underline",href:"",children:"John Doe"}),". All rights reserved."]})]})]})})}function uAe(){return Kr("div",{className:"flex flex-col min-h-screen overflow-hidden",children:[ft(_A,{}),Kr("main",{className:"flex-grow",children:[ft(cQ,{}),ft(aAe,{})]}),ft(sAe,{})]})}function lAe(){return Kr("div",{className:"flex flex-col min-h-screen overflow-hidden",children:[ft(_A,{}),ft("main",{className:"flex-grow",children:ft("section",{className:"bg-gradient-to-b from-gray-100 to-white",children:ft("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:Kr("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:[ft("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-20",children:ft("h1",{className:"h1",children:"Welcome back. We exist to make entrepreneurism easier."})}),Kr("div",{className:"max-w-sm mx-auto",children:[Kr("form",{children:[ft("div",{className:"flex flex-wrap -mx-3 mb-4",children:Kr("div",{className:"w-full px-3",children:[ft("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),ft("input",{id:"email",type:"email",className:"form-input w-full text-gray-800",placeholder:"Enter your email address",required:!0})]})}),ft("div",{className:"flex flex-wrap -mx-3 mb-4",children:Kr("div",{className:"w-full px-3",children:[Kr("div",{className:"flex justify-between",children:[ft("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"password",children:"Password"}),ft(au,{to:"reset-password",className:"text-sm font-medium text-blue-600 hover:underline",children:"Having trouble signing in?"})]}),ft("input",{id:"password",type:"password",className:"form-input w-full text-gray-800",placeholder:"Enter your password",required:!0})]})}),ft("div",{className:"flex flex-wrap -mx-3 mb-4",children:ft("div",{className:"w-full px-3",children:ft("div",{className:"flex justify-between",children:Kr("label",{className:"flex items-center",children:[ft("input",{type:"checkbox",className:"form-checkbox"}),ft("span",{className:"text-gray-600 ml-2",children:"Keep me signed in"})]})})})}),ft("div",{className:"flex flex-wrap -mx-3 mt-6",children:ft("div",{className:"w-full px-3",children:ft("button",{className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full",children:"Sign in"})})})]}),Kr("div",{className:"flex items-center my-6",children:[ft("div",{className:"border-t border-gray-300 flex-grow mr-3","aria-hidden":"true"}),ft("div",{className:"text-gray-600 italic",children:"Or"}),ft("div",{className:"border-t border-gray-300 flex-grow ml-3","aria-hidden":"true"})]}),Kr("form",{children:[ft("div",{className:"flex flex-wrap -mx-3 mb-3",children:ft("div",{className:"w-full px-3",children:Kr("button",{className:"btn px-0 text-white bg-gray-900 hover:bg-gray-800 w-full relative flex items-center",children:[ft("svg",{className:"w-4 h-4 fill-current text-white opacity-75 flex-shrink-0 mx-4",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M7.95 0C3.578 0 0 3.578 0 7.95c0 3.479 2.286 6.46 5.466 7.553.397.1.497-.199.497-.397v-1.392c-2.187.497-2.683-.993-2.683-.993-.398-.895-.895-1.193-.895-1.193-.696-.497.1-.497.1-.497.795.1 1.192.795 1.192.795.696 1.292 1.888.895 2.286.696.1-.497.298-.895.497-1.093-1.79-.2-3.578-.895-3.578-3.975 0-.895.298-1.59.795-2.087-.1-.2-.397-.994.1-2.087 0 0 .695-.2 2.186.795a6.408 6.408 0 011.987-.299c.696 0 1.392.1 1.988.299 1.49-.994 2.186-.795 2.186-.795.398 1.093.199 1.888.1 2.087.496.596.795 1.291.795 2.087 0 3.08-1.889 3.677-3.677 3.875.298.398.596.895.596 1.59v2.187c0 .198.1.497.596.397C13.714 14.41 16 11.43 16 7.95 15.9 3.578 12.323 0 7.95 0z"})}),ft("span",{className:"flex-auto pl-16 pr-8 -ml-16",children:"Continue with GitHub"})]})})}),ft("div",{className:"flex flex-wrap -mx-3",children:ft("div",{className:"w-full px-3",children:Kr("button",{className:"btn px-0 text-white bg-red-600 hover:bg-red-700 w-full relative flex items-center",children:[ft("svg",{className:"w-4 h-4 fill-current text-white opacity-75 flex-shrink-0 mx-4",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M7.9 7v2.4H12c-.2 1-1.2 3-4 3-2.4 0-4.3-2-4.3-4.4 0-2.4 2-4.4 4.3-4.4 1.4 0 2.3.6 2.8 1.1l1.9-1.8C11.5 1.7 9.9 1 8 1 4.1 1 1 4.1 1 8s3.1 7 7 7c4 0 6.7-2.8 6.7-6.8 0-.5 0-.8-.1-1.2H7.9z"})}),ft("span",{className:"flex-auto pl-16 pr-8 -ml-16",children:"Continue with Google"})]})})})]}),Kr("div",{className:"text-gray-600 text-center mt-6",children:["Don\u2019t you have an account? ",ft(au,{to:"/signup",className:"text-blue-600 hover:underline transition duration-150 ease-in-out",children:"Sign up"})]})]})]})})})})]})}function cAe(){return Kr("div",{className:"flex flex-col min-h-screen overflow-hidden",children:[ft(_A,{}),ft("main",{className:"flex-grow",children:ft("section",{className:"bg-gradient-to-b from-gray-100 to-white",children:ft("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:Kr("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:[ft("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-20",children:ft("h1",{className:"h1",children:"Welcome. We exist to make entrepreneurism easier."})}),Kr("div",{className:"max-w-sm mx-auto",children:[Kr("form",{children:[ft("div",{className:"flex flex-wrap -mx-3 mb-4",children:Kr("div",{className:"w-full px-3",children:[Kr("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"name",children:["Name ",ft("span",{className:"text-red-600",children:"*"})]}),ft("input",{id:"name",type:"text",className:"form-input w-full text-gray-800",placeholder:"Enter your name",required:!0})]})}),ft("div",{className:"flex flex-wrap -mx-3 mb-4",children:Kr("div",{className:"w-full px-3",children:[Kr("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"email",children:["Email ",ft("span",{className:"text-red-600",children:"*"})]}),ft("input",{id:"email",type:"email",className:"form-input w-full text-gray-800",placeholder:"Enter your email address",required:!0})]})}),ft("div",{className:"flex flex-wrap -mx-3 mb-4",children:Kr("div",{className:"w-full px-3",children:[Kr("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"password",children:["Password ",ft("span",{className:"text-red-600",children:"*"})]}),ft("input",{id:"password",type:"password",className:"form-input w-full text-gray-800",placeholder:"Enter your password",required:!0})]})}),ft("div",{className:"flex flex-wrap -mx-3 mt-6",children:ft("div",{className:"w-full px-3",children:ft("button",{className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full",children:"Sign up"})})}),Kr("div",{className:"text-sm text-gray-500 text-center mt-3",children:["By creating an account, you agree to the ",ft("a",{className:"underline",href:"#0",children:"terms & conditions"}),", and our ",ft("a",{className:"underline",href:"#0",children:"privacy policy"}),"."]})]}),Kr("div",{className:"flex items-center my-6",children:[ft("div",{className:"border-t border-gray-300 flex-grow mr-3","aria-hidden":"true"}),ft("div",{className:"text-gray-600 italic",children:"Or"}),ft("div",{className:"border-t border-gray-300 flex-grow ml-3","aria-hidden":"true"})]}),Kr("form",{children:[ft("div",{className:"flex flex-wrap -mx-3 mb-3",children:ft("div",{className:"w-full px-3",children:Kr("button",{className:"btn px-0 text-white bg-gray-900 hover:bg-gray-800 w-full relative flex items-center",children:[ft("svg",{className:"w-4 h-4 fill-current text-white opacity-75 flex-shrink-0 mx-4",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M7.95 0C3.578 0 0 3.578 0 7.95c0 3.479 2.286 6.46 5.466 7.553.397.1.497-.199.497-.397v-1.392c-2.187.497-2.683-.993-2.683-.993-.398-.895-.895-1.193-.895-1.193-.696-.497.1-.497.1-.497.795.1 1.192.795 1.192.795.696 1.292 1.888.895 2.286.696.1-.497.298-.895.497-1.093-1.79-.2-3.578-.895-3.578-3.975 0-.895.298-1.59.795-2.087-.1-.2-.397-.994.1-2.087 0 0 .695-.2 2.186.795a6.408 6.408 0 011.987-.299c.696 0 1.392.1 1.988.299 1.49-.994 2.186-.795 2.186-.795.398 1.093.199 1.888.1 2.087.496.596.795 1.291.795 2.087 0 3.08-1.889 3.677-3.677 3.875.298.398.596.895.596 1.59v2.187c0 .198.1.497.596.397C13.714 14.41 16 11.43 16 7.95 15.9 3.578 12.323 0 7.95 0z"})}),ft("span",{className:"flex-auto pl-16 pr-8 -ml-16",children:"Continue with GitHub"})]})})}),ft("div",{className:"flex flex-wrap -mx-3",children:ft("div",{className:"w-full px-3",children:Kr("button",{className:"btn px-0 text-white bg-red-600 hover:bg-red-700 w-full relative flex items-center",children:[ft("svg",{className:"w-4 h-4 fill-current text-white opacity-75 flex-shrink-0 mx-4",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:ft("path",{d:"M7.9 7v2.4H12c-.2 1-1.2 3-4 3-2.4 0-4.3-2-4.3-4.4 0-2.4 2-4.4 4.3-4.4 1.4 0 2.3.6 2.8 1.1l1.9-1.8C11.5 1.7 9.9 1 8 1 4.1 1 1 4.1 1 8s3.1 7 7 7c4 0 6.7-2.8 6.7-6.8 0-.5 0-.8-.1-1.2H7.9z"})}),ft("span",{className:"flex-auto pl-16 pr-8 -ml-16",children:"Continue with Google"})]})})})]}),Kr("div",{className:"text-gray-600 text-center mt-6",children:["Already using Simple? ",ft(au,{to:"/signin",className:"text-blue-600 hover:underline transition duration-150 ease-in-out",children:"Sign in"})]})]})]})})})})]})}function fAe(){return Kr("div",{className:"flex flex-col min-h-screen overflow-hidden",children:[ft(_A,{}),ft("main",{className:"flex-grow",children:ft("section",{className:"bg-gradient-to-b from-gray-100 to-white",children:ft("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:Kr("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:[Kr("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-20",children:[ft("h1",{className:"h1 mb-4",children:"Let\u2019s get you back up on your feet"}),ft("p",{className:"text-xl text-gray-600",children:"Enter the email address you used when you signed up for your account, and we\u2019ll email you a link to reset your password."})]}),ft("div",{className:"max-w-sm mx-auto",children:Kr("form",{children:[ft("div",{className:"flex flex-wrap -mx-3 mb-4",children:Kr("div",{className:"w-full px-3",children:[Kr("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"email",children:["Email ",ft("span",{className:"text-red-600",children:"*"})]}),ft("input",{id:"email",type:"email",className:"form-input w-full text-gray-800",placeholder:"Enter your email address",required:!0})]})}),ft("div",{className:"flex flex-wrap -mx-3 mt-6",children:ft("div",{className:"w-full px-3",children:ft("button",{className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full",children:"Send reset link"})})})]})})]})})})})]})}function pAe(){const e=yE();return Jo.exports.useEffect(()=>{JJ.init({once:!0,disable:"phone",duration:700,easing:"ease-out-cubic"})}),Jo.exports.useEffect(()=>{document.querySelector("html").style.scrollBehavior="auto",window.scroll({top:0}),document.querySelector("html").style.scrollBehavior=""},[e.pathname]),ft(oQ,{children:Kr(WJ,{children:[ft(eS,{exact:!0,path:"/",element:ft(uAe,{})}),ft(eS,{path:"/signin",element:ft(lAe,{})}),ft(eS,{path:"/signup",element:ft(cAe,{})}),ft(eS,{path:"/reset-password",element:ft(fAe,{})})]})})}const hAe=FU(document.getElementById("root"));hAe.render(ft(HJ,{children:ft(pAe,{})}));
